(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function ub(t,e){const i=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return e?s=>!!i[s.toLowerCase()]:s=>!!i[s]}const yi={},XA=[],co=()=>{},I8=()=>!1,L8=/^on[^a-z]/,Jp=t=>L8.test(t),KC=t=>t.startsWith("onUpdate:"),zi=Object.assign,WC=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},P8=Object.prototype.hasOwnProperty,li=(t,e)=>P8.call(t,e),At=Array.isArray,JA=t=>Qh(t)==="[object Map]",Qc=t=>Qh(t)==="[object Set]",gT=t=>Qh(t)==="[object Date]",M8=t=>Qh(t)==="[object RegExp]",Ft=t=>typeof t=="function",Gi=t=>typeof t=="string",hh=t=>typeof t=="symbol",Ci=t=>t!==null&&typeof t=="object",qC=t=>(Ci(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),mD=Object.prototype.toString,Qh=t=>mD.call(t),R8=t=>Qh(t).slice(8,-1),vD=t=>Qh(t)==="[object Object]",YC=t=>Gi(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kf=ub(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cb=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},O8=/-(\w)/g,Vs=cb(t=>t.replace(O8,(e,i)=>i?i.toUpperCase():"")),U8=/\B([A-Z])/g,Qr=cb(t=>t.replace(U8,"-$1").toLowerCase()),Zp=cb(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wf=cb(t=>t?"on".concat(Zp(t)):""),Jl=(t,e)=>!Object.is(t,e),ZA=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},$0=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},j0=t=>{const e=parseFloat(t);return isNaN(e)?t:e},V0=t=>{const e=Gi(t)?Number(t):NaN;return isNaN(e)?t:e};let mT;const Hw=()=>mT||(mT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),N8="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",H8=ub(N8);function ti(t){if(At(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],s=Gi(n)?V8(n):ti(n);if(s)for(const r in s)e[r]=s[r]}return e}else if(Gi(t)||Ci(t))return t}const Q8=/;(?![^(]*\))/g,$8=/:([^]+)/,j8=/\/\*[^]*?\*\//g;function V8(t){const e={};return t.replace(j8,"").split(Q8).forEach(i=>{if(i){const n=i.split($8);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ne(t){let e="";if(Gi(t))e=t;else if(At(t))for(let i=0;i<t.length;i++){const n=Ne(t[i]);n&&(e+=n+" ")}else if(Ci(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function z8(t){if(!t)return null;let{class:e,style:i}=t;return e&&!Gi(e)&&(t.class=Ne(e)),i&&(t.style=ti(i)),t}const G8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K8=ub(G8);function bD(t){return!!t||t===""}function W8(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=Zl(t[n],e[n]);return i}function Zl(t,e){if(t===e)return!0;let i=gT(t),n=gT(e);if(i||n)return i&&n?t.getTime()===e.getTime():!1;if(i=hh(t),n=hh(e),i||n)return t===e;if(i=At(t),n=At(e),i||n)return i&&n?W8(t,e):!1;if(i=Ci(t),n=Ci(e),i||n){if(!i||!n)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Zl(t[o],e[o]))return!1}}return String(t)===String(e)}function Ab(t,e){return t.findIndex(i=>Zl(i,e))}const oe=t=>Gi(t)?t:t==null?"":At(t)||Ci(t)&&(t.toString===mD||!Ft(t.toString))?JSON.stringify(t,yD,2):String(t),yD=(t,e)=>e&&e.__v_isRef?yD(t,e.value):JA(e)?{["Map(".concat(e.size,")")]:[...e.entries()].reduce((i,[n,s])=>(i["".concat(n," =>")]=s,i),{})}:Qc(e)?{["Set(".concat(e.size,")")]:[...e.values()]}:Ci(e)&&!At(e)&&!vD(e)?String(e):e;let cr;class XC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cr,!e&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=cr;try{return cr=this,e()}finally{cr=i}}}on(){cr=this}off(){cr=this.parent}stop(e){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function wD(t){return new XC(t)}function _D(t,e=cr){e&&e.active&&e.effects.push(t)}function CD(){return cr}function q8(t){cr&&cr.cleanups.push(t)}const JC=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ED=t=>(t.w&eu)>0,TD=t=>(t.n&eu)>0,Y8=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=eu},X8=t=>{const{deps:e}=t;if(e.length){let i=0;for(let n=0;n<e.length;n++){const s=e[n];ED(s)&&!TD(s)?s.delete(t):e[i++]=s,s.w&=~eu,s.n&=~eu}e.length=i}},z0=new WeakMap;let Cf=0,eu=1;const Qw=30;let oo;const Cc=Symbol(""),$w=Symbol("");class dh{constructor(e,i=null,n){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,_D(this,n)}run(){if(!this.active)return this.fn();let e=oo,i=Kl;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=oo,oo=this,Kl=!0,eu=1<<++Cf,Cf<=Qw?Y8(this):vT(this),this.fn()}finally{Cf<=Qw&&X8(this),eu=1<<--Cf,oo=this.parent,Kl=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){oo===this?this.deferStop=!0:this.active&&(vT(this),this.onStop&&this.onStop(),this.active=!1)}}function vT(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}function J8(t,e){t.effect instanceof dh&&(t=t.effect.fn);const i=new dh(t);e&&(zi(i,e),e.scope&&_D(i,e.scope)),(!e||!e.lazy)&&i.run();const n=i.run.bind(i);return n.effect=i,n}function Z8(t){t.effect.stop()}let Kl=!0;const xD=[];function $h(){xD.push(Kl),Kl=!1}function jh(){const t=xD.pop();Kl=t===void 0?!0:t}function Gs(t,e,i){if(Kl&&oo){let n=z0.get(t);n||z0.set(t,n=new Map);let s=n.get(i);s||n.set(i,s=JC()),SD(s)}}function SD(t,e){let i=!1;Cf<=Qw?TD(t)||(t.n|=eu,i=!ED(t)):i=!t.has(oo),i&&(t.add(oo),oo.deps.push(t))}function Qa(t,e,i,n,s,r){const o=z0.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(i==="length"&&At(t)){const l=Number(n);o.forEach((u,c)=>{(c==="length"||!hh(c)&&c>=l)&&a.push(u)})}else switch(i!==void 0&&a.push(o.get(i)),e){case"add":At(t)?YC(i)&&a.push(o.get("length")):(a.push(o.get(Cc)),JA(t)&&a.push(o.get($w)));break;case"delete":At(t)||(a.push(o.get(Cc)),JA(t)&&a.push(o.get($w)));break;case"set":JA(t)&&a.push(o.get(Cc));break}if(a.length===1)a[0]&&jw(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);jw(JC(l))}}function jw(t,e){const i=At(t)?t:[...t];for(const n of i)n.computed&&bT(n);for(const n of i)n.computed||bT(n)}function bT(t,e){(t!==oo||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function eR(t,e){var i;return(i=z0.get(t))==null?void 0:i.get(e)}const tR=ub("__proto__,__v_isRef,__isVue"),BD=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hh)),yT=iR();function iR(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const n=Zt(this);for(let r=0,o=this.length;r<o;r++)Gs(n,"get",r+"");const s=n[e](...i);return s===-1||s===!1?n[e](...i.map(Zt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){$h();const n=Zt(this)[e].apply(this,i);return jh(),n}}),t}function nR(t){const e=Zt(this);return Gs(e,"has",t),e.hasOwnProperty(t)}class kD{constructor(e=!1,i=!1){this._isReadonly=e,this._shallow=i}get(e,i,n){const s=this._isReadonly,r=this._shallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return r;if(i==="__v_raw"&&n===(s?r?MD:PD:r?LD:ID).get(e))return e;const o=At(e);if(!s){if(o&&li(yT,i))return Reflect.get(yT,i,n);if(i==="hasOwnProperty")return nR}const a=Reflect.get(e,i,n);return(hh(i)?BD.has(i):tR(i))||(s||Gs(e,"get",i),r)?a:bn(a)?o&&YC(i)?a:a.value:Ci(a)?s?e2(a):fb(a):a}}class DD extends kD{constructor(e=!1){super(!1,e)}set(e,i,n,s){let r=e[i];if(Lc(r)&&bn(r)&&!bn(n))return!1;if(!this._shallow&&(!xp(n)&&!Lc(n)&&(r=Zt(r),n=Zt(n)),!At(e)&&bn(r)&&!bn(n)))return r.value=n,!0;const o=At(e)&&YC(i)?Number(i)<e.length:li(e,i),a=Reflect.set(e,i,n,s);return e===Zt(s)&&(o?Jl(n,r)&&Qa(e,"set",i,n):Qa(e,"add",i,n)),a}deleteProperty(e,i){const n=li(e,i);e[i];const s=Reflect.deleteProperty(e,i);return s&&n&&Qa(e,"delete",i,void 0),s}has(e,i){const n=Reflect.has(e,i);return(!hh(i)||!BD.has(i))&&Gs(e,"has",i),n}ownKeys(e){return Gs(e,"iterate",At(e)?"length":Cc),Reflect.ownKeys(e)}}class FD extends kD{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const sR=new DD,rR=new FD,oR=new DD(!0),aR=new FD(!0),ZC=t=>t,hb=t=>Reflect.getPrototypeOf(t);function lm(t,e,i=!1,n=!1){t=t.__v_raw;const s=Zt(t),r=Zt(e);i||(Jl(e,r)&&Gs(s,"get",e),Gs(s,"get",r));const{has:o}=hb(s),a=n?ZC:i?n2:Sp;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function um(t,e=!1){const i=this.__v_raw,n=Zt(i),s=Zt(t);return e||(Jl(t,s)&&Gs(n,"has",t),Gs(n,"has",s)),t===s?i.has(t):i.has(t)||i.has(s)}function cm(t,e=!1){return t=t.__v_raw,!e&&Gs(Zt(t),"iterate",Cc),Reflect.get(t,"size",t)}function wT(t){t=Zt(t);const e=Zt(this);return hb(e).has.call(e,t)||(e.add(t),Qa(e,"add",t,t)),this}function _T(t,e){e=Zt(e);const i=Zt(this),{has:n,get:s}=hb(i);let r=n.call(i,t);r||(t=Zt(t),r=n.call(i,t));const o=s.call(i,t);return i.set(t,e),r?Jl(e,o)&&Qa(i,"set",t,e):Qa(i,"add",t,e),this}function CT(t){const e=Zt(this),{has:i,get:n}=hb(e);let s=i.call(e,t);s||(t=Zt(t),s=i.call(e,t)),n&&n.call(e,t);const r=e.delete(t);return s&&Qa(e,"delete",t,void 0),r}function ET(){const t=Zt(this),e=t.size!==0,i=t.clear();return e&&Qa(t,"clear",void 0,void 0),i}function Am(t,e){return function(n,s){const r=this,o=r.__v_raw,a=Zt(o),l=e?ZC:t?n2:Sp;return!t&&Gs(a,"iterate",Cc),o.forEach((u,c)=>n.call(s,l(u),l(c),r))}}function hm(t,e,i){return function(...n){const s=this.__v_raw,r=Zt(s),o=JA(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...n),c=i?ZC:e?n2:Sp;return!e&&Gs(r,"iterate",l?$w:Cc),{next(){const{value:A,done:h}=u.next();return h?{value:A,done:h}:{value:a?[c(A[0]),c(A[1])]:c(A),done:h}},[Symbol.iterator](){return this}}}}function yl(t){return function(...e){return t==="delete"?!1:this}}function lR(){const t={get(r){return lm(this,r)},get size(){return cm(this)},has:um,add:wT,set:_T,delete:CT,clear:ET,forEach:Am(!1,!1)},e={get(r){return lm(this,r,!1,!0)},get size(){return cm(this)},has:um,add:wT,set:_T,delete:CT,clear:ET,forEach:Am(!1,!0)},i={get(r){return lm(this,r,!0)},get size(){return cm(this,!0)},has(r){return um.call(this,r,!0)},add:yl("add"),set:yl("set"),delete:yl("delete"),clear:yl("clear"),forEach:Am(!0,!1)},n={get(r){return lm(this,r,!0,!0)},get size(){return cm(this,!0)},has(r){return um.call(this,r,!0)},add:yl("add"),set:yl("set"),delete:yl("delete"),clear:yl("clear"),forEach:Am(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=hm(r,!1,!1),i[r]=hm(r,!0,!1),e[r]=hm(r,!1,!0),n[r]=hm(r,!0,!0)}),[t,i,e,n]}const[uR,cR,AR,hR]=lR();function db(t,e){const i=e?t?hR:AR:t?cR:uR;return(n,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(li(i,s)&&s in n?i:n,s,r)}const dR={get:db(!1,!1)},fR={get:db(!1,!0)},pR={get:db(!0,!1)},gR={get:db(!0,!0)},ID=new WeakMap,LD=new WeakMap,PD=new WeakMap,MD=new WeakMap;function mR(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vR(t){return t.__v_skip||!Object.isExtensible(t)?0:mR(R8(t))}function fb(t){return Lc(t)?t:pb(t,!1,sR,dR,ID)}function RD(t){return pb(t,!1,oR,fR,LD)}function e2(t){return pb(t,!0,rR,pR,PD)}function bR(t){return pb(t,!0,aR,gR,MD)}function pb(t,e,i,n,s){if(!Ci(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=vR(t);if(o===0)return t;const a=new Proxy(t,o===2?n:i);return s.set(t,a),a}function Ec(t){return Lc(t)?Ec(t.__v_raw):!!(t&&t.__v_isReactive)}function Lc(t){return!!(t&&t.__v_isReadonly)}function xp(t){return!!(t&&t.__v_isShallow)}function t2(t){return Ec(t)||Lc(t)}function Zt(t){const e=t&&t.__v_raw;return e?Zt(e):t}function i2(t){return $0(t,"__v_skip",!0),t}const Sp=t=>Ci(t)?fb(t):t,n2=t=>Ci(t)?e2(t):t;function s2(t){Kl&&oo&&(t=Zt(t),SD(t.dep||(t.dep=JC())))}function gb(t,e){t=Zt(t);const i=t.dep;i&&jw(i)}function bn(t){return!!(t&&t.__v_isRef===!0)}function ss(t){return UD(t,!1)}function OD(t){return UD(t,!0)}function UD(t,e){return bn(t)?t:new yR(t,e)}class yR{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:Zt(e),this._value=i?e:Sp(e)}get value(){return s2(this),this._value}set value(e){const i=this.__v_isShallow||xp(e)||Lc(e);e=i?e:Zt(e),Jl(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:Sp(e),gb(this))}}function wR(t){gb(t)}function r2(t){return bn(t)?t.value:t}function _R(t){return Ft(t)?t():r2(t)}const CR={get:(t,e,i)=>r2(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const s=t[e];return bn(s)&&!bn(i)?(s.value=i,!0):Reflect.set(t,e,i,n)}};function o2(t){return Ec(t)?t:new Proxy(t,CR)}class ER{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:n}=e(()=>s2(this),()=>gb(this));this._get=i,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function TR(t){return new ER(t)}function xR(t){const e=At(t)?new Array(t.length):{};for(const i in t)e[i]=ND(t,i);return e}class SR{constructor(e,i,n){this._object=e,this._key=i,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eR(Zt(this._object),this._key)}}class BR{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function kR(t,e,i){return bn(t)?t:Ft(t)?new BR(t):Ci(t)&&arguments.length>1?ND(t,e,i):ss(t)}function ND(t,e,i){const n=t[e];return bn(n)?n:new SR(t,e,i)}class DR{constructor(e,i,n,s){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new dh(e,()=>{this._dirty||(this._dirty=!0,gb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=Zt(this);return s2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function FR(t,e,i=!1){let n,s;const r=Ft(t);return r?(n=t,s=co):(n=t.get,s=t.set),new DR(n,s,r||!s,i)}function IR(t,...e){}function LR(t,e){}function $a(t,e,i,n){let s;try{s=n?t(...n):t()}catch(r){$c(r,e,i)}return s}function vr(t,e,i,n){if(Ft(t)){const r=$a(t,e,i,n);return r&&qC(r)&&r.catch(o=>{$c(o,e,i)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(vr(t[r],e,i,n));return s}function $c(t,e,i,n=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=i;for(;r;){const u=r.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){$a(l,null,10,[t,o,a]);return}}PR(t,i,s,n)}function PR(t,e,i,n=!0){console.error(t)}let Bp=!1,Vw=!1;const rs=[];let Ro=0;const eh=[];let Pa=null,Ac=0;const HD=Promise.resolve();let a2=null;function l2(t){const e=a2||HD;return t?e.then(this?t.bind(this):t):e}function MR(t){let e=Ro+1,i=rs.length;for(;e<i;){const n=e+i>>>1,s=rs[n],r=kp(s);r<t||r===t&&s.pre?e=n+1:i=n}return e}function mb(t){(!rs.length||!rs.includes(t,Bp&&t.allowRecurse?Ro+1:Ro))&&(t.id==null?rs.push(t):rs.splice(MR(t.id),0,t),QD())}function QD(){!Bp&&!Vw&&(Vw=!0,a2=HD.then($D))}function RR(t){const e=rs.indexOf(t);e>Ro&&rs.splice(e,1)}function G0(t){At(t)?eh.push(...t):(!Pa||!Pa.includes(t,t.allowRecurse?Ac+1:Ac))&&eh.push(t),QD()}function TT(t,e=Bp?Ro+1:0){for(;e<rs.length;e++){const i=rs[e];i&&i.pre&&(rs.splice(e,1),e--,i())}}function K0(t){if(eh.length){const e=[...new Set(eh)];if(eh.length=0,Pa){Pa.push(...e);return}for(Pa=e,Pa.sort((i,n)=>kp(i)-kp(n)),Ac=0;Ac<Pa.length;Ac++)Pa[Ac]();Pa=null,Ac=0}}const kp=t=>t.id==null?1/0:t.id,OR=(t,e)=>{const i=kp(t)-kp(e);if(i===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function $D(t){Vw=!1,Bp=!0,rs.sort(OR);const e=co;try{for(Ro=0;Ro<rs.length;Ro++){const i=rs[Ro];i&&i.active!==!1&&$a(i,null,14)}}finally{Ro=0,rs.length=0,K0(),Bp=!1,a2=null,(rs.length||eh.length)&&$D()}}let FA,dm=[];function jD(t,e){var i,n;FA=t,FA?(FA.enabled=!0,dm.forEach(({event:s,args:r})=>FA.emit(s,...r)),dm=[]):typeof window<"u"&&window.HTMLElement&&!((n=(i=window.navigator)==null?void 0:i.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{jD(r,e)}),setTimeout(()=>{FA||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,dm=[])},3e3)):dm=[]}function UR(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||yi;let s=i;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in n){const c="".concat(o==="modelValue"?"model":o,"Modifiers"),{number:A,trim:h}=n[c]||yi;h&&(s=i.map(g=>Gi(g)?g.trim():g)),A&&(s=i.map(j0))}let a,l=n[a=Wf(e)]||n[a=Wf(Vs(e))];!l&&r&&(l=n[a=Wf(Qr(e))]),l&&vr(l,t,6,s);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vr(u,t,6,s)}}function VD(t,e,i=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!Ft(t)){const l=u=>{const c=VD(u,e,!0);c&&(a=!0,zi(o,c))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ci(t)&&n.set(t,null),null):(At(r)?r.forEach(l=>o[l]=null):zi(o,r),Ci(t)&&n.set(t,o),o)}function vb(t,e){return!t||!Jp(e)?!1:(e=e.slice(2).replace(/Once$/,""),li(t,e[0].toLowerCase()+e.slice(1))||li(t,Qr(e))||li(t,e))}let Rn=null,bb=null;function Dp(t){const e=Rn;return Rn=t,bb=t&&t.type.__scopeId||null,e}function u2(t){bb=t}function c2(){bb=null}const NR=t=>Et;function Et(t,e=Rn,i){if(!e||t._n)return t;const n=(...s)=>{n._d&&Jw(-1);const r=Dp(e);let o;try{o=t(...s)}finally{Dp(r),n._d&&Jw(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function v0(t){const{type:e,vnode:i,proxy:n,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:A,data:h,setupState:g,ctx:f,inheritAttrs:y}=t;let E,C;const m=Dp(t);try{if(i.shapeFlag&4){const _=s||n;E=hr(c.call(_,_,A,r,g,h,f)),C=l}else{const _=e;E=hr(_.length>1?_(r,{attrs:l,slots:a,emit:u}):_(r,null)),C=e.props?l:QR(l)}}catch(_){Xf.length=0,$c(_,t,1),E=Ct(as)}let b=E;if(C&&y!==!1){const _=Object.keys(C),{shapeFlag:B}=b;_.length&&B&7&&(o&&_.some(KC)&&(C=$R(C,o)),b=Wo(b,C))}return i.dirs&&(b=Wo(b),b.dirs=b.dirs?b.dirs.concat(i.dirs):i.dirs),i.transition&&(b.transition=i.transition),E=b,Dp(m),E}function HR(t){let e;for(let i=0;i<t.length;i++){const n=t[i];if(iu(n)){if(n.type!==as||n.children==="v-if"){if(e)return;e=n}}else return}return e}const QR=t=>{let e;for(const i in t)(i==="class"||i==="style"||Jp(i))&&((e||(e={}))[i]=t[i]);return e},$R=(t,e)=>{const i={};for(const n in t)(!KC(n)||!(n.slice(9)in e))&&(i[n]=t[n]);return i};function jR(t,e,i){const{props:n,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?xT(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let A=0;A<c.length;A++){const h=c[A];if(o[h]!==n[h]&&!vb(u,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?xT(n,o,u):!0:!!o;return!1}function xT(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(e[r]!==t[r]&&!vb(i,r))return!0}return!1}function A2({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const zD=t=>t.__isSuspense,VR={name:"Suspense",__isSuspense:!0,process(t,e,i,n,s,r,o,a,l,u){t==null?GR(e,i,n,s,r,o,a,l,u):KR(t,e,i,n,s,o,a,l,u)},hydrate:WR,create:h2,normalize:qR},zR=VR;function Fp(t,e){const i=t.props&&t.props[e];Ft(i)&&i()}function GR(t,e,i,n,s,r,o,a,l){const{p:u,o:{createElement:c}}=l,A=c("div"),h=t.suspense=h2(t,s,n,e,A,i,r,o,a,l);u(null,h.pendingBranch=t.ssContent,A,null,n,h,r,o),h.deps>0?(Fp(t,"onPending"),Fp(t,"onFallback"),u(null,t.ssFallback,e,i,n,null,r,o),th(h,t.ssFallback)):h.resolve(!1,!0)}function KR(t,e,i,n,s,r,o,a,{p:l,um:u,o:{createElement:c}}){const A=e.suspense=t.suspense;A.vnode=e,e.el=t.el;const h=e.ssContent,g=e.ssFallback,{activeBranch:f,pendingBranch:y,isInFallback:E,isHydrating:C}=A;if(y)A.pendingBranch=h,ao(h,y)?(l(y,h,A.hiddenContainer,null,s,A,r,o,a),A.deps<=0?A.resolve():E&&(l(f,g,i,n,s,null,r,o,a),th(A,g))):(A.pendingId++,C?(A.isHydrating=!1,A.activeBranch=y):u(y,s,A),A.deps=0,A.effects.length=0,A.hiddenContainer=c("div"),E?(l(null,h,A.hiddenContainer,null,s,A,r,o,a),A.deps<=0?A.resolve():(l(f,g,i,n,s,null,r,o,a),th(A,g))):f&&ao(h,f)?(l(f,h,i,n,s,A,r,o,a),A.resolve(!0)):(l(null,h,A.hiddenContainer,null,s,A,r,o,a),A.deps<=0&&A.resolve()));else if(f&&ao(h,f))l(f,h,i,n,s,A,r,o,a),th(A,h);else if(Fp(e,"onPending"),A.pendingBranch=h,A.pendingId++,l(null,h,A.hiddenContainer,null,s,A,r,o,a),A.deps<=0)A.resolve();else{const{timeout:m,pendingId:b}=A;m>0?setTimeout(()=>{A.pendingId===b&&A.fallback(g)},m):m===0&&A.fallback(g)}}function h2(t,e,i,n,s,r,o,a,l,u,c=!1){const{p:A,m:h,um:g,n:f,o:{parentNode:y,remove:E}}=u;let C;const m=YR(t);m&&e!=null&&e.pendingBranch&&(C=e.pendingId,e.deps++);const b=t.props?V0(t.props.timeout):void 0,_={vnode:t,parent:e,parentComponent:i,isSVG:o,container:n,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(B=!1,L=!1){const{vnode:j,activeBranch:O,pendingBranch:Q,pendingId:$,effects:D,parentComponent:U,container:S}=_;let k=!1;if(_.isHydrating)_.isHydrating=!1;else if(!B){k=O&&Q.transition&&Q.transition.mode==="out-in",k&&(O.transition.afterLeave=()=>{$===_.pendingId&&(h(Q,S,V,0),G0(D))});let{anchor:V}=_;O&&(V=f(O),g(O,U,_,!0)),k||h(Q,S,V,0)}th(_,Q),_.pendingBranch=null,_.isInFallback=!1;let M=_.parent,N=!1;for(;M;){if(M.pendingBranch){M.effects.push(...D),N=!0;break}M=M.parent}!N&&!k&&G0(D),_.effects=[],m&&e&&e.pendingBranch&&C===e.pendingId&&(e.deps--,e.deps===0&&!L&&e.resolve()),Fp(j,"onResolve")},fallback(B){if(!_.pendingBranch)return;const{vnode:L,activeBranch:j,parentComponent:O,container:Q,isSVG:$}=_;Fp(L,"onFallback");const D=f(j),U=()=>{_.isInFallback&&(A(null,B,Q,D,O,null,$,a,l),th(_,B))},S=B.transition&&B.transition.mode==="out-in";S&&(j.transition.afterLeave=U),_.isInFallback=!0,g(j,O,null,!0),S||U()},move(B,L,j){_.activeBranch&&h(_.activeBranch,B,L,j),_.container=B},next(){return _.activeBranch&&f(_.activeBranch)},registerDep(B,L){const j=!!_.pendingBranch;j&&_.deps++;const O=B.vnode.el;B.asyncDep.catch(Q=>{$c(Q,B,0)}).then(Q=>{if(B.isUnmounted||_.isUnmounted||_.pendingId!==B.suspenseId)return;B.asyncResolved=!0;const{vnode:$}=B;Zw(B,Q,!1),O&&($.el=O);const D=!O&&B.subTree.el;L(B,$,y(O||B.subTree.el),O?null:f(B.subTree),_,o,l),D&&E(D),A2(B,$.el),j&&--_.deps===0&&_.resolve()})},unmount(B,L){_.isUnmounted=!0,_.activeBranch&&g(_.activeBranch,i,B,L),_.pendingBranch&&g(_.pendingBranch,i,B,L)}};return _}function WR(t,e,i,n,s,r,o,a,l){const u=e.suspense=h2(e,n,i,t.parentNode,document.createElement("div"),null,s,r,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,i,u,r,o);return u.deps===0&&u.resolve(!1,!0),c}function qR(t){const{shapeFlag:e,children:i}=t,n=e&32;t.ssContent=ST(n?i.default:i),t.ssFallback=n?ST(i.fallback):Ct(as)}function ST(t){let e;if(Ft(t)){const i=Mc&&t._c;i&&(t._d=!1,Y()),t=t(),i&&(t._d=!0,e=js,w3())}return At(t)&&(t=HR(t)),t=hr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(i=>i!==t)),t}function GD(t,e){e&&e.pendingBranch?At(t)?e.effects.push(...t):e.effects.push(t):G0(t)}function th(t,e){t.activeBranch=e;const{vnode:i,parentComponent:n}=t,s=i.el=e.el;n&&n.subTree===i&&(n.vnode.el=s,A2(n,s))}function YR(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function XR(t,e){return eg(t,null,e)}function KD(t,e){return eg(t,null,{flush:"post"})}function JR(t,e){return eg(t,null,{flush:"sync"})}const fm={};function Ho(t,e,i){return eg(t,e,i)}function eg(t,e,{immediate:i,deep:n,flush:s,onTrack:r,onTrigger:o}=yi){var a;const l=CD()===((a=vn)==null?void 0:a.scope)?vn:null;let u,c=!1,A=!1;if(bn(t)?(u=()=>t.value,c=xp(t)):Ec(t)?(u=()=>t,n=!0):At(t)?(A=!0,c=t.some(_=>Ec(_)||xp(_)),u=()=>t.map(_=>{if(bn(_))return _.value;if(Ec(_))return mc(_);if(Ft(_))return $a(_,l,2)})):Ft(t)?e?u=()=>$a(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),vr(t,l,3,[g])}:u=co,e&&n){const _=u;u=()=>mc(_())}let h,g=_=>{h=m.onStop=()=>{$a(_,l,4)}},f;if(ph)if(g=co,e?i&&vr(e,l,3,[u(),A?[]:void 0,g]):u(),s==="sync"){const _=I3();f=_.__watcherHandles||(_.__watcherHandles=[])}else return co;let y=A?new Array(t.length).fill(fm):fm;const E=()=>{if(m.active)if(e){const _=m.run();(n||c||(A?_.some((B,L)=>Jl(B,y[L])):Jl(_,y)))&&(h&&h(),vr(e,l,3,[_,y===fm?void 0:A&&y[0]===fm?[]:y,g]),y=_)}else m.run()};E.allowRecurse=!!e;let C;s==="sync"?C=E:s==="post"?C=()=>jn(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),C=()=>mb(E));const m=new dh(u,C);e?i?E():y=m.run():s==="post"?jn(m.run.bind(m),l&&l.suspense):m.run();const b=()=>{m.stop(),l&&l.scope&&WC(l.scope.effects,m)};return f&&f.push(b),b}function ZR(t,e,i){const n=this.proxy,s=Gi(t)?t.includes(".")?WD(n,t):()=>n[t]:t.bind(n,n);let r;Ft(e)?r=e:(r=e.handler,i=e);const o=vn;nu(this);const a=eg(s,r.bind(n),i);return o?nu(o):Wl(),a}function WD(t,e){const i=e.split(".");return()=>{let n=t;for(let s=0;s<i.length&&n;s++)n=n[i[s]];return n}}function mc(t,e){if(!Ci(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),bn(t))mc(t.value,e);else if(At(t))for(let i=0;i<t.length;i++)mc(t[i],e);else if(Qc(t)||JA(t))t.forEach(i=>{mc(i,e)});else if(vD(t))for(const i in t)mc(t[i],e);return t}function W0(t,e){const i=Rn;if(i===null)return t;const n=Tb(i)||i.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,u=yi]=e[r];o&&(Ft(o)&&(o={mounted:o,updated:o}),o.deep&&mc(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Fo(t,e,i,n){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&($h(),vr(l,i,8,[t.el,a,t,e]),jh())}}const Dl=Symbol("_leaveCb"),pm=Symbol("_enterCb");function d2(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vh(()=>{t.isMounted=!0}),Cb(()=>{t.isUnmounting=!0}),t}const kr=[Function,Array],f2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},eO={name:"BaseTransition",props:f2,setup(t,{slots:e}){const i=Ks(),n=d2();let s;return()=>{const r=e.default&&yb(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const y of r)if(y.type!==as){o=y;break}}const a=Zt(t),{mode:l}=a;if(n.isLeaving)return Yy(o);const u=BT(o);if(!u)return Yy(o);const c=fh(u,a,n,i);Pc(u,c);const A=i.subTree,h=A&&BT(A);let g=!1;const{getTransitionKey:f}=u.type;if(f){const y=f();s===void 0?s=y:y!==s&&(s=y,g=!0)}if(h&&h.type!==as&&(!ao(u,h)||g)){const y=fh(h,a,n,i);if(Pc(h,y),l==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,i.update.active!==!1&&i.update()},Yy(o);l==="in-out"&&u.type!==as&&(y.delayLeave=(E,C,m)=>{const b=YD(n,h);b[String(h.key)]=h,E[Dl]=()=>{C(),E[Dl]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return o}}},qD=eO;function YD(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function fh(t,e,i,n){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:A,onLeave:h,onAfterLeave:g,onLeaveCancelled:f,onBeforeAppear:y,onAppear:E,onAfterAppear:C,onAppearCancelled:m}=e,b=String(t.key),_=YD(i,t),B=(O,Q)=>{O&&vr(O,n,9,Q)},L=(O,Q)=>{const $=Q[1];B(O,Q),At(O)?O.every(D=>D.length<=1)&&$():O.length<=1&&$()},j={mode:r,persisted:o,beforeEnter(O){let Q=a;if(!i.isMounted)if(s)Q=y||a;else return;O[Dl]&&O[Dl](!0);const $=_[b];$&&ao(t,$)&&$.el[Dl]&&$.el[Dl](),B(Q,[O])},enter(O){let Q=l,$=u,D=c;if(!i.isMounted)if(s)Q=E||l,$=C||u,D=m||c;else return;let U=!1;const S=O[pm]=k=>{U||(U=!0,k?B(D,[O]):B($,[O]),j.delayedLeave&&j.delayedLeave(),O[pm]=void 0)};Q?L(Q,[O,S]):S()},leave(O,Q){const $=String(t.key);if(O[pm]&&O[pm](!0),i.isUnmounting)return Q();B(A,[O]);let D=!1;const U=O[Dl]=S=>{D||(D=!0,Q(),S?B(f,[O]):B(g,[O]),O[Dl]=void 0,_[$]===t&&delete _[$])};_[$]=t,h?L(h,[O,U]):U()},clone(O){return fh(O,e,i,n)}};return j}function Yy(t){if(tg(t))return t=Wo(t),t.children=null,t}function BT(t){return tg(t)?t.children?t.children[0]:void 0:t}function Pc(t,e){t.shapeFlag&6&&t.component?Pc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yb(t,e=!1,i){let n=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:r);o.type===dt?(o.patchFlag&128&&s++,n=n.concat(yb(o.children,e,a))):(e||o.type!==as)&&n.push(a!=null?Wo(o,{key:a}):o)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function jc(t,e){return Ft(t)?(()=>zi({name:t.name},e,{setup:t}))():t}const Tc=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function tO(t){Ft(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:n,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const A=()=>(c++,l=null,h()),h=()=>{let g;return l||(g=l=e().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),a)return new Promise((y,E)=>{a(f,()=>y(A()),()=>E(f),c+1)});throw f}).then(f=>g!==l&&l?l:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),u=f,f)))};return jc({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const g=vn;if(u)return()=>Xy(u,g);const f=m=>{l=null,$c(m,g,13,!n)};if(o&&g.suspense||ph)return h().then(m=>()=>Xy(m,g)).catch(m=>(f(m),()=>n?Ct(n,{error:m}):null));const y=ss(!1),E=ss(),C=ss(!!s);return s&&setTimeout(()=>{C.value=!1},s),r!=null&&setTimeout(()=>{if(!y.value&&!E.value){const m=new Error("Async component timed out after ".concat(r,"ms."));f(m),E.value=m}},r),h().then(()=>{y.value=!0,g.parent&&tg(g.parent.vnode)&&mb(g.parent.update)}).catch(m=>{f(m),E.value=m}),()=>{if(y.value&&u)return Xy(u,g);if(E.value&&n)return Ct(n,{error:E.value});if(i&&!C.value)return Ct(i)}}})}function Xy(t,e){const{ref:i,props:n,children:s,ce:r}=e.vnode,o=Ct(t,n,s);return o.ref=i,o.ce=r,delete e.vnode.ce,o}const tg=t=>t.type.__isKeepAlive,iO={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=Ks(),n=i.ctx;if(!n.renderer)return()=>{const m=e.default&&e.default();return m&&m.length===1?m[0]:m};const s=new Map,r=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:A}}}=n,h=A("div");n.activate=(m,b,_,B,L)=>{const j=m.component;u(m,b,_,0,a),l(j.vnode,m,b,_,j,a,B,m.slotScopeIds,L),jn(()=>{j.isDeactivated=!1,j.a&&ZA(j.a);const O=m.props&&m.props.onVnodeMounted;O&&Rs(O,j.parent,m)},a)},n.deactivate=m=>{const b=m.component;u(m,h,null,1,a),jn(()=>{b.da&&ZA(b.da);const _=m.props&&m.props.onVnodeUnmounted;_&&Rs(_,b.parent,m),b.isDeactivated=!0},a)};function g(m){Jy(m),c(m,i,a,!0)}function f(m){s.forEach((b,_)=>{const B=t_(b.type);B&&(!m||!m(B))&&y(_)})}function y(m){const b=s.get(m);!o||!ao(b,o)?g(b):o&&Jy(o),s.delete(m),r.delete(m)}Ho(()=>[t.include,t.exclude],([m,b])=>{m&&f(_=>Ef(m,_)),b&&f(_=>!Ef(b,_))},{flush:"post",deep:!0});let E=null;const C=()=>{E!=null&&s.set(E,Zy(i.subTree))};return Vh(C),_b(C),Cb(()=>{s.forEach(m=>{const{subTree:b,suspense:_}=i,B=Zy(b);if(m.type===B.type&&m.key===B.key){Jy(B);const L=B.component.da;L&&jn(L,_);return}g(m)})}),()=>{if(E=null,!e.default)return null;const m=e.default(),b=m[0];if(m.length>1)return o=null,m;if(!iu(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let _=Zy(b);const B=_.type,L=t_(Tc(_)?_.type.__asyncResolved||{}:B),{include:j,exclude:O,max:Q}=t;if(j&&(!L||!Ef(j,L))||O&&L&&Ef(O,L))return o=_,b;const $=_.key==null?B:_.key,D=s.get($);return _.el&&(_=Wo(_),b.shapeFlag&128&&(b.ssContent=_)),E=$,D?(_.el=D.el,_.component=D.component,_.transition&&Pc(_,_.transition),_.shapeFlag|=512,r.delete($),r.add($)):(r.add($),Q&&r.size>parseInt(Q,10)&&y(r.values().next().value)),_.shapeFlag|=256,o=_,zD(b.type)?b:_}}},nO=iO;function Ef(t,e){return At(t)?t.some(i=>Ef(i,e)):Gi(t)?t.split(",").includes(e):M8(t)?t.test(e):!1}function XD(t,e){ZD(t,"a",e)}function JD(t,e){ZD(t,"da",e)}function ZD(t,e,i=vn){const n=t.__wdc||(t.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wb(e,n,i),i){let s=i.parent;for(;s&&s.parent;)tg(s.parent.vnode)&&sO(n,e,i,s),s=s.parent}}function sO(t,e,i,n){const s=wb(e,t,n,!0);ig(()=>{WC(n[e],s)},i)}function Jy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Zy(t){return t.shapeFlag&128?t.ssContent:t}function wb(t,e,i=vn,n=!1){if(i){const s=i[t]||(i[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(i.isUnmounted)return;$h(),nu(i);const a=vr(e,i,t,o);return Wl(),jh(),a});return n?s.unshift(r):s.push(r),r}}const nl=t=>(e,i=vn)=>(!ph||t==="sp")&&wb(t,(...n)=>e(...n),i),p2=nl("bm"),Vh=nl("m"),e3=nl("bu"),_b=nl("u"),Cb=nl("bum"),ig=nl("um"),t3=nl("sp"),i3=nl("rtg"),n3=nl("rtc");function s3(t,e=vn){wb("ec",t,e)}const g2="components",rO="directives";function Ke(t,e){return m2(g2,t,!0,e)||t}const r3=Symbol.for("v-ndc");function oO(t){return Gi(t)?m2(g2,t,!1)||t:t||r3}function aO(t){return m2(rO,t)}function m2(t,e,i=!0,n=!1){const s=Rn||vn;if(s){const r=s.type;if(t===g2){const a=t_(r,!1);if(a&&(a===e||a===Vs(e)||a===Zp(Vs(e))))return r}const o=kT(s[t]||r[t],e)||kT(s.appContext[t],e);return!o&&n?r:o}}function kT(t,e){return t&&(t[e]||t[Vs(e)]||t[Zp(Vs(e))])}function ei(t,e,i,n){let s;const r=i&&i[n];if(At(t)||Gi(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(Ci(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(t[u],u,a,r&&r[a])}}else s=[];return i&&(i[n]=s),s}function lO(t,e){for(let i=0;i<e.length;i++){const n=e[i];if(At(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const r=n.fn(...s);return r&&(r.key=n.key),r}:n.fn)}return t}function zw(t,e,i={},n,s){if(Rn.isCE||Rn.parent&&Tc(Rn.parent)&&Rn.parent.isCE)return e!=="default"&&(i.name=e),Ct("slot",i,n&&n());let r=t[e];r&&r._c&&(r._d=!1),Y();const o=r&&o3(r(i)),a=Je(dt,{key:i.key||o&&o.key||"_".concat(e)},o||(n?n():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function o3(t){return t.some(e=>iu(e)?!(e.type===as||e.type===dt&&!o3(e.children)):!0)?t:null}function uO(t,e){const i={};for(const n in t)i[e&&/[A-Z]/.test(n)?"on:".concat(n):Wf(n)]=t[n];return i}const Gw=t=>t?S3(t)?Tb(t)||t.proxy:Gw(t.parent):null,qf=zi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gw(t.parent),$root:t=>Gw(t.root),$emit:t=>t.emit,$options:t=>v2(t),$forceUpdate:t=>t.f||(t.f=()=>mb(t.update)),$nextTick:t=>t.n||(t.n=l2.bind(t.proxy)),$watch:t=>ZR.bind(t)}),e1=(t,e)=>t!==yi&&!t.__isScriptSetup&&li(t,e),Kw={get({_:t},e){const{ctx:i,setupState:n,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return s[e];case 4:return i[e];case 3:return r[e]}else{if(e1(n,e))return o[e]=1,n[e];if(s!==yi&&li(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&li(u,e))return o[e]=3,r[e];if(i!==yi&&li(i,e))return o[e]=4,i[e];Ww&&(o[e]=0)}}const c=qf[e];let A,h;if(c)return e==="$attrs"&&Gs(t,"get",e),c(t);if((A=a.__cssModules)&&(A=A[e]))return A;if(i!==yi&&li(i,e))return o[e]=4,i[e];if(h=l.config.globalProperties,li(h,e))return h[e]},set({_:t},e,i){const{data:n,setupState:s,ctx:r}=t;return e1(s,e)?(s[e]=i,!0):n!==yi&&li(n,e)?(n[e]=i,!0):li(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:s,propsOptions:r}},o){let a;return!!i[o]||t!==yi&&li(t,o)||e1(e,o)||(a=r[0])&&li(a,o)||li(n,o)||li(qf,o)||li(s.config.globalProperties,o)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:li(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}},cO=zi({},Kw,{get(t,e){if(e!==Symbol.unscopables)return Kw.get(t,e,t)},has(t,e){return e[0]!=="_"&&!H8(e)}});function AO(){return null}function hO(){return null}function dO(t){}function fO(t){}function pO(){return null}function gO(){}function mO(t,e){return null}function vO(){return a3().slots}function bO(){return a3().attrs}function yO(t,e,i){const n=Ks();if(i&&i.local){const s=ss(t[e]);return Ho(()=>t[e],r=>s.value=r),Ho(s,r=>{r!==t[e]&&n.emit("update:".concat(e),r)}),s}else return{__v_isRef:!0,get value(){return t[e]},set value(s){n.emit("update:".concat(e),s)}}}function a3(){const t=Ks();return t.setupContext||(t.setupContext=D3(t))}function Ip(t){return At(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}function wO(t,e){const i=Ip(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=i[n];s?At(s)||Ft(s)?s=i[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=i[n]={default:e[n]}),s&&e["__skip_".concat(n)]&&(s.skipFactory=!0)}return i}function _O(t,e){return!t||!e?t||e:At(t)&&At(e)?t.concat(e):zi({},Ip(t),Ip(e))}function CO(t,e){const i={};for(const n in t)e.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>t[n]});return i}function EO(t){const e=Ks();let i=t();return Wl(),qC(i)&&(i=i.catch(n=>{throw nu(e),n})),[i,()=>nu(e)]}let Ww=!0;function TO(t){const e=v2(t),i=t.proxy,n=t.ctx;Ww=!1,e.beforeCreate&&DT(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:A,mounted:h,beforeUpdate:g,updated:f,activated:y,deactivated:E,beforeDestroy:C,beforeUnmount:m,destroyed:b,unmounted:_,render:B,renderTracked:L,renderTriggered:j,errorCaptured:O,serverPrefetch:Q,expose:$,inheritAttrs:D,components:U,directives:S,filters:k}=e;if(u&&xO(u,n,null),o)for(const V in o){const G=o[V];Ft(G)&&(n[V]=G.bind(i))}if(s){const V=s.call(i,i);Ci(V)&&(t.data=fb(V))}if(Ww=!0,r)for(const V in r){const G=r[V],ee=Ft(G)?G.bind(i,i):Ft(G.get)?G.get.bind(i,i):co,se=!Ft(G)&&Ft(G.set)?G.set.bind(i):co,ne=$r({get:ee,set:se});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>ne.value,set:le=>ne.value=le})}if(a)for(const V in a)l3(a[V],n,i,V);if(l){const V=Ft(l)?l.call(i):l;Reflect.ownKeys(V).forEach(G=>{c3(G,V[G])})}c&&DT(c,t,"c");function N(V,G){At(G)?G.forEach(ee=>V(ee.bind(i))):G&&V(G.bind(i))}if(N(p2,A),N(Vh,h),N(e3,g),N(_b,f),N(XD,y),N(JD,E),N(s3,O),N(n3,L),N(i3,j),N(Cb,m),N(ig,_),N(t3,Q),At($))if($.length){const V=t.exposed||(t.exposed={});$.forEach(G=>{Object.defineProperty(V,G,{get:()=>i[G],set:ee=>i[G]=ee})})}else t.exposed||(t.exposed={});B&&t.render===co&&(t.render=B),D!=null&&(t.inheritAttrs=D),U&&(t.components=U),S&&(t.directives=S)}function xO(t,e,i=co){At(t)&&(t=qw(t));for(const n in t){const s=t[n];let r;Ci(s)?"default"in s?r=ih(s.from||n,s.default,!0):r=ih(s.from||n):r=ih(s),bn(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function DT(t,e,i){vr(At(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,i)}function l3(t,e,i,n){const s=n.includes(".")?WD(i,n):()=>i[n];if(Gi(t)){const r=e[t];Ft(r)&&Ho(s,r)}else if(Ft(t))Ho(s,t.bind(i));else if(Ci(t))if(At(t))t.forEach(r=>l3(r,e,i,n));else{const r=Ft(t.handler)?t.handler.bind(i):e[t.handler];Ft(r)&&Ho(s,r,t)}}function v2(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!i&&!n?l=e:(l={},s.length&&s.forEach(u=>q0(l,u,o,!0)),q0(l,e,o)),Ci(e)&&r.set(e,l),l}function q0(t,e,i,n=!1){const{mixins:s,extends:r}=e;r&&q0(t,r,i,!0),s&&s.forEach(o=>q0(t,o,i,!0));for(const o in e)if(!(n&&o==="expose")){const a=SO[o]||i&&i[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const SO={data:FT,props:IT,emits:IT,methods:Tf,computed:Tf,beforeCreate:hs,created:hs,beforeMount:hs,mounted:hs,beforeUpdate:hs,updated:hs,beforeDestroy:hs,beforeUnmount:hs,destroyed:hs,unmounted:hs,activated:hs,deactivated:hs,errorCaptured:hs,serverPrefetch:hs,components:Tf,directives:Tf,watch:kO,provide:FT,inject:BO};function FT(t,e){return e?t?function(){return zi(Ft(t)?t.call(this,this):t,Ft(e)?e.call(this,this):e)}:e:t}function BO(t,e){return Tf(qw(t),qw(e))}function qw(t){if(At(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function hs(t,e){return t?[...new Set([].concat(t,e))]:e}function Tf(t,e){return t?zi(Object.create(null),t,e):e}function IT(t,e){return t?At(t)&&At(e)?[...new Set([...t,...e])]:zi(Object.create(null),Ip(t),Ip(e!=null?e:{})):e}function kO(t,e){if(!t)return e;if(!e)return t;const i=zi(Object.create(null),t);for(const n in e)i[n]=hs(t[n],e[n]);return i}function u3(){return{app:null,config:{isNativeTag:I8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DO=0;function FO(t,e){return function(n,s=null){Ft(n)||(n=zi({},n)),s!=null&&!Ci(s)&&(s=null);const r=u3(),o=new WeakSet;let a=!1;const l=r.app={_uid:DO++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:P3,get config(){return r.config},set config(u){},use(u,...c){return o.has(u)||(u&&Ft(u.install)?(o.add(u),u.install(l,...c)):Ft(u)&&(o.add(u),u(l,...c))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,c){return c?(r.components[u]=c,l):r.components[u]},directive(u,c){return c?(r.directives[u]=c,l):r.directives[u]},mount(u,c,A){if(!a){const h=Ct(n,s);return h.appContext=r,c&&e?e(h,u):t(h,u,A),a=!0,l._container=u,u.__vue_app__=l,Tb(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return r.provides[u]=c,l},runWithContext(u){Lp=l;try{return u()}finally{Lp=null}}};return l}}let Lp=null;function c3(t,e){if(vn){let i=vn.provides;const n=vn.parent&&vn.parent.provides;n===i&&(i=vn.provides=Object.create(n)),i[t]=e}}function ih(t,e,i=!1){const n=vn||Rn;if(n||Lp){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Lp._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&Ft(e)?e.call(n&&n.proxy):e}}function IO(){return!!(vn||Rn||Lp)}function LO(t,e,i,n=!1){const s={},r={};$0(r,Eb,1),t.propsDefaults=Object.create(null),A3(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);i?t.props=n?s:RD(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function PO(t,e,i,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Zt(s),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let A=0;A<c.length;A++){let h=c[A];if(vb(t.emitsOptions,h))continue;const g=e[h];if(l)if(li(r,h))g!==r[h]&&(r[h]=g,u=!0);else{const f=Vs(h);s[f]=Yw(l,a,f,g,t,!1)}else g!==r[h]&&(r[h]=g,u=!0)}}}else{A3(t,e,s,r)&&(u=!0);let c;for(const A in a)(!e||!li(e,A)&&((c=Qr(A))===A||!li(e,c)))&&(l?i&&(i[A]!==void 0||i[c]!==void 0)&&(s[A]=Yw(l,a,A,void 0,t,!0)):delete s[A]);if(r!==a)for(const A in r)(!e||!li(e,A))&&(delete r[A],u=!0)}u&&Qa(t,"set","$attrs")}function A3(t,e,i,n){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Kf(l))continue;const u=e[l];let c;s&&li(s,c=Vs(l))?!r||!r.includes(c)?i[c]=u:(a||(a={}))[c]=u:vb(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(r){const l=Zt(i),u=a||yi;for(let c=0;c<r.length;c++){const A=r[c];i[A]=Yw(s,l,A,u[A],t,!li(u,A))}}return o}function Yw(t,e,i,n,s,r){const o=t[i];if(o!=null){const a=li(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ft(l)){const{propsDefaults:u}=s;i in u?n=u[i]:(nu(s),n=u[i]=l.call(null,e),Wl())}else n=l}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===Qr(i))&&(n=!0))}return n}function h3(t,e,i=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!Ft(t)){const c=A=>{l=!0;const[h,g]=h3(A,e,!0);zi(o,h),g&&a.push(...g)};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!r&&!l)return Ci(t)&&n.set(t,XA),XA;if(At(r))for(let c=0;c<r.length;c++){const A=Vs(r[c]);LT(A)&&(o[A]=yi)}else if(r)for(const c in r){const A=Vs(c);if(LT(A)){const h=r[c],g=o[A]=At(h)||Ft(h)?{type:h}:zi({},h);if(g){const f=RT(Boolean,g.type),y=RT(String,g.type);g[0]=f>-1,g[1]=y<0||f<y,(f>-1||li(g,"default"))&&a.push(A)}}}const u=[o,a];return Ci(t)&&n.set(t,u),u}function LT(t){return t[0]!=="$"}function PT(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function MT(t,e){return PT(t)===PT(e)}function RT(t,e){return At(e)?e.findIndex(i=>MT(i,t)):Ft(e)&&MT(e,t)?0:-1}const d3=t=>t[0]==="_"||t==="$stable",b2=t=>At(t)?t.map(hr):[hr(t)],MO=(t,e,i)=>{if(e._n)return e;const n=Et((...s)=>b2(e(...s)),i);return n._c=!1,n},f3=(t,e,i)=>{const n=t._ctx;for(const s in t){if(d3(s))continue;const r=t[s];if(Ft(r))e[s]=MO(s,r,n);else if(r!=null){const o=b2(r);e[s]=()=>o}}},p3=(t,e)=>{const i=b2(e);t.slots.default=()=>i},RO=(t,e)=>{if(t.vnode.shapeFlag&32){const i=e._;i?(t.slots=Zt(e),$0(e,"_",i)):f3(e,t.slots={})}else t.slots={},e&&p3(t,e);$0(t.slots,Eb,1)},OO=(t,e,i)=>{const{vnode:n,slots:s}=t;let r=!0,o=yi;if(n.shapeFlag&32){const a=e._;a?i&&a===1?r=!1:(zi(s,e),!i&&a===1&&delete s._):(r=!e.$stable,f3(e,s)),o=e}else e&&(p3(t,e),o={default:1});if(r)for(const a in s)!d3(a)&&o[a]==null&&delete s[a]};function Y0(t,e,i,n,s=!1){if(At(t)){t.forEach((h,g)=>Y0(h,e&&(At(e)?e[g]:e),i,n,s));return}if(Tc(n)&&!s)return;const r=n.shapeFlag&4?Tb(n.component)||n.component.proxy:n.el,o=s?null:r,{i:a,r:l}=t,u=e&&e.r,c=a.refs===yi?a.refs={}:a.refs,A=a.setupState;if(u!=null&&u!==l&&(Gi(u)?(c[u]=null,li(A,u)&&(A[u]=null)):bn(u)&&(u.value=null)),Ft(l))$a(l,a,12,[o,c]);else{const h=Gi(l),g=bn(l);if(h||g){const f=()=>{if(t.f){const y=h?li(A,l)?A[l]:c[l]:l.value;s?At(y)&&WC(y,r):At(y)?y.includes(r)||y.push(r):h?(c[l]=[r],li(A,l)&&(A[l]=c[l])):(l.value=[r],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,li(A,l)&&(A[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(f.id=-1,jn(f,i)):f()}}}let wl=!1;const gm=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",mm=t=>t.nodeType===8;function UO(t){const{mt:e,p:i,o:{patchProp:n,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(b,_)=>{if(!_.hasChildNodes()){i(null,b,_),K0(),_._vnode=b;return}wl=!1,A(_.firstChild,b,null,null,null),K0(),_._vnode=b,wl&&console.error("Hydration completed but contains mismatches.")},A=(b,_,B,L,j,O=!1)=>{const Q=mm(b)&&b.data==="[",$=()=>y(b,_,B,L,j,Q),{type:D,ref:U,shapeFlag:S,patchFlag:k}=_;let M=b.nodeType;_.el=b,k===-2&&(O=!1,_.dynamicChildren=null);let N=null;switch(D){case tu:M!==3?_.children===""?(l(_.el=s(""),o(b),b),N=b):N=$():(b.data!==_.children&&(wl=!0,b.data=_.children),N=r(b));break;case as:if(M!==8||Q)if(b.tagName.toLowerCase()==="template"){const V=_.el.content.firstChild;C(V,b,B),_.el=b=V,N=r(b)}else N=$();else N=r(b);break;case xc:if(Q&&(b=r(b),M=b.nodeType),M===1||M===3){N=b;const V=!_.children.length;for(let G=0;G<_.staticCount;G++)V&&(_.children+=N.nodeType===1?N.outerHTML:N.data),G===_.staticCount-1&&(_.anchor=N),N=r(N);return Q?r(N):N}else $();break;case dt:Q?N=f(b,_,B,L,j,O):N=$();break;default:if(S&1)(M!==1||_.type.toLowerCase()!==b.tagName.toLowerCase())&&!m(b)?N=$():N=h(b,_,B,L,j,O);else if(S&6){_.slotScopeIds=j;const V=o(b);if(Q?N=E(b):mm(b)&&b.data==="teleport start"?N=E(b,b.data,"teleport end"):N=r(b),e(_,V,null,B,L,gm(V),O),Tc(_)){let G;Q?(G=Ct(dt),G.anchor=N?N.previousSibling:V.lastChild):G=b.nodeType===3?ro(""):Ct("div"),G.el=b,_.component.subTree=G}}else S&64?M!==8?N=$():N=_.type.hydrate(b,_,B,L,j,O,t,g):S&128&&(N=_.type.hydrate(b,_,B,L,gm(o(b)),j,O,t,A))}return U!=null&&Y0(U,null,L,_),N},h=(b,_,B,L,j,O)=>{O=O||!!_.dynamicChildren;const{type:Q,props:$,patchFlag:D,shapeFlag:U,dirs:S,transition:k}=_,M=Q==="input"&&S||Q==="option";if(M||D!==-1){if(S&&Fo(_,null,B,"created"),$)if(M||!O||D&48)for(const G in $)(M&&G.endsWith("value")||Jp(G)&&!Kf(G))&&n(b,G,null,$[G],!1,void 0,B);else $.onClick&&n(b,"onClick",null,$.onClick,!1,void 0,B);let N;(N=$&&$.onVnodeBeforeMount)&&Rs(N,B,_);let V=!1;if(m(b)){V=b3(L,k)&&B&&B.vnode.props&&B.vnode.props.appear;const G=b.content.firstChild;V&&k.beforeEnter(G),C(G,b,B),_.el=b=G}if(S&&Fo(_,null,B,"beforeMount"),((N=$&&$.onVnodeMounted)||S||V)&&GD(()=>{N&&Rs(N,B,_),V&&k.enter(b),S&&Fo(_,null,B,"mounted")},L),U&16&&!($&&($.innerHTML||$.textContent))){let G=g(b.firstChild,_,b,B,L,j,O);for(;G;){wl=!0;const ee=G;G=G.nextSibling,a(ee)}}else U&8&&b.textContent!==_.children&&(wl=!0,b.textContent=_.children)}return b.nextSibling},g=(b,_,B,L,j,O,Q)=>{Q=Q||!!_.dynamicChildren;const $=_.children,D=$.length;for(let U=0;U<D;U++){const S=Q?$[U]:$[U]=hr($[U]);if(b)b=A(b,S,L,j,O,Q);else{if(S.type===tu&&!S.children)continue;wl=!0,i(null,S,B,null,L,j,gm(B),O)}}return b},f=(b,_,B,L,j,O)=>{const{slotScopeIds:Q}=_;Q&&(j=j?j.concat(Q):Q);const $=o(b),D=g(r(b),_,$,B,L,j,O);return D&&mm(D)&&D.data==="]"?r(_.anchor=D):(wl=!0,l(_.anchor=u("]"),$,D),D)},y=(b,_,B,L,j,O)=>{if(wl=!0,_.el=null,O){const D=E(b);for(;;){const U=r(b);if(U&&U!==D)a(U);else break}}const Q=r(b),$=o(b);return a(b),i(null,_,$,Q,B,L,gm($),j),Q},E=(b,_="[",B="]")=>{let L=0;for(;b;)if(b=r(b),b&&mm(b)&&(b.data===_&&L++,b.data===B)){if(L===0)return r(b);L--}return b},C=(b,_,B)=>{const L=_.parentNode;L&&L.replaceChild(b,_);let j=B;for(;j;)j.vnode.el===_&&(j.vnode.el=b,j.subTree.el=b),j=j.parent},m=b=>b.nodeType===1&&b.tagName.toLowerCase()==="template";return[c,A]}const jn=GD;function g3(t){return v3(t)}function m3(t){return v3(t,UO)}function v3(t,e){const i=Hw();i.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:A,nextSibling:h,setScopeId:g=co,insertStaticContent:f}=t,y=(ae,W,X,re=null,ve=null,xe=null,Me=!1,Fe=null,Ie=!!W.dynamicChildren)=>{if(ae===W)return;ae&&!ao(ae,W)&&(re=ce(ae),le(ae,ve,xe,!0),ae=null),W.patchFlag===-2&&(Ie=!1,W.dynamicChildren=null);const{type:Le,ref:Ge,shapeFlag:ze}=W;switch(Le){case tu:E(ae,W,X,re);break;case as:C(ae,W,X,re);break;case xc:ae==null&&m(W,X,re,Me);break;case dt:U(ae,W,X,re,ve,xe,Me,Fe,Ie);break;default:ze&1?B(ae,W,X,re,ve,xe,Me,Fe,Ie):ze&6?S(ae,W,X,re,ve,xe,Me,Fe,Ie):(ze&64||ze&128)&&Le.process(ae,W,X,re,ve,xe,Me,Fe,Ie,ie)}Ge!=null&&ve&&Y0(Ge,ae&&ae.ref,xe,W||ae,!W)},E=(ae,W,X,re)=>{if(ae==null)n(W.el=a(W.children),X,re);else{const ve=W.el=ae.el;W.children!==ae.children&&u(ve,W.children)}},C=(ae,W,X,re)=>{ae==null?n(W.el=l(W.children||""),X,re):W.el=ae.el},m=(ae,W,X,re)=>{[ae.el,ae.anchor]=f(ae.children,W,X,re,ae.el,ae.anchor)},b=({el:ae,anchor:W},X,re)=>{let ve;for(;ae&&ae!==W;)ve=h(ae),n(ae,X,re),ae=ve;n(W,X,re)},_=({el:ae,anchor:W})=>{let X;for(;ae&&ae!==W;)X=h(ae),s(ae),ae=X;s(W)},B=(ae,W,X,re,ve,xe,Me,Fe,Ie)=>{Me=Me||W.type==="svg",ae==null?L(W,X,re,ve,xe,Me,Fe,Ie):Q(ae,W,ve,xe,Me,Fe,Ie)},L=(ae,W,X,re,ve,xe,Me,Fe)=>{let Ie,Le;const{type:Ge,props:ze,shapeFlag:_e,transition:Te,dirs:je}=ae;if(Ie=ae.el=o(ae.type,xe,ze&&ze.is,ze),_e&8?c(Ie,ae.children):_e&16&&O(ae.children,Ie,null,re,ve,xe&&Ge!=="foreignObject",Me,Fe),je&&Fo(ae,null,re,"created"),j(Ie,ae,ae.scopeId,Me,re),ze){for(const st in ze)st!=="value"&&!Kf(st)&&r(Ie,st,null,ze[st],xe,ae.children,re,ve,ke);"value"in ze&&r(Ie,"value",null,ze.value),(Le=ze.onVnodeBeforeMount)&&Rs(Le,re,ae)}je&&Fo(ae,null,re,"beforeMount");const nt=b3(ve,Te);nt&&Te.beforeEnter(Ie),n(Ie,W,X),((Le=ze&&ze.onVnodeMounted)||nt||je)&&jn(()=>{Le&&Rs(Le,re,ae),nt&&Te.enter(Ie),je&&Fo(ae,null,re,"mounted")},ve)},j=(ae,W,X,re,ve)=>{if(X&&g(ae,X),re)for(let xe=0;xe<re.length;xe++)g(ae,re[xe]);if(ve){let xe=ve.subTree;if(W===xe){const Me=ve.vnode;j(ae,Me,Me.scopeId,Me.slotScopeIds,ve.parent)}}},O=(ae,W,X,re,ve,xe,Me,Fe,Ie=0)=>{for(let Le=Ie;Le<ae.length;Le++){const Ge=ae[Le]=Fe?Fl(ae[Le]):hr(ae[Le]);y(null,Ge,W,X,re,ve,xe,Me,Fe)}},Q=(ae,W,X,re,ve,xe,Me)=>{const Fe=W.el=ae.el;let{patchFlag:Ie,dynamicChildren:Le,dirs:Ge}=W;Ie|=ae.patchFlag&16;const ze=ae.props||yi,_e=W.props||yi;let Te;X&&Wu(X,!1),(Te=_e.onVnodeBeforeUpdate)&&Rs(Te,X,W,ae),Ge&&Fo(W,ae,X,"beforeUpdate"),X&&Wu(X,!0);const je=ve&&W.type!=="foreignObject";if(Le?$(ae.dynamicChildren,Le,Fe,X,re,je,xe):Me||G(ae,W,Fe,null,X,re,je,xe,!1),Ie>0){if(Ie&16)D(Fe,W,ze,_e,X,re,ve);else if(Ie&2&&ze.class!==_e.class&&r(Fe,"class",null,_e.class,ve),Ie&4&&r(Fe,"style",ze.style,_e.style,ve),Ie&8){const nt=W.dynamicProps;for(let st=0;st<nt.length;st++){const bt=nt[st],ct=ze[bt],$t=_e[bt];($t!==ct||bt==="value")&&r(Fe,bt,ct,$t,ve,ae.children,X,re,ke)}}Ie&1&&ae.children!==W.children&&c(Fe,W.children)}else!Me&&Le==null&&D(Fe,W,ze,_e,X,re,ve);((Te=_e.onVnodeUpdated)||Ge)&&jn(()=>{Te&&Rs(Te,X,W,ae),Ge&&Fo(W,ae,X,"updated")},re)},$=(ae,W,X,re,ve,xe,Me)=>{for(let Fe=0;Fe<W.length;Fe++){const Ie=ae[Fe],Le=W[Fe],Ge=Ie.el&&(Ie.type===dt||!ao(Ie,Le)||Ie.shapeFlag&70)?A(Ie.el):X;y(Ie,Le,Ge,null,re,ve,xe,Me,!0)}},D=(ae,W,X,re,ve,xe,Me)=>{if(X!==re){if(X!==yi)for(const Fe in X)!Kf(Fe)&&!(Fe in re)&&r(ae,Fe,X[Fe],null,Me,W.children,ve,xe,ke);for(const Fe in re){if(Kf(Fe))continue;const Ie=re[Fe],Le=X[Fe];Ie!==Le&&Fe!=="value"&&r(ae,Fe,Le,Ie,Me,W.children,ve,xe,ke)}"value"in re&&r(ae,"value",X.value,re.value)}},U=(ae,W,X,re,ve,xe,Me,Fe,Ie)=>{const Le=W.el=ae?ae.el:a(""),Ge=W.anchor=ae?ae.anchor:a("");let{patchFlag:ze,dynamicChildren:_e,slotScopeIds:Te}=W;Te&&(Fe=Fe?Fe.concat(Te):Te),ae==null?(n(Le,X,re),n(Ge,X,re),O(W.children,X,Ge,ve,xe,Me,Fe,Ie)):ze>0&&ze&64&&_e&&ae.dynamicChildren?($(ae.dynamicChildren,_e,X,ve,xe,Me,Fe),(W.key!=null||ve&&W===ve.subTree)&&y2(ae,W,!0)):G(ae,W,X,Ge,ve,xe,Me,Fe,Ie)},S=(ae,W,X,re,ve,xe,Me,Fe,Ie)=>{W.slotScopeIds=Fe,ae==null?W.shapeFlag&512?ve.ctx.activate(W,X,re,Me,Ie):k(W,X,re,ve,xe,Me,Ie):M(ae,W,Ie)},k=(ae,W,X,re,ve,xe,Me)=>{const Fe=ae.component=x3(ae,re,ve);if(tg(ae)&&(Fe.ctx.renderer=ie),B3(Fe),Fe.asyncDep){if(ve&&ve.registerDep(Fe,N),!ae.el){const Ie=Fe.subTree=Ct(as);C(null,Ie,W,X)}return}N(Fe,ae,W,X,ve,xe,Me)},M=(ae,W,X)=>{const re=W.component=ae.component;if(jR(ae,W,X))if(re.asyncDep&&!re.asyncResolved){V(re,W,X);return}else re.next=W,RR(re.update),re.update();else W.el=ae.el,re.vnode=W},N=(ae,W,X,re,ve,xe,Me)=>{const Fe=()=>{if(ae.isMounted){let{next:Ge,bu:ze,u:_e,parent:Te,vnode:je}=ae,nt=Ge,st;Wu(ae,!1),Ge?(Ge.el=je.el,V(ae,Ge,Me)):Ge=je,ze&&ZA(ze),(st=Ge.props&&Ge.props.onVnodeBeforeUpdate)&&Rs(st,Te,Ge,je),Wu(ae,!0);const bt=v0(ae),ct=ae.subTree;ae.subTree=bt,y(ct,bt,A(ct.el),ce(ct),ae,ve,xe),Ge.el=bt.el,nt===null&&A2(ae,bt.el),_e&&jn(_e,ve),(st=Ge.props&&Ge.props.onVnodeUpdated)&&jn(()=>Rs(st,Te,Ge,je),ve)}else{let Ge;const{el:ze,props:_e}=W,{bm:Te,m:je,parent:nt}=ae,st=Tc(W);if(Wu(ae,!1),Te&&ZA(Te),!st&&(Ge=_e&&_e.onVnodeBeforeMount)&&Rs(Ge,nt,W),Wu(ae,!0),ze&&$e){const bt=()=>{ae.subTree=v0(ae),$e(ze,ae.subTree,ae,ve,null)};st?W.type.__asyncLoader().then(()=>!ae.isUnmounted&&bt()):bt()}else{const bt=ae.subTree=v0(ae);y(null,bt,X,re,ae,ve,xe),W.el=bt.el}if(je&&jn(je,ve),!st&&(Ge=_e&&_e.onVnodeMounted)){const bt=W;jn(()=>Rs(Ge,nt,bt),ve)}(W.shapeFlag&256||nt&&Tc(nt.vnode)&&nt.vnode.shapeFlag&256)&&ae.a&&jn(ae.a,ve),ae.isMounted=!0,W=X=re=null}},Ie=ae.effect=new dh(Fe,()=>mb(Le),ae.scope),Le=ae.update=()=>Ie.run();Le.id=ae.uid,Wu(ae,!0),Le()},V=(ae,W,X)=>{W.component=ae;const re=ae.vnode.props;ae.vnode=W,ae.next=null,PO(ae,W.props,re,X),OO(ae,W.children,X),$h(),TT(),jh()},G=(ae,W,X,re,ve,xe,Me,Fe,Ie=!1)=>{const Le=ae&&ae.children,Ge=ae?ae.shapeFlag:0,ze=W.children,{patchFlag:_e,shapeFlag:Te}=W;if(_e>0){if(_e&128){se(Le,ze,X,re,ve,xe,Me,Fe,Ie);return}else if(_e&256){ee(Le,ze,X,re,ve,xe,Me,Fe,Ie);return}}Te&8?(Ge&16&&ke(Le,ve,xe),ze!==Le&&c(X,ze)):Ge&16?Te&16?se(Le,ze,X,re,ve,xe,Me,Fe,Ie):ke(Le,ve,xe,!0):(Ge&8&&c(X,""),Te&16&&O(ze,X,re,ve,xe,Me,Fe,Ie))},ee=(ae,W,X,re,ve,xe,Me,Fe,Ie)=>{ae=ae||XA,W=W||XA;const Le=ae.length,Ge=W.length,ze=Math.min(Le,Ge);let _e;for(_e=0;_e<ze;_e++){const Te=W[_e]=Ie?Fl(W[_e]):hr(W[_e]);y(ae[_e],Te,X,null,ve,xe,Me,Fe,Ie)}Le>Ge?ke(ae,ve,xe,!0,!1,ze):O(W,X,re,ve,xe,Me,Fe,Ie,ze)},se=(ae,W,X,re,ve,xe,Me,Fe,Ie)=>{let Le=0;const Ge=W.length;let ze=ae.length-1,_e=Ge-1;for(;Le<=ze&&Le<=_e;){const Te=ae[Le],je=W[Le]=Ie?Fl(W[Le]):hr(W[Le]);if(ao(Te,je))y(Te,je,X,null,ve,xe,Me,Fe,Ie);else break;Le++}for(;Le<=ze&&Le<=_e;){const Te=ae[ze],je=W[_e]=Ie?Fl(W[_e]):hr(W[_e]);if(ao(Te,je))y(Te,je,X,null,ve,xe,Me,Fe,Ie);else break;ze--,_e--}if(Le>ze){if(Le<=_e){const Te=_e+1,je=Te<Ge?W[Te].el:re;for(;Le<=_e;)y(null,W[Le]=Ie?Fl(W[Le]):hr(W[Le]),X,je,ve,xe,Me,Fe,Ie),Le++}}else if(Le>_e)for(;Le<=ze;)le(ae[Le],ve,xe,!0),Le++;else{const Te=Le,je=Le,nt=new Map;for(Le=je;Le<=_e;Le++){const It=W[Le]=Ie?Fl(W[Le]):hr(W[Le]);It.key!=null&&nt.set(It.key,Le)}let st,bt=0;const ct=_e-je+1;let $t=!1,_t=0;const gt=new Array(ct);for(Le=0;Le<ct;Le++)gt[Le]=0;for(Le=Te;Le<=ze;Le++){const It=ae[Le];if(bt>=ct){le(It,ve,xe,!0);continue}let ri;if(It.key!=null)ri=nt.get(It.key);else for(st=je;st<=_e;st++)if(gt[st-je]===0&&ao(It,W[st])){ri=st;break}ri===void 0?le(It,ve,xe,!0):(gt[ri-je]=Le+1,ri>=_t?_t=ri:$t=!0,y(It,W[ri],X,null,ve,xe,Me,Fe,Ie),bt++)}const si=$t?NO(gt):XA;for(st=si.length-1,Le=ct-1;Le>=0;Le--){const It=je+Le,ri=W[It],Ki=It+1<Ge?W[It+1].el:re;gt[Le]===0?y(null,ri,X,Ki,ve,xe,Me,Fe,Ie):$t&&(st<0||Le!==si[st]?ne(ri,X,Ki,2):st--)}}},ne=(ae,W,X,re,ve=null)=>{const{el:xe,type:Me,transition:Fe,children:Ie,shapeFlag:Le}=ae;if(Le&6){ne(ae.component.subTree,W,X,re);return}if(Le&128){ae.suspense.move(W,X,re);return}if(Le&64){Me.move(ae,W,X,ie);return}if(Me===dt){n(xe,W,X);for(let ze=0;ze<Ie.length;ze++)ne(Ie[ze],W,X,re);n(ae.anchor,W,X);return}if(Me===xc){b(ae,W,X);return}if(re!==2&&Le&1&&Fe)if(re===0)Fe.beforeEnter(xe),n(xe,W,X),jn(()=>Fe.enter(xe),ve);else{const{leave:ze,delayLeave:_e,afterLeave:Te}=Fe,je=()=>n(xe,W,X),nt=()=>{ze(xe,()=>{je(),Te&&Te()})};_e?_e(xe,je,nt):nt()}else n(xe,W,X)},le=(ae,W,X,re=!1,ve=!1)=>{const{type:xe,props:Me,ref:Fe,children:Ie,dynamicChildren:Le,shapeFlag:Ge,patchFlag:ze,dirs:_e}=ae;if(Fe!=null&&Y0(Fe,null,X,ae,!0),Ge&256){W.ctx.deactivate(ae);return}const Te=Ge&1&&_e,je=!Tc(ae);let nt;if(je&&(nt=Me&&Me.onVnodeBeforeUnmount)&&Rs(nt,W,ae),Ge&6)pe(ae.component,X,re);else{if(Ge&128){ae.suspense.unmount(X,re);return}Te&&Fo(ae,null,W,"beforeUnmount"),Ge&64?ae.type.remove(ae,W,X,ve,ie,re):Le&&(xe!==dt||ze>0&&ze&64)?ke(Le,W,X,!1,!0):(xe===dt&&ze&384||!ve&&Ge&16)&&ke(Ie,W,X),re&&he(ae)}(je&&(nt=Me&&Me.onVnodeUnmounted)||Te)&&jn(()=>{nt&&Rs(nt,W,ae),Te&&Fo(ae,null,W,"unmounted")},X)},he=ae=>{const{type:W,el:X,anchor:re,transition:ve}=ae;if(W===dt){we(X,re);return}if(W===xc){_(ae);return}const xe=()=>{s(X),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(ae.shapeFlag&1&&ve&&!ve.persisted){const{leave:Me,delayLeave:Fe}=ve,Ie=()=>Me(X,xe);Fe?Fe(ae.el,xe,Ie):Ie()}else xe()},we=(ae,W)=>{let X;for(;ae!==W;)X=h(ae),s(ae),ae=X;s(W)},pe=(ae,W,X)=>{const{bum:re,scope:ve,update:xe,subTree:Me,um:Fe}=ae;re&&ZA(re),ve.stop(),xe&&(xe.active=!1,le(Me,ae,W,X)),Fe&&jn(Fe,W),jn(()=>{ae.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve())},ke=(ae,W,X,re=!1,ve=!1,xe=0)=>{for(let Me=xe;Me<ae.length;Me++)le(ae[Me],W,X,re,ve)},ce=ae=>ae.shapeFlag&6?ce(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():h(ae.anchor||ae.el),ye=(ae,W,X)=>{ae==null?W._vnode&&le(W._vnode,null,null,!0):y(W._vnode||null,ae,W,null,null,null,X),TT(),K0(),W._vnode=ae},ie={p:y,um:le,m:ne,r:he,mt:k,mc:O,pc:G,pbc:$,n:ce,o:t};let He,$e;return e&&([He,$e]=e(ie)),{render:ye,hydrate:He,createApp:FO(ye,He)}}function Wu({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function b3(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function y2(t,e,i=!1){const n=t.children,s=e.children;if(At(n)&&At(s))for(let r=0;r<n.length;r++){const o=n[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Fl(s[r]),a.el=o.el),i||y2(o,a)),a.type===tu&&(a.el=o.el)}}function NO(t){const e=t.slice(),i=[0];let n,s,r,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(s=i[i.length-1],t[s]<u){e[n]=s,i.push(n);continue}for(r=0,o=i.length-1;r<o;)a=r+o>>1,t[i[a]]<u?r=a+1:o=a;u<t[i[r]]&&(r>0&&(e[n]=i[r-1]),i[r]=n)}}for(r=i.length,o=i[r-1];r-- >0;)i[r]=o,o=e[o];return i}const HO=t=>t.__isTeleport,Yf=t=>t&&(t.disabled||t.disabled===""),OT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Xw=(t,e)=>{const i=t&&t.to;return Gi(i)?e?e(i):null:i},QO={__isTeleport:!0,process(t,e,i,n,s,r,o,a,l,u){const{mc:c,pc:A,pbc:h,o:{insert:g,querySelector:f,createText:y,createComment:E}}=u,C=Yf(e.props);let{shapeFlag:m,children:b,dynamicChildren:_}=e;if(t==null){const B=e.el=y(""),L=e.anchor=y("");g(B,i,n),g(L,i,n);const j=e.target=Xw(e.props,f),O=e.targetAnchor=y("");j&&(g(O,j),o=o||OT(j));const Q=($,D)=>{m&16&&c(b,$,D,s,r,o,a,l)};C?Q(i,L):j&&Q(j,O)}else{e.el=t.el;const B=e.anchor=t.anchor,L=e.target=t.target,j=e.targetAnchor=t.targetAnchor,O=Yf(t.props),Q=O?i:L,$=O?B:j;if(o=o||OT(L),_?(h(t.dynamicChildren,_,Q,s,r,o,a),y2(t,e,!0)):l||A(t,e,Q,$,s,r,o,a,!1),C)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):vm(e,i,B,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=Xw(e.props,f);D&&vm(e,D,null,u,0)}else O&&vm(e,L,j,u,1)}y3(e)},remove(t,e,i,n,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:A,props:h}=t;if(A&&r(c),o&&r(u),a&16){const g=o||!Yf(h);for(let f=0;f<l.length;f++){const y=l[f];s(y,e,i,g,!!y.dynamicChildren)}}},move:vm,hydrate:$O};function vm(t,e,i,{o:{insert:n},m:s},r=2){r===0&&n(t.targetAnchor,e,i);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,A=r===2;if(A&&n(o,e,i),(!A||Yf(c))&&l&16)for(let h=0;h<u.length;h++)s(u[h],e,i,2);A&&n(a,e,i)}function $O(t,e,i,n,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Xw(e.props,l);if(c){const A=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Yf(e.props))e.anchor=u(o(t),e,a(t),i,n,s,r),e.targetAnchor=A;else{e.anchor=o(t);let h=A;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(A,e,c,i,n,s,r)}y3(e)}return e.anchor&&o(e.anchor)}const jO=QO;function y3(t){const e=t.ctx;if(e&&e.ut){let i=t.children[0].el;for(;i&&i!==t.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const dt=Symbol.for("v-fgt"),tu=Symbol.for("v-txt"),as=Symbol.for("v-cmt"),xc=Symbol.for("v-stc"),Xf=[];let js=null;function Y(t=!1){Xf.push(js=t?null:[])}function w3(){Xf.pop(),js=Xf[Xf.length-1]||null}let Mc=1;function Jw(t){Mc+=t}function _3(t){return t.dynamicChildren=Mc>0?js||XA:null,w3(),Mc>0&&js&&js.push(t),t}function te(t,e,i,n,s,r){return _3(d(t,e,i,n,s,r,!0))}function Je(t,e,i,n,s){return _3(Ct(t,e,i,n,s,!0))}function iu(t){return t?t.__v_isVNode===!0:!1}function ao(t,e){return t.type===e.type&&t.key===e.key}function VO(t){}const Eb="__vInternal",C3=({key:t})=>t!=null?t:null,b0=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Gi(t)||bn(t)||Ft(t)?{i:Rn,r:t,k:e,f:!!i}:t:null);function d(t,e=null,i=null,n=0,s=null,r=t===dt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&C3(e),ref:e&&b0(e),scopeId:bb,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Rn};return a?(w2(l,i),r&128&&t.normalize(l)):i&&(l.shapeFlag|=Gi(i)?8:16),Mc>0&&!o&&js&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&js.push(l),l}const Ct=zO;function zO(t,e=null,i=null,n=0,s=null,r=!1){if((!t||t===r3)&&(t=as),iu(t)){const a=Wo(t,e,!0);return i&&w2(a,i),Mc>0&&!r&&js&&(a.shapeFlag&6?js[js.indexOf(t)]=a:js.push(a)),a.patchFlag|=-2,a}if(ZO(t)&&(t=t.__vccOpts),e){e=E3(e);let{class:a,style:l}=e;a&&!Gi(a)&&(e.class=Ne(a)),Ci(l)&&(t2(l)&&!At(l)&&(l=zi({},l)),e.style=ti(l))}const o=Gi(t)?1:zD(t)?128:HO(t)?64:Ci(t)?4:Ft(t)?2:0;return d(t,e,i,n,s,o,r,!0)}function E3(t){return t?t2(t)||Eb in t?zi({},t):t:null}function Wo(t,e,i=!1){const{props:n,ref:s,patchFlag:r,children:o}=t,a=e?T3(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&C3(a),ref:e&&e.ref?i&&s?At(s)?s.concat(b0(e)):[s,b0(e)]:b0(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==dt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wo(t.ssContent),ssFallback:t.ssFallback&&Wo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ro(t=" ",e=0){return Ct(tu,null,t,e)}function GO(t,e){const i=Ct(xc,null,t);return i.staticCount=e,i}function De(t="",e=!1){return e?(Y(),Je(as,null,t)):Ct(as,null,t)}function hr(t){return t==null||typeof t=="boolean"?Ct(as):At(t)?Ct(dt,null,t.slice()):typeof t=="object"?Fl(t):Ct(tu,null,String(t))}function Fl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wo(t)}function w2(t,e){let i=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(At(e))i=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),w2(t,s()),s._c&&(s._d=!0));return}else{i=32;const s=e._;!s&&!(Eb in e)?e._ctx=Rn:s===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:Rn},i=32):(e=String(e),n&64?(i=16,e=[ro(e)]):i=8);t.children=e,t.shapeFlag|=i}function T3(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Ne([e.class,n.class]));else if(s==="style")e.style=ti([e.style,n.style]);else if(Jp(s)){const r=e[s],o=n[s];o&&r!==o&&!(At(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=n[s])}return e}function Rs(t,e,i,n=null){vr(t,e,7,[i,n])}const KO=u3();let WO=0;function x3(t,e,i){const n=t.type,s=(e?e.appContext:t.appContext)||KO,r={uid:WO++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new XC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:h3(n,s),emitsOptions:VD(n,s),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:n.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=UR.bind(null,r),t.ce&&t.ce(r),r}let vn=null;const Ks=()=>vn||Rn;let _2,hA,UT="__VUE_INSTANCE_SETTERS__";(hA=Hw()[UT])||(hA=Hw()[UT]=[]),hA.push(t=>vn=t),_2=t=>{hA.length>1?hA.forEach(e=>e(t)):hA[0](t)};const nu=t=>{_2(t),t.scope.on()},Wl=()=>{vn&&vn.scope.off(),_2(null)};function S3(t){return t.vnode.shapeFlag&4}let ph=!1;function B3(t,e=!1){ph=e;const{props:i,children:n}=t.vnode,s=S3(t);LO(t,i,s,e),RO(t,n);const r=s?qO(t,e):void 0;return ph=!1,r}function qO(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=i2(new Proxy(t.ctx,Kw));const{setup:n}=i;if(n){const s=t.setupContext=n.length>1?D3(t):null;nu(t),$h();const r=$a(n,t,0,[t.props,s]);if(jh(),Wl(),qC(r)){if(r.then(Wl,Wl),e)return r.then(o=>{Zw(t,o,e)}).catch(o=>{$c(o,t,0)});t.asyncDep=r}else Zw(t,r,e)}else k3(t,e)}function Zw(t,e,i){Ft(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ci(e)&&(t.setupState=o2(e)),k3(t,i)}let X0,e_;function YO(t){X0=t,e_=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,cO))}}const XO=()=>!X0;function k3(t,e,i){const n=t.type;if(!t.render){if(!e&&X0&&!n.render){const s=n.template||v2(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=zi(zi({isCustomElement:r,delimiters:a},o),l);n.render=X0(s,u)}}t.render=n.render||co,e_&&e_(t)}{nu(t),$h();try{TO(t)}finally{jh(),Wl()}}}function JO(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,i){return Gs(t,"get","$attrs"),e[i]}}))}function D3(t){const e=i=>{t.exposed=i||{}};return{get attrs(){return JO(t)},slots:t.slots,emit:t.emit,expose:e}}function Tb(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(o2(i2(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in qf)return qf[i](t)},has(e,i){return i in e||i in qf}}))}function t_(t,e=!0){return Ft(t)?t.displayName||t.name:t.name||e&&t.__name}function ZO(t){return Ft(t)&&"__vccOpts"in t}const $r=(t,e)=>FR(t,e,ph);function lo(t,e,i){const n=arguments.length;return n===2?Ci(e)&&!At(e)?iu(e)?Ct(t,null,[e]):Ct(t,e):Ct(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&iu(i)&&(i=[i]),Ct(t,e,i))}const F3=Symbol.for("v-scx"),I3=()=>ih(F3);function e6(){}function t6(t,e,i,n){const s=i[n];if(s&&L3(s,t))return s;const r=e();return r.memo=t.slice(),i[n]=r}function L3(t,e){const i=t.memo;if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(Jl(i[n],e[n]))return!1;return Mc>0&&js&&js.push(t),!0}const P3="3.3.7",i6={createComponentInstance:x3,setupComponent:B3,renderComponentRoot:v0,setCurrentRenderingInstance:Dp,isVNode:iu,normalizeVNode:hr},n6=i6,s6=null,r6=null,o6="http://www.w3.org/2000/svg",hc=typeof document<"u"?document:null,NT=hc&&hc.createElement("template"),a6={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const s=e?hc.createElementNS(o6,t):hc.createElement(t,i?{is:i}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>hc.createTextNode(t),createComment:t=>hc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,s,r){const o=i?i.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),i),!(s===r||!(s=s.nextSibling)););else{NT.innerHTML=n?"<svg>".concat(t,"</svg>"):t;const a=NT.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},_l="transition",bd="animation",gh=Symbol("_vtc"),xb=(t,{slots:e})=>lo(qD,R3(t),e);xb.displayName="Transition";const M3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},l6=xb.props=zi({},f2,M3),qu=(t,e=[])=>{At(t)?t.forEach(i=>i(...e)):t&&t(...e)},HT=t=>t?At(t)?t.some(e=>e.length>1):t.length>1:!1;function R3(t){const e={};for(const U in t)U in M3||(e[U]=t[U]);if(t.css===!1)return e;const{name:i="v",type:n,duration:s,enterFromClass:r="".concat(i,"-enter-from"),enterActiveClass:o="".concat(i,"-enter-active"),enterToClass:a="".concat(i,"-enter-to"),appearFromClass:l=r,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:A="".concat(i,"-leave-from"),leaveActiveClass:h="".concat(i,"-leave-active"),leaveToClass:g="".concat(i,"-leave-to")}=t,f=u6(s),y=f&&f[0],E=f&&f[1],{onBeforeEnter:C,onEnter:m,onEnterCancelled:b,onLeave:_,onLeaveCancelled:B,onBeforeAppear:L=C,onAppear:j=m,onAppearCancelled:O=b}=e,Q=(U,S,k)=>{Sl(U,S?c:a),Sl(U,S?u:o),k&&k()},$=(U,S)=>{U._isLeaving=!1,Sl(U,A),Sl(U,g),Sl(U,h),S&&S()},D=U=>(S,k)=>{const M=U?j:m,N=()=>Q(S,U,k);qu(M,[S,N]),QT(()=>{Sl(S,U?l:r),Ia(S,U?c:a),HT(M)||$T(S,n,y,N)})};return zi(e,{onBeforeEnter(U){qu(C,[U]),Ia(U,r),Ia(U,o)},onBeforeAppear(U){qu(L,[U]),Ia(U,l),Ia(U,u)},onEnter:D(!1),onAppear:D(!0),onLeave(U,S){U._isLeaving=!0;const k=()=>$(U,S);Ia(U,A),U3(),Ia(U,h),QT(()=>{U._isLeaving&&(Sl(U,A),Ia(U,g),HT(_)||$T(U,n,E,k))}),qu(_,[U,k])},onEnterCancelled(U){Q(U,!1),qu(b,[U])},onAppearCancelled(U){Q(U,!0),qu(O,[U])},onLeaveCancelled(U){$(U),qu(B,[U])}})}function u6(t){if(t==null)return null;if(Ci(t))return[t1(t.enter),t1(t.leave)];{const e=t1(t);return[e,e]}}function t1(t){return V0(t)}function Ia(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[gh]||(t[gh]=new Set)).add(e)}function Sl(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const i=t[gh];i&&(i.delete(e),i.size||(t[gh]=void 0))}function QT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let c6=0;function $T(t,e,i,n){const s=t._endId=++c6,r=()=>{s===t._endId&&n()};if(i)return setTimeout(r,i);const{type:o,timeout:a,propCount:l}=O3(t,e);if(!o)return n();const u=o+"end";let c=0;const A=()=>{t.removeEventListener(u,h),r()},h=g=>{g.target===t&&++c>=l&&A()};setTimeout(()=>{c<l&&A()},a+1),t.addEventListener(u,h)}function O3(t,e){const i=window.getComputedStyle(t),n=f=>(i[f]||"").split(", "),s=n("".concat(_l,"Delay")),r=n("".concat(_l,"Duration")),o=jT(s,r),a=n("".concat(bd,"Delay")),l=n("".concat(bd,"Duration")),u=jT(a,l);let c=null,A=0,h=0;e===_l?o>0&&(c=_l,A=o,h=r.length):e===bd?u>0&&(c=bd,A=u,h=l.length):(A=Math.max(o,u),c=A>0?o>u?_l:bd:null,h=c?c===_l?r.length:l.length:0);const g=c===_l&&/\b(transform|all)(,|$)/.test(n("".concat(_l,"Property")).toString());return{type:c,timeout:A,propCount:h,hasTransform:g}}function jT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,n)=>VT(i)+VT(t[n])))}function VT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function U3(){return document.body.offsetHeight}function A6(t,e,i){const n=t[gh];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const C2=Symbol("_vod"),Pp={beforeMount(t,{value:e},{transition:i}){t[C2]=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):yd(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!=!i&&(n?e?(n.beforeEnter(t),yd(t,!0),n.enter(t)):n.leave(t,()=>{yd(t,!1)}):yd(t,e))},beforeUnmount(t,{value:e}){yd(t,e)}};function yd(t,e){t.style.display=e?t[C2]:"none"}function h6(){Pp.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function d6(t,e,i){const n=t.style,s=Gi(i);if(i&&!s){if(e&&!Gi(e))for(const r in e)i[r]==null&&i_(n,r,"");for(const r in i)i_(n,r,i[r])}else{const r=n.display;s?e!==i&&(n.cssText=i):e&&t.removeAttribute("style"),C2 in t&&(n.display=r)}}const zT=/\s*!important$/;function i_(t,e,i){if(At(i))i.forEach(n=>i_(t,e,n));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=f6(t,e);zT.test(i)?t.setProperty(Qr(n),i.replace(zT,""),"important"):t[n]=i}}const GT=["Webkit","Moz","ms"],i1={};function f6(t,e){const i=i1[e];if(i)return i;let n=Vs(e);if(n!=="filter"&&n in t)return i1[e]=n;n=Zp(n);for(let s=0;s<GT.length;s++){const r=GT[s]+n;if(r in t)return i1[e]=r}return e}const KT="http://www.w3.org/1999/xlink";function p6(t,e,i,n,s){if(n&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(KT,e.slice(6,e.length)):t.setAttributeNS(KT,e,i);else{const r=K8(e);i==null||r&&!bD(i)?t.removeAttribute(e):t.setAttribute(e,r?"":i)}}function g6(t,e,i,n,s,r,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,s,r),t[e]=i==null?"":i;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=i;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=i==null?"":i;u!==c&&(t.value=c),i==null&&t.removeAttribute(e);return}let l=!1;if(i===""||i==null){const u=typeof t[e];u==="boolean"?i=bD(i):i==null&&u==="string"?(i="",l=!0):u==="number"&&(i=0,l=!0)}try{t[e]=i}catch{}l&&t.removeAttribute(e)}function Ra(t,e,i,n){t.addEventListener(e,i,n)}function m6(t,e,i,n){t.removeEventListener(e,i,n)}const WT=Symbol("_vei");function v6(t,e,i,n,s=null){const r=t[WT]||(t[WT]={}),o=r[e];if(n&&o)o.value=n;else{const[a,l]=b6(e);if(n){const u=r[e]=_6(n,s);Ra(t,a,u,l)}else o&&(m6(t,a,o,l),r[e]=void 0)}}const qT=/(?:Once|Passive|Capture)$/;function b6(t){let e;if(qT.test(t)){e={};let n;for(;n=t.match(qT);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qr(t.slice(2)),e]}let n1=0;const y6=Promise.resolve(),w6=()=>n1||(y6.then(()=>n1=0),n1=Date.now());function _6(t,e){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;vr(C6(n,i.value),e,5,[n])};return i.value=t,i.attached=w6(),i}function C6(t,e){if(At(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const YT=/^on[a-z]/,E6=(t,e,i,n,s=!1,r,o,a,l)=>{e==="class"?A6(t,n,s):e==="style"?d6(t,i,n):Jp(e)?KC(e)||v6(t,e,i,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):T6(t,e,n,s))?g6(t,e,n,r,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),p6(t,e,n,s))};function T6(t,e,i,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&YT.test(e)&&Ft(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||YT.test(e)&&Gi(i)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function N3(t,e){const i=jc(t);class n extends Sb{constructor(r){super(i,r,e)}}return n.def=i,n}/*! #__NO_SIDE_EFFECTS__ */const x6=t=>N3(t,X3),S6=typeof HTMLElement<"u"?HTMLElement:class{};class Sb extends S6{constructor(e,i={},n){super(),this._def=e,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),l2(()=>{this._connected||(r_(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{const{props:r,styles:o}=n;let a;if(r&&!At(r))for(const l in r){const u=r[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=V0(this._props[l])),(a||(a=Object.create(null)))[Vs(l)]=!0)}this._numberProps=a,s&&this._resolveProps(n),this._applyStyles(o),this._update()},i=this._def.__asyncLoader;i?i().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:i}=e,n=At(i)?i:Object.keys(i||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of n.map(Vs))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(r){this._setProp(s,r)}})}_setAttr(e){let i=this.getAttribute(e);const n=Vs(e);this._numberProps&&this._numberProps[n]&&(i=V0(i)),this._setProp(n,i,!1)}_getProp(e){return this._props[e]}_setProp(e,i,n=!0,s=!0){i!==this._props[e]&&(this._props[e]=i,s&&this._instance&&this._update(),n&&(i===!0?this.setAttribute(Qr(e),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Qr(e),i+""):i||this.removeAttribute(Qr(e))))}_update(){r_(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Ct(this._def,zi({},this._props));return this._instance||(e.ce=i=>{this._instance=i,i.isCE=!0;const n=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};i.emit=(r,...o)=>{n(r,o),Qr(r)!==r&&n(Qr(r),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Sb){i.parent=s._instance,i.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(i=>{const n=document.createElement("style");n.textContent=i,this.shadowRoot.appendChild(n)})}}function B6(t="$style"){{const e=Ks();if(!e)return yi;const i=e.type.__cssModules;if(!i)return yi;const n=i[t];return n||yi}}function k6(t){const e=Ks();if(!e)return;const i=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll('[data-v-owner="'.concat(e.uid,'"]'))).forEach(r=>s_(r,s))},n=()=>{const s=t(e.proxy);n_(e.subTree,s),i(s)};KD(n),Vh(()=>{const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),ig(()=>s.disconnect())})}function n_(t,e){if(t.shapeFlag&128){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{n_(i.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)s_(t.el,e);else if(t.type===dt)t.children.forEach(i=>n_(i,e));else if(t.type===xc){let{el:i,anchor:n}=t;for(;i&&(s_(i,e),i!==n);)i=i.nextSibling}}function s_(t,e){if(t.nodeType===1){const i=t.style;for(const n in e)i.setProperty("--".concat(n),e[n])}}const H3=new WeakMap,Q3=new WeakMap,J0=Symbol("_moveCb"),XT=Symbol("_enterCb"),$3={name:"TransitionGroup",props:zi({},l6,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=Ks(),n=d2();let s,r;return _b(()=>{if(!s.length)return;const o=t.moveClass||"".concat(t.name||"v","-move");if(!P6(s[0].el,i.vnode.el,o))return;s.forEach(F6),s.forEach(I6);const a=s.filter(L6);U3(),a.forEach(l=>{const u=l.el,c=u.style;Ia(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const A=u[J0]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",A),u[J0]=null,Sl(u,o))};u.addEventListener("transitionend",A)})}),()=>{const o=Zt(t),a=R3(o);let l=o.tag||dt;s=r,r=e.default?yb(e.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&Pc(c,fh(c,a,n,i))}if(s)for(let u=0;u<s.length;u++){const c=s[u];Pc(c,fh(c,a,n,i)),H3.set(c,c.el.getBoundingClientRect())}return Ct(l,null,r)}}},D6=t=>delete t.mode;$3.props;const j3=$3;function F6(t){const e=t.el;e[J0]&&e[J0](),e[XT]&&e[XT]()}function I6(t){Q3.set(t,t.el.getBoundingClientRect())}function L6(t){const e=H3.get(t),i=Q3.get(t),n=e.left-i.left,s=e.top-i.top;if(n||s){const r=t.el.style;return r.transform=r.webkitTransform="translate(".concat(n,"px,").concat(s,"px)"),r.transitionDuration="0s",t}}function P6(t,e,i){const n=t.cloneNode(),s=t[gh];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(n);const{hasTransform:o}=O3(n);return r.removeChild(n),o}const su=t=>{const e=t.props["onUpdate:modelValue"]||!1;return At(e)?i=>ZA(e,i):e};function M6(t){t.target.composing=!0}function JT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zr=Symbol("_assign"),Z0={created(t,{modifiers:{lazy:e,trim:i,number:n}},s){t[zr]=su(s);const r=n||s.props&&s.props.type==="number";Ra(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;i&&(a=a.trim()),r&&(a=j0(a)),t[zr](a)}),i&&Ra(t,"change",()=>{t.value=t.value.trim()}),e||(Ra(t,"compositionstart",M6),Ra(t,"compositionend",JT),Ra(t,"change",JT))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:n,number:s}},r){if(t[zr]=su(r),t.composing||document.activeElement===t&&t.type!=="range"&&(i||n&&t.value.trim()===e||(s||t.type==="number")&&j0(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},E2={deep:!0,created(t,e,i){t[zr]=su(i),Ra(t,"change",()=>{const n=t._modelValue,s=mh(t),r=t.checked,o=t[zr];if(At(n)){const a=Ab(n,s),l=a!==-1;if(r&&!l)o(n.concat(s));else if(!r&&l){const u=[...n];u.splice(a,1),o(u)}}else if(Qc(n)){const a=new Set(n);r?a.add(s):a.delete(s),o(a)}else o(z3(t,r))})},mounted:ZT,beforeUpdate(t,e,i){t[zr]=su(i),ZT(t,e,i)}};function ZT(t,{value:e,oldValue:i},n){t._modelValue=e,At(e)?t.checked=Ab(e,n.props.value)>-1:Qc(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=Zl(e,z3(t,!0)))}const T2={created(t,{value:e},i){t.checked=Zl(e,i.props.value),t[zr]=su(i),Ra(t,"change",()=>{t[zr](mh(t))})},beforeUpdate(t,{value:e,oldValue:i},n){t[zr]=su(n),e!==i&&(t.checked=Zl(e,n.props.value))}},V3={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const s=Qc(e);Ra(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>i?j0(mh(o)):mh(o));t[zr](t.multiple?s?new Set(r):r:r[0])}),t[zr]=su(n)},mounted(t,{value:e}){ex(t,e)},beforeUpdate(t,e,i){t[zr]=su(i)},updated(t,{value:e}){ex(t,e)}};function ex(t,e){const i=t.multiple;if(!(i&&!At(e)&&!Qc(e))){for(let n=0,s=t.options.length;n<s;n++){const r=t.options[n],o=mh(r);if(i)At(e)?r.selected=Ab(e,o)>-1:r.selected=e.has(o);else if(Zl(mh(r),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function mh(t){return"_value"in t?t._value:t.value}function z3(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const G3={created(t,e,i){bm(t,e,i,null,"created")},mounted(t,e,i){bm(t,e,i,null,"mounted")},beforeUpdate(t,e,i,n){bm(t,e,i,n,"beforeUpdate")},updated(t,e,i,n){bm(t,e,i,n,"updated")}};function K3(t,e){switch(t){case"SELECT":return V3;case"TEXTAREA":return Z0;default:switch(e){case"checkbox":return E2;case"radio":return T2;default:return Z0}}}function bm(t,e,i,n,s){const o=K3(t.tagName,i.props&&i.props.type)[s];o&&o(t,e,i,n)}function R6(){Z0.getSSRProps=({value:t})=>({value:t}),T2.getSSRProps=({value:t},e)=>{if(e.props&&Zl(e.props.value,t))return{checked:!0}},E2.getSSRProps=({value:t},e)=>{if(At(t)){if(e.props&&Ab(t,e.props.value)>-1)return{checked:!0}}else if(Qc(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},G3.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const i=K3(e.type.toUpperCase(),e.props&&e.props.type);if(i.getSSRProps)return i.getSSRProps(t,e)}}const O6=["ctrl","shift","alt","meta"],U6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>O6.some(i=>t["".concat(i,"Key")]&&!e.includes(i))},Wa=(t,e)=>(i,...n)=>{for(let s=0;s<e.length;s++){const r=U6[e[s]];if(r&&r(i,e))return}return t(i,...n)},N6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qo=(t,e)=>i=>{if(!("key"in i))return;const n=Qr(i.key);if(e.some(s=>s===n||N6[s]===n))return t(i)},W3=zi({patchProp:E6},a6);let Jf,tx=!1;function q3(){return Jf||(Jf=g3(W3))}function Y3(){return Jf=tx?Jf:m3(W3),tx=!0,Jf}const r_=(...t)=>{q3().render(...t)},X3=(...t)=>{Y3().hydrate(...t)},J3=(...t)=>{const e=q3().createApp(...t),{mount:i}=e;return e.mount=n=>{const s=Z3(n);if(!s)return;const r=e._component;!Ft(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},H6=(...t)=>{const e=Y3().createApp(...t),{mount:i}=e;return e.mount=n=>{const s=Z3(n);if(s)return i(s,!0,s instanceof SVGElement)},e};function Z3(t){return Gi(t)?document.querySelector(t):t}let ix=!1;const Q6=()=>{ix||(ix=!0,R6(),h6())},$6=()=>{},j6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:qD,BaseTransitionPropsValidators:f2,Comment:as,EffectScope:XC,Fragment:dt,KeepAlive:nO,ReactiveEffect:dh,Static:xc,Suspense:zR,Teleport:jO,Text:tu,Transition:xb,TransitionGroup:j3,VueElement:Sb,assertNumber:LR,callWithAsyncErrorHandling:vr,callWithErrorHandling:$a,camelize:Vs,capitalize:Zp,cloneVNode:Wo,compatUtils:r6,compile:$6,computed:$r,createApp:J3,createBlock:Je,createCommentVNode:De,createElementBlock:te,createElementVNode:d,createHydrationRenderer:m3,createPropsRestProxy:CO,createRenderer:g3,createSSRApp:H6,createSlots:lO,createStaticVNode:GO,createTextVNode:ro,createVNode:Ct,customRef:TR,defineAsyncComponent:tO,defineComponent:jc,defineCustomElement:N3,defineEmits:hO,defineExpose:dO,defineModel:gO,defineOptions:fO,defineProps:AO,defineSSRCustomElement:x6,defineSlots:pO,get devtools(){return FA},effect:J8,effectScope:wD,getCurrentInstance:Ks,getCurrentScope:CD,getTransitionRawChildren:yb,guardReactiveProps:E3,h:lo,handleError:$c,hasInjectionContext:IO,hydrate:X3,initCustomFormatter:e6,initDirectivesForSSR:Q6,inject:ih,isMemoSame:L3,isProxy:t2,isReactive:Ec,isReadonly:Lc,isRef:bn,isRuntimeOnly:XO,isShallow:xp,isVNode:iu,markRaw:i2,mergeDefaults:wO,mergeModels:_O,mergeProps:T3,nextTick:l2,normalizeClass:Ne,normalizeProps:z8,normalizeStyle:ti,onActivated:XD,onBeforeMount:p2,onBeforeUnmount:Cb,onBeforeUpdate:e3,onDeactivated:JD,onErrorCaptured:s3,onMounted:Vh,onRenderTracked:n3,onRenderTriggered:i3,onScopeDispose:q8,onServerPrefetch:t3,onUnmounted:ig,onUpdated:_b,openBlock:Y,popScopeId:c2,provide:c3,proxyRefs:o2,pushScopeId:u2,queuePostFlushCb:G0,reactive:fb,readonly:e2,ref:ss,registerRuntimeCompiler:YO,render:r_,renderList:ei,renderSlot:zw,resolveComponent:Ke,resolveDirective:aO,resolveDynamicComponent:oO,resolveFilter:s6,resolveTransitionHooks:fh,setBlockTracking:Jw,setDevtoolsHook:jD,setTransitionHooks:Pc,shallowReactive:RD,shallowReadonly:bR,shallowRef:OD,ssrContextKey:F3,ssrUtils:n6,stop:Z8,toDisplayString:oe,toHandlerKey:Wf,toHandlers:uO,toRaw:Zt,toRef:kR,toRefs:xR,toValue:_R,transformVNodeArgs:VO,triggerRef:wR,unref:r2,useAttrs:bO,useCssModule:B6,useCssVars:k6,useModel:yO,useSSRContext:I3,useSlots:vO,useTransitionState:d2,vModelCheckbox:E2,vModelDynamic:G3,vModelRadio:T2,vModelSelect:V3,vModelText:Z0,vShow:Pp,version:P3,warn:IR,watch:Ho,watchEffect:XR,watchPostEffect:KD,watchSyncEffect:JR,withAsyncContext:EO,withCtx:Et,withDefaults:mO,withDirectives:W0,withKeys:qo,withMemo:t6,withModifiers:Wa,withScopeId:NR},Symbol.toStringTag,{value:"Module"}));let Be={version:"4.16.1",date:"2022-11-03 09:18",ajaxAlwaysCallbacks:[],autopositionSpacing:4,closeOnEscape:void document.addEventListener("keydown",t=>{t.key!=="Escape"&&t.code!=="Escape"&&t.key!=="Esc"||Be.getPanels(e=>e.classList.contains("jsPanel")).some(e=>!!e.options.closeOnEscape&&(typeof e.options.closeOnEscape=="function"?e.options.closeOnEscape.call(e,e):(e.close(null,!0),!0)))},!1),defaults:{boxShadow:3,container:"window",contentSize:{width:"400px",height:"200px"},dragit:{cursor:"move",handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",opacity:.8,disableOnMaximized:!0},header:!0,headerTitle:"jsPanel",headerControls:{size:"md"},iconfont:void 0,maximizedMargin:0,minimizeTo:"default",paneltype:"standard",position:{my:"center",at:"center"},resizeit:{handles:"n, e, s, w, ne, se, sw, nw",minWidth:128,minHeight:38},theme:"default"},defaultAutocloseConfig:{time:"8s",progressbar:!0},defaultSnapConfig:{sensitivity:70,trigger:"panel",active:"both"},extensions:{},globalCallbacks:!1,icons:{close:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M13.7,11l6.1-6.1c0.4-0.4,0.4-0.9,0-1.3l-1.4-1.4c-0.4-0.4-0.9-0.4-1.3,0L11,8.3L4.9,2.3C4.6,1.9,4,1.9,3.7,2.3L2.3,3.7 C1.9,4,1.9,4.6,2.3,4.9L8.3,11l-6.1,6.1c-0.4,0.4-0.4,0.9,0,1.3l1.4,1.4c0.4,0.4,0.9,0.4,1.3,0l6.1-6.1l6.1,6.1 c0.4,0.4,0.9,0.4,1.3,0l1.4-1.4c0.4-0.4,0.4-0.9,0-1.3L13.7,11z"/></svg>',maximize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H3.7C2.8,2,2,2.9,2,3.9v14.1C2,19.1,2.8,20,3.7,20h14.6c0.9,0,1.7-0.9,1.7-1.9V3.9C20,2.9,19.2,2,18.3,2z M18.3,17.8 c0,0.1-0.1,0.2-0.2,0.2H3.9c-0.1,0-0.2-0.1-0.2-0.2V8.4h14.6V17.8z"/></svg>',normalize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"/></svg>',minimize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.9,19.8H3.1c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1h15.8c0.6,0,1.1,0.5,1.1,1.1S19.5,19.8,18.9,19.8z"/></svg>',smallify:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M2.1,15.2L2.9,16c0.2,0.2,0.5,0.2,0.7,0L11,8.7l7.4,7.3c0.2,0.2,0.5,0.2,0.7,0l0.8-0.8c0.2-0.2,0.2-0.5,0-0.7L11.3,6 c-0.2-0.2-0.5-0.2-0.7,0l-8.5,8.5C2,14.7,2,15,2.1,15.2z"/></svg>'},idCounter:0,isIE:(()=>document.documentMode||!1)(),pointerdown:"onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],pointermove:"onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],pointerup:"onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"],polyfills:(Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(t==null)throw new TypeError("Cannot convert first argument to object");let e=Object(t);for(let i=1;i<arguments.length;i++){let n=arguments[i];if(n==null)continue;n=Object(n);let s=Object.keys(Object(n));for(let r=0,o=s.length;r<o;r++){let a=s[r],l=Object.getOwnPropertyDescriptor(n,a);l!==void 0&&l.enumerable&&(e[a]=n[a])}}return e}}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),i=e.length,n=new Array(i);i--;)n[i]=[e[i],t[e[i]]];return n}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(let i=0;i<this.length;i++)t.call(e,this[i],i,this)}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(t){t.append=t.append||function(){let e=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();e.forEach(function(n){let s=n instanceof Node;i.appendChild(s?n:document.createTextNode(String(n)))}),this.appendChild(i)}}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){let e,i=(this.document||this.ownerDocument).querySelectorAll(t),n=this;do for(e=i.length;--e>=0&&i.item(e)!==n;);while(e<0&&(n=n.parentElement));return n}),function(){if(typeof window.CustomEvent=="function")return!1;function t(e,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(e===void 0||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){var i=e>0?0|e:0;return this.substring(i,i+t.length)===t}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return e===void 0&&(e=0),this.indexOf(t,e)!==-1}),String.prototype.repeat||(String.prototype.repeat=function(t){if(this==null)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),e.length==0||t==0)return"";if(e.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var i=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,i-e.length)}),Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},void(Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');let i=Object(this),n=i.length>>>0;if(n===0)return!1;let s=0|e,r=Math.max(s>=0?s:n-Math.abs(s),0);for(;r<n;){if((o=i[r])===(a=t)||typeof o=="number"&&typeof a=="number"&&isNaN(o)&&isNaN(a))return!0;r++}var o,a;return!1}}))),ziBase:100,colorFilledLight:.81,colorFilledDark:.08,colorFilled:0,colorBrightnessThreshold:.55,colorNames:{default:"b0bec5",secondary:"b0bec5",primary:"01579b",info:"039be5",success:"2e7d32",warning:"f57f17",danger:"dd2c00",light:"e0e0e0",dark:"263238",aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",grey50:"fafafa",grey100:"f5f5f5",grey200:"eeeeee",grey300:"e0e0e0",grey400:"bdbdbd",grey500:"9e9e9e",grey600:"757575",grey700:"616161",grey800:"424242",grey900:"212121",gray50:"fafafa",gray100:"f5f5f5",gray200:"eeeeee",gray300:"e0e0e0",gray400:"bdbdbd",gray500:"9e9e9e",gray600:"757575",gray700:"616161",gray800:"424242",gray900:"212121",bluegrey50:"eceff1",bluegrey100:"CFD8DC",bluegrey200:"B0BEC5",bluegrey300:"90A4AE",bluegrey400:"78909C",bluegrey500:"607D8B",bluegrey600:"546E7A",bluegrey700:"455A64",bluegrey800:"37474F",bluegrey900:"263238",bluegray50:"eceff1",bluegray100:"CFD8DC",bluegray200:"B0BEC5",bluegray300:"90A4AE",bluegray400:"78909C",bluegray500:"607D8B",bluegray600:"546E7A",bluegray700:"455A64",bluegray800:"37474F",bluegray900:"263238",red50:"FFEBEE",red100:"FFCDD2",red200:"EF9A9A",red300:"E57373",red400:"EF5350",red500:"F44336",red600:"E53935",red700:"D32F2F",red800:"C62828",red900:"B71C1C",reda100:"FF8A80",reda200:"FF5252",reda400:"FF1744",reda700:"D50000",pink50:"FCE4EC",pink100:"F8BBD0",pink200:"F48FB1",pink300:"F06292",pink400:"EC407A",pink500:"E91E63",pink600:"D81B60",pink700:"C2185B",pink800:"AD1457",pink900:"880E4F",pinka100:"FF80AB",pinka200:"FF4081",pinka400:"F50057",pinka700:"C51162",purple50:"F3E5F5",purple100:"E1BEE7",purple200:"CE93D8",purple300:"BA68C8",purple400:"AB47BC",purple500:"9C27B0",purple600:"8E24AA",purple700:"7B1FA2",purple800:"6A1B9A",purple900:"4A148C",purplea100:"EA80FC",purplea200:"E040FB",purplea400:"D500F9",purplea700:"AA00FF",deeppurple50:"EDE7F6",deeppurple100:"D1C4E9",deeppurple200:"B39DDB",deeppurple300:"9575CD",deeppurple400:"7E57C2",deeppurple500:"673AB7",deeppurple600:"5E35B1",deeppurple700:"512DA8",deeppurple800:"4527A0",deeppurple900:"311B92",deeppurplea100:"B388FF",deeppurplea200:"7C4DFF",deeppurplea400:"651FFF",deeppurplea700:"6200EA",indigo50:"E8EAF6",indigo100:"C5CAE9",indigo200:"9FA8DA",indigo300:"7986CB",indigo400:"5C6BC0",indigo500:"3F51B5",indigo600:"3949AB",indigo700:"303F9F",indigo800:"283593",indigo900:"1A237E",indigoa100:"8C9EFF",indigoa200:"536DFE",indigoa400:"3D5AFE",indigoa700:"304FFE",blue50:"E3F2FD",blue100:"BBDEFB",blue200:"90CAF9",blue300:"64B5F6",blue400:"42A5F5",blue500:"2196F3",blue600:"1E88E5",blue700:"1976D2",blue800:"1565C0",blue900:"0D47A1",bluea100:"82B1FF",bluea200:"448AFF",bluea400:"2979FF",bluea700:"2962FF",lightblue50:"E1F5FE",lightblue100:"B3E5FC",lightblue200:"81D4FA",lightblue300:"4FC3F7",lightblue400:"29B6F6",lightblue500:"03A9F4",lightblue600:"039BE5",lightblue700:"0288D1",lightblue800:"0277BD",lightblue900:"01579B",lightbluea100:"80D8FF",lightbluea200:"40C4FF",lightbluea400:"00B0FF",lightbluea700:"0091EA",cyan50:"E0F7FA",cyan100:"B2EBF2",cyan200:"80DEEA",cyan300:"4DD0E1",cyan400:"26C6DA",cyan500:"00BCD4",cyan600:"00ACC1",cyan700:"0097A7",cyan800:"00838F",cyan900:"006064",cyana100:"84FFFF",cyana200:"18FFFF",cyana400:"00E5FF",cyana700:"00B8D4",teal50:"E0F2F1",teal100:"B2DFDB",teal200:"80CBC4",teal300:"4DB6AC",teal400:"26A69A",teal500:"009688",teal600:"00897B",teal700:"00796B",teal800:"00695C",teal900:"004D40",teala100:"A7FFEB",teala200:"64FFDA",teala400:"1DE9B6",teala700:"00BFA5",green50:"E8F5E9",green100:"C8E6C9",green200:"A5D6A7",green300:"81C784",green400:"66BB6A",green500:"4CAF50",green600:"43A047",green700:"388E3C",green800:"2E7D32",green900:"1B5E20",greena100:"B9F6CA",greena200:"69F0AE",greena400:"00E676",greena700:"00C853",lightgreen50:"F1F8E9",lightgreen100:"DCEDC8",lightgreen200:"C5E1A5",lightgreen300:"AED581",lightgreen400:"9CCC65",lightgreen500:"8BC34A",lightgreen600:"7CB342",lightgreen700:"689F38",lightgreen800:"558B2F",lightgreen900:"33691E",lightgreena100:"CCFF90",lightgreena200:"B2FF59",lightgreena400:"76FF03",lightgreena700:"64DD17",lime50:"F9FBE7",lime100:"F0F4C3",lime200:"E6EE9C",lime300:"DCE775",lime400:"D4E157",lime500:"CDDC39",lime600:"C0CA33",lime700:"AFB42B",lime800:"9E9D24",lime900:"827717",limea100:"F4FF81",limea200:"EEFF41",limea400:"C6FF00",limea700:"AEEA00",yellow50:"FFFDE7",yellow100:"FFF9C4",yellow200:"FFF59D",yellow300:"FFF176",yellow400:"FFEE58",yellow500:"FFEB3B",yellow600:"FDD835",yellow700:"FBC02D",yellow800:"F9A825",yellow900:"F57F17",yellowa100:"FFFF8D",yellowa200:"FFFF00",yellowa400:"FFEA00",yellowa700:"FFD600",amber50:"FFF8E1",amber100:"FFECB3",amber200:"FFE082",amber300:"FFD54F",amber400:"FFCA28",amber500:"FFC107",amber600:"FFB300",amber700:"FFA000",amber800:"FF8F00",amber900:"FF6F00",ambera100:"FFE57F",ambera200:"FFD740",ambera400:"FFC400",ambera700:"FFAB00",orange50:"FFF3E0",orange100:"FFE0B2",orange200:"FFCC80",orange300:"FFB74D",orange400:"FFA726",orange500:"FF9800",orange600:"FB8C00",orange700:"F57C00",orange800:"EF6C00",orange900:"E65100",orangea100:"FFD180",orangea200:"FFAB40",orangea400:"FF9100",orangea700:"FF6D00",deeporange50:"FBE9E7",deeporange100:"FFCCBC",deeporange200:"FFAB91",deeporange300:"FF8A65",deeporange400:"FF7043",deeporange500:"FF5722",deeporange600:"F4511E",deeporange700:"E64A19",deeporange800:"D84315",deeporange900:"BF360C",deeporangea100:"FF9E80",deeporangea200:"FF6E40",deeporangea400:"FF3D00",deeporangea700:"DD2C00",brown50:"EFEBE9",brown100:"D7CCC8",brown200:"BCAAA4",brown300:"A1887F",brown400:"8D6E63",brown500:"795548",brown600:"6D4C41",brown700:"5D4037",brown800:"4E342E",brown900:"3E2723","mdb-default":"2BBBAD","mdb-default-dark":"00695c","mdb-primary":"4285F4","mdb-primary-dark":"0d47a1","mdb-secondary":"aa66cc","mdb-secondary-dark":"9933CC","mdb-danger":"ff4444","mdb-danger-dark":"CC0000","mdb-warning":"ffbb33","mdb-warning-dark":"FF8800","mdb-success":"00C851","mdb-success-dark":"007E33","mdb-info":"33b5e5","mdb-info-dark":"0099CC","mdb-elegant":"2E2E2E","mdb-elegant-dark":"212121","mdb-stylish":"4B515D","mdb-stylish-dark":"3E4551","mdb-unique":"3F729B","mdb-unique-dark":"1C2331","mdb-special":"37474F","mdb-special-dark":"263238"},errorReporting:1,modifier:!1,helper:(document.addEventListener("keydown",t=>Be.modifier=t),void document.addEventListener("keyup",()=>Be.modifier=!1)),usePointerEvents(t=!0){t?(this.pointerdown="onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"]):(this.pointerdown="ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="ontouchend"in window?["touchend","mouseup"]:["mouseup"])},pOcontainer(t){if(t==="window")return document.body;if(typeof t=="string"){let e=document.querySelectorAll(t);return!!(e.length&&e.length>0)&&e}return t.nodeType===1?t:!!t.length&&t[0]},pOcontainment(t){let e=t;if(typeof t=="function"&&(e=t()),typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){if(e.length===1)return[e[0],e[0],e[0],e[0]];if(e.length===2)return e.concat(e);e.length===3&&(e[3]=e[1])}return e},pOsize(t,e){let i=e||this.defaults.contentSize;const n=t.parentElement;if(typeof i=="string"){const s=i.trim().split(" ");(i={}).width=s[0],s.length===2?i.height=s[1]:i.height=s[0]}else i.width&&!i.height?i.height=i.width:i.height&&!i.width&&(i.width=i.height);if(String(i.width).match(/^[\d.]+$/gi))i.width+="px";else if(typeof i.width=="string"&&i.width.endsWith("%"))if(n===document.body)i.width=window.innerWidth*(parseFloat(i.width)/100)+"px";else{const s=window.getComputedStyle(n),r=parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth);i.width=(parseFloat(s.width)-r)*(parseFloat(i.width)/100)+"px"}else typeof i.width=="function"&&(i.width=i.width.call(t,t),(typeof i.width=="number"||typeof i.width=="string"&&i.width.match(/^[\d.]+$/gi))&&(i.width+="px"));if(String(i.height).match(/^[\d.]+$/gi))i.height+="px";else if(typeof i.height=="string"&&i.height.endsWith("%"))if(n===document.body)i.height=window.innerHeight*(parseFloat(i.height)/100)+"px";else{const s=window.getComputedStyle(n),r=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth);i.height=(parseFloat(s.height)-r)*(parseFloat(i.height)/100)+"px"}else typeof i.height=="function"&&(i.height=i.height.call(t,t),(typeof i.height=="number"||typeof i.height=="string"&&i.height.match(/^[\d.]+$/gi))&&(i.height+="px"));return i},pOborder(t){let e=[],i=t.trim().replace(/\s*\(\s*/g,"(").replace(/\s*\)/g,")").replace(/\s+/g," ").split(" ");return i.forEach((n,s)=>{(n.startsWith("--")||n.startsWith("var"))&&(i[s]=Be.getCssVariableValue(n))}),i.forEach(n=>{Be.colorNames[n]?e[2]="#"+Be.colorNames[n]:n.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)/)?e[1]=n:n.match(/(thin|medium|thick)|(\d*\.?\d*(cap|ch|em|ex|ic|lh|rem|rlh|vh|vw|vmax|vmin|vb|vi|px|cm|mm|Q|in|pc|pt))/)?e[0]=n:e[2]=n}),e[0]||(e[0]="medium"),e[1]||(e[1]="solid"),e[2]||(e[2]=""),e},pOheaderControls(t){if(typeof t=="string"){let e={},i=t.toLowerCase(),n=i.match(/xl|lg|md|sm|xs/),s=i.match(/closeonly|none/);return n&&(e.size=n[0]),s&&(e=Object.assign({},e,{maximize:"remove",normalize:"remove",minimize:"remove",smallify:"remove"}),s[0]==="none"&&(e.close="remove")),Object.assign({},this.defaults.headerControls,e)}return Object.assign({},this.defaults.headerControls,t)},pOtheme(t){let e,i="";if((t=t.trim()).match(/^(rgb|hsl|var)/)){let n=t.indexOf(")");(e=t.slice(0,n+1).replace(/\s+/g,"")).startsWith("var")&&(e=Be.getCssVariableValue(e)),i=t.slice(n+1,t.length).trim()}else if(t.match(/^(#|\w|--)/)){let n=t.indexOf(" ");n>0?(e=t.slice(0,n+1).replace(/\s+/g,""),i=t.slice(n+1,t.length).trim()):e=t,e.startsWith("--")&&(e=Be.getCssVariableValue(e))}if(e.match(/^([\da-f]{3}|[\da-f]{6})$/gi)&&(e="#"+e),i.startsWith("fillcolor")){let n=i.indexOf(" ");i=(i=i.slice(n+1,i.length).trim().replace(/\s+/g,"")).match(/^([\da-f]{3}|[\da-f]{6})$/gi)?"#"+i:Be.colorNames[i]?"#"+Be.colorNames[i]:i.match(/^(--|var)/)?Be.getCssVariableValue(i):"#fff"}return{color:e,colors:!1,filling:i}},color(t){let e,i,n,s,r,o,a,l,u,c=t.toLowerCase(),A={};const h=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?(0|1|0\.\d{1,2}|\.\d{1,2})?\)$/gi,g=/^hsla?\((\d{1,3}),(\d{1,3}%),(\d{1,3}%),?(0|1|0\.\d{1,2}|\.\d{1,2})?\)$/gi,f=this.colorNames;return f[c]&&(c=f[c]),c.match(/^#?([\da-f]{3}|[\da-f]{6})$/gi)!==null?((c=c.replace("#","")).length%2==1?(e=c.slice(0,1).repeat(2),i=c.slice(1,2).repeat(2),n=c.slice(2,3).repeat(2),A.rgb={r:parseInt(e,16),g:parseInt(i,16),b:parseInt(n,16)},A.hex="#".concat(e).concat(i).concat(n)):(A.rgb={r:parseInt(c.slice(0,2),16),g:parseInt(c.slice(2,4),16),b:parseInt(c.slice(4,6),16)},A.hex="#".concat(c)),u=this.rgbToHsl(A.rgb.r,A.rgb.g,A.rgb.b),A.hsl=u,A.rgb.css="rgb(".concat(A.rgb.r,",").concat(A.rgb.g,",").concat(A.rgb.b,")")):c.match(h)?(a=h.exec(c),A.rgb={css:c,r:a[1],g:a[2],b:a[3]},A.hex=this.rgbToHex(a[1],a[2],a[3]),u=this.rgbToHsl(a[1],a[2],a[3]),A.hsl=u):c.match(g)?(s=(a=g.exec(c))[1]/360,r=a[2].slice(0,a[2].length-1)/100,o=a[3].slice(0,a[3].length-1)/100,l=this.hslToRgb(s,r,o),A.rgb={css:"rgb(".concat(l[0],",").concat(l[1],",").concat(l[2],")"),r:l[0],g:l[1],b:l[2]},A.hex=this.rgbToHex(A.rgb.r,A.rgb.g,A.rgb.b),A.hsl={css:"hsl(".concat(a[1],",").concat(a[2],",").concat(a[3],")"),h:a[1],s:a[2],l:a[3]}):(A.hex="#f5f5f5",A.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},A.hsl={css:"hsl(0,0%,96%)",h:0,s:"0%",l:"96%"}),A},calcColors(t){const e=this.colorBrightnessThreshold,i=this.color(t),n=this.lighten(t,this.colorFilledLight),s=this.darken(t,this.colorFilled),r=this.perceivedBrightness(t)<=e?"#ffffff":"#000000",o=this.perceivedBrightness(n)<=e?"#ffffff":"#000000",a=this.perceivedBrightness(s)<=e?"#ffffff":"#000000",l=this.lighten(t,this.colorFilledDark),u=this.perceivedBrightness(l)<=e?"#ffffff":"#000000";return[i.hsl.css,n,s,r,o,a,l,u]},darken(t,e){const i=this.color(t).hsl,n=parseFloat(i.l),s=Math.round(n-n*e)+"%";return"hsl(".concat(i.h,",").concat(i.s,",").concat(s,")")},lighten(t,e){const i=this.color(t).hsl,n=parseFloat(i.l),s=Math.round(n+(100-n)*e)+"%";return"hsl(".concat(i.h,",").concat(i.s,",").concat(s,")")},hslToRgb(t,e,i){let n,s,r;if(e===0)n=s=r=i;else{let o=(u,c,A)=>(A<0&&(A+=1),A>1&&(A-=1),A<.16666666666666666?u+6*(c-u)*A:A<.5?c:A<.6666666666666666?u+(c-u)*(.6666666666666666-A)*6:u),a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;n=o(l,a,t+1/3),s=o(l,a,t),r=o(l,a,t-1/3)}return[Math.round(255*n),Math.round(255*s),Math.round(255*r)]},rgbToHsl(t,e,i){t/=255,e/=255,i/=255;let n,s,r=Math.max(t,e,i),o=Math.min(t,e,i),a=(r+o)/2;if(r===o)n=s=0;else{let l=r-o;switch(s=a>.5?l/(2-r-o):l/(r+o),r){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{css:"hsl("+(n=Math.round(360*n))+","+(s=Math.round(100*s)+"%")+","+(a=Math.round(100*a)+"%")+")",h:n,s,l:a}},rgbToHex(t,e,i){let n=Number(t).toString(16),s=Number(e).toString(16),r=Number(i).toString(16);return n.length===1&&(n="0".concat(n)),s.length===1&&(s="0".concat(s)),r.length===1&&(r="0".concat(r)),"#".concat(n).concat(s).concat(r)},perceivedBrightness(t){const e=this.color(t).rgb;return e.r/255*.2126+e.g/255*.7152+e.b/255*.0722},pOposition(t){let e={},i=t.trim().split(/\s+/),n=i.filter(o=>o.match(/^(down|right|up|left)$/i));n.length&&(e.autoposition=n[0],i.splice(i.indexOf(n[0]),1));let s=i.filter(o=>o.match(/^(left-|right-)(top|center|bottom)$|(^center-)(top|bottom)$|(^center$)/i));s.length?(e.my=s[0],e.at=s[1]||s[0],i.splice(i.indexOf(s[0]),1),s[1]&&i.splice(i.indexOf(s[1]),1)):(e.my="center",e.at="center");let r=i.filter(o=>o.match(/^[+-]?\d*\.?\d+[a-z%]*$/i));return r.length&&(e.offsetX=r[0].match(/^[+-]?\d*\.?\d+$/i)?"".concat(r[0],"px"):r[0],r[1]?e.offsetY=r[1].match(/^[+-]?\d*\.?\d+$/i)?"".concat(r[1],"px"):r[1]:e.offsetY=e.offsetX,i.splice(i.indexOf(r[0]),1),r[1]&&i.splice(i.indexOf(r[1]),1)),i.length&&(e.of=i.join(" ")),e},position(t,e){if(!e)return t.style.opacity=1,t;e=typeof e=="string"?Object.assign({},this.defaults.position,this.pOposition(e)):Object.assign({},this.defaults.position,e),["my","at","of"].forEach(y=>{typeof e[y]=="function"&&(e[y]=e[y].call(t,t))}),t.options.container==="window"&&(t.style.position="fixed"),typeof t=="string"?t=document.querySelector(t):Object.getPrototypeOf(t).jquery&&(t=t[0]);const i=t.options.container==="window"?"window":t.parentElement,n=t.getBoundingClientRect(),s=t.parentElement.getBoundingClientRect(),r=i==="window"?{left:0,top:0,width:document.documentElement.clientWidth,height:window.innerHeight}:{width:s.width,height:s.height,left:s.left,top:s.top},o=i==="window"?{x:1,y:1}:{x:r.width/i.offsetWidth,y:r.height/i.offsetHeight},a=i==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:window.getComputedStyle(i);let l;r.width-=(parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))*o.x,r.height-=(parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))*o.y,l=e.of?typeof e.of=="string"?e.of==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:document.querySelector(e.of).getBoundingClientRect():Object.getPrototypeOf(e.of).jquery?e.of[0].getBoundingClientRect():e.of.getBoundingClientRect():r;let u=this.getScrollbarWidth(document.body),c=this.getScrollbarWidth(t.parentElement),A="0px";e.my.startsWith("left-")?e.at.startsWith("left-")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+"px":"0px":e.at.startsWith("center")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width/2+"px":r.width/2+"px":e.at.startsWith("right-")&&(A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width+"px":r.width+"px"):e.my.startsWith("center")?e.at.startsWith("left-")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-n.width/2+"px":-n.width/2+"px":e.at.startsWith("center")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-(n.width-l.width)/2+"px":r.width/2-n.width/2+"px":e.at.startsWith("right-")&&(A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+(l.width-n.width/2)+"px":r.width-n.width/2+"px"):e.my.startsWith("right-")&&(e.at.startsWith("left-")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-n.width+"px":-n.width+"px":e.at.startsWith("center")?A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-n.width+l.width/2+"px":r.width/2-n.width+"px":e.at.startsWith("right-")&&(A=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width-n.width+"px":r.width-n.width+"px",i!=="window"&&(A=parseFloat(A)-c.y+"px")));let h="0px";e.my.endsWith("-top")?e.at.endsWith("-top")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+"px":"0px":e.at.endsWith("center")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+l.height/2+"px":r.height/2+"px":e.at.endsWith("-bottom")&&(h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+l.height+"px":r.height+"px"):e.my.endsWith("center")?e.at.endsWith("-top")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height/2+"px":-n.height/2+"px":e.at.endsWith("center")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height/2+l.height/2+"px":r.height/2-n.height/2+"px":e.at.endsWith("-bottom")&&(h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height/2+l.height+"px":r.height-n.height/2+"px"):e.my.endsWith("-bottom")&&(e.at.endsWith("-top")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height+"px":-n.height+"px":e.at.endsWith("center")?h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height+l.height/2+"px":r.height/2-n.height+"px":e.at.endsWith("-bottom")&&(h=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-n.height+l.height+"px":r.height-n.height+"px",h=i!=="window"?parseFloat(h)-c.x+"px":parseFloat(h)-u.x+"px")),t.style.left=o.x===1?A:parseFloat(A)/o.x+"px",t.style.top=o.y===1?h:parseFloat(h)/o.y+"px";let g=getComputedStyle(t),f={left:g.left,top:g.top};return e.autoposition&&e.my===e.at&&["left-top","center-top","right-top","left-bottom","center-bottom","right-bottom"].indexOf(e.my)>=0&&(f=this.applyPositionAutopos(t,f,e)),(e.offsetX||e.offsetY)&&(f=this.applyPositionOffset(t,f,e)),(e.minLeft||e.minTop||e.maxLeft||e.maxTop)&&(f=this.applyPositionMinMax(t,f,e)),e.modify&&(f=this.applyPositionModify(t,f,e)),typeof t.options.opacity=="number"?t.style.opacity=t.options.opacity:t.style.opacity=1,t},applyPositionAutopos(t,e,i){const n="".concat(i.my,"-").concat(i.autoposition.toLowerCase());t.classList.add(n);const s=Array.prototype.slice.call(document.querySelectorAll(".".concat(n))),r=s.indexOf(t);if(s.length>1){switch(i.autoposition){case"down":s.forEach((o,a)=>{a>0&&a<=r&&(e.top=parseFloat(e.top)+s[--a].getBoundingClientRect().height+Be.autopositionSpacing+"px")});break;case"up":s.forEach((o,a)=>{a>0&&a<=r&&(e.top=parseFloat(e.top)-s[--a].getBoundingClientRect().height-Be.autopositionSpacing+"px")});break;case"right":s.forEach((o,a)=>{a>0&&a<=r&&(e.left=parseFloat(e.left)+s[--a].getBoundingClientRect().width+Be.autopositionSpacing+"px")});break;case"left":s.forEach((o,a)=>{a>0&&a<=r&&(e.left=parseFloat(e.left)-s[--a].getBoundingClientRect().width-Be.autopositionSpacing+"px")})}t.style.left=e.left,t.style.top=e.top}return{left:e.left,top:e.top}},applyPositionOffset(t,e,i){["offsetX","offsetY"].forEach(s=>{i[s]?(typeof i[s]=="function"&&(i[s]=i[s].call(e,e,i)),isNaN(i[s])===!1&&(i[s]="".concat(i[s],"px"))):i[s]="0px"}),t.style.left="calc(".concat(t.style.left," + ").concat(i.offsetX,")"),t.style.top="calc(".concat(t.style.top," + ").concat(i.offsetY,")");const n=getComputedStyle(t);return{left:n.left,top:n.top}},applyPositionMinMax(t,e,i){if(["minLeft","minTop","maxLeft","maxTop"].forEach(s=>{i[s]&&(typeof i[s]=="function"&&(i[s]=i[s].call(e,e,i)),(Number.isInteger(i[s])||i[s].match(/^\d+$/))&&(i[s]="".concat(i[s],"px")))}),i.minLeft){t.style.left=i.minLeft;let s=getComputedStyle(t).left;parseFloat(s)<parseFloat(e.left)?t.style.left=e.left:e.left=s}if(i.minTop){t.style.top=i.minTop;let s=getComputedStyle(t).top;parseFloat(s)<parseFloat(e.top)?t.style.top=e.top:e.top=s}if(i.maxLeft){t.style.left=i.maxLeft;let s=getComputedStyle(t).left;parseFloat(s)>parseFloat(e.left)?t.style.left=e.left:e.left=s}if(i.maxTop){t.style.top=i.maxTop;let s=getComputedStyle(t).top;parseFloat(s)>parseFloat(e.top)?t.style.top=e.top:e.top=s}const n=getComputedStyle(t);return{left:n.left,top:n.top}},applyPositionModify(t,e,i){if(i.modify&&typeof i.modify=="function"){const s=i.modify.call(e,e,i);t.style.left=Number.isInteger(s.left)||s.left.match(/^\d+$/)?"".concat(s.left,"px"):s.left,t.style.top=Number.isInteger(s.top)||s.top.match(/^\d+$/)?"".concat(s.top,"px"):s.top}const n=getComputedStyle(t);return{left:n.left,top:n.top}},autopositionRemaining(t){let e,i=t.options.container;["left-top-down","left-top-right","center-top-down","right-top-down","right-top-left","left-bottom-up","left-bottom-right","center-bottom-up","right-bottom-up","right-bottom-left"].forEach(n=>{t.classList.contains(n)&&(e=n)}),e&&(i==="window"?document.body:typeof i=="string"?document.querySelector(i):i).querySelectorAll(".".concat(e)).forEach(n=>n.reposition())},getThemeDetails(t){const e=this.pOtheme(t);if(e.color.startsWith("bootstrap-")){let i=e.color.indexOf("-"),n=document.createElement("button");n.className="btn btn"+e.color.slice(i),document.body.appendChild(n),e.color=getComputedStyle(n).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(n),n=void 0}return e.colors=this.calcColors(e.color),e},clearTheme(t,e){return t.content.classList.remove("jsPanel-content-filled","jsPanel-content-filledlight"),t.header.classList.remove("jsPanel-hdr-light"),t.header.classList.remove("jsPanel-hdr-dark"),t.style.backgroundColor="",this.setStyles(t.headertoolbar,{boxShadow:"",width:"",marginLeft:"",borderTopColor:"transparent"}),this.setStyles(t.content,{background:"",borderTopColor:"transparent"}),t.header.style.background="",Array.prototype.slice.call(t.controlbar.querySelectorAll(".jsPanel-icon")).concat([t.headerlogo,t.headertitle,t.headertoolbar,t.content]).forEach(i=>i.style.color=""),e&&e.call(t,t),t},applyColorTheme(t,e){if(t.style.backgroundColor=e.colors[0],t.header.style.backgroundColor=e.colors[0],t.header.style.color=e.colors[3],[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(i=>t.querySelector(i).style.color=e.colors[3]),t.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(i=>i.style.color=e.colors[3]),typeof t.options.theme=="string"&&e.filling==="filled"&&(t.content.style.borderTop=e.colors[3]==="#000000"?"1px solid rgba(0,0,0,0.15)":"1px solid rgba(255,255,255,0.15)"),e.colors[3]==="#000000"?t.header.classList.add("jsPanel-hdr-light"):t.header.classList.add("jsPanel-hdr-dark"),e.filling)switch(e.filling){case"filled":this.setStyles(t.content,{backgroundColor:e.colors[2],color:e.colors[3]});break;case"filledlight":t.content.style.backgroundColor=e.colors[1];break;case"filleddark":this.setStyles(t.content,{backgroundColor:e.colors[6],color:e.colors[7]});break;default:t.content.style.backgroundColor=e.filling,t.content.style.color=this.perceivedBrightness(e.filling)<=this.colorBrightnessThreshold?"#fff":"#000"}return t},applyCustomTheme(t,e){let i={bgPanel:"#ffffff",bgContent:"#ffffff",bgFooter:"#f5f5f5",colorHeader:"#000000",colorContent:"#000000",colorFooter:"#000000",border:void 0,borderRadius:void 0},n=typeof e=="object"?Object.assign(i,e):i,s=n.bgPanel,r=n.bgContent,o=n.colorHeader,a=n.colorContent,l=n.bgFooter,u=n.colorFooter;return this.colorNames[s]?t.style.background="#"+this.colorNames[s]:t.style.background=this.getCssVariableValue(s),this.colorNames[o]&&(o="#"+this.colorNames[o]),[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(c=>t.querySelector(c).style.color=this.getCssVariableValue(o)),t.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(c=>c.style.color=this.getCssVariableValue(o)),this.colorNames[r]?t.content.style.background="#"+this.colorNames[r]:t.content.style.background=this.getCssVariableValue(r),this.colorNames[a]?t.content.style.color="#"+this.colorNames[a]:t.content.style.color=this.getCssVariableValue(a),this.perceivedBrightness(o)>this.colorBrightnessThreshold?t.header.classList.add("jsPanel-hdr-dark"):t.header.classList.add("jsPanel-hdr-light"),this.perceivedBrightness(a)>this.colorBrightnessThreshold?t.content.style.borderTop="1px solid rgba(255,255,255,0.15)":t.content.style.borderTop="1px solid rgba(0,0,0,0.15)",this.colorNames[l]?t.footer.style.background="#"+this.colorNames[l]:t.footer.style.background=this.getCssVariableValue(l),this.colorNames[u]?t.footer.style.color="#"+this.colorNames[u]:t.footer.style.color=this.getCssVariableValue(u),n.border&&t.setBorder(n.border),n.borderRadius&&(t.options.borderRadius=void 0,t.setBorderRadius(n.borderRadius)),t},getCssVariableValue(t){if(t.startsWith("--"))return getComputedStyle(document.documentElement).getPropertyValue(t).replace(/\s+/g,"");if(t.startsWith("var")){let e=t.slice(t.indexOf("(")+1,t.indexOf(")"));return getComputedStyle(document.documentElement).getPropertyValue(e).replace(/\s+/g,"")}return t},getScrollbarWidth(t=document.body){if(t===document.body)return{y:window.innerWidth-document.documentElement.clientWidth,x:window.innerHeight-document.documentElement.clientHeight};{let e=getComputedStyle(t);return{y:t.offsetWidth-t.clientWidth-parseFloat(e.borderRightWidth)-parseFloat(e.borderLeftWidth),x:t.offsetHeight-t.clientHeight-parseFloat(e.borderBottomWidth)-parseFloat(e.borderTopWidth)}}},remClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.remove(i)),t),setClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.add(i)),t),setStyles(t,e){for(const[i,n]of Object.entries(e))t.style[i]=typeof n=="string"?Be.getCssVariableValue(n):n;return t},setStyle(t,e){return this.setStyles.call(t,t,e)},strToHtml:t=>document.createRange().createContextualFragment(t),toggleClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.contains(i)?t.classList.remove(i):t.classList.add(i)),t),emptyNode(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},addScript(t,e="application/javascript",i){if(!document.querySelector('script[src="'.concat(t,'"]'))){const n=document.createElement("script");n.src=t,n.type=e,document.head.appendChild(n),i&&(n.onload=i)}},ajax(t,e){let i,n,s=new XMLHttpRequest;const r={method:"GET",async:!0,user:"",pwd:"",done:function(){if(e){let o=Be.strToHtml(this.responseText);i.urlSelector&&(o=o.querySelector(i.urlSelector)),e.contentRemove(),e.content.append(o)}},autoresize:!0,autoreposition:!0};if(e&&typeof t=="string")i=Object.assign({},r,{url:t});else{if(typeof t!="object"||!t.url){if(this.errorReporting){let o="XMLHttpRequest seems to miss the <mark>url</mark> parameter!";Be.errorpanel(o)}return}(i=Object.assign({},r,t)).url=t.url,i.async===!1&&(i.timeout=0,i.withCredentials&&(i.withCredentials=void 0),i.responseType&&(i.responseType=void 0))}n=i.url.trim().split(/\s+/),i.url=encodeURI(n[0]),n.length>1&&(n.shift(),i.urlSelector=n.join(" ")),s.onreadystatechange=()=>{s.readyState===4&&(s.status===200?e?i.done.call(s,s,e):i.done.call(s,s):i.fail&&(e?i.fail.call(s,s,e):i.fail.call(s,s)),i.always&&(e?i.always.call(s,s,e):i.always.call(s,s)),e&&(i.autoresize||i.autoreposition)&&Be.ajaxAutoresizeAutoreposition(e,i),Be.ajaxAlwaysCallbacks.length&&Be.ajaxAlwaysCallbacks.forEach(o=>{e?o.call(s,s,e):o.call(s,s)}))},s.open(i.method,i.url,i.async,i.user,i.pwd),s.timeout=i.timeout||0,i.withCredentials&&(s.withCredentials=i.withCredentials),i.responseType&&(s.responseType=i.responseType),i.beforeSend&&(e?i.beforeSend.call(s,s,e):i.beforeSend.call(s,s)),i.data?s.send(i.data):s.send(null)},fetch(t,e){let i;const n={bodyMethod:"text",autoresize:!0,autoreposition:!0,done:function(r,o){if(o){let a=Be.strToHtml(r);o.contentRemove(),o.content.append(a)}}};if(e&&typeof t=="string")i=Object.assign({},n,{resource:encodeURI(t)});else{if(typeof t!="object"||!t.resource){if(this.errorReporting){let r="Fetch Request seems to miss the <mark>resource</mark> parameter!";Be.errorpanel(r)}return}(i=Object.assign({},n,t)).resource=encodeURI(t.resource)}const s=i.fetchInit||{};i.beforeSend&&(e?i.beforeSend.call(t,t,e):i.beforeSend.call(t,t)),fetch(i.resource,s).then(r=>{if(r.ok)return r[i.bodyMethod]()}).then(r=>{e?i.done.call(r,r,e):i.done.call(r,r),e&&(i.autoresize||i.autoreposition)&&Be.ajaxAutoresizeAutoreposition(e,i)})},ajaxAutoresizeAutoreposition(t,e){const i=t.options.contentSize;if(typeof i=="string"&&i.match(/auto/i)){const n=i.split(" "),s=Object.assign({},{width:n[0],height:n[1]});e.autoresize&&t.resize(s),t.classList.contains("jsPanel-contextmenu")||e.autoreposition&&t.reposition()}else if(typeof i=="object"&&(i.width==="auto"||i.height==="auto")){const n=Object.assign({},i);e.autoresize&&t.resize(n),t.classList.contains("jsPanel-contextmenu")||e.autoreposition&&t.reposition()}},createPanelTemplate(t=!0){const e=document.createElement("div");return e.className="jsPanel",e.style.left="0",e.style.top="0",t&&["close","maximize","normalize","minimize","smallify"].forEach(i=>{e.setAttribute("data-btn".concat(i),"enabled")}),e.innerHTML='<div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-headerlogo"></div>\n                                    <div class="jsPanel-titlebar">\n                                        <div class="jsPanel-title"></div>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-smallify" aria-label="Smallify">'.concat(this.icons.smallify,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-minimize" aria-label="Minimize">').concat(this.icons.minimize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-normalize" aria-label="Normalize">').concat(this.icons.normalize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-maximize" aria-label="Maximize">').concat(this.icons.maximize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-close" aria-label="Close">').concat(this.icons.close,'</button>\n                                    </div>\n                                </div>\n                                <div class="jsPanel-hdr-toolbar"></div>\n                            </div>\n                            <div class="jsPanel-progressbar">\n                                <div class="jsPanel-progressbar-slider"></div>\n                            </div>\n                            <div class="jsPanel-content"></div>\n                            <div class="jsPanel-minimized-box"></div>\n                            <div class="jsPanel-ftr"></div>'),e},createMinimizedTemplate(){const t=document.createElement("div");return t.className="jsPanel-replacement",t.innerHTML='<div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-headerlogo"></div>\n                                    <div class="jsPanel-titlebar">\n                                        <div class="jsPanel-title"></div>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-normalize" aria-label="Normalize">'.concat(this.icons.normalize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-maximize" aria-label="Maximize">').concat(this.icons.maximize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-close" aria-label="Close">').concat(this.icons.close,"</button>\n                                    </div>\n                                </div>\n                            </div>"),t},createSnapArea(t,e,i){const n=document.createElement("div"),s=t.parentElement;n.className="jsPanel-snap-area jsPanel-snap-area-".concat(e),e==="lt"||e==="rt"||e==="rb"||e==="lb"?(n.style.width=i+"px",n.style.height=i+"px"):e==="ct"||e==="cb"?n.style.height=i+"px":e!=="lc"&&e!=="rc"||(n.style.width=i+"px"),s!==document.body&&(n.style.position="absolute"),document.querySelector(".jsPanel-snap-area.jsPanel-snap-area-".concat(e))||t.parentElement.appendChild(n)},removeSnapAreas(){document.querySelectorAll(".jsPanel-snap-area").forEach(t=>t.parentElement.removeChild(t))},extend(t){if(Object.prototype.toString.call(t)==="[object Object]")for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.extensions[e]=t[e])},getPanels:(t=function(){return this.classList.contains("jsPanel-standard")})=>Array.prototype.slice.call(document.querySelectorAll(".jsPanel")).filter(e=>t.call(e,e)).sort((e,i)=>i.style.zIndex-e.style.zIndex),processCallbacks(t,e,i="some",n,s){if(typeof e=="function"&&(e=[e]),i)return e[i](r=>r.call(t,t,n,s));e.forEach(r=>r.call(t,t,n,s))},resetZi(){this.zi=((t=Be.ziBase)=>{let e=t;return{next:()=>e++}})(),Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).sort((t,e)=>t.style.zIndex-e.style.zIndex).forEach(t=>t.style.zIndex=Be.zi.next())},errorpanel(t){this.create({paneltype:"error",dragit:!1,resizeit:!1,theme:{bgPanel:"white",bgContent:"white",colorHeader:"rebeccapurple",colorContent:"#333333",border:"2px solid rebeccapurple"},borderRadius:".33rem",headerControls:"closeonly xs",headerTitle:"&#9888; jsPanel Error",contentSize:{width:"50%",height:"auto"},position:"center-top 0 5 down",animateIn:"jsPanelFadeIn",content:'<div class="jsPanel-error-content-separator"></div><p>'.concat(t,"</p>")})},create(t={},e){Be.zi||(Be.zi=((D=Be.ziBase)=>{let U=D;return{next:()=>U++}})()),t.config?delete(t=Object.assign({},this.defaults,t.config,t)).config:t=Object.assign({},this.defaults,t),t.id?typeof t.id=="function"&&(t.id=t.id()):t.id="jsPanel-".concat(Be.idCounter+=1);const i=document.getElementById(t.id);if(i!==null){if(i.classList.contains("jsPanel")&&i.front(),this.errorReporting){let D="&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>An element with the ID <mark>".concat(t.id,"</mark> already exists in the document.");Be.errorpanel(D)}return!1}let n=this.pOcontainer(t.container);if(typeof n=="object"&&n.length&&n.length>0&&(n=n[0]),!n){if(this.errorReporting){let D="&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>The container to append the panel to does not exist";Be.errorpanel(D)}return!1}["onbeforeclose","onbeforemaximize","onbeforeminimize","onbeforenormalize","onbeforesmallify","onbeforeunsmallify","onclosed","onfronted","onmaximized","onminimized","onnormalized","onsmallified","onstatuschange","onunsmallified"].forEach(D=>{t[D]?typeof t[D]=="function"&&(t[D]=[t[D]]):t[D]=[]});const s=t.template||this.createPanelTemplate();s.options=t,s.closetimer=void 0,s.status="initialized",s.currentData={},s.header=s.querySelector(".jsPanel-hdr"),s.headerbar=s.header.querySelector(".jsPanel-headerbar"),s.titlebar=s.header.querySelector(".jsPanel-titlebar"),s.headerlogo=s.headerbar.querySelector(".jsPanel-headerlogo"),s.headertitle=s.headerbar.querySelector(".jsPanel-title"),s.controlbar=s.headerbar.querySelector(".jsPanel-controlbar"),s.headertoolbar=s.header.querySelector(".jsPanel-hdr-toolbar"),s.content=s.querySelector(".jsPanel-content"),s.footer=s.querySelector(".jsPanel-ftr"),s.snappableTo=!1,s.snapped=!1,s.droppableTo=!1,s.progressbar=s.autocloseProgressbar=s.querySelector(".jsPanel-progressbar");const r=new CustomEvent("jspanelloaded",{detail:t.id,cancelable:!0}),o=new CustomEvent("jspanelstatuschange",{detail:t.id,cancelable:!0}),a=new CustomEvent("jspanelbeforenormalize",{detail:t.id,cancelable:!0}),l=new CustomEvent("jspanelnormalized",{detail:t.id,cancelable:!0}),u=new CustomEvent("jspanelbeforemaximize",{detail:t.id,cancelable:!0}),c=new CustomEvent("jspanelmaximized",{detail:t.id,cancelable:!0}),A=new CustomEvent("jspanelbeforeminimize",{detail:t.id,cancelable:!0}),h=new CustomEvent("jspanelminimized",{detail:t.id,cancelable:!0}),g=new CustomEvent("jspanelbeforesmallify",{detail:t.id,cancelable:!0}),f=new CustomEvent("jspanelsmallified",{detail:t.id,cancelable:!0}),y=new CustomEvent("jspanelsmallifiedmax",{detail:t.id,cancelable:!0}),E=new CustomEvent("jspanelbeforeunsmallify",{detail:t.id,cancelable:!0}),C=new CustomEvent("jspanelfronted",{detail:t.id,cancelable:!0}),m=new CustomEvent("jspanelbeforeclose",{detail:t.id,cancelable:!0}),b=new CustomEvent("jspanelclosed",{detail:t.id,cancelable:!0}),_=new CustomEvent("jspanelcloseduser",{detail:t.id,cancelable:!0});[r,o,a,l,u,c,A,h,g,f,y,E,C,m].forEach(D=>D.panel=s);const B=s.querySelector(".jsPanel-btn-close"),L=s.querySelector(".jsPanel-btn-maximize"),j=s.querySelector(".jsPanel-btn-normalize"),O=s.querySelector(".jsPanel-btn-smallify"),Q=s.querySelector(".jsPanel-btn-minimize");B&&Be.pointerup.forEach(D=>{B.addEventListener(D,U=>{if(U.preventDefault(),U.button&&U.button>0)return!1;s.close(null,!0)})}),L&&Be.pointerup.forEach(D=>{L.addEventListener(D,U=>{if(U.preventDefault(),U.button&&U.button>0)return!1;s.maximize()})}),j&&Be.pointerup.forEach(D=>{j.addEventListener(D,U=>{if(U.preventDefault(),U.button&&U.button>0)return!1;s.normalize()})}),O&&Be.pointerup.forEach(D=>{O.addEventListener(D,U=>{if(U.preventDefault(),U.button&&U.button>0)return!1;s.status==="normalized"||s.status==="maximized"?s.smallify():s.status!=="smallified"&&s.status!=="smallifiedmax"||s.unsmallify()})}),Q&&Be.pointerup.forEach(D=>{Q.addEventListener(D,U=>{if(U.preventDefault(),U.button&&U.button>0)return!1;s.minimize()})});let $=Be.extensions;for(let D in $)Object.prototype.hasOwnProperty.call($,D)&&(s[D]=$[D]);if(s.setBorder=D=>{let U=Be.pOborder(D);return U[2].length||(U[2]=s.style.backgroundColor),U=U.join(" "),s.style.border=U,s.options.border=U,s},s.setBorderRadius=D=>{typeof D=="string"&&(D.startsWith("--")||D.startsWith("var"))&&(D=D.replace(/\s*\(\s*/g,"(").replace(/\s*\)/g,")").replace(/\s+/g," "),D=Be.getCssVariableValue(D)),typeof D=="number"&&(D+="px"),s.style.borderRadius=D;const U=getComputedStyle(s);return s.options.header?(s.header.style.borderTopLeftRadius=U.borderTopLeftRadius,s.header.style.borderTopRightRadius=U.borderTopRightRadius):(s.content.style.borderTopLeftRadius=U.borderTopLeftRadius,s.content.style.borderTopRightRadius=U.borderTopRightRadius),s.options.footerToolbar?(s.footer.style.borderBottomRightRadius=U.borderBottomRightRadius,s.footer.style.borderBottomLeftRadius=U.borderBottomLeftRadius):(s.content.style.borderBottomRightRadius=U.borderBottomRightRadius,s.content.style.borderBottomLeftRadius=U.borderBottomLeftRadius),s},s.setTheme=(D=t.theme,U)=>{let S;if(s.status==="minimized"&&(S=!0,s.normalize()),Be.clearTheme(s),typeof D=="object")t.border=void 0,Be.applyCustomTheme(s,D);else if(typeof D=="string"){D==="none"&&(D="white");let k=Be.getThemeDetails(D);Be.applyColorTheme(s,k)}return S&&s.minimize(),U&&U.call(s,s),s},s.remove=(D,U,S)=>{s.parentElement.removeChild(s),document.getElementById(D)?S&&S.call(s,D,s):(s.removeMinimizedReplacement(),s.status="closed",U&&document.dispatchEvent(_),document.dispatchEvent(b),s.options.onclosed&&Be.processCallbacks(s,s.options.onclosed,"every",U),Be.autopositionRemaining(s),S&&S.call(D,D)),window.removeEventListener("resize",s.windowResizeHandler),document.removeEventListener("jspanelresize",s.parentResizeHandler)},s.close=(D,U)=>{if(s.parentElement){if(s.closetimer&&window.clearInterval(s.closetimer),document.dispatchEvent(m),s.statusBefore=s.status,s.options.onbeforeclose&&s.options.onbeforeclose.length>0&&!Be.processCallbacks(s,s.options.onbeforeclose,"some",s.status,U))return s;s.options.animateOut?(s.options.animateIn&&Be.remClass(s,s.options.animateIn),Be.setClass(s,s.options.animateOut),s.addEventListener("animationend",S=>{S.stopPropagation(),s.remove(s.id,U,D)})):s.remove(s.id,U,D)}},s.maximize=(D,U)=>{if(s.statusBefore=s.status,t.onbeforemaximize&&t.onbeforemaximize.length>0&&!Be.processCallbacks(s,t.onbeforemaximize,"some",s.statusBefore))return s;document.dispatchEvent(u);const S=s.parentElement,k=Be.pOcontainment(t.maximizedMargin);return S===document.body?(s.style.width=document.documentElement.clientWidth-k[1]-k[3]+"px",s.style.height=document.documentElement.clientHeight-k[0]-k[2]+"px",s.style.left=k[3]+"px",s.style.top=k[0]+"px"):(s.style.width=S.clientWidth-k[1]-k[3]+"px",s.style.height=S.clientHeight-k[0]-k[2]+"px",s.style.left=k[3]+"px",s.style.top=k[0]+"px"),O.style.transform="unset",s.removeMinimizedReplacement(),s.status="maximized",s.setControls([".jsPanel-btn-maximize"]),U||s.front(),document.dispatchEvent(c),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore),D&&D.call(s,s,s.statusBefore),t.onmaximized&&Be.processCallbacks(s,t.onmaximized,"every",s.statusBefore),s},s.minimize=D=>{if(s.status==="minimized"||(s.statusBefore=s.status,t.onbeforeminimize&&t.onbeforeminimize.length>0&&!Be.processCallbacks(s,t.onbeforeminimize,"some",s.statusBefore)))return s;if(document.dispatchEvent(A),!document.getElementById("jsPanel-replacement-container")){const U=document.createElement("div");U.id="jsPanel-replacement-container",document.body.append(U)}if(s.style.left="-9999px",s.status="minimized",document.dispatchEvent(h),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore),t.minimizeTo){let U,S,k,M=s.createMinimizedReplacement();switch(t.minimizeTo){case"default":document.getElementById("jsPanel-replacement-container").append(M);break;case"parentpanel":(U=(k=(S=s.closest(".jsPanel-content").parentElement).querySelectorAll(".jsPanel-minimized-box"))[k.length-1]).append(M);break;case"parent":(U=(S=s.parentElement).querySelector(".jsPanel-minimized-container"))||((U=document.createElement("div")).className="jsPanel-minimized-container",S.append(U)),U.append(M);break;default:document.querySelector(t.minimizeTo).append(M)}}return D&&D.call(s,s,s.statusBefore),t.onminimized&&Be.processCallbacks(s,t.onminimized,"every",s.statusBefore),s},s.normalize=D=>s.status==="normalized"?s:(s.statusBefore=s.status,t.onbeforenormalize&&t.onbeforenormalize.length>0&&!Be.processCallbacks(s,t.onbeforenormalize,"some",s.statusBefore)||(document.dispatchEvent(a),s.style.width=s.currentData.width,s.style.height=s.currentData.height,s.snapped?s.snap(s.snapped,!0):(s.style.left=s.currentData.left,s.style.top=s.currentData.top),O.style.transform="unset",s.removeMinimizedReplacement(),s.status="normalized",s.setControls([".jsPanel-btn-normalize"]),s.front(),document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore),D&&D.call(s,s,s.statusBefore),t.onnormalized&&Be.processCallbacks(s,t.onnormalized,"every",s.statusBefore)),s),s.smallify=D=>{if(s.status==="smallified"||s.status==="smallifiedmax"||(s.statusBefore=s.status,t.onbeforesmallify&&t.onbeforesmallify.length>0&&!Be.processCallbacks(s,t.onbeforesmallify,"some",s.statusBefore)))return s;document.dispatchEvent(g),s.style.overflow="hidden";const U=window.getComputedStyle(s),S=parseFloat(window.getComputedStyle(s.headerbar).height);s.style.height=parseFloat(U.borderTopWidth)+parseFloat(U.borderBottomWidth)+S+"px",O.style.transform="rotate(180deg)",s.status==="normalized"?(s.setControls([".jsPanel-btn-normalize"]),s.status="smallified",document.dispatchEvent(f),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore)):s.status==="maximized"&&(s.setControls([".jsPanel-btn-maximize"]),s.status="smallifiedmax",document.dispatchEvent(y),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore));const k=s.querySelectorAll(".jsPanel-minimized-box");return k[k.length-1].style.display="none",D&&D.call(s,s,s.statusBefore),t.onsmallified&&Be.processCallbacks(s,t.onsmallified,"every",s.statusBefore),s},s.unsmallify=D=>{if(s.statusBefore=s.status,s.status==="smallified"||s.status==="smallifiedmax"){if(t.onbeforeunsmallify&&t.onbeforeunsmallify.length>0&&!Be.processCallbacks(s,t.onbeforeunsmallify,"some",s.statusBefore))return s;document.dispatchEvent(E),s.style.overflow="visible",s.front(),s.status==="smallified"?(s.style.height=s.currentData.height,s.setControls([".jsPanel-btn-normalize"]),s.status="normalized",document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every",s.statusBefore)):s.status==="smallifiedmax"?s.maximize():s.status==="minimized"&&s.normalize(),O.style.transform="rotate(0deg)";const U=s.querySelectorAll(".jsPanel-minimized-box");U[U.length-1].style.display="flex",D&&D.call(s,s,s.statusBefore),t.onunsmallified&&Be.processCallbacks(s,t.onunsmallified,"every",s.statusBefore)}return s},s.front=(D,U=!0)=>{if(s.status==="minimized")s.statusBefore==="maximized"?s.maximize():s.normalize();else{const S=Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).map(k=>k.style.zIndex);Math.max(...S)>s.style.zIndex&&(s.style.zIndex=Be.zi.next()),Be.resetZi()}return document.dispatchEvent(C),D&&D.call(s,s),t.onfronted&&U&&Be.processCallbacks(s,t.onfronted,"every",s.status),s},s.snap=(D,U=!1)=>{if(U||(s.currentData.beforeSnap={width:s.currentData.width,height:s.currentData.height}),D&&typeof D=="function"&&!U)D.call(s,s,s.snappableTo);else if(D!==!1){let S=[0,0];if(s.options.dragit.snap.containment&&s.options.dragit.containment){const k=Be.pOcontainment(s.options.dragit.containment),M=s.snappableTo;M.startsWith("left")?S[0]=k[3]:M.startsWith("right")&&(S[0]=-k[1]),M.endsWith("top")?S[1]=k[0]:M.endsWith("bottom")&&(S[1]=-k[2])}s.reposition("".concat(s.snappableTo," ").concat(S[0]," ").concat(S[1]))}U||(s.snapped=s.snappableTo)},s.move=(D,U)=>{let S=s.overlaps(D,"paddingbox"),k=s.parentElement;return D.appendChild(s),s.options.container=D,s.style.left=S.left+"px",s.style.top=S.top+"px",s.saveCurrentDimensions(),s.saveCurrentPosition(),s.calcSizeFactors(),U&&U.call(s,s,D,k),s},s.closeChildpanels=D=>(s.getChildpanels().forEach(U=>U.close()),D&&D.call(s,s),s),s.getChildpanels=D=>{const U=s.content.querySelectorAll(".jsPanel");return D&&U.forEach((S,k,M)=>{D.call(S,S,k,M)}),U},s.isChildpanel=D=>{const U=s.closest(".jsPanel-content"),S=U?U.parentElement:null;return D&&D.call(s,s,S),!!U&&S},s.contentRemove=D=>(Be.emptyNode(s.content),D&&D.call(s,s),s),s.createMinimizedReplacement=()=>{const D=Be.createMinimizedTemplate(),U=window.getComputedStyle(s.headertitle).color,S=window.getComputedStyle(s),k=t.iconfont,M=D.querySelector(".jsPanel-controlbar");return s.options.header!=="auto-show-hide"?Be.setStyles(D,{backgroundColor:S.backgroundColor,backgroundPositionX:S.backgroundPositionX,backgroundPositionY:S.backgroundPositionY,backgroundRepeat:S.backgroundRepeat,backgroundAttachment:S.backgroundAttachment,backgroundImage:S.backgroundImage,backgroundSize:S.backgroundSize,backgroundOrigin:S.backgroundOrigin,backgroundClip:S.backgroundClip}):D.style.backgroundColor=window.getComputedStyle(s.header).backgroundColor,D.id=s.id+"-min",D.querySelector(".jsPanel-headerbar").replaceChild(s.headerlogo.cloneNode(!0),D.querySelector(".jsPanel-headerlogo")),D.querySelector(".jsPanel-titlebar").replaceChild(s.headertitle.cloneNode(!0),D.querySelector(".jsPanel-title")),D.querySelector(".jsPanel-titlebar").setAttribute("title",s.headertitle.textContent),D.querySelector(".jsPanel-title").style.color=U,M.style.color=U,M.querySelectorAll("button").forEach(N=>N.style.color=U),["jsPanel-hdr-dark","jsPanel-hdr-light"].forEach(N=>{s.header.classList.contains(N)&&D.querySelector(".jsPanel-hdr").classList.add(N)}),s.setIconfont(k,D),s.dataset.btnnormalize==="enabled"?Be.pointerup.forEach(N=>{D.querySelector(".jsPanel-btn-normalize").addEventListener(N,V=>{if(V.preventDefault(),V.button&&V.button>0)return!1;s.normalize()})}):M.querySelector(".jsPanel-btn-normalize").style.display="none",s.dataset.btnmaximize==="enabled"?Be.pointerup.forEach(N=>{D.querySelector(".jsPanel-btn-maximize").addEventListener(N,V=>{if(V.preventDefault(),V.button&&V.button>0)return!1;s.maximize()})}):M.querySelector(".jsPanel-btn-maximize").style.display="none",s.dataset.btnclose==="enabled"?Be.pointerup.forEach(N=>{D.querySelector(".jsPanel-btn-close").addEventListener(N,V=>{if(V.preventDefault(),V.button&&V.button>0)return!1;s.close(null,!0)})}):M.querySelector(".jsPanel-btn-close").style.display="none",D},s.removeMinimizedReplacement=()=>{const D=document.getElementById("".concat(s.id,"-min"));D&&D.parentElement.removeChild(D)},s.drag=(D={})=>{let U,S,k;const M=new CustomEvent("jspaneldragstart",{detail:s.id}),N=new CustomEvent("jspaneldrag",{detail:s.id}),V=new CustomEvent("jspaneldragstop",{detail:s.id});[M,N,V].forEach(he=>he.panel=s);const G=he=>{let we=he.split("-");return we.forEach((pe,ke)=>{we[ke]=pe.charAt(0).toUpperCase()+pe.slice(1)}),"snap"+we.join("")};function ee(he){he.relatedTarget===null&&Be.pointermove.forEach(we=>{document.removeEventListener(we,S,!1),s.style.opacity=1})}let se=D.handles||Be.defaults.dragit.handles,ne=D.cursor||Be.defaults.dragit.cursor;function le(he){if(Be.pointermove.forEach(we=>document.removeEventListener(we,S)),Be.removeSnapAreas(),U){if(s.style.opacity=1,U=void 0,k.snap){switch(s.snappableTo){case"left-top":s.snap(k.snap.snapLeftTop);break;case"center-top":s.snap(k.snap.snapCenterTop);break;case"right-top":s.snap(k.snap.snapRightTop);break;case"right-center":s.snap(k.snap.snapRightCenter);break;case"right-bottom":s.snap(k.snap.snapRightBottom);break;case"center-bottom":s.snap(k.snap.snapCenterBottom);break;case"left-bottom":s.snap(k.snap.snapLeftBottom);break;case"left-center":s.snap(k.snap.snapLeftCenter)}k.snap.callback&&s.snappableTo&&typeof k.snap.callback=="function"&&(k.snap.callback.call(s,s),k.snap.repositionOnSnap&&k.snap[G(s.snappableTo)]!==!1&&s.repositionOnSnap(s.snappableTo)),s.snappableTo&&k.snap.repositionOnSnap&&k.snap[G(s.snappableTo)]&&s.repositionOnSnap(s.snappableTo)}if(s.droppableTo&&s.droppableTo){let we=s.parentElement;s.move(s.droppableTo),k.drop.callback&&k.drop.callback.call(s,s,s.droppableTo,we)}if(document.dispatchEvent(V),k.stop.length){let we=window.getComputedStyle(s),pe={left:parseFloat(we.left),top:parseFloat(we.top),width:parseFloat(we.width),height:parseFloat(we.height)};Be.processCallbacks(s,k.stop,!1,pe,he)}s.saveCurrentPosition(),s.calcSizeFactors()}s.controlbar.style.pointerEvents="inherit",s.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(we=>we.style.pointerEvents="auto"),document.removeEventListener(he,le)}return s.querySelectorAll(se).forEach(he=>{he.style.touchAction="none",he.style.cursor=ne,Be.pointerdown.forEach(we=>{he.addEventListener(we,pe=>{if(pe.button&&pe.button>0||(k=Object.assign({},Be.defaults.dragit,D)).disableOnMaximized&&s.status==="maximized")return!1;if((k.containment||k.containment===0)&&(k.containment=Be.pOcontainment(k.containment)),k.grid&&Array.isArray(k.grid)&&k.grid.length===1&&(k.grid[1]=k.grid[0]),k.snap&&(typeof k.snap=="object"?k.snap=Object.assign({},Be.defaultSnapConfig,k.snap):k.snap=Be.defaultSnapConfig),pe.target.closest(".jsPanel-ftr-btn"))return;s.controlbar.style.pointerEvents="none",s.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(Fe=>Fe.style.pointerEvents="none");let ke=window.getComputedStyle(s),ce=parseFloat(ke.left),ye=parseFloat(ke.top),ie=parseFloat(ke.width),He=parseFloat(ke.height),$e=pe.touches?pe.touches[0].clientX:pe.clientX,ae=pe.touches?pe.touches[0].clientY:pe.clientY,W=s.parentElement,X=W.getBoundingClientRect(),re=window.getComputedStyle(W),ve=s.getScaleFactor(),xe=0,Me=Be.getScrollbarWidth(W);S=Fe=>{if(Fe.preventDefault(),!U){if(document.dispatchEvent(M),s.style.opacity=k.opacity,s.snapped&&k.snap.resizeToPreSnap&&s.currentData.beforeSnap){s.resize(s.currentData.beforeSnap.width+" "+s.currentData.beforeSnap.height),s.setControls([".jsPanel-btn-normalize"]);let tt=s.getBoundingClientRect(),jt=$e-(tt.left+tt.width),pt=tt.width/2;jt>-pt&&(xe=jt+pt)}if(s.front(),s.snapped=!1,s.status==="maximized"&&(s.setControls([".jsPanel-btn-normalize"]),s.status="normalized"),k.drop&&k.drop.dropZones){let tt=k.drop.dropZones.map(pt=>Be.pOcontainer(pt)),jt=[];tt.forEach(function(pt){pt.length?pt.forEach(function(bi){jt.push(bi)}):jt.push(pt)}),jt=jt.filter(function(pt,bi,Jt){return Jt.indexOf(pt)===bi}),k.drop.dropZones=jt}k.start.length&&Be.processCallbacks(s,k.start,!1,{left:ce,top:ye,width:ie,height:He},Fe)}let Ie,Le,Ge,ze,_e,Te,je,nt,st,bt;U=1;let ct,$t=Fe.touches?Fe.touches[0].clientX:Fe.clientX,_t=Fe.touches?Fe.touches[0].clientY:Fe.clientY,gt=window.getComputedStyle(s);if(W===document.body){let tt=s.getBoundingClientRect();st=window.innerWidth-parseInt(re.borderLeftWidth,10)-parseInt(re.borderRightWidth,10)-(tt.left+tt.width),bt=window.innerHeight-parseInt(re.borderTopWidth,10)-parseInt(re.borderBottomWidth,10)-(tt.top+tt.height)}else st=parseInt(re.width,10)-parseInt(re.borderLeftWidth,10)-parseInt(re.borderRightWidth,10)-(parseInt(gt.left,10)+parseInt(gt.width,10)),bt=parseInt(re.height,10)-parseInt(re.borderTopWidth,10)-parseInt(re.borderBottomWidth,10)-(parseInt(gt.top,10)+parseInt(gt.height,10));Ie=parseFloat(gt.left),Ge=parseFloat(gt.top),_e=st,je=bt,k.snap&&(k.snap.trigger==="panel"?(Le=Ie**2,ze=Ge**2,Te=_e**2,nt=je**2):k.snap.trigger==="pointer"&&(s.options.container==="window"?(Ie=$t,Le=$t**2,ze=(Ge=_t)**2,Te=(_e=window.innerWidth-$t)**2,nt=(je=window.innerHeight-_t)**2):(Ie=(ct=s.overlaps(W,"paddingbox",Fe)).pointer.left,Ge=ct.pointer.top,_e=ct.pointer.right,je=ct.pointer.bottom,Le=ct.pointer.left**2,ze=ct.pointer.top**2,Te=ct.pointer.right**2,nt=ct.pointer.bottom**2)));let si=Math.sqrt(Le+ze),It=Math.sqrt(Le+nt),ri=Math.sqrt(Te+ze),Ki=Math.sqrt(Te+nt),Bn=Math.abs(Ie-_e)/2,kn=Math.abs(Ge-je)/2,Xs=Math.sqrt(Le+kn**2),Wn=Math.sqrt(ze+Bn**2),Zi=Math.sqrt(Te+kn**2),Js=Math.sqrt(nt+Bn**2);if(window.getSelection().removeAllRanges(),document.dispatchEvent(N),k.axis&&k.axis!=="x"||(s.style.left=ce+($t-$e)/ve.x+xe+"px"),k.axis&&k.axis!=="y"||(s.style.top=ye+(_t-ae)/ve.y+"px"),k.grid){let tt=k.grid,jt=k.axis,pt=tt[0]*Math.round((ce+($t-$e))/tt[0]),bi=tt[1]*Math.round((ye+(_t-ae))/tt[1]);jt&&jt!=="x"||(s.style.left="".concat(pt,"px")),jt&&jt!=="y"||(s.style.top="".concat(bi,"px"))}if(k.containment||k.containment===0){let tt,jt,pt=k.containment;if(s.options.container==="window")tt=window.innerWidth-parseFloat(gt.width)-pt[1]-Me.y,jt=window.innerHeight-parseFloat(gt.height)-pt[2]-Me.x;else{let bi=parseFloat(re.borderLeftWidth)+parseFloat(re.borderRightWidth),Jt=parseFloat(re.borderTopWidth)+parseFloat(re.borderBottomWidth);tt=X.width/ve.x-parseFloat(gt.width)-pt[1]-bi-Me.y,jt=X.height/ve.y-parseFloat(gt.height)-pt[2]-Jt-Me.x}parseFloat(s.style.left)<=pt[3]&&(s.style.left=pt[3]+"px"),parseFloat(s.style.top)<=pt[0]&&(s.style.top=pt[0]+"px"),parseFloat(s.style.left)>=tt&&(s.style.left=tt+"px"),parseFloat(s.style.top)>=jt&&(s.style.top=jt+"px")}if(k.drag.length){let tt={left:Ie,top:Ge,right:_e,bottom:je,width:parseFloat(gt.width),height:parseFloat(gt.height)};Be.processCallbacks(s,k.drag,!1,tt,Fe)}if(k.snap){let tt=k.snap.sensitivity,jt=W===document.body?window.innerWidth/8:X.width/8,pt=W===document.body?window.innerHeight/8:X.height/8;s.snappableTo=!1,Be.removeSnapAreas(),si<tt?k.snap.snapLeftTop!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.left>0&&ct.pointer.top>0?(s.snappableTo="left-top",Be.createSnapArea(s,"lt",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="left-top",Be.createSnapArea(s,"lt",tt))):It<tt?k.snap.snapLeftBottom!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.left>0&&ct.pointer.bottom>0?(s.snappableTo="left-bottom",Be.createSnapArea(s,"lb",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="left-bottom",Be.createSnapArea(s,"lb",tt))):ri<tt?k.snap.snapRightTop!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.right>0&&ct.pointer.top>0?(s.snappableTo="right-top",Be.createSnapArea(s,"rt",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="right-top",Be.createSnapArea(s,"rt",tt))):Ki<tt?k.snap.snapRightBottom!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.right>0&&ct.pointer.bottom>0?(s.snappableTo="right-bottom",Be.createSnapArea(s,"rb",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="right-bottom",Be.createSnapArea(s,"rb",tt))):Ge<tt&&Wn<jt?k.snap.snapCenterTop!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.top>0?(s.snappableTo="center-top",Be.createSnapArea(s,"ct",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="center-top",Be.createSnapArea(s,"ct",tt))):Ie<tt&&Xs<pt?k.snap.snapLeftCenter!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.left>0?(s.snappableTo="left-center",Be.createSnapArea(s,"lc",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="left-center",Be.createSnapArea(s,"lc",tt))):_e<tt&&Zi<pt?k.snap.snapRightCenter!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.right>0?(s.snappableTo="right-center",Be.createSnapArea(s,"rc",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="right-center",Be.createSnapArea(s,"rc",tt))):je<tt&&Js<jt&&k.snap.snapCenterBottom!==!1&&(k.snap.active&&k.snap.active!=="both"?k.snap.trigger==="pointer"&&k.snap.active&&k.snap.active==="inside"&&(ct.pointer.bottom>0?(s.snappableTo="center-bottom",Be.createSnapArea(s,"cb",tt)):(s.snappableTo=!1,Be.removeSnapAreas())):(s.snappableTo="center-bottom",Be.createSnapArea(s,"cb",tt)))}if(k.drop&&k.drop.dropZones){let tt=Be.isIE?"msElementsFromPoint":"elementsFromPoint",jt=document[tt](Fe.clientX,Fe.clientY);Array.isArray(jt)||(jt=Array.prototype.slice.call(jt)),k.drop.dropZones.forEach(pt=>{jt.includes(pt)&&(s.droppableTo=pt)}),jt.includes(s.droppableTo)||(s.droppableTo=!1)}},Be.pointermove.forEach(Fe=>document.addEventListener(Fe,S)),window.addEventListener("mouseout",ee,!1)})}),Be.pointerup.forEach(we=>{document.addEventListener(we,le),window.removeEventListener("mouseout",ee)}),D.disable&&(he.style.pointerEvents="none")}),s},s.dragit=D=>{const U=Object.assign({},Be.defaults.dragit,t.dragit),S=s.querySelectorAll(U.handles);return D==="disable"?S.forEach(k=>k.style.pointerEvents="none"):S.forEach(k=>k.style.pointerEvents="auto"),s},s.sizeit=(D={})=>{const U=new CustomEvent("jspanelresizestart",{detail:s.id}),S=new CustomEvent("jspanelresize",{detail:s.id}),k=new CustomEvent("jspanelresizestop",{detail:s.id});[U,S,k].forEach(pe=>pe.panel=s);let M,N,V,G,ee,se,ne={};ne.handles=D.handles||Be.defaults.resizeit.handles,ne.handles.split(",").forEach(pe=>{const ke=document.createElement("DIV");ke.className="jsPanel-resizeit-handle jsPanel-resizeit-".concat(pe.trim()),s.append(ke)});let le=!!D.aspectRatio&&D.aspectRatio;function he(pe){pe.relatedTarget===null&&Be.pointermove.forEach(ke=>document.removeEventListener(ke,M,!1))}function we(pe){if(Be.pointermove.forEach(ke=>document.removeEventListener(ke,M,!1)),pe.target.classList&&pe.target.classList.contains("jsPanel-resizeit-handle")){let ke,ce,ye=pe.target.className;if(ye.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(ke=!0),ye.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(ce=!0),ne.grid&&Array.isArray(ne.grid)){ne.grid.length===1&&(ne.grid[1]=ne.grid[0]);const ie=parseFloat(s.style.width),He=parseFloat(s.style.height),$e=ie%ne.grid[0],ae=He%ne.grid[1],W=parseFloat(s.style.left),X=parseFloat(s.style.top),re=W%ne.grid[0],ve=X%ne.grid[1];$e<ne.grid[0]/2?s.style.width=ie-$e+"px":s.style.width=ie+(ne.grid[0]-$e)+"px",ae<ne.grid[1]/2?s.style.height=He-ae+"px":s.style.height=He+(ne.grid[1]-ae)+"px",ke&&(re<ne.grid[0]/2?s.style.left=W-re+"px":s.style.left=W+(ne.grid[0]-re)+"px"),ce&&(ve<ne.grid[1]/2?s.style.top=X-ve+"px":s.style.top=X+(ne.grid[1]-ve)+"px")}}if(N){s.content.style.pointerEvents="inherit",N=void 0,s.saveCurrentDimensions(),s.saveCurrentPosition(),s.calcSizeFactors();let ke=s.controlbar.querySelector(".jsPanel-btn-smallify"),ce=s.getBoundingClientRect();if(ke&&ce.height>se+5&&(ke.style.transform="rotate(0deg)"),document.dispatchEvent(k),ne.stop.length){let ye=window.getComputedStyle(s),ie={left:parseFloat(ye.left),top:parseFloat(ye.top),width:parseFloat(ye.width),height:parseFloat(ye.height)};Be.processCallbacks(s,ne.stop,!1,ie,pe)}}s.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(ke=>ke.style.pointerEvents="auto"),ne.aspectRatio=le,document.removeEventListener(pe,we)}return s.querySelectorAll(".jsPanel-resizeit-handle").forEach(pe=>{pe.style.touchAction="none",Be.pointerdown.forEach(ke=>{pe.addEventListener(ke,ce=>{if(ce.preventDefault(),ce.stopPropagation(),ce.button&&ce.button>0)return!1;let ye=1;if(((ne=Object.assign({},Be.defaults.resizeit,D)).containment||ne.containment===0)&&(ne.containment=Be.pOcontainment(ne.containment)),ne.aspectRatio&&ne.aspectRatio===!0&&(ne.aspectRatio="panel"),Be.modifier){let pt=Be.modifier;pt.altKey?ne.aspectRatio="content":pt.ctrlKey?ne.aspectRatio="panel":pt.shiftKey&&(ne.aspectRatio=!1,ye=2)}let ie=typeof ne.maxWidth=="function"?ne.maxWidth():ne.maxWidth||1e4,He=typeof ne.maxHeight=="function"?ne.maxHeight():ne.maxHeight||1e4,$e=typeof ne.minWidth=="function"?ne.minWidth():ne.minWidth,ae=typeof ne.minHeight=="function"?ne.minHeight():ne.minHeight;s.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(pt=>pt.style.pointerEvents="none");const W=s.parentElement,X=W.tagName.toLowerCase(),re=s.getBoundingClientRect(),ve=W.getBoundingClientRect(),xe=window.getComputedStyle(W,null),Me=parseInt(xe.borderLeftWidth,10),Fe=parseInt(xe.borderTopWidth,10),Ie=xe.getPropertyValue("position"),Le=ce.clientX||ce.clientX===0||ce.touches[0].clientX,Ge=ce.clientY||ce.clientY===0||ce.touches[0].clientY,ze=Le/Ge,_e=ce.target.classList,Te=s.getScaleFactor(),je=re.width/re.height,nt=s.content.getBoundingClientRect(),st=nt.width/nt.height,bt=s.header.getBoundingClientRect().height,ct=s.footer.getBoundingClientRect().height||0;let $t=re.left,_t=re.top,gt=1e4,si=1e4,It=1e4,ri=1e4;ee=re.width,se=re.height,X!=="body"&&($t=re.left-ve.left+W.scrollLeft,_t=re.top-ve.top+W.scrollTop),X==="body"&&ne.containment?(gt=document.documentElement.clientWidth-re.left,It=document.documentElement.clientHeight-re.top,si=re.width+re.left,ri=re.height+re.top):ne.containment&&(Ie==="static"?(gt=ve.width-re.left+Me,It=ve.height+ve.top-re.top+Fe,si=re.width+(re.left-ve.left)-Me,ri=re.height+(re.top-ve.top)-Fe):(gt=W.clientWidth-(re.left-ve.left)/Te.x+Me,It=W.clientHeight-(re.top-ve.top)/Te.y+Fe,si=(re.width+re.left-ve.left)/Te.x-Me,ri=s.clientHeight+(re.top-ve.top)/Te.y-Fe)),ne.containment&&(si-=ne.containment[3],ri-=ne.containment[0],gt-=ne.containment[1],It-=ne.containment[2]);const Ki=window.getComputedStyle(s),Bn=parseFloat(Ki.width)-re.width,kn=parseFloat(Ki.height)-re.height;let Xs=parseFloat(Ki.left)-re.left,Wn=parseFloat(Ki.top)-re.top;W!==document.body&&(Xs+=ve.left,Wn+=ve.top);let Zi=parseInt(Ki.borderTopWidth,10),Js=parseInt(Ki.borderRightWidth,10),tt=parseInt(Ki.borderBottomWidth,10),jt=parseInt(Ki.borderLeftWidth,10);M=pt=>{pt.preventDefault(),N||(document.dispatchEvent(U),ne.start.length&&Be.processCallbacks(s,ne.start,!1,{width:ee,height:se,left:$t,top:_t},pt),s.front(),s.status==="maximized"&&(s.status="normalized",s.controlbar.querySelector(".jsPanel-btn-maximize")&&s.setControlStatus("maximize","show"),s.controlbar.querySelector(".jsPanel-btn-normalize")&&s.setControlStatus("normalize","hide")),re.height>se+5&&(s.status="normalized",s.setControls([".jsPanel-btn-normalize"]))),N=1,document.dispatchEvent(S);let bi=pt.touches?pt.touches[0].clientX:pt.clientX,Jt=pt.touches?pt.touches[0].clientY:pt.clientY;_e.contains("jsPanel-resizeit-e")?((V=ee+(bi-Le)*ye/Te.x+Bn)>=gt&&(V=gt),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ye===2&&(s.style.left=$t-(bi-Le)+"px"),ne.aspectRatio==="content"?(s.style.height=(V-Js-jt)/st+bt+ct+Zi+tt+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*st+"px")):ne.aspectRatio==="panel"&&(s.style.height=V/je+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*je+"px"))):_e.contains("jsPanel-resizeit-s")?((G=se+(Jt-Ge)*ye/Te.y+kn)>=It&&(G=It),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ye===2&&(s.style.top=_t-(Jt-Ge)+"px"),ne.aspectRatio==="content"?(s.style.width=(G-bt-ct-Zi-tt)*st+Zi+tt+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/st+"px")):ne.aspectRatio==="panel"&&(s.style.width=G*je+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/je+"px"))):_e.contains("jsPanel-resizeit-w")?((V=ee+(Le-bi)*ye/Te.x+Bn)<=ie&&V>=$e&&V<=si&&(s.style.left=$t+(bi-Le)/Te.x+Xs+"px"),V>=si&&(V=si),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ne.aspectRatio==="content"?(s.style.height=(V-Js-jt)/st+bt+ct+Zi+tt+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*st+"px")):ne.aspectRatio==="panel"&&(s.style.height=V/je+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*je+"px"))):_e.contains("jsPanel-resizeit-n")?((G=se+(Ge-Jt)*ye/Te.y+kn)<=He&&G>=ae&&G<=ri&&(s.style.top=_t+(Jt-Ge)/Te.y+Wn+"px"),G>=ri&&(G=ri),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ne.aspectRatio==="content"?(s.style.width=(G-bt-ct-Zi-tt)*st+Zi+tt+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/st+"px")):ne.aspectRatio==="panel"&&(s.style.width=G*je+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/je+"px"))):_e.contains("jsPanel-resizeit-se")?((V=ee+(bi-Le)*ye/Te.x+Bn)>=gt&&(V=gt),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ye===2&&(s.style.left=$t-(bi-Le)+"px"),ne.aspectRatio&&(s.style.height=V/je+"px"),(G=se+(Jt-Ge)*ye/Te.y+kn)>=It&&(G=It),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ye===2&&(s.style.top=_t-(Jt-Ge)+"px"),ne.aspectRatio==="content"?(s.style.width=(G-bt-ct-Zi-tt)*st+Zi+tt+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/st+"px")):ne.aspectRatio==="panel"&&(s.style.width=G*je+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/je+"px"))):_e.contains("jsPanel-resizeit-sw")?((G=se+(Jt-Ge)*ye/Te.y+kn)>=It&&(G=It),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ye===2&&(s.style.top=_t-(Jt-Ge)+"px"),ne.aspectRatio&&(s.style.width=G*je+"px"),(V=ee+(Le-bi)*ye/Te.x+Bn)<=ie&&V>=$e&&V<=si&&(s.style.left=$t+(bi-Le)/Te.x+Xs+"px"),V>=si&&(V=si),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ne.aspectRatio==="content"?(s.style.height=(V-Js-jt)/st+bt+ct+Zi+tt+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*st+"px")):ne.aspectRatio==="panel"&&(s.style.height=V/je+"px",ne.containment&&s.overlaps(W).bottom<=ne.containment[2]&&(s.style.height=It+"px",s.style.width=It*je+"px"))):_e.contains("jsPanel-resizeit-ne")?((V=ee+(bi-Le)*ye/Te.x+Bn)>=gt&&(V=gt),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ye===2&&(s.style.left=$t-(bi-Le)+"px"),ne.aspectRatio&&(s.style.height=V/je+"px"),(G=se+(Ge-Jt)*ye/Te.y+kn)<=He&&G>=ae&&G<=ri&&(s.style.top=_t+(Jt-Ge)/Te.y+Wn+"px"),G>=ri&&(G=ri),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ne.aspectRatio==="content"?(s.style.width=(G-bt-ct-Zi-tt)*st+Zi+tt+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/st+"px")):ne.aspectRatio==="panel"&&(s.style.width=G*je+"px",ne.containment&&s.overlaps(W).right<=ne.containment[1]&&(s.style.width=gt+"px",s.style.height=gt/je+"px"))):_e.contains("jsPanel-resizeit-nw")&&(ne.aspectRatio&&_e.contains("jsPanel-resizeit-nw")&&(Jt=(bi=Jt*ze)/ze),(V=ee+(Le-bi)*ye/Te.x+Bn)<=ie&&V>=$e&&V<=si&&(s.style.left=$t+(bi-Le)/Te.x+Xs+"px"),V>=si&&(V=si),V>=ie&&(V=ie),V<=$e&&(V=$e),s.style.width=V+"px",ne.aspectRatio&&(s.style.height=V/je+"px"),(G=se+(Ge-Jt)*ye/Te.y+kn)<=He&&G>=ae&&G<=ri&&(s.style.top=_t+(Jt-Ge)/Te.y+Wn+"px"),G>=ri&&(G=ri),G>=He&&(G=He),G<=ae&&(G=ae),s.style.height=G+"px",ne.aspectRatio==="content"?s.style.width=(G-bt-ct-Zi-tt)*st+Zi+tt+"px":ne.aspectRatio==="panel"&&(s.style.width=G*je+"px")),window.getSelection().removeAllRanges();const an=window.getComputedStyle(s),Ts={left:parseFloat(an.left),top:parseFloat(an.top),right:parseFloat(an.right),bottom:parseFloat(an.bottom),width:parseFloat(an.width),height:parseFloat(an.height)};ne.resize.length&&Be.processCallbacks(s,ne.resize,!1,Ts,pt)},Be.pointermove.forEach(pt=>document.addEventListener(pt,M,!1)),window.addEventListener("mouseout",he,!1)})}),Be.pointerup.forEach(function(ke){document.addEventListener(ke,we),window.removeEventListener("mouseout",he)}),D.disable&&(pe.style.pointerEvents="none")}),s},s.resizeit=D=>{const U=s.querySelectorAll(".jsPanel-resizeit-handle");return D==="disable"?U.forEach(S=>S.style.pointerEvents="none"):U.forEach(S=>S.style.pointerEvents="auto"),s},s.getScaleFactor=()=>{const D=s.getBoundingClientRect();return{x:D.width/s.offsetWidth,y:D.height/s.offsetHeight}},s.calcSizeFactors=()=>{const D=window.getComputedStyle(s);if(t.container==="window")s.hf=parseFloat(D.left)/(window.innerWidth-parseFloat(D.width)),s.vf=parseFloat(D.top)/(window.innerHeight-parseFloat(D.height));else if(s.parentElement){let U=s.parentElement.getBoundingClientRect();s.hf=parseFloat(D.left)/(U.width-parseFloat(D.width)),s.vf=parseFloat(D.top)/(U.height-parseFloat(D.height))}},s.saveCurrentDimensions=()=>{const D=window.getComputedStyle(s);s.currentData.width=D.width,s.currentData.height=D.height},s.saveCurrentPosition=()=>{const D=window.getComputedStyle(s);s.currentData.left=D.left,s.currentData.top=D.top},s.reposition=(...D)=>{let U,S=t.position,k=!0;return D.forEach(M=>{typeof M=="string"||typeof M=="object"?S=M:typeof M=="boolean"?k=M:typeof M=="function"&&(U=M)}),Be.position(s,S),s.slaves&&s.slaves.size>0&&s.slaves.forEach(M=>M.reposition()),k&&s.saveCurrentPosition(),U&&U.call(s,s),s},s.repositionOnSnap=D=>{let U="0",S="0",k=Be.pOcontainment(t.dragit.containment);if(t.dragit.snap.containment)switch(D){case"left-top":U=k[3],S=k[0];break;case"right-top":U=-k[1],S=k[0];break;case"right-bottom":U=-k[1],S=-k[2];break;case"left-bottom":U=k[3],S=-k[2];break;case"center-top":U=k[3]/2-k[1]/2,S=k[0];break;case"center-bottom":U=k[3]/2-k[1]/2,S=-k[2];break;case"left-center":U=k[3],S=k[0]/2-k[2]/2;break;case"right-center":U=-k[1],S=k[0]/2-k[2]/2}Be.position(s,D),Be.setStyles(s,{left:"calc(".concat(s.style.left," + ").concat(U,"px)"),top:"calc(".concat(s.style.top," + ").concat(S,"px)")})},s.overlaps=(D,U,S)=>{let k,M=s.getBoundingClientRect(),N=getComputedStyle(s.parentElement),V=s.getScaleFactor(),G={top:0,right:0,bottom:0,left:0},ee=0,se=0,ne=0,le=0;s.options.container!=="window"&&U==="paddingbox"&&(G.top=parseInt(N.borderTopWidth,10)*V.y,G.right=parseInt(N.borderRightWidth,10)*V.x,G.bottom=parseInt(N.borderBottomWidth,10)*V.y,G.left=parseInt(N.borderLeftWidth,10)*V.x),k=typeof D=="string"?D==="window"?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:D==="parent"?s.parentElement.getBoundingClientRect():document.querySelector(D).getBoundingClientRect():D.getBoundingClientRect(),S&&(ee=S.touches?S.touches[0].clientX:S.clientX,se=S.touches?S.touches[0].clientY:S.clientY,ne=ee-k.left,le=se-k.top);let he=M.left<k.right&&M.right>k.left,we=M.top<k.bottom&&M.bottom>k.top;return{overlaps:he&&we,top:M.top-k.top-G.top,right:k.right-M.right-G.right,bottom:k.bottom-M.bottom-G.bottom,left:M.left-k.left-G.left,parentBorderWidth:G,panelRect:M,referenceRect:k,pointer:{clientX:ee,clientY:se,left:ne-G.left,top:le-G.top,right:k.width-ne-G.right,bottom:k.height-le-G.bottom}}},s.setSize=()=>{if(t.panelSize){const D=Be.pOsize(s,t.panelSize);s.style.width=D.width,s.style.height=D.height}else if(t.contentSize){const D=Be.pOsize(s,t.contentSize);s.content.style.width=D.width,s.content.style.height=D.height,s.style.width=D.width,s.content.style.width="100%"}return s},s.resize=(...D)=>{let U,S=window.getComputedStyle(s),k={width:S.width,height:S.height},M=!0;D.forEach(G=>{typeof G=="string"?k=G:typeof G=="object"?k=Object.assign(k,G):typeof G=="boolean"?M=G:typeof G=="function"&&(U=G)});let N=Be.pOsize(s,k);s.style.width=N.width,s.style.height=N.height,s.slaves&&s.slaves.size>0&&s.slaves.forEach(G=>G.reposition()),M&&s.saveCurrentDimensions(),s.status="normalized";let V=s.controlbar.querySelector(".jsPanel-btn-smallify");return V&&(V.style.transform="rotate(0deg)"),U&&U.call(s,s),s.calcSizeFactors(),s},s.windowResizeHandler=D=>{if(D.target===window){let U,S,k=s.status,M=t.onwindowresize;if(k==="maximized"&&M)s.maximize(!1,!0);else if(s.snapped&&k!=="minimized")s.snap(s.snapped,!0);else if(k==="normalized"||k==="smallified"||k==="maximized"){let N=typeof M;N==="boolean"?(U=(window.innerWidth-s.offsetWidth)*s.hf,s.style.left=U<=0?0:U+"px",S=(window.innerHeight-s.offsetHeight)*s.vf,s.style.top=S<=0?0:S+"px"):N==="function"?M.call(s,D,s):N==="object"&&(M.preset===!0&&(U=(window.innerWidth-s.offsetWidth)*s.hf,s.style.left=U<=0?0:U+"px",S=(window.innerHeight-s.offsetHeight)*s.vf,s.style.top=S<=0?0:S+"px"),M.callback.call(s,D,s))}else k==="smallifiedmax"&&M&&s.maximize(!1,!0).smallify();s.slaves&&s.slaves.size>0&&s.slaves.forEach(N=>N.reposition())}},s.setControls=(D,U)=>(s.header.querySelectorAll(".jsPanel-btn").forEach(S=>{const k=S.className.split("-"),M=k[k.length-1];s.getAttribute("data-btn".concat(M))!=="hidden"&&(S.style.display="block")}),D.forEach(S=>{const k=s.controlbar.querySelector(S);k&&(k.style.display="none")}),U&&U.call(s,s),s),s.setControlStatus=(D,U="enable",S)=>{const k=s.controlbar.querySelector(".jsPanel-btn-".concat(D));switch(U){case"disable":s.getAttribute("data-btn".concat(D))!=="removed"&&(s.setAttribute("data-btn".concat(D),"disabled"),k.style.pointerEvents="none",k.style.opacity=.4,k.style.cursor="default");break;case"hide":s.getAttribute("data-btn".concat(D))!=="removed"&&(s.setAttribute("data-btn".concat(D),"hidden"),k.style.display="none");break;case"show":s.getAttribute("data-btn".concat(D))!=="removed"&&(s.setAttribute("data-btn".concat(D),"enabled"),k.style.display="block",k.style.pointerEvents="auto",k.style.opacity=1,k.style.cursor="pointer");break;case"enable":s.getAttribute("data-btn".concat(D))!=="removed"&&(s.getAttribute("data-btn".concat(D))==="hidden"&&(k.style.display="block"),s.setAttribute("data-btn".concat(D),"enabled"),k.style.pointerEvents="auto",k.style.opacity=1,k.style.cursor="pointer");break;case"remove":s.controlbar.removeChild(k),s.setAttribute("data-btn".concat(D),"removed")}return S&&S.call(s,s),s},s.setControlSize=D=>{const U=D.toLowerCase();s.controlbar.querySelectorAll(".jsPanel-btn").forEach(S=>{["jsPanel-btn-xl","jsPanel-btn-lg","jsPanel-btn-md","jsPanel-btn-sm","jsPanel-btn-xs"].forEach(k=>S.classList.remove(k)),S.classList.add("jsPanel-btn-".concat(U))}),U==="xl"?s.titlebar.style.fontSize="1.5rem":U==="lg"?s.titlebar.style.fontSize="1.25rem":U==="md"?s.titlebar.style.fontSize="1.05rem":U==="sm"?s.titlebar.style.fontSize=".9rem":U==="xs"&&(s.titlebar.style.fontSize=".8rem")},s.setHeaderControls=D=>{if(s.options.headerControls.add){let k=s.options.headerControls.add;Array.isArray(k)||(k=[k]),k.forEach(M=>s.addControl(M))}let U=[];s.controlbar.querySelectorAll(".jsPanel-btn").forEach(k=>{let M=k.className.match(/jsPanel-btn-[a-z\d]{3,}/i)[0].substring(12);U.push(M)});const S=Be.pOheaderControls(t.headerControls);return t.headerControls=S,U.forEach(k=>{S[k]&&s.setControlStatus(k,S[k])}),s.setControlSize(S.size),D&&D.call(s,s),s},s.setHeaderLogo=(D,U)=>{let S=[s.headerlogo],k=document.querySelector("#"+s.id+"-min");return k&&S.push(k.querySelector(".jsPanel-headerlogo")),typeof D=="string"?D.startsWith("<")?S.forEach(M=>M.innerHTML=D):S.forEach(M=>{Be.emptyNode(M);let N=document.createElement("img");N.src=D,M.append(N)}):S.forEach(M=>{Be.emptyNode(M),M.append(D)}),s.headerlogo.childNodes.forEach(M=>{M.nodeName&&M.nodeName==="IMG"&&M.setAttribute("draggable","false")}),U&&U.call(s,s),s},s.setHeaderRemove=D=>(s.removeChild(s.header),s.content.classList.add("jsPanel-content-noheader"),["close","maximize","normalize","minimize","smallify"].forEach(U=>s.setAttribute("data-btn".concat(U),"removed")),D&&D.call(s,s),s),s.setHeaderTitle=(D,U)=>{let S=[s.headertitle],k=document.querySelector("#"+s.id+"-min");return k&&S.push(k.querySelector(".jsPanel-title")),typeof D=="string"?S.forEach(M=>M.innerHTML=D):typeof D=="function"?S.forEach(M=>{Be.emptyNode(M),M.innerHTML=D()}):S.forEach(M=>{Be.emptyNode(M),M.append(D)}),U&&U.call(s,s),s},s.setIconfont=(D,U=s,S)=>{if(D){let k,M;if(D==="fa"||D==="far"||D==="fal"||D==="fas"||D==="fad")k=["".concat(D," fa-window-close"),"".concat(D," fa-window-maximize"),"".concat(D," fa-window-restore"),"".concat(D," fa-window-minimize"),"".concat(D," fa-chevron-up")];else if(D==="material-icons")k=[D,D,D,D,D,D],M=["close","fullscreen","fullscreen_exit","call_received","expand_less"];else if(Array.isArray(D))k=["custom-control-icon ".concat(D[4]),"custom-control-icon ".concat(D[3]),"custom-control-icon ".concat(D[2]),"custom-control-icon ".concat(D[1]),"custom-control-icon ".concat(D[0])];else{if(D!=="bootstrap"&&D!=="glyphicon")return U;k=["glyphicon glyphicon-remove","glyphicon glyphicon-fullscreen","glyphicon glyphicon-resize-full","glyphicon glyphicon-minus","glyphicon glyphicon-chevron-up"]}U.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(N=>Be.emptyNode(N).innerHTML="<span></span>"),Array.prototype.slice.call(U.querySelectorAll(".jsPanel-controlbar .jsPanel-btn > span")).reverse().forEach((N,V)=>{N.className=k[V],D==="material-icons"&&(N.textContent=M[V])})}return S&&S.call(U,U),U},s.addToolbar=(D,U,S)=>{if(D==="header"?D=s.headertoolbar:D==="footer"&&(D=s.footer),typeof U=="string")D.innerHTML=U;else if(Array.isArray(U))U.forEach(k=>{typeof k=="string"?D.innerHTML+=k:D.append(k)});else if(typeof U=="function"){let k=U.call(s,s);typeof k=="string"?D.innerHTML=k:D.append(k)}else D.append(U);return D.classList.add("active"),S&&S.call(s,s),s},s.addCloseControl=()=>{let D=document.createElement("button"),U=s.content.style.color;return D.classList.add("jsPanel-addCloseCtrl"),D.innerHTML=Be.icons.close,D.style.color=U,s.options.rtl&&D.classList.add("rtl"),s.appendChild(D),Be.pointerup.forEach(S=>{D.addEventListener(S,k=>{if(k.preventDefault(),k.button&&k.button>0)return!1;s.close(null,!0)})}),Be.pointerdown.forEach(S=>{D.addEventListener(S,k=>k.preventDefault())}),s},s.addControl=D=>{if(!D.html)return s;D.position||(D.position=1);const U=s.controlbar.querySelectorAll(".jsPanel-btn").length;let S=document.createElement("button");S.innerHTML=D.html,S.className="jsPanel-btn jsPanel-btn-".concat(D.name," jsPanel-btn-").concat(t.headerControls.size),S.style.color=s.header.style.color,D.position>U?s.controlbar.append(S):s.controlbar.insertBefore(S,s.querySelector(".jsPanel-controlbar .jsPanel-btn:nth-child(".concat(D.position,")")));const k=D.ariaLabel||D.name;return k&&S.setAttribute("aria-label",k),Be.pointerup.forEach(M=>{S.addEventListener(M,N=>{if(N.preventDefault(),N.button&&N.button>0)return!1;D.handler.call(s,s,S)})}),D.afterInsert&&D.afterInsert.call(S,S),s},s.setRtl=()=>{[s.header,s.content,s.footer].forEach(D=>{D.dir="rtl",t.rtl.lang&&(D.lang=t.rtl.lang)})},s.id=t.id,s.classList.add("jsPanel-"+t.paneltype),t.paneltype==="standard"&&(s.style.zIndex=this.zi.next()),n.append(s),s.front(!1,!1),s.setTheme(t.theme),t.boxShadow&&s.classList.add("jsPanel-depth-".concat(t.boxShadow)),t.header){if(t.headerLogo&&s.setHeaderLogo(t.headerLogo),s.setIconfont(t.iconfont),s.setHeaderTitle(t.headerTitle),s.setHeaderControls(),Be.isIE){let D=[s.headerbar,s.controlbar];switch(s.options.headerControls.size){case"md":D.forEach(U=>{U.style.height="34px"});break;case"xs":D.forEach(U=>{U.style.height="26px"});break;case"sm":D.forEach(U=>{U.style.height="30px"});break;case"lg":D.forEach(U=>{U.style.height="38px"});break;case"xl":D.forEach(U=>{U.style.height="42px"})}}if(t.header==="auto-show-hide"){let D="jsPanel-depth-"+t.boxShadow;s.header.style.opacity=0,s.style.backgroundColor="transparent",this.remClass(s,D),this.setClass(s.content,D),s.header.addEventListener("mouseenter",()=>{s.header.style.opacity=1,Be.setClass(s,D),Be.remClass(s.content,D)}),s.header.addEventListener("mouseleave",()=>{s.header.style.opacity=0,Be.remClass(s,D),Be.setClass(s.content,D)})}}else s.setHeaderRemove(),t.addCloseControl&&s.addCloseControl();if(t.headerToolbar&&s.addToolbar(s.headertoolbar,t.headerToolbar),t.footerToolbar&&s.addToolbar(s.footer,t.footerToolbar),t.border&&s.setBorder(t.border),t.borderRadius&&s.setBorderRadius(t.borderRadius),t.css)for(const[D,U]of Object.entries(t.css))if(D==="panel")s.className+=" ".concat(U);else{let S=s.querySelector(".jsPanel-".concat(D));S&&(S.className+=" ".concat(U))}if(t.content&&(typeof t.content=="function"?t.content.call(s,s):typeof t.content=="string"?s.content.innerHTML=t.content:s.content.append(t.content)),t.contentAjax&&this.ajax(t.contentAjax,s),t.contentFetch&&this.fetch(t.contentFetch,s),t.contentOverflow){const D=t.contentOverflow.split(" ");D.length===1?s.content.style.overflow=D[0]:D.length===2&&(s.content.style.overflowX=D[0],s.content.style.overflowY=D[1])}if(t.autoclose){typeof t.autoclose=="number"?t.autoclose={time:t.autoclose+"ms"}:typeof t.autoclose=="string"&&(t.autoclose={time:t.autoclose});let D=Object.assign({},Be.defaultAutocloseConfig,t.autoclose);D.time&&typeof D.time=="number"&&(D.time+="ms");let U=s.progressbar.querySelector("div");U.addEventListener("animationend",S=>{S.stopPropagation(),s.progressbar.classList.remove("active"),s.close()}),D.progressbar&&(s.progressbar.classList.add("active"),D.background?Be.colorNames[D.background]?s.progressbar.style.background="#"+Be.colorNames[D.background]:s.progressbar.style.background=D.background:s.progressbar.classList.add("success-bg")),U.style.animation="".concat(D.time," progressbar")}if(t.rtl&&s.setRtl(),s.setSize(),s.status="normalized",t.position?this.position(s,t.position):s.style.opacity=1,document.dispatchEvent(l),s.calcSizeFactors(),t.animateIn&&(s.addEventListener("animationend",()=>{this.remClass(s,t.animateIn)}),this.setClass(s,t.animateIn)),t.syncMargins){let D=this.pOcontainment(t.maximizedMargin);t.dragit&&(t.dragit.containment=D,t.dragit.snap===!0?(t.dragit.snap=Be.defaultSnapConfig,t.dragit.snap.containment=!0):t.dragit.snap&&(t.dragit.snap.containment=!0)),t.resizeit&&(t.resizeit.containment=D)}if(t.dragit?(["start","drag","stop"].forEach(D=>{t.dragit[D]?typeof t.dragit[D]=="function"&&(t.dragit[D]=[t.dragit[D]]):t.dragit[D]=[]}),s.drag(t.dragit),s.addEventListener("jspaneldragstop",D=>{D.panel===s&&s.calcSizeFactors()},!1)):s.titlebar.style.cursor="default",t.resizeit){["start","resize","stop"].forEach(U=>{t.resizeit[U]?typeof t.resizeit[U]=="function"&&(t.resizeit[U]=[t.resizeit[U]]):t.resizeit[U]=[]}),s.sizeit(t.resizeit);let D;s.addEventListener("jspanelresizestart",U=>{U.panel===s&&(D=s.status)},!1),s.addEventListener("jspanelresizestop",U=>{U.panel===s&&(D==="smallified"||D==="smallifiedmax"||D==="maximized")&&parseFloat(s.style.height)>parseFloat(window.getComputedStyle(s.header).height)&&(s.setControls([".jsPanel-btn-normalize"]),s.status="normalized",document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Be.processCallbacks(s,t.onstatuschange,"every"),s.calcSizeFactors())},!1)}if(s.saveCurrentDimensions(),s.saveCurrentPosition(),t.setStatus&&(t.setStatus==="smallifiedmax"?s.maximize().smallify():t.setStatus==="smallified"?s.smallify():s[t.setStatus.slice(0,-1)]()),this.pointerdown.forEach(D=>{s.addEventListener(D,U=>{U.target.closest(".jsPanel-btn-close")||U.target.closest(".jsPanel-btn-minimize")||t.paneltype!=="standard"||s.front()},!1)}),t.onwindowresize&&s.options.container==="window"&&window.addEventListener("resize",s.windowResizeHandler,!1),t.onparentresize){let D=t.onparentresize,U=typeof D,S=s.isChildpanel();if(S){const k=S.content;let M=[];s.parentResizeHandler=N=>{if(N.panel===S){M[0]=k.offsetWidth,M[1]=k.offsetHeight;let V,G,ee=s.status;ee==="maximized"&&D?s.maximize():s.snapped&&ee!=="minimized"?s.snap(s.snapped,!0):ee==="normalized"||ee==="smallified"||ee==="maximized"?U==="function"?D.call(s,s,{width:M[0],height:M[1]}):U==="object"&&D.preset===!0?(V=(M[0]-s.offsetWidth)*s.hf,s.style.left=V<=0?0:V+"px",G=(M[1]-s.offsetHeight)*s.vf,s.style.top=G<=0?0:G+"px",D.callback.call(s,s,{width:M[0],height:M[1]})):U==="boolean"&&(V=(M[0]-s.offsetWidth)*s.hf,s.style.left=V<=0?0:V+"px",G=(M[1]-s.offsetHeight)*s.vf,s.style.top=G<=0?0:G+"px"):ee==="smallifiedmax"&&D&&s.maximize().smallify()}},document.addEventListener("jspanelresize",s.parentResizeHandler,!1)}}return this.globalCallbacks&&(Array.isArray(this.globalCallbacks)?this.globalCallbacks.forEach(D=>D.call(s,s)):this.globalCallbacks.call(s,s)),t.callback&&(Array.isArray(t.callback)?t.callback.forEach(D=>D.call(s,s)):t.callback.call(s,s)),e&&(Array.isArray(e)?e.forEach(D=>D.call(s,s)):e.call(s,s)),document.dispatchEvent(r),s}};const Ht=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i},V6={name:"JsPanel",props:{visible:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},computed:{panelOptions(){return Object.assign({onclosed:this.close},this.options)}},watch:{visible(t){t&&this.createPanel()}},mounted(){this.visible&&this.createPanel()},methods:{async createPanel(){await this.$nextTick();let t=Object.assign({content:this.$refs.default},this.panelOptions);this.$slots.headerToolbar&&(t=Object.assign({headerToolbar:this.$slots.headerToolbar()[0].el},t)),Be.create(t)},close(){this.$emit("close"),this.$emit("update:visible",!1)}}},z6={key:0,ref:"default"};function G6(t,e,i,n,s,r){return i.visible?(Y(),te("div",z6,[zw(t.$slots,"default"),zw(t.$slots,"headerToolbar")],512)):De("",!0)}const ii=Ht(V6,[["render",G6]]),K6=["audio","calendrier","chrono","codeqr","des","histoire","horloge","lien","modalites","plateau","pendu","rebours","retroaction","sonometre","synthese"],s1=["dessin","nuage","texte"],ym=["cartes","document","galerie","groupes","iframe","image","images-sequentielles","ordre","surlignage","tableau","tirage-audio","tirage-image","tirage-texte","trous","video","webcam"],r1=["calendrier","chrono","dessin","document","horloge","iframe","modalites","retroaction","sonometre","webcam"],wm=["tableau","texte"],W6=["calendrier","horloge","modalites","retroaction"],q6=["calendrier","chrono","codeqr","des","histoire","horloge","modalites","pendu","rebours"],ni={methods:{definirCaracteristiques(t){this.titre=this.$t(t),this.id=this.panneau.id,this.w=this.panneau.w,this.h=this.panneau.h,this.x=this.panneau.x,this.y=this.panneau.y,this.statut=this.panneau.statut,this.dimensions=this.panneau.dimensions,this.panneau.hasOwnProperty("position")&&(this.position=this.panneau.position),this.panneau.hasOwnProperty("titre")&&(this.titre=this.panneau.titre),this.panneau.mode!==""&&(this.mode=this.panneau.mode)},genererOptions(t){let e={size:"xl",minimize:"remove",maximize:"hide"};s1.includes(t)?e={size:"xl",minimize:"remove"}:K6.includes(t)&&(e={size:"xl",minimize:"remove",maximize:"remove"}),this.options={id:this.id,theme:"none",iconfont:"material-icons",container:"window",animateIn:"jsPanelFadeIn",animateOut:"jsPanelFadeOut",headerTitle:"",headerControls:e,borderRadius:"0.7rem",closeOnEscape:!1,panelSize:{width:this.convertirRem(this.w),height:this.convertirRem(this.h)},dragit:{containment:[0,0,this.convertirRem(7.5),0],handles:".jsPanel-titlebar, .conteneur-gauche, .conteneur-droite, .conteneur-bas",opacity:.85,drag:(function(i,n){this.deplacer(n)}).bind(this),stop:(function(i,n){this.redimensionner(n)}).bind(this)},resizeit:{containment:[0,0,this.convertirRem(7.5),0],handles:"n, e, s, w, ne, se, sw, nw",minWidth:this.convertirRem(this.minw),minHeight:this.convertirRem(this.minh),stop:(function(i,n){this.redimensionner(n)}).bind(this)},onmaximized:(function(i){this.statut="max",Object.keys(this.dimensions).length===0&&(this.dimensions={w:this.w,h:this.h,x:this.x,y:this.y}),i.setHeaderTitle(""),i.setBorderRadius("0"),i.resizeit("disable"),i.dragit("disable"),i.setControlStatus("smallify","hide"),this.nav===!0?i.style.height=document.body.clientHeight-this.convertirRem(7.5)+"px":i.style.height="100%"}).bind(this),onsmallified:(function(i){this.statut="min",Object.keys(this.dimensions).length===0&&(this.dimensions={w:this.w,h:this.h,x:this.x,y:this.y}),i.setHeaderTitle(this.titre),i.resizeit("disable"),this.mode==="edition"&&ym.includes(this.panneau.type)===!0&&i.setControlStatus("maximize","hide"),this.mode==="lecture"&&(wm.includes(this.panneau.type)===!0||this.panneau.type==="image")&&(i.setControlStatus("zoom-in","hide"),i.setControlStatus("zoom-out","hide"),i.setControlStatus("reset","hide"),i.setControlStatus("separator","hide"))}).bind(this),onunsmallified:(function(i){this.statut="",this.w=this.dimensions.w,this.h=this.dimensions.h,this.dimensions={},i.setHeaderTitle(""),this.redimensionnement===!0&&i.resizeit("enable"),this.mode==="edition"&&ym.includes(this.panneau.type)===!0&&i.setControlStatus("maximize","hide"),this.mode==="lecture"&&(wm.includes(this.panneau.type)===!0||this.panneau.type==="image")&&(i.setControlStatus("zoom-in","show"),i.setControlStatus("zoom-out","show"),i.setControlStatus("reset","show"),i.setControlStatus("separator","show")),this.positionner()}).bind(this),onnormalized:(function(i){this.statut="",this.w=this.dimensions.w,this.h=this.dimensions.h,this.x=this.dimensions.x,this.y=this.dimensions.y,this.dimensions={},i.setBorderRadius("0.7rem"),i.setHeaderTitle(""),i.dragit("enable"),this.redimensionnement===!0&&i.resizeit("enable"),i.setControlStatus("smallify","show"),this.positionner()}).bind(this),onfronted:(function(){this.$emit("afficher",this.id)}).bind(this),onclosed:(function(){const i=this.panneau.type;this.$emit("fermer",this.id,i),i==="audio"&&this.dataURL!==""&&this.audio!==""?window.URL.revokeObjectURL(this.audio):i==="document"&&this.type==="pdf"&&this.document!==""?window.URL.revokeObjectURL(this.document):i==="horloge"?clearInterval(this.horloge):i==="plateau"?this.desactiverPions():i==="rebours"&&this.decompte!==""?clearInterval(this.decompte):i==="sonometre"?(this.pause(),this.analyseur!==""&&this.analyseur.disconnect()):i==="tableau"&&this.tabulator!==""?(this.tabulator.clearData(),this.tabulator.destroy()):i==="video"&&this.lecteur!==""&&this.lecteur.dispose()}).bind(this),onwindowresize:(function(){this.positionner(),this.panneau.type==="horloge"?this.redimensionnerHorloge():this.panneau.type==="dessin"&&(this.dimensionsCanva.w=this.convertirRem(this.w),this.dimensionsCanva.h=this.convertirRem(this.h)-this.convertirRem(3))}).bind(this)}},initialiser(){this.$nextTick((function(){const t=document.querySelector("#"+this.id);t&&(this.redimensionnement===!0?t.resizeit("enable"):t.resizeit("disable"),t.style.left=this.x+"px",t.style.top=this.y+"px",t.querySelector(".jsPanel-title").addEventListener("dblclick",(function(){this.renommer(this.titre)}).bind(this)),t&&this.$parent.pages.length>1&&t.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&this.panneau.type!=="modalites"&&this.panneau.type!=="retroaction"&&r1.includes(this.panneau.type)===!0&&t.addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.envoyer(this.id)}).bind(this),position:1}),W6.includes(this.panneau.type)===!0&&this.ajouterFocus(t),this.$nextTick((function(){this.statut==="min"?t.smallify():this.statut==="max"&&t.maximize()}).bind(this)))}).bind(this))},deplacer(t){this.deplacement=!0,this.donnees&&Object.keys(this.donnees).length>0&&(this.donnees.x=t.left,this.donnees.y=t.top,this.position={})},redimensionner(t){this.deplacement=!1;let e=10;document.body.clientWidth<1367&&(e=9),this.w=t.width/e,this.h=t.height/e,this.x=t.left,this.y=t.top,this.position={}},positionner(){this.w>document.body.clientWidth&&(this.w=document.body.clientWidth),this.nav===!0&&this.h>document.body.clientHeight-this.convertirRem(7.5)?this.h=document.body.clientHeight-this.convertirRem(7.5):this.nav===!1&&this.h>document.body.clientHeight&&(this.h=document.body.clientHeight),this.x>document.body.clientWidth-this.convertirRem(this.w)&&(this.x=document.body.clientWidth-this.convertirRem(this.w)),Object.keys(this.position).length>0&&this.position.x<=document.body.clientWidth-this.convertirRem(this.w)&&(this.x=this.position.x),this.nav===!0&&this.y>document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h))?(this.y=document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h)),Object.keys(this.position).length>0&&this.position.y<=document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h))&&(this.y=this.position.y)):this.nav===!1&&this.y>document.body.clientHeight-this.convertirRem(this.h)&&(this.y=document.body.clientHeight-this.convertirRem(this.h),Object.keys(this.position).length>0&&this.position.y<=document.body.clientHeight-this.convertirRem(this.h)&&(this.y=this.position.y)),this.$nextTick((function(){const t=document.querySelector("#"+this.id);this.$nextTick((function(){t&&this.statut===""&&(t.resize({width:this.convertirRem(this.w),height:this.convertirRem(this.h)}),t.style.left=this.x+"px",t.style.top=this.y+"px")}).bind(this)),this.options.resizeit.minWidth=this.convertirRem(this.minw),this.options.resizeit.minHeight=this.convertirRem(this.minh),this.nav===!0?(this.options.dragit.containment=[0,0,this.convertirRem(7.5),0],this.options.resizeit.containment=[0,0,this.convertirRem(7.5),0],t&&this.statut==="max"&&this.$nextTick((function(){t.style.height=document.body.clientHeight-this.convertirRem(7.5)+"px"}).bind(this))):(this.options.dragit.containment=[0,0,0,0],this.options.resizeit.containment=[0,0,0,0],t&&this.statut==="max"&&this.$nextTick((function(){t.style.height="100%"}).bind(this)))}).bind(this))},renommer(t){const e=prompt(this.$t("nouveauTitre"),t);e!==null&&(this.titre=e,document.querySelector("#"+this.id).setHeaderTitle(e))},envoyer(t){const e=prompt(this.$t("envoyerPage"),this.$parent.page);e!==null&&this.$parent.page!==parseInt(e)&&parseInt(e)>0&&parseInt(e)<=this.$parent.pages.length&&(this.$parent.exportDonnees=!0,this.$nextTick((function(){const i=JSON.parse(JSON.stringify(this.$parent.panneaux));i.forEach(function(n){n.id===t&&(n.page=parseInt(e))}),document.querySelector("#"+t)&&document.querySelector("#"+t).close(),this.$parent.exportDonnees=!1,setTimeout((function(){this.$parent.panneaux=i}).bind(this),150)}).bind(this)))},ajouterFocus(t){t.addControl({html:'<span class="material-icons">highlight</span>',name:"focus",ariaLabel:"panel focus",handler:(function(){this.statut="focus",document.querySelectorAll(".jsPanel").forEach((function(n){if(n.id!==this.id)n.style.display="none";else{n.resizeit("disable"),n.dragit("disable"),n.querySelector(".jsPanel-controlbar").style.display="none";const s=document.body.clientWidth;let r;this.nav?r=document.body.clientHeight-this.convertirRem(7.5):r=document.body.clientHeight;let o=r/this.convertirRem(this.h);this.convertirRem(this.w)*o>s&&(o=s/this.convertirRem(this.w)),n.setAttribute("data-x",this.x),n.setAttribute("data-y",this.y),n.style.top=(r-this.convertirRem(this.h))/2+"px",n.style.left=(s-this.convertirRem(this.w))/2+"px",n.style.top=(r-this.convertirRem(this.h))/2+"px",n.style.transform="scale("+o+")",n.style.boxShadow="none",n.style.background="transparent",n.querySelector(".jsPanel-hdr").style.visibility="hidden",n.querySelector(".jsPanel-content").style.background="transparent"}}).bind(this));const i=document.createElement("div");i.id="masque",(this.panneau.type==="modalites"||this.panneau.type==="pendu"||this.panneau.type==="retroaction")&&(i.className="blanc"),i.innerHTML='<span class="material-icons">close</span>',document.body.appendChild(i),document.querySelector("#masque span").addEventListener("click",(function(){this.statut=""}).bind(this)),document.querySelector("nav").style.display="none",document.querySelector(".bouton-cadenas").style.display="none",document.querySelector(".nav")&&(document.querySelector(".nav").style.display="none"),document.querySelector(".bouton-export")&&(document.querySelector(".bouton-export").style.display="none"),document.querySelector(".bouton-plein-ecran")&&(document.querySelector(".bouton-plein-ecran").style.display="none"),document.querySelector(".bouton-capture")&&(document.querySelector(".bouton-capture").style.display="none"),document.querySelector(".bouton-annotation")&&(document.querySelector(".bouton-annotation").style.display="none")}).bind(this),position:2})},gererClavier(t,e,i){const n=s1.concat(ym),s=document.querySelector("#"+this.id);e===this.id&&this.statut!=="max"&&(t==="ArrowLeft"||t==="ArrowRight"||t==="ArrowUp"||t==="ArrowDown")?this.deplacerClavier(t):s&&e===this.id&&t==="m"&&this.statut===""?s.smallify():s&&e===this.id&&(t==="m"&&this.statut==="min"||t==="f"&&this.statut==="max")?s.normalize():s&&e===this.id&&t==="f"&&this.statut===""&&n.includes(i)===!0&&(this.mode==="lecture"&&i!=="nuage"&&i!=="texte"||i==="nuage"||i==="texte"&&this.mode==="edition")&&s.maximize()},deplacerClavier(t){t==="ArrowLeft"?this.x=this.x-1:t==="ArrowRight"?this.x=this.x+1:t==="ArrowUp"?this.y=this.y-1:t==="ArrowDown"&&(this.y=this.y+1),this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&(e.style.left=this.x+"px",e.style.top=this.y+"px")}).bind(this))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},verifierURL(t){let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},melanger(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},lancerConfettis(){confetti({angle:300,spread:55,particleCount:150,origin:{x:0,y:-.2},zIndex:10010}),confetti({angle:240,spread:55,particleCount:150,origin:{x:1,y:-.2},zIndex:10010}),confetti({angle:270,spread:70,particleCount:150,origin:{x:.5,y:-.2},zIndex:10010})},convertirDataURL(t){let e=t.split(","),i=e[0].match(/:(.*?);/)[1],n=atob(e[1]),s=n.length,r=new Uint8Array(s);for(;s--;)r[s]=n.charCodeAt(s);return new Blob([r],{type:i})}},watch:{redimensionnement:function(t){this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&t===!0&&this.statut===""?e.resizeit("enable"):e&&t===!1&&this.statut===""&&e.resizeit("disable")}).bind(this))},mode:function(t){this.$nextTick((function(){const e=document.querySelector("#"+this.id),i=this.panneau.type;t==="lecture"&&e&&ym.includes(i)===!0&&e.setControlStatus("maximize","show"),(t==="lecture"||t==="decompte")&&(e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-edit"))===!1&&(i!=="video"&&i!=="image"&&r1.includes(i)===!1||i==="video"&&this.videoId!==""||i==="image"&&this.requete!=="")&&e.addControl({html:'<span class="material-icons">arrow_back</span>',name:"edit",ariaLabel:"panel edit",handler:(function(n){this.statut==="min"?n.unsmallify():this.statut==="max"&&n.normalize(),this.editer()}).bind(this),position:1}),e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-focus"))===!1&&q6.includes(this.panneau.type)===!0&&this.ajouterFocus(e),e&&this.$parent.pages.length>1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&e.addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.envoyer(this.id)}).bind(this),position:2}),e&&(wm.includes(i)===!0||i==="image")&&(e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-in"))===!1&&e.addControl({html:'<span class="material-icons">add</span>',name:"zoom-in",ariaLabel:"panel zoom-in",handler:(function(){i==="image"?this.zoomer():this.augmenterTaille()}).bind(this),position:1}),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-out"))===!1&&e.addControl({html:'<span class="material-icons">remove</span>',name:"zoom-out",ariaLabel:"panel zoom-out",handler:(function(){i==="image"?this.dezoomer():this.reduireTaille()}).bind(this),position:2}),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-reset"))===!1&&e.addControl({html:'<span class="material-icons">center_focus_strong</span>',name:"reset",ariaLabel:"panel reset",handler:(function(){i==="image"?this.recadrer():this.annulerTaille()}).bind(this),position:3}),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-separator"))===!1&&e.addControl({html:"<span></span>",name:"separator",ariaLabel:"panel separator",position:4}))),t!=="lecture"&&(e&&s1.includes(i)===!1&&e.setControlStatus("maximize","hide"),e&&r1.includes(i)===!1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-edit"))===!0&&i!=="rebours"&&e.setControlStatus("edit","remove"),e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-focus"))===!0&&i!=="rebours"&&e.setControlStatus("focus","remove"),e&&(wm.includes(i)===!0||i==="image")&&(e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-in"))===!0&&e.setControlStatus("zoom-in","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-out"))===!0&&e.setControlStatus("zoom-out","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-reset"))===!0&&e.setControlStatus("reset","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-separator"))===!0&&e.setControlStatus("separator","remove")),e&&this.$parent.pages.length>1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!0&&e.setControlStatus("send","remove"))}).bind(this))},pages:{handler:function(t){t.length>1&&this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&document.querySelector("#"+this.id).addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.envoyer(this.id)}).bind(this),position:2})}).bind(this))},deep:!0},nav:function(){this.positionner()},statut:function(t,e){e==="focus"&&t===""&&(document.querySelector("#masque").remove(),document.querySelectorAll(".jsPanel").forEach((function(n){n.id!==this.id?n.style.display="flex":(this.redimensionnement&&n.resizeit("enable"),n.dragit("enable"),n.querySelector(".jsPanel-controlbar").removeAttribute("style"),n.style.transform="none",n.style.boxShadow="0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)",n.style.background="#fff",n.querySelector(".jsPanel-hdr").style.visibility="visible",n.querySelector(".jsPanel-content").style.background="#fff",this.x=n.getAttribute("data-x"),this.y=n.getAttribute("data-y"),n.style.left=this.x+"px",n.style.top=this.y+"px",n.removeAttribute("data-y"),n.removeAttribute("data-y"))}).bind(this)),document.querySelector("nav").style.display="flex",document.querySelector(".bouton-cadenas").style.display="flex",document.querySelector(".nav")&&(document.querySelector(".nav").style.display="flex"),document.querySelector(".bouton-export")&&(document.querySelector(".bouton-export").style.display="flex"),document.querySelector(".bouton-plein-ecran")&&(document.querySelector(".bouton-plein-ecran").style.display="flex"),document.querySelector(".bouton-capture")&&(document.querySelector(".bouton-capture").style.display="flex"),document.querySelector(".bouton-annotation")&&(document.querySelector(".bouton-annotation").style.display="flex"))},evenementClavier:function({touche:t,id:e}){this.gererClavier(t,e,this.panneau.type)}}};const Y6={name:"PCodeQR",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:32,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},codeqr:"",texte:"https://ladigitale.dev",lien:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.texte,w:this.w,h:this.h,x:this.x,y:this.y}))},deplacement:function(t){if(t===!1&&this.mode==="lecture"){const e=document.querySelector("#"+this.id+" .codeqr").getBoundingClientRect();this.codeqr.width=e.width,this.codeqr.height=e.width}}},created(){this.definirCaracteristiques("codeqr"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu,this.verifierURL(this.texte)===!0&&(this.lien=this.texte.replace("http://","").replace("https://",""))),this.genererOptions("codeqr")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus(),document.querySelector("#"+this.id+" input").select()}).bind(this)),this.$nextTick((function(){const t=this.texte;this.codeqr=new QRCode("qr_"+this.id,{text:t,width:this.convertirRem(100),height:this.convertirRem(100),colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}).bind(this))},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.codeqr.makeCode(this.texte),this.verifierURL(this.texte)===!0?(this.lien=this.texte.replace("http://","").replace("https://",""),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=30,this.h=38)):this.verifierURL(this.texte)===!1&&this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):this.verifierURL(this.texte)===!1&&(this.w=30,this.h=32),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner())},editer(){this.mode="edition",this.lien="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=36,this.h=46,this.positionner()}}},X6=d("div",{class:"conteneur-gauche"},null,-1),J6={class:"conteneur panneau-codeqr"},Z6={class:"contenu"},eU={key:0},tU=["value"],iU=["value"],nU=["id"],sU=d("div",{class:"conteneur-droite"},null,-1),rU=d("div",{class:"conteneur-bas"},null,-1);function oU(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[X6,d("div",J6,[d("div",Z6,[s.mode==="edition"?(Y(),te("label",eU,oe(t.$t("lienOuTexte")),1)):De("",!0),s.mode==="edition"?(Y(),te("input",{key:1,type:"search",maxlength:255,value:s.texte,onInput:e[0]||(e[0]=a=>s.texte=a.target.value)},null,40,tU)):s.mode==="lecture"&&s.lien!==""?(Y(),te("input",{key:2,type:"text",class:"domaine",value:s.lien,disabled:""},null,8,iU)):De("",!0),d("div",{id:"qr_"+s.id,class:Ne(["codeqr",{edition:s.mode==="edition"}])},null,10,nU),s.mode==="edition"?(Y(),te("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)):De("",!0)])]),sU,rU]),_:1},8,["visible","options"])}const aU=Ht(Y6,[["render",oU]]);var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),i}var o_={exports:{}};(function(t,e){(function(i,n){n(e)})(Xi,function(i){var n=Object.assign||function(y){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(y[m]=C[m])}return y},s="defaultParagraphSeparator",r="formatBlock",o=function(y,E,C){return y.addEventListener(E,C)},a=function(y,E){return y.appendChild(E)},l=function(y){return document.createElement(y)},u=function(y){return document.queryCommandState(y)},c=function(y){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return document.execCommand(y,!1,E)},A={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return u("bold")},result:function(){return c("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return u("italic")},result:function(){return c("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return u("underline")},result:function(){return c("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return u("strikeThrough")},result:function(){return c("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return c(r,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return c(r,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return c(r,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return c(r,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return c("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return c("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return c(r,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return c("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var y=window.prompt("Enter the link URL");y&&c("createLink",y)}},image:{icon:"&#128247;",title:"Image",result:function(){var y=window.prompt("Enter the image URL");y&&c("insertImage",y)}}},h={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},g=function(y){var E=y.actions?y.actions.map(function(B){return typeof B=="string"?A[B]:A[B.name]?n({},A[B.name],B):B}):Object.keys(A).map(function(B){return A[B]}),C=n({},h,y.classes),m=y[s]||"div",b=l("div");b.className=C.actionbar,a(y.element,b);var _=y.element.content=l("div");return _.contentEditable=!0,_.className=C.content,_.oninput=function(B){var L=B.target.firstChild;L&&L.nodeType===3?c(r,"<"+m+">"):_.innerHTML==="<br>"&&(_.innerHTML=""),y.onChange(_.innerHTML)},_.onkeydown=function(B){var L;B.key==="Enter"&&(L=r,document.queryCommandValue(L)==="blockquote")&&setTimeout(function(){return c(r,"<"+m+">")},0)},a(y.element,_),E.forEach(function(B){var L=l("button");if(L.className=C.button,L.innerHTML=B.icon,L.title=B.title,L.setAttribute("type","button"),L.onclick=function(){return B.result()&&_.focus()},B.state){var j=function(){return L.classList[B.state()?"add":"remove"](C.selected)};o(_,"keyup",j),o(_,"mouseup",j),o(L,"click",j)}a(b,L)}),y.styleWithCSS&&c("styleWithCSS"),c(s,m),y.element},f={exec:c,init:g};i.exec=c,i.init=g,i.default=f,Object.defineProperty(i,"__esModule",{value:!0})})})(o_,o_.exports);var lU=o_.exports;const Dr=us(lU),uU="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",cU="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",vh=(t,e)=>{for(const i in e)t[i]=e[i];return t},a_="numeric",l_="ascii",u_="alpha",y0="asciinumeric",_m="alphanumeric",c_="domain",eF="emoji",AU="scheme",hU="slashscheme",nx="whitespace";function dU(t,e){return t in e||(e[t]=[]),e[t]}function vc(t,e,i){e[a_]&&(e[y0]=!0,e[_m]=!0),e[l_]&&(e[y0]=!0,e[u_]=!0),e[y0]&&(e[_m]=!0),e[u_]&&(e[_m]=!0),e[_m]&&(e[c_]=!0),e[eF]&&(e[c_]=!0);for(const n in e){const s=dU(n,i);s.indexOf(t)<0&&s.push(t)}}function fU(t,e){const i={};for(const n in e)e[n].indexOf(t)>=0&&(i[n]=!0);return i}function dr(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}dr.groups={};dr.prototype={accepts(){return!!this.t},go(t){const e=this,i=e.j[t];if(i)return i;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],r=e.jr[n][1];if(r&&s.test(t))return r}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,i,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,i,n)},tr(t,e,i,n){n=n||dr.groups;let s;return e&&e.j?s=e:(s=new dr(e),i&&n&&vc(e,i,n)),this.jr.push([t,s]),s},ts(t,e,i,n){let s=this;const r=t.length;if(!r)return s;for(let o=0;o<r-1;o++)s=s.tt(t[o]);return s.tt(t[r-1],e,i,n)},tt(t,e,i,n){n=n||dr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const r=e;let o,a=s.go(t);if(a?(o=new dr,vh(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new dr,r){if(n)if(o.t&&typeof o.t=="string"){const l=vh(fU(o.t,n),i);vc(r,l,n)}else i&&vc(r,i,n);o.t=r}return s.j[t]=o,o}};const ft=(t,e,i,n,s)=>t.ta(e,i,n,s),Fr=(t,e,i,n,s)=>t.tr(e,i,n,s),sx=(t,e,i,n,s)=>t.ts(e,i,n,s),Ye=(t,e,i,n,s)=>t.tt(e,i,n,s),La="WORD",A_="UWORD",Mp="LOCALHOST",h_="TLD",d_="UTLD",w0="SCHEME",IA="SLASH_SCHEME",S2="NUM",tF="WS",B2="NL",NA="OPENBRACE",Zf="OPENBRACKET",ep="OPENANGLEBRACKET",tp="OPENPAREN",dc="CLOSEBRACE",HA="CLOSEBRACKET",QA="CLOSEANGLEBRACKET",fc="CLOSEPAREN",ev="AMPERSAND",tv="APOSTROPHE",iv="ASTERISK",Il="AT",nv="BACKSLASH",sv="BACKTICK",rv="CARET",Ol="COLON",k2="COMMA",ov="DOLLAR",Bo="DOT",av="EQUALS",D2="EXCLAMATION",ko="HYPHEN",lv="PERCENT",uv="PIPE",cv="PLUS",Av="POUND",hv="QUERY",F2="QUOTE",I2="SEMI",Do="SLASH",ip="TILDE",dv="UNDERSCORE",iF="EMOJI",fv="SYM";var nF=Object.freeze({__proto__:null,WORD:La,UWORD:A_,LOCALHOST:Mp,TLD:h_,UTLD:d_,SCHEME:w0,SLASH_SCHEME:IA,NUM:S2,WS:tF,NL:B2,OPENBRACE:NA,OPENBRACKET:Zf,OPENANGLEBRACKET:ep,OPENPAREN:tp,CLOSEBRACE:dc,CLOSEBRACKET:HA,CLOSEANGLEBRACKET:QA,CLOSEPAREN:fc,AMPERSAND:ev,APOSTROPHE:tv,ASTERISK:iv,AT:Il,BACKSLASH:nv,BACKTICK:sv,CARET:rv,COLON:Ol,COMMA:k2,DOLLAR:ov,DOT:Bo,EQUALS:av,EXCLAMATION:D2,HYPHEN:ko,PERCENT:lv,PIPE:uv,PLUS:cv,POUND:Av,QUERY:hv,QUOTE:F2,SEMI:I2,SLASH:Do,TILDE:ip,UNDERSCORE:dv,EMOJI:iF,SYM:fv});const dA=/[a-z]/,o1=/\p{L}/u,a1=/\p{Emoji}/u,l1=/\d/,rx=/\s/,ox="\n",pU="️",gU="‍";let Cm=null,Em=null;function mU(t){t===void 0&&(t=[]);const e={};dr.groups=e;const i=new dr;Cm==null&&(Cm=ax(uU)),Em==null&&(Em=ax(cU)),Ye(i,"'",tv),Ye(i,"{",NA),Ye(i,"[",Zf),Ye(i,"<",ep),Ye(i,"(",tp),Ye(i,"}",dc),Ye(i,"]",HA),Ye(i,">",QA),Ye(i,")",fc),Ye(i,"&",ev),Ye(i,"*",iv),Ye(i,"@",Il),Ye(i,"`",sv),Ye(i,"^",rv),Ye(i,":",Ol),Ye(i,",",k2),Ye(i,"$",ov),Ye(i,".",Bo),Ye(i,"=",av),Ye(i,"!",D2),Ye(i,"-",ko),Ye(i,"%",lv),Ye(i,"|",uv),Ye(i,"+",cv),Ye(i,"#",Av),Ye(i,"?",hv),Ye(i,'"',F2),Ye(i,"/",Do),Ye(i,";",I2),Ye(i,"~",ip),Ye(i,"_",dv),Ye(i,"\\",nv);const n=Fr(i,l1,S2,{[a_]:!0});Fr(n,l1,n);const s=Fr(i,dA,La,{[l_]:!0});Fr(s,dA,s);const r=Fr(i,o1,A_,{[u_]:!0});Fr(r,dA),Fr(r,o1,r);const o=Fr(i,rx,tF,{[nx]:!0});Ye(i,ox,B2,{[nx]:!0}),Ye(o,ox),Fr(o,rx,o);const a=Fr(i,a1,iF,{[eF]:!0});Fr(a,a1,a),Ye(a,pU,a);const l=Ye(a,gU);Fr(l,a1,a);const u=[[dA,s]],c=[[dA,null],[o1,r]];for(let A=0;A<Cm.length;A++)Cl(i,Cm[A],h_,La,u);for(let A=0;A<Em.length;A++)Cl(i,Em[A],d_,A_,c);vc(h_,{tld:!0,ascii:!0},e),vc(d_,{utld:!0,alpha:!0},e),Cl(i,"file",w0,La,u),Cl(i,"mailto",w0,La,u),Cl(i,"http",IA,La,u),Cl(i,"https",IA,La,u),Cl(i,"ftp",IA,La,u),Cl(i,"ftps",IA,La,u),vc(w0,{scheme:!0,ascii:!0},e),vc(IA,{slashscheme:!0,ascii:!0},e),t=t.sort((A,h)=>A[0]>h[0]?1:-1);for(let A=0;A<t.length;A++){const h=t[A][0],f=t[A][1]?{[AU]:!0}:{[hU]:!0};h.indexOf("-")>=0?f[c_]=!0:dA.test(h)?l1.test(h)?f[y0]=!0:f[l_]=!0:f[a_]=!0,sx(i,h,h,f)}return sx(i,"localhost",Mp,{ascii:!0}),i.jd=new dr(fv),{start:i,tokens:vh({groups:e},nF)}}function vU(t,e){const i=bU(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=i.length,s=[];let r=0,o=0;for(;o<n;){let a=t,l=null,u=0,c=null,A=-1,h=-1;for(;o<n&&(l=a.go(i[o]));)a=l,a.accepts()?(A=0,h=0,c=a):A>=0&&(A+=i[o].length,h++),u+=i[o].length,r+=i[o].length,o++;r-=A,o-=h,u-=A,s.push({t:c.t,v:e.slice(r-u,r),s:r-u,e:r})}return s}function bU(t){const e=[],i=t.length;let n=0;for(;n<i;){let s=t.charCodeAt(n),r,o=s<55296||s>56319||n+1===i||(r=t.charCodeAt(n+1))<56320||r>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Cl(t,e,i,n,s){let r;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?r=t.j[l]:(r=new dr(n),r.jr=s.slice(),t.j[l]=r),t=r}return r=new dr(i),r.jr=s.slice(),t.j[e[o-1]]=r,r}function ax(t){const e=[],i=[];let n=0,s="0123456789";for(;n<t.length;){let r=0;for(;s.indexOf(t[n+r])>=0;)r++;if(r>0){e.push(i.join(""));for(let o=parseInt(t.substring(n,n+r),10);o>0;o--)i.pop();n+=r}else i.push(t[n]),n++}return e}const Rp={defaultProtocol:"http",events:null,format:lx,formatHref:lx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function L2(t,e){e===void 0&&(e=null);let i=vh({},Rp);t&&(i=vh(i,t instanceof L2?t.o:t));const n=i.ignoreTags,s=[];for(let r=0;r<n.length;r++)s.push(n[r].toUpperCase());this.o=i,e&&(this.defaultRender=e),this.ignoreTags=s}L2.prototype={o:Rp,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,i){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:Rp[t],typeof s=="function"&&n&&(s=s(e,i))):typeof s=="function"&&n&&(s=s(e,i.t,i)),s)},getObj(t,e,i){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,i.t,i)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function lx(t){return t}function sF(t,e){this.t="token",this.v=t,this.tk=e}sF.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),i=t.get("truncate",e,this),n=t.get("format",e,this);return i&&n.length>i?n.substring(0,i)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Rp.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,i=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",i,this),s=t.get("tagName",i,e),r=this.toFormattedString(t),o={},a=t.get("className",i,e),l=t.get("target",i,e),u=t.get("rel",i,e),c=t.getObj("attributes",i,e),A=t.getObj("events",i,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),c&&vh(o,c),{tagName:s,attributes:o,content:r,eventListeners:A}}};function Bb(t,e){class i extends sF{constructor(s,r){super(s,r),this.t=t}}for(const n in e)i.prototype[n]=e[n];return i.t=t,i}const ux=Bb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),cx=Bb("text"),yU=Bb("nl"),Yu=Bb("url",{isLink:!0,toHref(t){return t===void 0&&(t=Rp.defaultProtocol),this.hasProtocol()?this.v:"".concat(t,"://").concat(this.v)},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Mp&&t[1].t===Ol}}),In=t=>new dr(t);function wU(t){let{groups:e}=t;const i=e.domain.concat([ev,iv,Il,nv,sv,rv,ov,av,ko,S2,lv,uv,cv,Av,Do,fv,ip,dv]),n=[tv,QA,dc,HA,fc,Ol,k2,Bo,D2,ep,NA,Zf,tp,hv,F2,I2],s=[ev,tv,iv,nv,sv,rv,dc,ov,av,ko,NA,lv,uv,cv,Av,hv,Do,fv,ip,dv],r=In(),o=Ye(r,ip);ft(o,s,o),ft(o,e.domain,o);const a=In(),l=In(),u=In();ft(r,e.domain,a),ft(r,e.scheme,l),ft(r,e.slashscheme,u),ft(a,s,o),ft(a,e.domain,a);const c=Ye(a,Il);Ye(o,Il,c),Ye(l,Il,c),Ye(u,Il,c);const A=Ye(o,Bo);ft(A,s,o),ft(A,e.domain,o);const h=In();ft(c,e.domain,h),ft(h,e.domain,h);const g=Ye(h,Bo);ft(g,e.domain,h);const f=In(ux);ft(g,e.tld,f),ft(g,e.utld,f),Ye(c,Mp,f);const y=Ye(h,ko);ft(y,e.domain,h),ft(f,e.domain,h),Ye(f,Bo,g),Ye(f,ko,y);const E=Ye(f,Ol);ft(E,e.numeric,ux);const C=Ye(a,ko),m=Ye(a,Bo);ft(C,e.domain,a),ft(m,s,o),ft(m,e.domain,a);const b=In(Yu);ft(m,e.tld,b),ft(m,e.utld,b),ft(b,e.domain,a),ft(b,s,o),Ye(b,Bo,m),Ye(b,ko,C),Ye(b,Il,c);const _=Ye(b,Ol),B=In(Yu);ft(_,e.numeric,B);const L=In(Yu),j=In();ft(L,i,L),ft(L,n,j),ft(j,i,L),ft(j,n,j),Ye(b,Do,L),Ye(B,Do,L);const O=Ye(l,Ol),Q=Ye(u,Ol),$=Ye(Q,Do),D=Ye($,Do);ft(l,e.domain,a),Ye(l,Bo,m),Ye(l,ko,C),ft(u,e.domain,a),Ye(u,Bo,m),Ye(u,ko,C),ft(O,e.domain,L),Ye(O,Do,L),ft(D,e.domain,L),ft(D,i,L),Ye(D,Do,L);const U=Ye(L,NA),S=Ye(L,Zf),k=Ye(L,ep),M=Ye(L,tp);Ye(j,NA,U),Ye(j,Zf,S),Ye(j,ep,k),Ye(j,tp,M),Ye(U,dc,L),Ye(S,HA,L),Ye(k,QA,L),Ye(M,fc,L),Ye(U,dc,L);const N=In(Yu),V=In(Yu),G=In(Yu),ee=In(Yu);ft(U,i,N),ft(S,i,V),ft(k,i,G),ft(M,i,ee);const se=In(),ne=In(),le=In(),he=In();return ft(U,n),ft(S,n),ft(k,n),ft(M,n),ft(N,i,N),ft(V,i,V),ft(G,i,G),ft(ee,i,ee),ft(N,n,N),ft(V,n,V),ft(G,n,G),ft(ee,n,ee),ft(se,i,se),ft(ne,i,V),ft(le,i,G),ft(he,i,ee),ft(se,n,se),ft(ne,n,ne),ft(le,n,le),ft(he,n,he),Ye(V,HA,L),Ye(G,QA,L),Ye(ee,fc,L),Ye(N,dc,L),Ye(ne,HA,L),Ye(le,QA,L),Ye(he,fc,L),Ye(se,fc,L),Ye(r,Mp,b),Ye(r,B2,yU),{start:r,tokens:nF}}function _U(t,e,i){let n=i.length,s=0,r=[],o=[];for(;s<n;){let a=t,l=null,u=null,c=0,A=null,h=-1;for(;s<n&&!(l=a.go(i[s].t));)o.push(i[s++]);for(;s<n&&(u=l||a.go(i[s].t));)l=null,a=u,a.accepts()?(h=0,A=a):h>=0&&h++,s++,c++;if(h<0)s-=c,s<n&&(o.push(i[s]),s++);else{o.length>0&&(r.push(u1(cx,e,o)),o=[]),s-=h,c-=h;const g=A.t,f=i.slice(s-c,s);r.push(u1(g,e,f))}}return o.length>0&&r.push(u1(cx,e,o)),r}function u1(t,e,i){const n=i[0].s,s=i[i.length-1].e,r=e.slice(n,s);return new t(r,i)}const ps={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function CU(){ps.scanner=mU(ps.customSchemes);for(let t=0;t<ps.tokenQueue.length;t++)ps.tokenQueue[t][1]({scanner:ps.scanner});ps.parser=wU(ps.scanner.tokens);for(let t=0;t<ps.pluginQueue.length;t++)ps.pluginQueue[t][1]({scanner:ps.scanner,parser:ps.parser});ps.initialized=!0}function EU(t){return ps.initialized||CU(),_U(ps.parser.start,t,vU(ps.scanner.start,t))}var TU={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},xU=/^#[xX]([A-Fa-f0-9]+)$/,SU=/^#([0-9]+)$/,BU=/^([A-Za-z0-9]+)$/,kU=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var i=e.match(xU);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=e.match(SU),i)return String.fromCharCode(parseInt(i[1],10));if(i=e.match(BU),i)return this.named[i[1]]||"&"+i[1]+";"}},t}(),DU=/[\t\n\f ]/,FU=/[A-Za-z]/,IU=/\r\n?/g;function Jn(t){return DU.test(t)}function Ax(t){return FU.test(t)}function LU(t){return t.replace(IU,"\n")}var PU=function(){function t(e,i,n){n===void 0&&(n="precompile"),this.delegate=e,this.entityParser=i,this.mode=n,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s==="\n"){var r=this.tagNameBuffer.toLowerCase();(r==="pre"||r==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),r=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&r!=="script"&&r!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||Ax(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var r=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();r==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();Jn(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();Jn(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();Jn(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!Jn(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var r=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=r.toUpperCase()==="PUBLIC",a=r.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();Jn(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();Jn(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();Jn(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();Jn(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();Jn(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();Jn(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(Jn(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();Jn(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(Jn(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();Jn(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();Jn(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();Jn(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||Ax(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=LU(e);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e==="\n"?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var i=this.input.slice(this.index,e),n=this.entityParser.parse(i);if(n){for(var s=i.length;s;)this.consume(),s--;return this.consume(),n}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),MU=function(){function t(e,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new PU(this,e,i.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var i=0;i<arguments.length;i++)if(e.type===arguments[i])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=e:i.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=e:i.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function RU(t,e){var i=new MU(new kU(TU),e);return i.tokenize(t)}const rF="LinkifyResult",pv="StartTag",oF="EndTag",f_="Chars",OU="Comment",UU="Doctype";function NU(t,e){e===void 0&&(e={});const i=RU(t),n=[],s=[],r=new L2(e,$U);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===pv){n.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||r.ignoreTags.indexOf(l)>=0))continue;let c=n.length;QU(l,i,++o,n),o+=n.length-c-1}else if(a.type!==f_)n.push(a);else{const l=HU(a.chars,r);n.push.apply(n,l)}}for(let o=0;o<n.length;o++){const a=n[o];switch(a.type){case rF:s.push(a.rendered);break;case pv:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+VU(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case oF:s.push("</".concat(a.tagName,">"));break;case f_:s.push(p_(a.chars));break;case OU:s.push("<!--".concat(p_(a.chars),"-->"));break;case UU:{let l="<!DOCTYPE ".concat(a.name);a.publicIdentifier&&(l+=' PUBLIC "'.concat(a.publicIdentifier,'"')),a.systemIdentifier&&(l+=' "'.concat(a.systemIdentifier,'"')),l+=">",s.push(l);break}}}return s.join("")}function HU(t,e){const i=EU(t),n=[];for(let s=0;s<i.length;s++){const r=i[s];r.t==="nl"&&e.get("nl2br")?n.push({type:pv,tagName:"br",attributes:[],selfClosing:!0}):!r.isLink||!e.check(r)?n.push({type:f_,chars:r.toString()}):n.push({type:rF,rendered:e.render(r)})}return n}function QU(t,e,i,n){let s=1;for(;i<e.length&&s>0;){let r=e[i];r.type===pv&&r.tagName.toUpperCase()===t?s++:r.type===oF&&r.tagName.toUpperCase()===t&&s--,n.push(r),i++}return n}function $U(t){let{tagName:e,attributes:i,content:n}=t;return"<".concat(e," ").concat(jU(i),">").concat(p_(n),"</").concat(e,">")}function p_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function aF(t){return t.replace(/"/g,"&quot;")}function jU(t){const e=[];for(const i in t){const n=t[i]+"";e.push("".concat(i,'="').concat(aF(n),'"'))}return e.join(" ")}function VU(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i][0],s=t[i][1]+"";e.push("".concat(n,'="').concat(aF(s),'"'))}return e}const zU={name:"PTexte",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!0,titre:"",id:"",w:0,h:0,x:0,y:0,minw:53,minh:46,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},editeur:"",texte:"",taille:3.2,couleurFond:"#ffffff"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,taille:this.taille,couleurFond:this.couleurFond},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("texte"),typeof this.panneau.contenu=="object"&&this.panneau.contenu.constructor===Object?(this.texte=this.panneau.contenu.texte,this.taille=this.panneau.contenu.taille,this.couleurFond=this.panneau.contenu.couleurFond):this.panneau.contenu!==""&&(this.texte=this.panneau.contenu),this.mode==="lecture"&&(this.minw=27,this.minh=8,this.$nextTick(function(){window.MathJax.typeset()})),this.genererOptions("texte")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.$nextTick((function(){this.mode==="edition"?(this.creer(),this.texte===""&&document.querySelector("#"+this.id+" .pell-content").focus()):this.mode==="lecture"&&this.couleurFond!=="#ffffff"&&(document.querySelector("#"+this.id+" .jsPanel-hdr").style.background=this.couleurFond,document.querySelector("#"+this.id+" .jsPanel-content").style.background=this.couleurFond)}).bind(this))},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.editeur="",this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=30,this.h=20),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.minw=27,this.minh=8,this.positionner(),this.couleurFond!=="#ffffff"&&(document.querySelector("#"+this.id+" .jsPanel-hdr").style.background=this.couleurFond,document.querySelector("#"+this.id+" .jsPanel-content").style.background=this.couleurFond),this.$nextTick(function(){window.MathJax.typeset()}))},editer(){this.mode="edition",this.$nextTick((function(){this.creer(),this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=53,this.h=46,this.minw=53,this.minh=46,this.positionner(),document.querySelector("#"+this.id+" .jsPanel-hdr").style.background="#ffffff",document.querySelector("#"+this.id+" .jsPanel-content").style.background="#ffffff"}).bind(this))},creer(){this.editeur=Dr.init({element:document.querySelector("#"+this.id+" .editeur"),onChange:(function(t){let e=t.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");e=e.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),e=NU(e,{defaultProtocol:"https",target:"_blank"}),this.texte=e}).bind(this),actions:[{name:"taille-plus",title:this.$t("tailleTextePlus"),icon:'<i class="material-icons">add</i>',result:()=>this.augmenterTaille()},{name:"taille-moins",title:this.$t("tailleTexteMoins"),icon:'<i class="material-icons">remove</i>',result:()=>this.reduireTaille()},{name:"gras",title:this.$t("gras"),icon:'<i class="material-icons">format_bold</i>',result:()=>Dr.exec("bold")},{name:"italique",title:this.$t("italique"),icon:'<i class="material-icons">format_italic</i>',result:()=>Dr.exec("italic")},{name:"souligne",title:this.$t("souligne"),icon:'<i class="material-icons">format_underlined</i>',result:()=>Dr.exec("underline")},{name:"barre",title:this.$t("barre"),icon:'<i class="material-icons">format_strikethrough</i>',result:()=>Dr.exec("strikethrough")},{name:"listedecimale",title:this.$t("listeDecimale"),icon:'<i class="material-icons">format_list_numbered</i>',result:()=>Dr.exec("insertOrderedList")},{name:"liste",title:this.$t("liste"),icon:'<i class="material-icons">format_list_bulleted</i>',result:()=>Dr.exec("insertUnorderedList")},{name:"lien",title:this.$t("lien"),icon:'<i class="material-icons">link</i>',result:()=>{const t=window.prompt(this.$t("adresseLien"));t&&Dr.exec("createLink",t)}},{name:"aligner-gauche",title:this.$t("alignerGauche"),icon:'<i class="material-icons">format_align_left</i>',result:()=>Dr.exec("JustifyLeft")},{name:"centrer",title:this.$t("centrer"),icon:'<i class="material-icons">format_align_center</i>',result:()=>Dr.exec("JustifyCenter")},{name:"couleur-texte",title:this.$t("couleurTexte"),icon:'<label for="couleur-texte-'+this.id+'"><i class="material-icons">format_color_text</i></label><input id="couleur-texte-'+this.id+'" type="color">',result:()=>{}},{name:"couleur-fond",title:this.$t("couleurFond"),icon:'<label for="couleur-fond-'+this.id+'"><i class="material-icons">format_color_fill</i></label><input id="couleur-fond-'+this.id+'" type="color" value="'+this.couleurFond+'">',result:()=>{}}]}),this.editeur.onpaste=function(t){t.preventDefault(),t.stopPropagation();const e=t.clipboardData.getData("text/plain");Dr.exec("insertText",e)},this.editeur.content.innerHTML=this.texte,document.querySelector("#"+this.id+" .editeur .pell-content").style.backgroundColor=this.couleurFond,document.querySelector("#couleur-texte-"+this.id).addEventListener("change",this.modifierCouleurTexte),document.querySelector("#couleur-fond-"+this.id).addEventListener("change",this.modifierCouleurFond)},modifierCouleurTexte(t){Dr.exec("foreColor",t.target.value)},modifierCouleurFond(t){document.querySelector("#"+this.id+" .editeur .pell-content").style.backgroundColor=t.target.value,this.couleurFond=t.target.value},augmenterTaille(){this.taille<10&&(this.taille=this.taille+.2)},reduireTaille(){this.taille>1&&(this.taille=this.taille-.2)},annulerTaille(){this.taille=3.2}}},GU=d("div",{class:"conteneur-gauche"},null,-1),KU={class:"conteneur panneau-texte"},WU={key:0,class:"contenu edition"},qU={key:1,class:"contenu"},YU=["innerHTML"],XU=d("div",{class:"conteneur-droite"},null,-1),JU=d("div",{class:"conteneur-bas"},null,-1);function ZU(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[GU,d("div",KU,[s.mode==="edition"?(Y(),te("div",WU,[d("div",{class:"editeur",style:ti({"font-size":t.convertirRem(s.taille)+"px"})},null,4),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",qU,[d("div",{class:"texte",style:ti({"font-size":t.convertirRem(s.taille)+"px"}),innerHTML:s.texte},null,12,YU)]))]),XU,JU]),_:1},8,["visible","options"])}const e9=Ht(zU,[["render",ZU]]);/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function hx(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function Yo(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(i),!0).forEach(function(n){t9(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):hx(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function _0(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_0=function(e){return typeof e}:_0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function t9(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qa(){return qa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},qa.apply(this,arguments)}function i9(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function n9(t,e){if(t==null)return{};var i=i9(t,e),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var s9="1.14.0";function ja(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var sl=ja(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ng=ja(/Edge/i),dx=ja(/firefox/i),np=ja(/safari/i)&&!ja(/chrome/i)&&!ja(/android/i),lF=ja(/iP(ad|od|hone)/i),r9=ja(/chrome/i)&&ja(/android/i),uF={capture:!1,passive:!1};function hi(t,e,i){t.addEventListener(e,i,!sl&&uF)}function oi(t,e,i){t.removeEventListener(e,i,!sl&&uF)}function gv(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function o9(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Io(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&gv(t,e):gv(t,e))||n&&t===i)return t;if(t===i)break}while(t=o9(t))}return null}var fx=/\s+/g;function sr(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(fx," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(fx," ")}}function Bt(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function nh(t,e){var i="";if(typeof t=="string")i=t;else do{var n=Bt(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function cF(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,r=n.length;if(i)for(;s<r;s++)i(n[s],s);return n}return[]}function Qo(){var t=document.scrollingElement;return t||document.documentElement}function Cn(t,e,i,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,l,u,c,A;if(t!==window&&t.parentNode&&t!==Qo()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,u=r.right,c=r.height,A=r.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,A=window.innerWidth),(e||i)&&t!==window&&(s=s||t.parentNode,!sl))do if(s&&s.getBoundingClientRect&&(Bt(s,"transform")!=="none"||i&&Bt(s,"position")!=="static")){var h=s.getBoundingClientRect();o-=h.top+parseInt(Bt(s,"border-top-width")),a-=h.left+parseInt(Bt(s,"border-left-width")),l=o+r.height,u=a+r.width;break}while(s=s.parentNode);if(n&&t!==window){var g=nh(s||t),f=g&&g.a,y=g&&g.d;g&&(o/=y,a/=f,A/=f,c/=y,l=o+c,u=a+A)}return{top:o,left:a,bottom:l,right:u,width:A,height:c}}}function px(t,e,i){for(var n=Hl(t,!0),s=Cn(t)[e];n;){var r=Cn(n)[i],o=void 0;if(i==="top"||i==="left"?o=s>=r:o=s<=r,!o)return n;if(n===Qo())break;n=Hl(n,!1)}return!1}function bh(t,e,i,n){for(var s=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==kt.ghost&&(n||o[r]!==kt.dragged)&&Io(o[r],i.draggable,t,!1)){if(s===e)return o[r];s++}r++}return null}function P2(t,e){for(var i=t.lastElementChild;i&&(i===kt.ghost||Bt(i,"display")==="none"||e&&!gv(i,e));)i=i.previousElementSibling;return i||null}function Mr(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==kt.clone&&(!e||gv(t,e))&&i++;return i}function gx(t){var e=0,i=0,n=Qo();if(t)do{var s=nh(t),r=s.a,o=s.d;e+=t.scrollLeft*r,i+=t.scrollTop*o}while(t!==n&&(t=t.parentNode));return[e,i]}function a9(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function Hl(t,e){if(!t||!t.getBoundingClientRect)return Qo();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=Bt(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Qo();if(n||e)return i;n=!0}}while(i=i.parentNode);return Qo()}function l9(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function c1(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var sp;function AF(t,e){return function(){if(!sp){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),sp=setTimeout(function(){sp=void 0},e)}}}function u9(){clearTimeout(sp),sp=void 0}function hF(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function dF(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}var pr="Sortable"+new Date().getTime();function c9(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(Bt(s,"display")==="none"||s===kt.ghost)){t.push({target:s,rect:Cn(s)});var r=Yo({},t[t.length-1].rect);if(s.thisAnimationDuration){var o=nh(s,!0);o&&(r.top-=o.f,r.left-=o.e)}s.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(a9(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,A=Cn(u),h=u.prevFromRect,g=u.prevToRect,f=a.rect,y=nh(u,!0);y&&(A.top-=y.f,A.left-=y.e),u.toRect=A,u.thisAnimationDuration&&c1(h,A)&&!c1(c,A)&&(f.top-A.top)/(f.left-A.left)===(c.top-A.top)/(c.left-A.left)&&(l=h9(f,h,g,s.options)),c1(A,c)||(u.prevFromRect=c,u.prevToRect=A,l||(l=s.options.animation),s.animate(u,f,A,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),t=[]},animate:function(n,s,r,o){if(o){Bt(n,"transition",""),Bt(n,"transform","");var a=nh(this.el),l=a&&a.a,u=a&&a.d,c=(s.left-r.left)/(l||1),A=(s.top-r.top)/(u||1);n.animatingX=!!c,n.animatingY=!!A,Bt(n,"transform","translate3d("+c+"px,"+A+"px,0)"),this.forRepaintDummy=A9(n),Bt(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Bt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Bt(n,"transition",""),Bt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function A9(t){return t.offsetWidth}function h9(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var fA=[],A1={initializeByDefault:!0},sg={mount:function(e){for(var i in A1)A1.hasOwnProperty(i)&&!(i in e)&&(e[i]=A1[i]);fA.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),fA.push(e)},pluginEvent:function(e,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var r=e+"Global";fA.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][r]&&i[o.pluginName][r](Yo({sortable:i},n)),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e](Yo({sortable:i},n)))})},initializePlugins:function(e,i,n,s){fA.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,i,e.options);u.sortable=e,u.options=e.options,e[l]=u,qa(n,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,i){var n={};return fA.forEach(function(s){typeof s.eventProperties=="function"&&qa(n,s.eventProperties.call(i[s.pluginName],e))}),n},modifyOption:function(e,i,n){var s;return fA.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[i]=="function"&&(s=r.optionListeners[i].call(e[r.pluginName],n))}),s}};function d9(t){var e=t.sortable,i=t.rootEl,n=t.name,s=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,A=t.newDraggableIndex,h=t.originalEvent,g=t.putSortable,f=t.extraEventProperties;if(e=e||i&&i[pr],!!e){var y,E=e.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!sl&&!ng?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=o||i,y.from=a||i,y.item=s||i,y.clone=r,y.oldIndex=l,y.newIndex=u,y.oldDraggableIndex=c,y.newDraggableIndex=A,y.originalEvent=h,y.pullMode=g?g.lastPutMode:void 0;var m=Yo(Yo({},f),sg.getEventProperties(n,e));for(var b in m)y[b]=m[b];i&&i.dispatchEvent(y),E[C]&&E[C].call(e,y)}}var f9=["evt"],Is=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,r=n9(n,f9);sg.pluginEvent.bind(kt)(e,i,Yo({dragEl:et,parentEl:tn,ghostEl:Rt,rootEl:Hi,nextEl:ac,lastDownEl:C0,cloneEl:sn,cloneHidden:Ul,dragStarted:xf,putSortable:Qn,activeSortable:kt.active,originalEvent:s,oldIndex:$A,oldDraggableIndex:rp,newIndex:lr,newDraggableIndex:Ll,hideGhostForTarget:mF,unhideGhostForTarget:vF,cloneNowHidden:function(){Ul=!0},cloneNowShown:function(){Ul=!1},dispatchSortableEvent:function(a){ds({sortable:i,name:a,originalEvent:s})}},r))};function ds(t){d9(Yo({putSortable:Qn,cloneEl:sn,targetEl:et,rootEl:Hi,oldIndex:$A,oldDraggableIndex:rp,newIndex:lr,newDraggableIndex:Ll},t))}var et,tn,Rt,Hi,ac,C0,sn,Ul,$A,lr,rp,Ll,Tm,Qn,LA=!1,mv=!1,vv=[],Xu,io,h1,d1,mx,vx,xf,pA,op,ap=!1,xm=!1,E0,Zn,f1=[],g_=!1,bv=[],kb=typeof document<"u",Sm=lF,bx=ng||sl?"cssFloat":"float",p9=kb&&!r9&&!lF&&"draggable"in document.createElement("div"),fF=function(){if(kb){if(sl)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),pF=function(e,i){var n=Bt(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=bh(e,0,i),o=bh(e,1,i),a=r&&Bt(r),l=o&&Bt(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Cn(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Cn(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var A=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===A)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=s&&n[bx]==="none"||o&&n[bx]==="none"&&u+c>s)?"vertical":"horizontal"},g9=function(e,i,n){var s=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?i.left:i.top,l=n?i.right:i.bottom,u=n?i.width:i.height;return s===a||r===l||s+o/2===a+u/2},m9=function(e,i){var n;return vv.some(function(s){var r=s[pr].options.emptyInsertThreshold;if(!(!r||P2(s))){var o=Cn(s),a=e>=o.left-r&&e<=o.right+r,l=i>=o.top-r&&i<=o.bottom+r;if(a&&l)return n=s}}),n},gF=function(e){function i(r,o){return function(a,l,u,c){var A=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||A))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return i(r(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var n={},s=e.group;(!s||_0(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,e.group=n},mF=function(){!fF&&Rt&&Bt(Rt,"display","none")},vF=function(){!fF&&Rt&&Bt(Rt,"display","")};kb&&document.addEventListener("click",function(t){if(mv)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),mv=!1,!1},!0);var Ju=function(e){if(et){e=e.touches?e.touches[0]:e;var i=m9(e.clientX,e.clientY);if(i){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[pr]._onDragOver(n)}}},v9=function(e){et&&et.parentNode[pr]._isOutsideThisEl(e.target)};function kt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=qa({},e),t[pr]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pF(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:kt.supportPointer!==!1&&"PointerEvent"in window&&!np,emptyInsertThreshold:5};sg.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);gF(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:p9,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?hi(t,"pointerdown",this._onTapStart):(hi(t,"mousedown",this._onTapStart),hi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(hi(t,"dragover",this),hi(t,"dragenter",this)),vv.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qa(this,c9())}kt.prototype={constructor:kt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(pA=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,et):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,s=this.options,r=s.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=s.filter;if(x9(n),!et&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||s.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&np&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Io(l,s.draggable,n,!1),!(l&&l.animated)&&C0!==l)){if($A=Mr(l),rp=Mr(l,s.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ds({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Is("filter",i,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(A){if(A=Io(u,A.trim(),n,!1),A)return ds({sortable:i,rootEl:A,name:"filter",targetEl:l,fromEl:n,toEl:n}),Is("filter",i,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}s.handle&&!Io(u,s.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,n){var s=this,r=s.el,o=s.options,a=r.ownerDocument,l;if(n&&!et&&n.parentNode===r){var u=Cn(n);if(Hi=r,et=n,tn=et.parentNode,ac=et.nextSibling,C0=n,Tm=o.group,kt.dragged=et,Xu={target:et,clientX:(i||e).clientX,clientY:(i||e).clientY},mx=Xu.clientX-u.left,vx=Xu.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,et.style["will-change"]="all",l=function(){if(Is("delayEnded",s,{evt:e}),kt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!dx&&s.nativeDraggable&&(et.draggable=!0),s._triggerDragStart(e,i),ds({sortable:s,name:"choose",originalEvent:e}),sr(et,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){cF(et,c.trim(),p1)}),hi(a,"dragover",Ju),hi(a,"mousemove",Ju),hi(a,"touchmove",Ju),hi(a,"mouseup",s._onDrop),hi(a,"touchend",s._onDrop),hi(a,"touchcancel",s._onDrop),dx&&this.nativeDraggable&&(this.options.touchStartThreshold=4,et.draggable=!0),Is("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(ng||sl))){if(kt.eventCanceled){this._onDrop();return}hi(a,"mouseup",s._disableDelayedDrag),hi(a,"touchend",s._disableDelayedDrag),hi(a,"touchcancel",s._disableDelayedDrag),hi(a,"mousemove",s._delayedDragTouchMoveHandler),hi(a,"touchmove",s._delayedDragTouchMoveHandler),o.supportPointer&&hi(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){et&&p1(et),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;oi(e,"mouseup",this._disableDelayedDrag),oi(e,"touchend",this._disableDelayedDrag),oi(e,"touchcancel",this._disableDelayedDrag),oi(e,"mousemove",this._delayedDragTouchMoveHandler),oi(e,"touchmove",this._delayedDragTouchMoveHandler),oi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?hi(document,"pointermove",this._onTouchMove):i?hi(document,"touchmove",this._onTouchMove):hi(document,"mousemove",this._onTouchMove):(hi(et,"dragend",this),hi(Hi,"dragstart",this._onDragStart));try{document.selection?T0(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(LA=!1,Hi&&et){Is("dragStarted",this,{evt:i}),this.nativeDraggable&&hi(document,"dragover",v9);var n=this.options;!e&&sr(et,n.dragClass,!1),sr(et,n.ghostClass,!0),kt.active=this,e&&this._appendGhost(),ds({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(io){this._lastX=io.clientX,this._lastY=io.clientY,mF();for(var e=document.elementFromPoint(io.clientX,io.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(io.clientX,io.clientY),e!==i);)i=e;if(et.parentNode[pr]._isOutsideThisEl(e),i)do{if(i[pr]){var n=void 0;if(n=i[pr]._onDragOver({clientX:io.clientX,clientY:io.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);vF()}},_onTouchMove:function(e){if(Xu){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,r=e.touches?e.touches[0]:e,o=Rt&&nh(Rt,!0),a=Rt&&o&&o.a,l=Rt&&o&&o.d,u=Sm&&Zn&&gx(Zn),c=(r.clientX-Xu.clientX+s.x)/(a||1)+(u?u[0]-f1[0]:0)/(a||1),A=(r.clientY-Xu.clientY+s.y)/(l||1)+(u?u[1]-f1[1]:0)/(l||1);if(!kt.active&&!LA){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Rt){o?(o.e+=c-(h1||0),o.f+=A-(d1||0)):o={a:1,b:0,c:0,d:1,e:c,f:A};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Bt(Rt,"webkitTransform",h),Bt(Rt,"mozTransform",h),Bt(Rt,"msTransform",h),Bt(Rt,"transform",h),h1=c,d1=A,io=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Rt){var e=this.options.fallbackOnBody?document.body:Hi,i=Cn(et,!0,Sm,!0,e),n=this.options;if(Sm){for(Zn=e;Bt(Zn,"position")==="static"&&Bt(Zn,"transform")==="none"&&Zn!==document;)Zn=Zn.parentNode;Zn!==document.body&&Zn!==document.documentElement?(Zn===document&&(Zn=Qo()),i.top+=Zn.scrollTop,i.left+=Zn.scrollLeft):Zn=Qo(),f1=gx(Zn)}Rt=et.cloneNode(!0),sr(Rt,n.ghostClass,!1),sr(Rt,n.fallbackClass,!0),sr(Rt,n.dragClass,!0),Bt(Rt,"transition",""),Bt(Rt,"transform",""),Bt(Rt,"box-sizing","border-box"),Bt(Rt,"margin",0),Bt(Rt,"top",i.top),Bt(Rt,"left",i.left),Bt(Rt,"width",i.width),Bt(Rt,"height",i.height),Bt(Rt,"opacity","0.8"),Bt(Rt,"position",Sm?"absolute":"fixed"),Bt(Rt,"zIndex","100000"),Bt(Rt,"pointerEvents","none"),kt.ghost=Rt,e.appendChild(Rt),Bt(Rt,"transform-origin",mx/parseInt(Rt.style.width)*100+"% "+vx/parseInt(Rt.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,s=e.dataTransfer,r=n.options;if(Is("dragStart",this,{evt:e}),kt.eventCanceled){this._onDrop();return}Is("setupClone",this),kt.eventCanceled||(sn=dF(et),sn.draggable=!1,sn.style["will-change"]="",this._hideClone(),sr(sn,this.options.chosenClass,!1),kt.clone=sn),n.cloneId=T0(function(){Is("clone",n),!kt.eventCanceled&&(n.options.removeCloneOnHide||Hi.insertBefore(sn,et),n._hideClone(),ds({sortable:n,name:"clone"}))}),!i&&sr(et,r.dragClass,!0),i?(mv=!0,n._loopId=setInterval(n._emulateDragOver,50)):(oi(document,"mouseup",n._onDrop),oi(document,"touchend",n._onDrop),oi(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(n,s,et)),hi(document,"drop",n),Bt(et,"transform","translateZ(0)")),LA=!0,n._dragStartId=T0(n._dragStarted.bind(n,i,e)),hi(document,"selectstart",n),xf=!0,np&&Bt(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,s,r,o,a=this.options,l=a.group,u=kt.active,c=Tm===l,A=a.sort,h=Qn||u,g,f=this,y=!1;if(g_)return;function E(G,ee){Is(G,f,Yo({evt:e,isOwner:c,axis:g?"vertical":"horizontal",revert:o,dragRect:s,targetRect:r,canSort:A,fromSortable:h,target:n,completed:m,onMove:function(ne,le){return Bm(Hi,i,et,s,ne,Cn(ne),e,le)},changed:b},ee))}function C(){E("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function m(G){return E("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(f),f!==h&&(sr(et,Qn?Qn.options.ghostClass:u.options.ghostClass,!1),sr(et,a.ghostClass,!0)),Qn!==f&&f!==kt.active?Qn=f:f===kt.active&&Qn&&(Qn=null),h===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){E("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===et&&!et.animated||n===i&&!n.animated)&&(pA=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(et.parentNode[pr]._isOutsideThisEl(e.target),!G&&Ju(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function b(){lr=Mr(et),Ll=Mr(et,a.draggable),ds({sortable:f,name:"change",toEl:i,newIndex:lr,newDraggableIndex:Ll,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Io(n,a.draggable,i,!0),E("dragOver"),kt.eventCanceled)return y;if(et.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return m(!1);if(mv=!1,u&&!a.disabled&&(c?A||(o=tn!==Hi):Qn===this||(this.lastPutMode=Tm.checkPull(this,u,et,e))&&l.checkPut(this,u,et,e))){if(g=this._getDirection(e,n)==="vertical",s=Cn(et),E("dragOverValid"),kt.eventCanceled)return y;if(o)return tn=Hi,C(),this._hideClone(),E("revert"),kt.eventCanceled||(ac?Hi.insertBefore(et,ac):Hi.appendChild(et)),m(!0);var _=P2(i,a.draggable);if(!_||_9(e,g,this)&&!_.animated){if(_===et)return m(!1);if(_&&i===e.target&&(n=_),n&&(r=Cn(n)),Bm(Hi,i,et,s,n,r,e,!!n)!==!1)return C(),i.appendChild(et),tn=i,b(),m(!0)}else if(_&&w9(e,g,this)){var B=bh(i,0,a,!0);if(B===et)return m(!1);if(n=B,r=Cn(n),Bm(Hi,i,et,s,n,r,e,!1)!==!1)return C(),i.insertBefore(et,B),tn=i,b(),m(!0)}else if(n.parentNode===i){r=Cn(n);var L=0,j,O=et.parentNode!==i,Q=!g9(et.animated&&et.toRect||s,n.animated&&n.toRect||r,g),$=g?"top":"left",D=px(n,"top","top")||px(et,"top","top"),U=D?D.scrollTop:void 0;pA!==n&&(j=r[$],ap=!1,xm=!Q&&a.invertSwap||O),L=C9(e,n,r,g,Q?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,xm,pA===n);var S;if(L!==0){var k=Mr(et);do k-=L,S=tn.children[k];while(S&&(Bt(S,"display")==="none"||S===Rt))}if(L===0||S===n)return m(!1);pA=n,op=L;var M=n.nextElementSibling,N=!1;N=L===1;var V=Bm(Hi,i,et,s,n,r,e,N);if(V!==!1)return(V===1||V===-1)&&(N=V===1),g_=!0,setTimeout(y9,30),C(),N&&!M?i.appendChild(et):n.parentNode.insertBefore(et,N?M:n),D&&hF(D,0,U-D.scrollTop),tn=et.parentNode,j!==void 0&&!xm&&(E0=Math.abs(j-Cn(n)[$])),b(),m(!0)}if(i.contains(et))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){oi(document,"mousemove",this._onTouchMove),oi(document,"touchmove",this._onTouchMove),oi(document,"pointermove",this._onTouchMove),oi(document,"dragover",Ju),oi(document,"mousemove",Ju),oi(document,"touchmove",Ju)},_offUpEvents:function(){var e=this.el.ownerDocument;oi(e,"mouseup",this._onDrop),oi(e,"touchend",this._onDrop),oi(e,"pointerup",this._onDrop),oi(e,"touchcancel",this._onDrop),oi(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(lr=Mr(et),Ll=Mr(et,n.draggable),Is("drop",this,{evt:e}),tn=et&&et.parentNode,lr=Mr(et),Ll=Mr(et,n.draggable),kt.eventCanceled){this._nulling();return}LA=!1,xm=!1,ap=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),m_(this.cloneId),m_(this._dragStartId),this.nativeDraggable&&(oi(document,"drop",this),oi(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),np&&Bt(document.body,"user-select",""),Bt(et,"transform",""),e&&(xf&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Rt&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),(Hi===tn||Qn&&Qn.lastPutMode!=="clone")&&sn&&sn.parentNode&&sn.parentNode.removeChild(sn),et&&(this.nativeDraggable&&oi(et,"dragend",this),p1(et),et.style["will-change"]="",xf&&!LA&&sr(et,Qn?Qn.options.ghostClass:this.options.ghostClass,!1),sr(et,this.options.chosenClass,!1),ds({sortable:this,name:"unchoose",toEl:tn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Hi!==tn?(lr>=0&&(ds({rootEl:tn,name:"add",toEl:tn,fromEl:Hi,originalEvent:e}),ds({sortable:this,name:"remove",toEl:tn,originalEvent:e}),ds({rootEl:tn,name:"sort",toEl:tn,fromEl:Hi,originalEvent:e}),ds({sortable:this,name:"sort",toEl:tn,originalEvent:e})),Qn&&Qn.save()):lr!==$A&&lr>=0&&(ds({sortable:this,name:"update",toEl:tn,originalEvent:e}),ds({sortable:this,name:"sort",toEl:tn,originalEvent:e})),kt.active&&((lr==null||lr===-1)&&(lr=$A,Ll=rp),ds({sortable:this,name:"end",toEl:tn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Is("nulling",this),Hi=et=tn=Rt=ac=sn=C0=Ul=Xu=io=xf=lr=Ll=$A=rp=pA=op=Qn=Tm=kt.dragged=kt.ghost=kt.clone=kt.active=null,bv.forEach(function(e){e.checked=!0}),bv.length=h1=d1=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":et&&(this._onDragOver(e),b9(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,s=0,r=n.length,o=this.options;s<r;s++)i=n[s],Io(i,o.draggable,this.el,!1)&&e.push(i.getAttribute(o.dataIdAttr)||T9(i));return e},sort:function(e,i){var n={},s=this.el;this.toArray().forEach(function(r,o){var a=s.children[o];Io(a,this.options.draggable,s,!1)&&(n[r]=a)},this),i&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(s.removeChild(n[r]),s.appendChild(n[r]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Io(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var s=sg.modifyOption(this,e,i);typeof s<"u"?n[e]=s:n[e]=i,e==="group"&&gF(n)},destroy:function(){Is("destroy",this);var e=this.el;e[pr]=null,oi(e,"mousedown",this._onTapStart),oi(e,"touchstart",this._onTapStart),oi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(oi(e,"dragover",this),oi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vv.splice(vv.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ul){if(Is("hideClone",this),kt.eventCanceled)return;Bt(sn,"display","none"),this.options.removeCloneOnHide&&sn.parentNode&&sn.parentNode.removeChild(sn),Ul=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ul){if(Is("showClone",this),kt.eventCanceled)return;et.parentNode==Hi&&!this.options.group.revertClone?Hi.insertBefore(sn,et):ac?Hi.insertBefore(sn,ac):Hi.appendChild(sn),this.options.group.revertClone&&this.animate(et,sn),Bt(sn,"display",""),Ul=!1}}};function b9(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Bm(t,e,i,n,s,r,o,a){var l,u=t[pr],c=u.options.onMove,A;return window.CustomEvent&&!sl&&!ng?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=s||e,l.relatedRect=r||Cn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(A=c.call(u,l,o)),A}function p1(t){t.draggable=!1}function y9(){g_=!1}function w9(t,e,i){var n=Cn(bh(i.el,0,i.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function _9(t,e,i){var n=Cn(P2(i.el,i.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function C9(t,e,i,n,s,r,o,a){var l=n?t.clientY:t.clientX,u=n?i.height:i.width,c=n?i.top:i.left,A=n?i.bottom:i.right,h=!1;if(!o){if(a&&E0<u*s){if(!ap&&(op===1?l>c+u*r/2:l<A-u*r/2)&&(ap=!0),ap)h=!0;else if(op===1?l<c+E0:l>A-E0)return-op}else if(l>c+u*(1-s)/2&&l<A-u*(1-s)/2)return E9(e)}return h=h||o,h&&(l<c+u*r/2||l>A-u*r/2)?l>c+u/2?1:-1:0}function E9(t){return Mr(et)<Mr(t)?1:-1}function T9(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function x9(t){bv.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&bv.push(n)}}function T0(t){return setTimeout(t,0)}function m_(t){return clearTimeout(t)}kb&&hi(document,"touchmove",function(t){(kt.active||LA)&&t.cancelable&&t.preventDefault()});kt.utils={on:hi,off:oi,css:Bt,find:cF,is:function(e,i){return!!Io(e,i,e,!1)},extend:l9,throttle:AF,closest:Io,toggleClass:sr,clone:dF,index:Mr,nextTick:T0,cancelNextTick:m_,detectDirection:pF,getChild:bh};kt.get=function(t){return t[pr]};kt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(kt.utils=Yo(Yo({},kt.utils),n.utils)),sg.mount(n)})};kt.create=function(t,e){return new kt(t,e)};kt.version=s9;var fn=[],Sf,v_,b_=!1,g1,m1,yv,Bf;function S9(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?hi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?hi(document,"pointermove",this._handleFallbackAutoScroll):n.touches?hi(document,"touchmove",this._handleFallbackAutoScroll):hi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?oi(document,"dragover",this._handleAutoScroll):(oi(document,"pointermove",this._handleFallbackAutoScroll),oi(document,"touchmove",this._handleFallbackAutoScroll),oi(document,"mousemove",this._handleFallbackAutoScroll)),yx(),x0(),u9()},nulling:function(){yv=v_=Sf=b_=Bf=g1=m1=null,fn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(r,o);if(yv=i,n||this.options.forceAutoScrollFallback||ng||sl||np){v1(i,this.options,a,n);var l=Hl(a,!0);b_&&(!Bf||r!==g1||o!==m1)&&(Bf&&yx(),Bf=setInterval(function(){var u=Hl(document.elementFromPoint(r,o),!0);u!==l&&(l=u,x0()),v1(i,s.options,u,n)},10),g1=r,m1=o)}else{if(!this.options.bubbleScroll||Hl(a,!0)===Qo()){x0();return}v1(i,this.options,Hl(a,!1),!1)}}},qa(t,{pluginName:"scroll",initializeByDefault:!0})}function x0(){fn.forEach(function(t){clearInterval(t.pid)}),fn=[]}function yx(){clearInterval(Bf)}var v1=AF(function(t,e,i,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Qo(),u=!1,c;v_!==i&&(v_=i,x0(),Sf=e.scroll,c=e.scrollFn,Sf===!0&&(Sf=Hl(i,!0)));var A=0,h=Sf;do{var g=h,f=Cn(g),y=f.top,E=f.bottom,C=f.left,m=f.right,b=f.width,_=f.height,B=void 0,L=void 0,j=g.scrollWidth,O=g.scrollHeight,Q=Bt(g),$=g.scrollLeft,D=g.scrollTop;g===l?(B=b<j&&(Q.overflowX==="auto"||Q.overflowX==="scroll"||Q.overflowX==="visible"),L=_<O&&(Q.overflowY==="auto"||Q.overflowY==="scroll"||Q.overflowY==="visible")):(B=b<j&&(Q.overflowX==="auto"||Q.overflowX==="scroll"),L=_<O&&(Q.overflowY==="auto"||Q.overflowY==="scroll"));var U=B&&(Math.abs(m-s)<=o&&$+b<j)-(Math.abs(C-s)<=o&&!!$),S=L&&(Math.abs(E-r)<=o&&D+_<O)-(Math.abs(y-r)<=o&&!!D);if(!fn[A])for(var k=0;k<=A;k++)fn[k]||(fn[k]={});(fn[A].vx!=U||fn[A].vy!=S||fn[A].el!==g)&&(fn[A].el=g,fn[A].vx=U,fn[A].vy=S,clearInterval(fn[A].pid),(U!=0||S!=0)&&(u=!0,fn[A].pid=setInterval((function(){n&&this.layer===0&&kt.active._onTouchMove(yv);var M=fn[this.layer].vy?fn[this.layer].vy*a:0,N=fn[this.layer].vx?fn[this.layer].vx*a:0;typeof c=="function"&&c.call(kt.dragged.parentNode[pr],N,M,t,yv,fn[this.layer].el)!=="continue"||hF(fn[this.layer].el,N,M)}).bind({layer:A}),24))),A++}while(e.bubbleScroll&&h!==l&&(h=Hl(h,!1)));b_=u}},30),bF=function(e){var i=e.originalEvent,n=e.putSortable,s=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var u=n||r;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,A=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(A)&&(o("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function M2(){}M2.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=bh(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:bF};qa(M2,{pluginName:"revertOnSpill"});function R2(){}R2.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:bF};qa(R2,{pluginName:"removeOnSpill"});kt.mount(new S9);kt.mount(R2,M2);function B9(){return typeof window<"u"?window.console:global.console}const k9=B9();function D9(t){const e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}const F9=/-(\w)/g,wx=D9(t=>t.replace(F9,(e,i)=>i?i.toUpperCase():""));function b1(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function _x(t,e,i){const n=i===0?t.children[0]:t.children[i-1].nextSibling;t.insertBefore(e,n)}function I9(t,e){return Object.values(t).indexOf(e)}function L9(t,e,i,n){if(!t)return[];const s=Object.values(t),r=e.length-n;return[...e].map((a,l)=>l>=r?s.length:s.indexOf(a))}function yF(t,e){this.$nextTick(()=>this.$emit(t.toLowerCase(),e))}function P9(t){return e=>{this.realList!==null&&this["onDrag"+t](e),yF.call(this,t,e)}}function M9(t){return["transition-group","TransitionGroup"].includes(t)}function R9(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?M9(e.name):!1}function O9(t,e){return e?{...e.props,...e.attrs}:t}const y_=["Start","Add","Remove","Update","End"],w_=["Choose","Unchoose","Sort","Filter","Clone"],U9=["Move",...y_,...w_].map(t=>"on"+t);let y1=null;const N9={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},zh=jc({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...y_.map(t=>t.toLowerCase()),...w_.map(t=>t.toLowerCase())],props:N9,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=O9(this.$attrs,this.componentData);return t?(this.transitionMode=R9(t),lo(this.getTag(),e,t)):lo(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&k9.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};y_.forEach(s=>{t["on"+s]=P9.call(this,s)}),w_.forEach(s=>{t["on"+s]=yF.bind(this,s)});const e=Object.keys(this.$attrs).reduce((s,r)=>(s[wx(r)]=this.$attrs[r],s),{}),i=Object.assign({},e,t,{onMove:(s,r)=>this.onDragMove(s,r)});!("draggable"in i)&&(i.draggable=">*");const n=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new kt(n,i),n.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Ke(this.component):this.tag},updateOptions(t){for(var e in t){const i=wx(e);U9.indexOf(i)===-1&&this._sortable.option(i,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=L9(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(t){const e=I9(this.getChildrenNodes()||[],t);if(e===-1)return null;const i=this.realList[e];return{index:e,element:i}},emitChanges(t){this.$nextTick(()=>{this.$emit("change",t)})},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const i=n=>n.splice(e,0,n.splice(t,1)[0]);this.alterList(i)},getVmIndex(t){const e=this.visibleIndexes,i=e.length;return t>i-1?i:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const i=this.getComponent();i.children=[],i.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),y1=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;b1(t.item);const i=this.getVmIndex(t.newIndex);this.spliceList(i,0,e),this.computeIndexes();const n={element:e,newIndex:i};this.emitChanges({added:n})},onDragRemove(t){if(_x(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){b1(t.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const i={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:i})},onDragUpdate(t){b1(t.item),_x(t.from,t.item,t.oldIndex);const e=this.context.index,i=this.getVmIndex(t.newIndex);this.updatePosition(e,i);const n={element:this.context.element,oldIndex:e,newIndex:i};this.emitChanges({moved:n})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const i=this.move;if(!i||!this.realList)return!0;const n=this.getRelatedContextFromMoveEvent(t),s=this.context,r=this.computeFutureIndex(n,t);Object.assign(s,{futureIndex:r});const o=Object.assign({},t,{relatedContext:n,draggedContext:s});return i(o,e)},onDragEnd(){this.computeIndexes(),y1=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const i=this.getTrargetedComponent(t);if(!i)return{component:i};const n=i.realList,s={list:n,component:i};if(t!==e&&n&&i.getUnderlyingVm){const r=i.getUnderlyingVm(e);if(r)return Object.assign(r,s)}return s},computeFutureIndex(t,e){const i=[...e.to.children].filter(o=>o.style.display!=="none");if(i.length===0)return 0;const n=i.indexOf(e.related),s=t.component.getVmIndex(n);return i.indexOf(y1)!==-1||!e.willInsertAfter?s:s+1}}});class Ws{constructor(e){this.table=e}reloadData(e,i,n){return this.table.dataLoader.load(e,void 0,void 0,void 0,i,n)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,i){return typeof i<"u"&&(this.table.options[e]=i),this.table.options[e]}deprecationCheck(e,i){return this.table.deprecationAdvisor.check(e,i)}deprecationCheckMsg(e,i){return this.table.deprecationAdvisor.checkMsg(e,i)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Vi{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset-document.documentElement.clientTop,left:i.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(e,i,n=[]){var s={}.__proto__,r=[].__proto__;i||(i=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let a=e[o],l,u;a!=null&&typeof a=="object"&&(a.__proto__===s||a.__proto__===r)&&(l=n.findIndex(c=>c.subject===a),l>-1?i[o]=n[l].copy:(u=Object.assign(Array.isArray(a)?[]:{},a),n.unshift({subject:a,copy:u}),i[o]=this.deepClone(a,u,n)))}return i}}class O2 extends Ws{constructor(e,i,n){super(e),this.element=i,this.container=this._lookupContainer(),this.parent=n,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,i=this.table.element){return e===i?!0:i.parentNode?this._checkContainerIsParent(e,i.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var i=!(e instanceof MouseEvent),n=i?e.touches[0].pageX:e.pageX,s=i?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let r=Vi.elOffset(this.container);n-=r.left,s-=r.top}return{x:n,y:s}}elementPositionCoords(e,i="right"){var n=Vi.elOffset(e),s,r,o;switch(this.container!==document.body&&(s=Vi.elOffset(this.container),n.left-=s.left,n.top-=s.top),i){case"right":r=n.left+e.offsetWidth,o=n.top-1;break;case"bottom":r=n.left,o=n.top+e.offsetHeight;break;case"left":r=n.left,o=n.top-1;break;case"top":r=n.left,o=n.top;break;case"center":r=n.left+e.offsetWidth/2,o=n.top+e.offsetHeight/2;break}return{x:r,y:o,offset:n}}show(e,i){var n,s,r,o,a;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(r=e,a=this.elementPositionCoords(e,i),o=a.offset,n=a.x,s=a.y):typeof e=="number"?(o={top:0,left:0},n=e,s=i):(a=this.containerEventCoords(e),n=a.x,s=a.y,this.reversedX=!1),this.element.style.top=s+"px",this.element.style.left=n+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(n,s,r,o,i),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",l=>{l.stopPropagation()}),this)}_fitToScreen(e,i,n,s,r){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",n?this.element.style.right=this.container.offsetWidth-s.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0),i+this.element.offsetHeight>Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0))if(n)switch(r){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-n.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+n.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new O2(this.table,e,this),this.childPopup}}class zt extends Ws{constructor(e,i){super(e),this._handler=null}initialize(){}registerTableOption(e,i){this.table.optionsList.register(e,i)}registerColumnOption(e,i){this.table.columnManager.optionsList.register(e,i)}registerTableFunction(e,i){typeof this.table[e]>"u"?this.table[e]=(...n)=>(this.table.initGuard(e),i(...n)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,i,n){return this.table.componentFunctionBinder.bind(e,i,n)}registerDataHandler(e,i){this.table.rowManager.registerDataPipelineHandler(e,i),this._handler=e}registerDisplayHandler(e,i){this.table.rowManager.registerDisplayPipelineHandler(e,i),this._handler=e}displayRows(e){var i=this.table.rowManager.displayRows.length-1,n;if(this._handler&&(n=this.table.rowManager.displayPipeline.findIndex(s=>s.handler===this._handler),n>-1&&(i=n)),e&&(i=i+e),this._handler)return i>-1?this.table.rowManager.getDisplayRows(i):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,i){i||(i=this._handler),i&&this.table.rowManager.refreshActiveData(i,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,i){return new O2(this.table,e,i)}alert(e,i){return this.table.alertManager.alert(e,i)}clearAlert(){return this.table.alertManager.clear()}}var H9={};class yh extends zt{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var i=!1,n={};this.allowedTypes.forEach(s=>{var r="accessor"+(s.charAt(0).toUpperCase()+s.slice(1)),o;e.definition[r]&&(o=this.lookupAccessor(e.definition[r]),o&&(i=!0,n[r]={accessor:o,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.accessor=n)}lookupAccessor(e){var i=!1;switch(typeof e){case"string":yh.accessors[e]?i=yh.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i){var n="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),s=e.getComponent(),r=Vi.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var a,l,u,c;o.modules.accessor&&(l=o.modules.accessor[n]||o.modules.accessor.accessor||!1,l&&(a=o.getFieldValue(r),a!="undefined"&&(c=o.getComponent(),u=typeof l.params=="function"?l.params(a,r,i,c,s):l.params,o.setFieldValue(r,l.accessor(a,r,i,u,c,s)))))}),r}}yh.moduleName="accessor";yh.accessors=H9;var Q9={method:"GET"};function __(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach((s,r)=>{i=i.concat(__(s,e?e+"["+r+"]":r))});else if(typeof t=="object")for(var n in t)i=i.concat(__(t[n],e?e+"["+n+"]":n));else i.push({key:e,value:t});return i}function $9(t){var e=__(t),i=[];return e.forEach(function(n){i.push(encodeURIComponent(n.key)+"="+encodeURIComponent(n.value))}),i.join("&")}function wF(t,e,i){return t&&i&&Object.keys(i).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",t+=(t.includes("?")?"&":"?")+$9(i)),t}function j9(t,e,i){var n;return new Promise((s,r)=>{if(t=this.urlGenerator.call(this.table,t,e,i),e.method.toUpperCase()!="GET")if(n=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],n){for(var o in n.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=n.headers[o]);e.body=n.body.call(this,t,e,i)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);t?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(t,e).then(a=>{a.ok?a.json().then(l=>{s(l)}).catch(l=>{r(l),console.warn("Ajax Load Error - Invalid JSON returned",l)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),r(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),r(a)})):(console.warn("Ajax Load Error - No URL Set"),s([]))})}function C_(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach((s,r)=>{i=i.concat(C_(s,e?e+"["+r+"]":r))});else if(typeof t=="object")for(var n in t)i=i.concat(C_(t[n],e?e+"["+n+"]":n));else i.push({key:e,value:t});return i}var V9={json:{headers:{"Content-Type":"application/json"},body:function(t,e,i){return JSON.stringify(i)}},form:{headers:{},body:function(t,e,i){var n=C_(i),s=new FormData;return n.forEach(function(r){s.append(r.key,r.value)}),s}}};class uo extends zt{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=uo.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||uo.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||uo.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,i,n,s){var r=this.table.options.ajaxParams;return r&&(typeof r=="function"&&(r=r.call(this.table)),s=Object.assign(s,r)),s}requestDataCheck(e,i,n,s){return!!(!e&&this.url||typeof e=="string")}requestData(e,i,n,s,r){var o;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(n),this.sendRequest(this.url,i,o)):r}setDefaultConfig(e={}){this.config=Object.assign({},uo.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var i=Object.assign({},this.config);return typeof e=="string"?i.method=e:Object.assign(i,e),i}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,i,n){return this.table.options.ajaxRequesting.call(this.table,e,i)!==!1?this.loaderPromise(e,n,i).then(s=>(this.table.options.ajaxResponse&&(s=this.table.options.ajaxResponse.call(this.table,e,i,s)),s)):Promise.reject()}}uo.moduleName="ajax";uo.defaultConfig=Q9;uo.defaultURLGenerator=wF;uo.defaultLoaderPromise=j9;uo.contentTypeFormatters=V9;var z9={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},G9={table:function(t){var e=[],i=!0,n=this.table.columnManager.columns,s=[],r=[];return t=t.split("\n"),t.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var a=n.find(function(l){return o&&l.definition.title&&o.trim()&&l.definition.title.trim()===o.trim()});a?s.push(a):i=!1}),i||(i=!0,s=[],e[0].forEach(function(o){var a=n.find(function(l){return o&&l.field&&o.trim()&&l.field.trim()===o.trim()});a?s.push(a):i=!1}),i||(s=this.table.columnManager.columnsByIndex)),i&&e.shift(),e.forEach(function(o){var a={};o.forEach(function(l,u){s[u]&&(a[s[u].field]=l)}),r.push(a)}),r):!1}};class Rc extends zt{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var i,n,s;this.blocked||(e.preventDefault(),this.customSelection?(i=this.customSelection,this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i))):(s=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),n=this.table.modules.export.generateHTMLTable(s),i=n?this.generatePlainContent(s):"",this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i),n=this.table.options.clipboardCopyFormatter("html",n))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",i):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",i),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",i),n&&e.originalEvent.clipboardData.setData("text/html",n)),this.dispatchExternal("clipboardCopied",i,n),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var i=[];return e.forEach(n=>{var s=[];n.columns.forEach(r=>{var o="";if(r)if(n.type==="group"&&(r.value=r.component.getKey()),r.value===null)o="";else switch(typeof r.value){case"object":o=JSON.stringify(r.value);break;case"undefined":o="";break;default:o=r.value}s.push(o)}),i.push(s.join("	"))}),i.join("\n")}copy(e,i){var n,s;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),n=window.getSelection(),n.toString()&&i&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(s=document.body.createTextRange(),s.moveToElementText(this.table.element),s.select()),document.execCommand("copy"),n&&n.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=Rc.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=Rc.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var i,n,s;this.checkPaseOrigin(e)&&(i=this.getPasteData(e),n=this.pasteParser.call(this,i),n?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),s=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",i,n,s)):this.dispatchExternal("clipboardPasteError",i))}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(n=>{i.push(this.table.modules.mutator.transformRow(n,"clipboard"))}):i=e,i}checkPaseOrigin(e){var i=!0;return(e.target.tagName!="DIV"||this.table.modules.edit.currentCell)&&(i=!1),i}getPasteData(e){var i;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?i=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),i}}Rc.moduleName="clipboard";Rc.pasteActions=z9;Rc.pasteParsers=G9;class K9{constructor(e){return this._row=e,new Proxy(this,{get:function(i,n,s){return typeof i[n]<"u"?i[n]:i._row.table.componentFunctionBinder.handle("row",i._row,n)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}_getSelf(){return this._row}}class _F{constructor(e){return this._cell=e,new Proxy(this,{get:function(i,n,s){return typeof i[n]<"u"?i[n]:i._cell.table.componentFunctionBinder.handle("cell",i._cell,n)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,i){typeof i>"u"&&(i=!0),this._cell.setValue(e,i)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class rg extends Ws{constructor(e,i){super(e.table),this.table=e.table,this.column=e,this.row=i,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,i=this.column.getField(),n={top:"flex-start",bottom:"flex-end",middle:"center"},s={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=n[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=s[this.column.hozAlign]||"")),i&&e.setAttribute("tabulator-field",i),this.column.definition.cssClass){var r=this.column.definition.cssClass.split(" ");r.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,i,n){var s=this.setValueProcessData(e,i,n);s&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,i,n){var s=!1;return(this.value!==e||n)&&(s=!0,i&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),s&&this.dispatch("cell-value-changed",this),s}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new _F(this)),this.component}}class CF{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(i,n,s){return typeof i[n]<"u"?i[n]:i._column.table.componentFunctionBinder.handle("column",i._column,n)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(i){e.push(i.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(i){e.push(i.getComponent())}),e}getParentColumn(){return this._column.parent instanceof $o?this._column.parent.getComponent():!1}_getSelf(){return this._column}scrollTo(e,i){return this._column.table.columnManager.scrollToColumn(this._column,e,i)}getTable(){return this._column.table}move(e,i){var n=this._column.table.columnManager.findColumn(e);n?this._column.table.columnManager.moveColumn(this._column,n,i):console.warn("Move Error - No matching column found:",n)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var i;return e===!0?i=this._column.reinitializeWidth(!0):i=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),i}}var EF={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class $o extends Ws{constructor(e,i){super(i.table),this.definition=e,this.parent=i,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((n,s)=>{var r=new $o(n,this);this.attachColumn(r)}),this.checkColumnVisibility()):i.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let i in e)typeof this.definition[i]>"u"&&(this.definition[i]=e[i]);this.definition=this.table.columnManager.optionsList.generate($o.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{$o.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var i=e.cssClass.split(" ");i.forEach(n=>{this.element.classList.add(n)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.headerWordWrap&&i.classList.add("tabulator-col-title-wrap"),e.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",s=>{s.stopPropagation(),n.focus()}),n.addEventListener("change",()=>{e.title=n.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),i.appendChild(n),e.field?this.langBind("columns|"+e.field,s=>{n.value=s||e.title||"&nbsp;"}):n.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,s=>{this._formatColumnHeaderTitle(i,s||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i}_formatColumnHeaderTitle(e,i){var n=this.chain("column-format",[this,i,e],null,()=>i);switch(typeof n){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=n}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(i=>{this.element.classList.add(i)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var i=e,n=this.fieldStructure,s=n.length,r;for(let o=0;o<s&&(i=i[n[o]],r=i,!!i);o++);return r}_setFlatData(e,i){this.field&&(e[this.field]=i)}_setNestedData(e,i){var n=e,s=this.fieldStructure,r=s.length;for(let o=0;o<r;o++)if(o==r-1)n[s[o]]=i;else{if(!n[s[o]])if(typeof i<"u")n[s[o]]={};else break;n=n[s[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,i){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:i||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(s){s.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var i=[];return e?this.columns.forEach(n=>{i.push(n),i=i.concat(n.getColumns(!0))}):i=this.columns,i}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var i=[];return this.isGroup&&e&&(this.columns.forEach(function(n){i.push(n.getDefinition(!0))}),this.definition.columns=i),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(i){i.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,i){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,i){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.hide()}),this.dispatch("column-hide",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var i=this.columns.indexOf(e);i>-1&&this.columns.splice(i,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(i){i.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(i){i.row.heightInitialized&&(i.row.getElement().offsetParent!==null?(e.push(i.row),i.row.clearCellHeight()):i.row.heightInitialized=!1)}),e.forEach(function(i){i.calcHeight()}),e.forEach(function(i){i.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(i){i.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(i){i.setMaxWidth()})}delete(){return new Promise((e,i)=>{this.isGroup&&this.columns.forEach(function(s){s.delete()}),this.dispatch("column-delete",this);var n=this.cells.length;for(let s=0;s<n;s++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var i=new rg(this,e);return this.cells.push(i),i}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(s=>{s.clearWidth()}));var i=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(s=>{var r=s.getWidth();r>i&&(i=r)}),i)){var n=i+1;this.maxInitialWidth&&!e&&(n=Math.min(n,this.maxInitialWidth)),this.setWidthActual(n)}}}updateDefinition(e){var i;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},this.getDefinition()),i=Object.assign(i,e),this.table.columnManager.addColumn(i,!1,this).then(n=>(i.field==this.field&&(this.field=!1),this.delete().then(()=>n.getComponent()))))}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}getComponent(){return this.component||(this.component=new CF(this)),this.component}}$o.defaultOptionList=EF;class Db{constructor(e){return this._row=e,new Proxy(this,{get:function(i,n,s){return typeof i[n]<"u"?i[n]:i._row.table.componentFunctionBinder.handle("row",i._row,n)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,i){return this._row.table.rowManager.scrollToRow(this._row,e,i)}move(e,i){this._row.moveToRow(e,i)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class vs extends Ws{constructor(e,i,n="row"){super(i.table),this.parent=i,this.data={},this.type=n,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,i){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,i),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,i)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var i=0,n;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(n=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach(function(s){var r=s.getHeight();r>i&&(i=r)}),e?this.height=Math.max(i,n):this.height=this.manualHeight?this.height:Math.max(i,n)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,i){(this.height!=e||i)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var i=this.element&&Vi.elVisible(this.element),n={},s;return new Promise((r,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(n=Object.assign(n,this.data),n=Object.assign(n,e)),s=this.chain("row-data-changing",[this,n,e],null,e);for(let a in s)this.data[a]=s[a];this.dispatch("row-data-save-after",this);for(let a in e)this.table.columnManager.getColumnsByFieldRoot(a).forEach(u=>{let c=this.getCell(u.getField());if(c){let A=u.getFieldValue(s);c.getValue()!==A&&(c.setValueProcessData(A),i&&c.cellRendered())}});i?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,i,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var i=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),i=this.cells.find(function(n){return n.column===e}),i}getCellIndex(e){return this.cells.findIndex(function(i){return i===e})}findCell(e){return this.cells.find(i=>i.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,i){var n=this.table.rowManager.findRow(e);n?(this.table.rowManager.moveRowActual(this,n,!i),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let i=0;i<e;i++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(i=>{i(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Db(this)),this.component}}var W9={avg:function(t,e,i){var n=0,s=typeof i.precision<"u"?i.precision:2;return t.length&&(n=t.reduce(function(r,o){return Number(r)+Number(o)}),n=n/t.length,n=s!==!1?n.toFixed(s):n),parseFloat(n).toString()},max:function(t,e,i){var n=null,s=typeof i.precision<"u"?i.precision:!1;return t.forEach(function(r){r=Number(r),(r>n||n===null)&&(n=r)}),n!==null?s!==!1?n.toFixed(s):n:""},min:function(t,e,i){var n=null,s=typeof i.precision<"u"?i.precision:!1;return t.forEach(function(r){r=Number(r),(r<n||n===null)&&(n=r)}),n!==null?s!==!1?n.toFixed(s):n:""},sum:function(t,e,i){var n=0,s=typeof i.precision<"u"?i.precision:!1;return t.length&&t.forEach(function(r){r=Number(r),n+=isNaN(r)?0:Number(r)}),s!==!1?n.toFixed(s):n},concat:function(t,e,i){var n=0;return t.length&&(n=t.reduce(function(s,r){return String(s)+String(r)})),n},count:function(t,e,i){var n=0;return t.length&&t.forEach(function(s){s&&n++}),n},unique:function(t,e,i){var n=t.filter((s,r)=>(t||s===0)&&t.indexOf(s)===r);return n.length}};class Ql extends zt{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new $o({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,i){return this.topRow&&i.unshift(this.topRow),this.botRow&&i.push(this.botRow),i}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var i=e.definition,n={topCalcParams:i.topCalcParams||{},botCalcParams:i.bottomCalcParams||{}};if(i.topCalc){switch(typeof i.topCalc){case"string":Ql.calculations[i.topCalc]?n.topCalc=Ql.calculations[i.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.topCalc);break;case"function":n.topCalc=i.topCalc;break}n.topCalc&&(e.modules.columnCalcs=n,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(i.bottomCalc){switch(typeof i.bottomCalc){case"string":Ql.calculations[i.bottomCalc]?n.botCalc=Ql.calculations[i.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.bottomCalc);break;case"function":n.botCalc=i.bottomCalc;break}n.botCalc&&(e.modules.columnCalcs=n,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var i,n;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(i=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),n=this.generateRow("top",i),this.topRow=n;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(n.getElement()),n.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),n=this.generateRow("bottom",i),this.botRow=n;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(n.getElement()),n.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(i=>{this.recalcGroup(i)})}}recalcGroup(e){var i,n;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(i=this.rowsToData(e.rows),n=this.generateRowData("bottom",i),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(i=this.rowsToData(e.rows),n=this.generateRowData("top",i),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var i=[];return e.forEach(n=>{if(i.push(n.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&n.modules.dataTree&&n.modules.dataTree.open){var s=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(n));i=i.concat(s)}}),i}generateRow(e,i){var n=this.generateRowData(e,i),s;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),s=new vs(n,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),s.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),s.component=!1,s.getComponent=()=>(s.component||(s.component=new K9(s)),s.component),s.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var a=new rg(this.genColumn,s);a.getElement(),a.column=o,a.setWidth(),o.cells.push(a),r.push(a),o.visible||a.hide()}),s.cells=r},s}generateRowData(e,i){var n={},s=e=="top"?this.topCalcs:this.botCalcs,r=e=="top"?"topCalc":"botCalc",o,a;return s.forEach(function(l){var u=[];l.modules.columnCalcs&&l.modules.columnCalcs[r]&&(i.forEach(function(c){u.push(l.getFieldValue(c))}),a=r+"Params",o=typeof l.modules.columnCalcs[a]=="function"?l.modules.columnCalcs[a](u,i):l.modules.columnCalcs[a],l.setFieldValue(n,l.modules.columnCalcs[r](u,i,o)))}),n}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},i;return this.table.options.groupBy&&this.table.modExists("groupRows")?(i=this.table.modules.groupRows.getGroups(!0),i.forEach(n=>{e[n.getKey()]=this.getGroupResults(n)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var i=e._getSelf(),n=e.getSubGroups(),s={},r={};return n.forEach(o=>{s[o.getKey()]=this.getGroupResults(o)}),r={top:i.calcs.top?i.calcs.top.getData():{},bottom:i.calcs.bottom?i.calcs.bottom.getData():{},groups:s},r}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}Ql.moduleName="columnCalcs";Ql.calculations=W9;class TF extends zt{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,i=this.table.options;switch(this.field=i.dataTreeChildField,this.indent=i.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),i.dataTreeBranchElement?i.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof i.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=i.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),i.dataTreeCollapseElement?typeof i.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=i.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),i.dataTreeExpandElement?typeof i.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=i.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof i.dataTreeStartExpanded){case"boolean":this.startOpen=function(n,s){return i.dataTreeStartExpanded};break;case"function":this.startOpen=i.dataTreeStartExpanded;break;default:this.startOpen=function(n,s){return i.dataTreeStartExpanded[s]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var i;e&&(i=this.table.rowManager.getRows(),i.forEach(n=>{this.reinitializeRowChildren(n)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(i=>{e=e.concat(this.getTreeChildren(i,!1,!0))}),e}rowDataChanged(e,i,n){this.redrawNeeded(n)&&(this.initializeRow(e),i&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var i=e.column.getField();i===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var i=e.getData()[this.field],n=Array.isArray(i),s=n||!n&&typeof i=="object"&&i!==null;!s&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!s&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:s?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&s?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&s?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:s}}reinitializeRowChildren(e){var i=this.getTreeChildren(e,!1,!0);i.forEach(function(n){n.reinitialize(!0)})}layoutRow(e){var i=this.elementField?e.getCell(this.elementField):e.getCells()[0],n=i.getElement(),s=e.modules.dataTree;s.branchEl&&(s.branchEl.parentNode&&s.branchEl.parentNode.removeChild(s.branchEl),s.branchEl=!1),s.controlEl&&(s.controlEl.parentNode&&s.controlEl.parentNode.removeChild(s.controlEl),s.controlEl=!1),this.generateControlElement(e,n),e.getElement().classList.add("tabulator-tree-level-"+s.index),s.index&&(this.branchEl?(s.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(s.branchEl,n.firstChild),this.table.rtl?s.branchEl.style.marginRight=(s.branchEl.offsetWidth+s.branchEl.style.marginLeft)*(s.index-1)+s.index*this.indent+"px":s.branchEl.style.marginLeft=(s.branchEl.offsetWidth+s.branchEl.style.marginRight)*(s.index-1)+s.index*this.indent+"px"):this.table.rtl?n.style.paddingRight=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-right"))+s.index*this.indent+"px":n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+s.index*this.indent+"px")}generateControlElement(e,i){var n=e.modules.dataTree,s=n.controlEl;i=i||e.getCells()[0].getElement(),n.children!==!1&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(e)})):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(e)})),n.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),s&&s.parentNode===i?s.parentNode.replaceChild(n.controlEl,s):i.insertBefore(n.controlEl,i.firstChild))}getRows(e){var i=[];return e.forEach((n,s)=>{var r,o;i.push(n),n instanceof vs&&(n.create(),r=n.modules.dataTree,!r.index&&r.children!==!1&&(o=this.getChildren(n),o.forEach(a=>{a.create(),i.push(a)})))}),i}getChildren(e,i){var n=e.modules.dataTree,s=[],r=[];return n.children!==!1&&(n.open||i)&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(n.children):s=n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(s),s.forEach(o=>{r.push(o);var a=this.getChildren(o);a.forEach(l=>{r.push(l)})})),r}generateChildren(e){var i=[],n=e.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach(s=>{var r=new vs(s||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),i.push(r)}),i}expandRow(e,i){var n=e.modules.dataTree;n.children!==!1&&(n.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var i=e.modules.dataTree,n=[],s;return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(i.children):s=i.children,s.forEach(r=>{r instanceof vs&&n.push(r)})),n}rowDelete(e){var i=e.modules.dataTree.parent,n;i&&(n=this.findChildIndex(e,i),n!==!1&&i.data[this.field].splice(n,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(e,i,n,s){var r=!1;typeof i=="string"&&(i=JSON.parse(i)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof s<"u"&&(r=this.findChildIndex(s,e),r!==!1&&e.data[this.field].splice(n?r:r+1,0,i)),r===!1&&(n?e.data[this.field].unshift(i):e.data[this.field].push(i)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,i){var n=!1;return typeof e=="object"?e instanceof vs?n=e.data:e instanceof Db?n=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?i.modules.dataTree&&(n=i.modules.dataTree.children.find(s=>s instanceof vs?s.element===e:!1),n&&(n=n.data)):e===null&&(n=!1):typeof e>"u"?n=!1:n=i.data[this.field].find(s=>s.data[this.table.options.index]==e),n&&(Array.isArray(i.data[this.field])&&(n=i.data[this.field].indexOf(n)),n==-1&&(n=!1)),n}getTreeChildren(e,i,n){var s=e.modules.dataTree,r=[];return s&&s.children&&(Array.isArray(s.children)||(s.children=this.generateChildren(e)),s.children.forEach(o=>{o instanceof vs&&(r.push(i?o.getComponent():o),n&&(r=r.concat(this.getTreeChildren(o,i,n))))})),r}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}TF.moduleName="dataTree";function q9(t,e={},i){var n=e.delimiter?e.delimiter:",",s=[],r=[];t.forEach(o=>{var a=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((l,u)=>{l&&l.depth===1&&(r[u]=typeof l.value>"u"||l.value===null?"":'"'+String(l.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(l=>{if(l){switch(typeof l.value){case"object":l.value=l.value!==null?JSON.stringify(l.value):"";break;case"undefined":l.value="";break}a.push('"'+String(l.value).split('"').join('""')+'"')}}),s.push(a.join(n));break}}),r.length&&s.unshift(r.join(n)),s=s.join("\n"),e.bom&&(s="\uFEFF"+s),i(s,"text/csv")}function Y9(t,e,i){var n=[];t.forEach(s=>{var r={};switch(s.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":s.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),n.push(r);break}}),n=JSON.stringify(n,null,"	"),i(n,"application/json")}function X9(t,e={},i){var n=[],s=[],r={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},u=e.title?e.title:"";l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),t.forEach(h=>{switch(h.type){case"header":n.push(c(h));break;case"group":s.push(c(h,o));break;case"calc":s.push(c(h,a));break;case"row":s.push(c(h));break}});function c(h,g){var f=[];return h.columns.forEach(y=>{var E;if(y){switch(typeof y.value){case"object":y.value=y.value!==null?JSON.stringify(y.value):"";break;case"undefined":y.value="";break}E={content:y.value,colSpan:y.width,rowSpan:y.height},g&&(E.styles=g),f.push(E)}}),f}var A=new jspdf.jsPDF(l);e.autoTable&&(typeof e.autoTable=="function"?r=e.autoTable(A)||{}:r=e.autoTable),u&&(r.didDrawPage=function(h){A.text(u,40,30)}),r.head=n,r.body=s,A.autoTable(r),e.documentProcessing&&e.documentProcessing(A),i(A.output("arraybuffer"),"application/pdf")}function J9(t,e,i){var n=this,s=e.sheetName||"Sheet1",r=XLSX.utils.book_new(),o=new Ws(this),a="compress"in e?e.compress:!0,l=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:a},u;l.type="binary",r.SheetNames=[],r.Sheets={};function c(){var g=[],f=[],y={},E={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((C,m)=>C+(m&&m.width?m.width:1),0):0,r:t.length}};return t.forEach((C,m)=>{var b=[];C.columns.forEach(function(_,B){_?(b.push(!(_.value instanceof Date)&&typeof _.value=="object"?JSON.stringify(_.value):_.value),(_.width>1||_.height>-1)&&(_.height>1||_.width>1)&&f.push({s:{r:m,c:B},e:{r:m+_.height-1,c:B+_.width-1}})):b.push("")}),g.push(b)}),XLSX.utils.sheet_add_aoa(y,g),y["!ref"]=XLSX.utils.encode_range(E),f.length&&(y["!merges"]=f),y}if(e.sheetOnly){i(c());return}if(e.sheets)for(var A in e.sheets)e.sheets[A]===!0?(r.SheetNames.push(A),r.Sheets[A]=c()):(r.SheetNames.push(A),o.commsSend(e.sheets[A],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:n.active,intercept:function(g){r.Sheets[A]=g}}));else r.SheetNames.push(s),r.Sheets[s]=c();e.documentProcessing&&(r=e.documentProcessing(r));function h(g){for(var f=new ArrayBuffer(g.length),y=new Uint8Array(f),E=0;E!=g.length;++E)y[E]=g.charCodeAt(E)&255;return f}u=XLSX.write(r,l),i(h(u),"application/octet-stream")}function Z9(t,e,i){this.modExists("export",!0)&&i(this.modules.export.generateHTMLTable(t),"text/html")}function e7(t,e,i){const n=[];t.forEach(s=>{const r={};switch(s.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":s.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),n.push(JSON.stringify(r));break}}),i(n.join("\n"),"application/x-ndjson")}var t7={csv:q9,json:Y9,jsonLines:e7,pdf:X9,xlsx:J9,html:Z9};class wh extends zt{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(i,n){return new Blob([i],{type:n})}),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,i,n,s){this.download(e,i,n,s,!0)}download(e,i,n,s,r){var o=!1;function a(u,c){r?r===!0?this.triggerDownload(u,c,e,i,!0):r(u):this.triggerDownload(u,c,e,i)}if(typeof e=="function"?o=e:wh.downloaders[e]?o=wh.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var l=this.generateExportList(s);o.call(this.table,l,n||{},a.bind(this))}}generateExportList(e){var i=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),i.forEach(s=>{var r;s.type==="group"&&(r=s.columns[0],n&&n[s.indent]&&(r.value=n[s.indent](r.value,s.component._group.getRowCount(),s.component._group.getData(),s.component)))}),i}triggerDownload(e,i,n,s,r){var o=document.createElement("a"),a=this.table.options.downloadEncoder(e,i);a&&(r?window.open(window.URL.createObjectURL(a)):(s=s||"Tabulator."+(typeof n=="function"?"txt":n),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,s):(o.setAttribute("href",window.URL.createObjectURL(a)),o.setAttribute("download",s),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,i,n){switch(i){case"intercept":this.download(n.type,"",n.options,n.active,n.intercept);break}}}wh.moduleName="download";wh.downloaders=t7;function Fb(t,e){var i=e.mask,n=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",s=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",r=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(a){var l=i[a];typeof l<"u"&&l!==r&&l!==n&&l!==s&&(t.value=t.value+""+l,o(a+1))}t.addEventListener("keydown",a=>{var l=t.value.length,u=a.key;if(a.keyCode>46&&!a.ctrlKey&&!a.metaKey){if(l>=i.length)return a.preventDefault(),a.stopPropagation(),!1;switch(i[l]){case n:if(u.toUpperCase()==u.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case s:if(isNaN(u))return a.preventDefault(),a.stopPropagation(),!1;break;case r:break;default:if(u!==i[l])return a.preventDefault(),a.stopPropagation(),!1}}}),t.addEventListener("keyup",a=>{a.keyCode>46&&e.maskAutoFill&&o(t.value.length)}),t.placeholder||(t.placeholder=i),e.maskAutoFill&&o(t.value.length)}function i7(t,e,i,n,s){var r=t.getValue(),o=document.createElement("input");if(o.setAttribute("type",s.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let l in s.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+s.elementAttributes["+"+l])):o.setAttribute(l,s.elementAttributes[l]);o.value=typeof r<"u"?r:"",e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%",s.selectContents&&o.select())});function a(l){(r===null||typeof r>"u")&&o.value!==""||o.value!==r?i(o.value)&&(r=o.value):n()}return o.addEventListener("change",a),o.addEventListener("blur",a),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:n();break;case 35:case 36:l.stopPropagation();break}}),s.mask&&Fb(o,s),o}function n7(t,e,i,n,s){var r=t.getValue(),o=s.verticalNavigation||"hybrid",a=String(r!==null&&typeof r<"u"?r:""),l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",s.elementAttributes&&typeof s.elementAttributes=="object")for(let A in s.elementAttributes)A.charAt(0)=="+"?(A=A.slice(1),l.setAttribute(A,l.getAttribute(A)+s.elementAttributes["+"+A])):l.setAttribute(A,s.elementAttributes[A]);l.value=a,e(function(){t.getType()==="cell"&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",t.getRow().normalizeHeight(),s.selectContents&&l.select())});function c(A){(r===null||typeof r>"u")&&l.value!==""||l.value!==r?(i(l.value)&&(r=l.value),setTimeout(function(){t.getRow().normalizeHeight()},300)):n()}return l.addEventListener("change",c),l.addEventListener("blur",c),l.addEventListener("keyup",function(){l.style.height="";var A=l.scrollHeight;l.style.height=A+"px",A!=u&&(u=A,t.getRow().normalizeHeight())}),l.addEventListener("keydown",function(A){switch(A.keyCode){case 13:A.shiftKey&&s.shiftEnterSubmit&&c();break;case 27:n();break;case 38:(o=="editor"||o=="hybrid"&&l.selectionStart)&&(A.stopImmediatePropagation(),A.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&l.selectionStart!==l.value.length)&&(A.stopImmediatePropagation(),A.stopPropagation());break;case 35:case 36:A.stopPropagation();break}}),s.mask&&Fb(l,s),l}function s7(t,e,i,n,s){var r=t.getValue(),o=s.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),typeof s.max<"u"&&a.setAttribute("max",s.max),typeof s.min<"u"&&a.setAttribute("min",s.min),typeof s.step<"u"&&a.setAttribute("step",s.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let c in s.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),a.setAttribute(c,a.getAttribute(c)+s.elementAttributes["+"+c])):a.setAttribute(c,s.elementAttributes[c]);a.value=r;var l=function(c){u()};e(function(){t.getType()==="cell"&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),s.selectContents&&a.select())});function u(){var c=a.value;!isNaN(c)&&c!==""&&(c=Number(c)),c!==r?i(c)&&(r=c):n()}return a.addEventListener("keydown",function(c){switch(c.keyCode){case 13:u();break;case 27:n();break;case 38:case 40:o=="editor"&&(c.stopImmediatePropagation(),c.stopPropagation());break;case 35:case 36:c.stopPropagation();break}}),s.mask&&Fb(a,s),a}function r7(t,e,i,n,s){var r=t.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof s.max<"u"&&o.setAttribute("max",s.max),typeof s.min<"u"&&o.setAttribute("min",s.min),typeof s.step<"u"&&o.setAttribute("step",s.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let l in s.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+s.elementAttributes["+"+l])):o.setAttribute(l,s.elementAttributes[l]);o.value=r,e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%")});function a(){var l=o.value;!isNaN(l)&&l!==""&&(l=Number(l)),l!=r?i(l)&&(r=l):n()}return o.addEventListener("blur",function(l){a()}),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:n();break}}),o}function o7(t,e,i,n,s){var r=s.format,o=s.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l=t.getValue(),u=document.createElement("input");function c(h){var g;return a.isDateTime(h)?g=h:r==="iso"?g=a.fromISO(String(h)):g=a.fromFormat(String(h),r),g.toFormat("yyyy-MM-dd")}if(u.type="date",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",s.max&&u.setAttribute("max",r?c(s.max):s.max),s.min&&u.setAttribute("min",r?c(s.min):s.min),s.elementAttributes&&typeof s.elementAttributes=="object")for(let h in s.elementAttributes)h.charAt(0)=="+"?(h=h.slice(1),u.setAttribute(h,u.getAttribute(h)+s.elementAttributes["+"+h])):u.setAttribute(h,s.elementAttributes[h]);l=typeof l<"u"?l:"",r&&(a?l=c(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=l,e(function(){t.getType()==="cell"&&(u.focus({preventScroll:!0}),u.style.height="100%",s.selectContents&&u.select())});function A(){var h=u.value,g;if((l===null||typeof l>"u")&&h!==""||h!==l){if(h&&r)switch(g=a.fromFormat(String(h),"yyyy-MM-dd"),r){case!0:h=g;break;case"iso":h=g.toISO();break;default:h=g.toFormat(r)}i(h)&&(l=u.value)}else n()}return u.addEventListener("blur",function(h){(h.relatedTarget||h.rangeParent||h.explicitOriginalTarget!==u)&&A()}),u.addEventListener("keydown",function(h){switch(h.keyCode){case 13:A();break;case 27:n();break;case 35:case 36:h.stopPropagation();break;case 38:case 40:o=="editor"&&(h.stopImmediatePropagation(),h.stopPropagation());break}}),u}function a7(t,e,i,n,s){var r=s.format,o=s.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,u=t.getValue(),c=document.createElement("input");if(c.type="time",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let h in s.elementAttributes)h.charAt(0)=="+"?(h=h.slice(1),c.setAttribute(h,c.getAttribute(h)+s.elementAttributes["+"+h])):c.setAttribute(h,s.elementAttributes[h]);u=typeof u<"u"?u:"",r&&(a?(a.isDateTime(u)?l=u:r==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),r),u=l.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=u,e(function(){t.getType()=="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",s.selectContents&&c.select())});function A(){var h=c.value,g;if((u===null||typeof u>"u")&&h!==""||h!==u){if(h&&r)switch(g=a.fromFormat(String(h),"hh:mm"),r){case!0:h=g;break;case"iso":h=g.toISO();break;default:h=g.toFormat(r)}i(h)&&(u=c.value)}else n()}return c.addEventListener("blur",function(h){(h.relatedTarget||h.rangeParent||h.explicitOriginalTarget!==c)&&A()}),c.addEventListener("keydown",function(h){switch(h.keyCode){case 13:A();break;case 27:n();break;case 35:case 36:h.stopPropagation();break;case 38:case 40:o=="editor"&&(h.stopImmediatePropagation(),h.stopPropagation());break}}),c}function l7(t,e,i,n,s){var r=s.format,o=s.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,u=t.getValue(),c=document.createElement("input");if(c.type="datetime-local",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let h in s.elementAttributes)h.charAt(0)=="+"?(h=h.slice(1),c.setAttribute(h,c.getAttribute(h)+s.elementAttributes["+"+h])):c.setAttribute(h,s.elementAttributes[h]);u=typeof u<"u"?u:"",r&&(a?(a.isDateTime(u)?l=u:r==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),r),u=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=u,e(function(){t.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",s.selectContents&&c.select())});function A(){var h=c.value,g;if((u===null||typeof u>"u")&&h!==""||h!==u){if(h&&r)switch(g=a.fromISO(String(h)),r){case!0:h=g;break;case"iso":h=g.toISO();break;default:h=g.toFormat(r)}i(h)&&(u=c.value)}else n()}return c.addEventListener("blur",function(h){(h.relatedTarget||h.rangeParent||h.explicitOriginalTarget!==c)&&A()}),c.addEventListener("keydown",function(h){switch(h.keyCode){case 13:A();break;case 27:n();break;case 35:case 36:h.stopPropagation();break;case 38:case 40:o=="editor"&&(h.stopImmediatePropagation(),h.stopPropagation());break}}),c}class U2{constructor(e,i,n,s,r,o){this.edit=e,this.table=e.table,this.cell=i,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=i.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:s,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),n(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function i(n){n.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",i),setTimeout(()=>{e.removeEventListener("click",i)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,i=document.createElement("input");if(i.setAttribute("type",this.params.clearable?"search":"text"),i.style.padding="4px",i.style.width="100%",i.style.boxSizing="border-box",this.params.autocomplete||(i.style.cursor="default",i.style.caretColor="transparent"),e&&typeof e=="object")for(let n in e)n.charAt(0)=="+"?(n=n.slice(1),i.setAttribute(n,i.getAttribute(n)+e["+"+n])):i.setAttribute(n,e[n]);return this.params.mask&&Fb(i,this.params),this._bindInputEvents(i),i}_initializeParams(e){var i=["values","valuesURL","valuesLookup"],n;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",n=Object.keys(e).filter(s=>i.includes(s)).length,n?n>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i>0&&this._focusItem(this.displayItems[i-1]))}_keyDown(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i<this.displayItems.length-1&&(i==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[i+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var i=String.fromCharCode(e).toLowerCase();this.filterTerm+=i.toLowerCase();var n=this.displayItems.find(s=>typeof s.label<"u"&&s.label.toLowerCase().startsWith(this.filterTerm));n&&this._focusItem(n),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var i=[],n=++this.listIteration;return this.filtered=!1,this.params.values?i=this.params.values:this.params.valuesURL?i=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?i=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(i=this._uniqueColumnValues(this.params.valuesLookupField)),i instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),i.then().then(s=>this.listIteration===n?this._parseList(s):Promise.reject(n))):Promise.resolve(this._parseList(i))}_addPlaceholder(e){var i=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?i=e:(i.classList.add("tabulator-edit-list-placeholder"),i.innerHTML=e),this.listEl.appendChild(i),this._showList())}_ajaxRequest(e,i){var n=this.params.filterRemote?{term:i}:{};return e=wF(e,{},n),fetch(e).then(s=>s.ok?s.json().catch(r=>(console.warn("List Ajax Load Error - Invalid JSON returned",r),Promise.reject(r))):(console.error("List Ajax Load Error - Connection Error: "+s.status,s.statusText),Promise.reject(s))).catch(s=>(console.error("List Ajax Load Error - Connection Error: ",s),Promise.reject(s)))}_uniqueColumnValues(e){var i={},n=this.table.getData(this.params.valuesLookup),s;return e?s=this.table.columnManager.getColumnByField(e):s=this.cell.getColumn()._getSelf(),s?n.forEach(r=>{var o=s.getFieldValue(r);o!==null&&typeof o<"u"&&o!==""&&(i[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),i=[]),Object.keys(i)}_parseList(e){var i=[];return Array.isArray(e)||(e=Object.entries(e).map(([n,s])=>({label:s,value:n}))),e.forEach(n=>{typeof n!="object"&&(n={label:n,value:n}),this._parseListItem(n,i,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=i,i}_parseListItem(e,i,n){var s={};e.options?s=this._parseListGroup(e,n+1):(s={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:n,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(s,!0)),i.push(s)}_parseListGroup(e,i){var n={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:i,options:[],original:e};return e.options.forEach(s=>{this._parseListItem(s,n.options,i)}),n}_sortOptions(e){var i;return this.params.sort&&(i=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(i,e)),e}_sortGroup(e,i){i.sort((n,s)=>e(n.label,s.label,n.value,s.value,n.original,s.original)),i.forEach(n=>{n.group&&this._sortGroup(e,n.options)})}_defaultSortFunction(e,i){var n,s,r,o,a=0,l,u=/(\d+)|(\D+)/g,c=/\d/,A=0;if(this.params.sort==="desc"&&([e,i]=[i,e]),!e&&e!==0)A=!i&&i!==0?0:-1;else if(!i&&i!==0)A=1;else{if(isFinite(e)&&isFinite(i))return e-i;if(n=String(e).toLowerCase(),s=String(i).toLowerCase(),n===s)return 0;if(!(c.test(n)&&c.test(s)))return n>s?1:-1;for(n=n.match(u),s=s.match(u),l=n.length>s.length?s.length:n.length;a<l;)if(r=n[a],o=s[a++],r!==o)return isFinite(r)&&isFinite(o)?(r.charAt(0)==="0"&&(r="."+r),o.charAt(0)==="0"&&(o="."+o),r-o):r>o?1:-1;return n.length>s.length}return A}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,i=this.input.value;return i?(this.filtered=!0,this.data.forEach(n=>{this._filterItem(e,i,n)})):this.filtered=!1,this.data}_filterItem(e,i,n){var s=!1;return n.group?(n.options.forEach(r=>{this._filterItem(e,i,r)&&(s=!0)}),n.visible=s):n.visible=e(i,n.label,n.value,n.original),n.visible}_defaultFilterFunc(e,i,n,s){return e=String(e).toLowerCase(),i!==null&&typeof i<"u"&&(String(i).toLowerCase().indexOf(e)>-1||String(n).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(i=>{this._buildItem(i)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var i=e.element,n;if(!this.filtered||e.visible){if(!i){if(i=document.createElement("div"),i.tabIndex=0,n=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,i):e.label,n instanceof HTMLElement?i.appendChild(n):i.innerHTML=n,e.group?i.classList.add("tabulator-edit-list-group"):i.classList.add("tabulator-edit-list-item"),i.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let s in e.elementAttributes)s.charAt(0)=="+"?(s=s.slice(1),i.setAttribute(s,this.input.getAttribute(s)+e.elementAttributes["+"+s])):i.setAttribute(s,e.elementAttributes[s]);e.group?i.addEventListener("click",this._groupClick.bind(this,e)):i.addEventListener("click",this._itemClick.bind(this,e)),i.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=i}this._styleItem(e),this.listEl.appendChild(i),e.group?e.options.forEach(s=>{this._buildItem(s)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,i){i.stopPropagation(),this._chooseItem(e)}_groupClick(e,i){i.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,i){var n;this.typing=!1,this.params.multiselect?(n=this.currentItems.indexOf(e),n>-1?(this.currentItems.splice(n,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(s=>s.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),i||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var i,n;if(this.popup&&this.popup.hide(!0),this.params.multiselect)i=this.currentItems.map(s=>s.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")i=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?i=this.currentItems[0].value:(n=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,n===null||typeof n>"u"||n===""?i=n:i=this.params.emptyValue);i===""&&(i=this.params.emptyValue),this.actions.success(i),this.isFilter&&(this.initialValues=i&&!Array.isArray(i)?[i]:i,this.currentItems=[])}}function u7(t,e,i,n,s){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var r=new U2(this,t,e,i,n,s);return r.input}function c7(t,e,i,n,s){var r=new U2(this,t,e,i,n,s);return r.input}function A7(t,e,i,n,s){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),s.autocomplete=!0;var r=new U2(this,t,e,i,n,s);return r.input}function h7(t,e,i,n,s){var r=this,o=t.getElement(),a=t.getValue(),l=o.getElementsByTagName("svg").length||5,u=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,c=[],A=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function g(C){c.forEach(function(m,b){b<C?(r.table.browser=="ie"?m.setAttribute("class","tabulator-star-active"):m.classList.replace("tabulator-star-inactive","tabulator-star-active"),m.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(r.table.browser=="ie"?m.setAttribute("class","tabulator-star-inactive"):m.classList.replace("tabulator-star-active","tabulator-star-inactive"),m.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function f(C){var m=document.createElement("span"),b=h.cloneNode(!0);c.push(b),m.addEventListener("mouseenter",function(_){_.stopPropagation(),_.stopImmediatePropagation(),g(C)}),m.addEventListener("mousemove",function(_){_.stopPropagation(),_.stopImmediatePropagation()}),m.addEventListener("click",function(_){_.stopPropagation(),_.stopImmediatePropagation(),i(C),o.blur()}),m.appendChild(b),A.appendChild(m)}function y(C){a=C,g(C)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",A.style.verticalAlign="middle",A.style.display="inline-block",A.style.padding="4px",h.setAttribute("width",u),h.setAttribute("height",u),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",s.elementAttributes&&typeof s.elementAttributes=="object")for(let C in s.elementAttributes)C.charAt(0)=="+"?(C=C.slice(1),A.setAttribute(C,A.getAttribute(C)+s.elementAttributes["+"+C])):A.setAttribute(C,s.elementAttributes[C]);for(var E=1;E<=l;E++)f(E);return a=Math.min(parseInt(a),l),g(a),A.addEventListener("mousemove",function(C){g(0)}),A.addEventListener("click",function(C){i(0)}),o.addEventListener("blur",function(C){n()}),o.addEventListener("keydown",function(C){switch(C.keyCode){case 39:y(a+1);break;case 37:y(a-1);break;case 13:i(a);break;case 27:n();break}}),A}function d7(t,e,i,n,s){var r=t.getElement(),o=typeof s.max>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:s.max,a=typeof s.min>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:s.min,l=(o-a)/100,u=t.getValue()||0,c=document.createElement("div"),A=document.createElement("div"),h,g;function f(){var y=window.getComputedStyle(r,null),E=l*Math.round(A.offsetWidth/((r.clientWidth-parseInt(y.getPropertyValue("padding-left"))-parseInt(y.getPropertyValue("padding-right")))/100))+a;i(E),r.setAttribute("aria-valuenow",E),r.setAttribute("aria-label",u)}if(c.style.position="absolute",c.style.right="0",c.style.top="0",c.style.bottom="0",c.style.width="5px",c.classList.add("tabulator-progress-handle"),A.style.display="inline-block",A.style.position="relative",A.style.height="100%",A.style.backgroundColor="#488CE9",A.style.maxWidth="100%",A.style.minWidth="0%",s.elementAttributes&&typeof s.elementAttributes=="object")for(let y in s.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),A.setAttribute(y,A.getAttribute(y)+s.elementAttributes["+"+y])):A.setAttribute(y,s.elementAttributes[y]);return r.style.padding="4px 4px",u=Math.min(parseFloat(u),o),u=Math.max(parseFloat(u),a),u=Math.round((u-a)/l),A.style.width=u+"%",r.setAttribute("aria-valuemin",a),r.setAttribute("aria-valuemax",o),A.appendChild(c),c.addEventListener("mousedown",function(y){h=y.screenX,g=A.offsetWidth}),c.addEventListener("mouseover",function(){c.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(y){h&&(A.style.width=g+y.screenX-h+"px")}),r.addEventListener("mouseup",function(y){h&&(y.stopPropagation(),y.stopImmediatePropagation(),h=!1,g=!1,f())}),r.addEventListener("keydown",function(y){switch(y.keyCode){case 39:y.preventDefault(),A.style.width=A.clientWidth+r.clientWidth/100+"px";break;case 37:y.preventDefault(),A.style.width=A.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:f();break;case 27:n();break}}),r.addEventListener("blur",function(){n()}),A}function f7(t,e,i,n,s){var r=t.getValue(),o=document.createElement("input"),a=s.tristate,l=typeof s.indeterminateValue>"u"?null:s.indeterminateValue,u=!1,c=Object.keys(s).includes("trueValue"),A=Object.keys(s).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let g in s.elementAttributes)g.charAt(0)=="+"?(g=g.slice(1),o.setAttribute(g,o.getAttribute(g)+s.elementAttributes["+"+g])):o.setAttribute(g,s.elementAttributes[g]);o.value=r,a&&(typeof r>"u"||r===l||r==="")&&(u=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){t.getType()==="cell"&&o.focus({preventScroll:!0})}),o.checked=c?r===s.trueValue:r===!0||r==="true"||r==="True"||r===1;function h(g){var f=o.checked;return c&&f?f=s.trueValue:A&&!f&&(f=s.falseValue),a?g?u?l:f:o.checked&&!u?(o.checked=!1,o.indeterminate=!0,u=!0,l):(u=!1,f):f}return o.addEventListener("change",function(g){i(h())}),o.addEventListener("blur",function(g){i(h(!0))}),o.addEventListener("keydown",function(g){g.keyCode==13&&i(h()),g.keyCode==27&&n()}),o}var p7={input:i7,textarea:n7,number:s7,range:r7,date:o7,time:a7,datetime:l7,select:u7,list:c7,autocomplete:A7,star:h7,progress:d7,tickCross:f7};class og extends zt{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=og.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var i=this.currentCell,n=this.options("tabEndNewRow");i&&(this.navigateNext(i,e)||n&&(i.getElement().firstChild.blur(),n===!0?n=this.table.addRow({}):typeof n=="function"?n=this.table.addRow(n(i.row.getComponent())):n=this.table.addRow(Object.assign({},n)),n.then(()=>{setTimeout(()=>{i.getComponent().navigateNext()})})))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.table.modules.edit.clearEdited(i._getSelf())})}navigatePrev(e=this.currentCell,i){var n,s;if(e){if(i&&i.preventDefault(),n=this.navigateLeft(),n)return!0;if(s=this.table.rowManager.prevDisplayRow(e.row,!0),s&&(n=this.findPrevEditableCell(s,s.cells.length),n))return n.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,i){var n,s;if(e){if(i&&i.preventDefault(),n=this.navigateRight(),n)return!0;if(s=this.table.rowManager.nextDisplayRow(e.row,!0),s&&(n=this.findNextEditableCell(s,-1),n))return n.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,i){var n,s;return e&&(i&&i.preventDefault(),n=e.getIndex(),s=this.findPrevEditableCell(e.row,n),s)?(s.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,i){var n,s;return e&&(i&&i.preventDefault(),n=e.getIndex(),s=this.findNextEditableCell(e.row,n),s)?(s.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,i){var n,s;return e&&(i&&i.preventDefault(),n=e.getIndex(),s=this.table.rowManager.prevDisplayRow(e.row,!0),s)?(s.cells[n].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,i){var n,s;return e&&(i&&i.preventDefault(),n=e.getIndex(),s=this.table.rowManager.nextDisplayRow(e.row,!0),s)?(s.cells[n].getComponent().edit(),!0):!1}findNextEditableCell(e,i){var n=!1;if(i<e.cells.length-1)for(var s=i+1;s<e.cells.length;s++){let r=e.cells[s];if(r.column.modules.edit&&Vi.elVisible(r.getElement())&&this.allowEdit(r)){n=r;break}}return n}findPrevEditableCell(e,i){var n=!1;if(i>0)for(var s=i-1;s>=0;s--){let r=e.cells[s];if(r.column.modules.edit&&Vi.elVisible(r.getElement())&&this.allowEdit(r)){n=r;break}}return n}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(i=>{i.column.modules.edit&&typeof i.column.modules.edit.check=="function"&&this.updateCellClass(i)})}initializeColumn(e){var i={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?i.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":i.editor=e.definition.editor;break;case"boolean":e.definition.editor===!0&&(typeof e.definition.formatter!="function"?this.editors[e.definition.formatter]?i.editor=this.editors[e.definition.formatter]:i.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}i.editor&&(e.modules.edit=i)}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var i=this.currentCell,n;if(this.invalidEdit=!1,i){for(this.currentCell=!1,n=i.getElement(),this.dispatch("edit-editor-clear",i,e),n.classList.remove("tabulator-editing");n.firstChild;)n.removeChild(n.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,i=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,i),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",i)}}bindEditor(e){if(e.column.modules.edit){var i=this,n=e.getElement(!0);this.updateCellClass(e),n.setAttribute("tabindex",0),n.addEventListener("click",function(s){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})}),n.addEventListener("mousedown",function(s){s.button===2?s.preventDefault():i.mouseClick=!0}),n.addEventListener("focus",function(s){i.recursionBlock||i.edit(e,s,!1)})}}focusCellNoEvent(e,i){this.recursionBlock=!0,i&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,i){this.focusCellNoEvent(e),this.edit(e,!1,i)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var i=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,s=e.row.getElement();s.offsetTop<i?this.table.rowManager.element.scrollTop-=i-s.offsetTop:s.offsetTop+s.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=s.offsetTop+s.offsetHeight-n);var r=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin||0),o-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-a.offsetLeft:a.offsetLeft+a.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-o)}}allowEdit(e){var i=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(i=e.column.modules.edit.check(e.getComponent()));break;case"string":i=!!e.row.data[e.column.modules.edit.check];break;case"boolean":i=e.column.modules.edit.check;break}return i}edit(e,i,n){var s=this,r=!0,o=function(){},a=e.getElement(),l,u,c;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function A(E){if(s.currentCell===e){var C=s.chain("edit-success",[e,E],!0,!0);return C===!0||s.table.options.validationMode==="highlight"?(s.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,s.editedCells.indexOf(e)==-1&&s.editedCells.push(e),e.setValue(E,!0),C===!0):(s.invalidEdit=!0,s.focusCellNoEvent(e,!0),o(),!1)}}function h(){s.currentCell===e&&s.cancelEdit()}function g(E){o=E}if(e.column.modules.edit.blocked)return this.mouseClick=!1,a.blur(),!1;if(i&&i.stopPropagation(),r=this.allowEdit(e),r||n){if(s.cancelEdit(),s.currentCell=e,this.focusScrollAdjust(e),u=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,i,u)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,u),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",u),c=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(u):e.column.modules.edit.params,l=e.column.modules.edit.editor.call(s,u,g,A,h,c),this.currentCell&&l!==!1)if(l instanceof Node){for(a.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");a.firstChild;)a.removeChild(a.firstChild);a.appendChild(l),o();for(var f=a.children,y=0;y<f.length;y++)f[y].addEventListener("click",function(E){E.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",l),a.blur(),!1;else return a.blur(),!1;return!0}else return this.mouseClick=!1,a.blur(),!1}getEditedCells(){var e=[];return this.editedCells.forEach(i=>{e.push(i.getComponent())}),e}clearEdited(e){var i;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),i=this.editedCells.indexOf(e),i>-1&&this.editedCells.splice(i,1)}}og.moduleName="edit";og.editors=p7;class Cx{constructor(e,i,n,s){this.type=e,this.columns=i,this.component=n||!1,this.indent=s||0}}class w1{constructor(e,i,n,s,r){this.value=e,this.component=i||!1,this.width=n,this.height=s,this.depth=r}}class xF extends zt{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,i,n,s){this.cloneTableStyle=i,this.config=e||{},this.colVisProp=s;var r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders()):[],o=this.bodyToExportRows(this.rowLookup(n));return r.concat(o)}generateTable(e,i,n,s){var r=this.generateExportList(e,i,n,s);return this.generateTableElement(r)}rowLookup(e){var i=[];if(typeof e=="function")e.call(this.table).forEach(n=>{n=this.table.rowManager.findRow(n),n&&i.push(n)});else switch(e){case!0:case"visible":i=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":i=this.table.rowManager.rows;break;case"selected":i=this.table.modules.selectRow.selectedRows;break;case"active":default:this.table.options.pagination?i=this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):i=this.table.rowManager.getDisplayRows()}return Object.assign([],i)}generateColumnGroupHeaders(){var e=[],i=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return i.forEach(n=>{var s=this.processColumnGroup(n);s&&e.push(s)}),e}processColumnGroup(e){var i=e.columns,n=0,s=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,r={title:s,column:e,depth:1};if(i.length){if(r.subGroups=[],r.width=0,i.forEach(o=>{var a=this.processColumnGroup(o);a&&(r.width+=a.width,r.subGroups.push(a),a.depth>n&&(n=a.depth))}),r.depth+=n,!r.width)return!1}else if(this.columnVisCheck(e))r.width=1;else return!1;return r}columnVisCheck(e){var i=e.definition[this.colVisProp];return typeof i=="function"&&(i=i.call(this.table,e.getComponent())),i!==!1&&(e.visible||!e.visible&&i)}headersToExportRows(e){var i=[],n=0,s=[];function r(o,a){var l=n-a;if(typeof i[a]>"u"&&(i[a]=[]),o.height=o.subGroups?1:l-o.depth+1,i[a].push(o),o.height>1)for(let u=1;u<o.height;u++)typeof i[a+u]>"u"&&(i[a+u]=[]),i[a+u].push(!1);if(o.width>1)for(let u=1;u<o.width;u++)i[a].push(!1);o.subGroups&&o.subGroups.forEach(function(u){r(u,a+1)})}return e.forEach(function(o){o.depth>n&&(n=o.depth)}),e.forEach(function(o){r(o,0)}),i.forEach(o=>{var a=[];o.forEach(l=>{if(l){let u=typeof l.title>"u"?"":l.title;a.push(new w1(u,l.column.getComponent(),l.width,l.height,l.depth))}else a.push(null)}),s.push(new Cx("header",a))}),s}bodyToExportRows(e){var i=[],n=[];return this.table.columnManager.columnsByIndex.forEach(s=>{this.columnVisCheck(s)&&i.push(s.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(s=>{switch(s.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&s.modules.dataTree.parent)}return!0}),e.forEach((s,r)=>{var o=s.getData(this.colVisProp),a=[],l=0;switch(s.type){case"group":l=s.level,a.push(new w1(s.key,s.getComponent(),i.length,1));break;case"calc":case"row":i.forEach(u=>{a.push(new w1(u._column.getFieldValue(o),u,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(l=s.modules.dataTree.index);break}n.push(new Cx(s.type,a,s.getComponent(),l))}),n}generateTableElement(e){var i=document.createElement("table"),n=document.createElement("thead"),s=document.createElement("tbody"),r=this.lookupTableStyles(),o=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),i.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((l,u)=>{let c;switch(l.type){case"header":n.appendChild(this.generateHeaderElement(l,a,r));break;case"group":s.appendChild(this.generateGroupElement(l,a,r));break;case"calc":s.appendChild(this.generateCalcElement(l,a,r));break;case"row":c=this.generateRowElement(l,a,r),this.mapElementStyles(u%2&&r.evenRow?r.evenRow:r.oddRow,c,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),s.appendChild(c);break}}),n.innerHTML&&i.appendChild(n),i.appendChild(s),this.mapElementStyles(this.table.element,i,["border-top","border-left","border-right","border-bottom"]),i}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,i,n){var s=document.createElement("tr");return e.columns.forEach(r=>{if(r){var o=document.createElement("th"),a=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];o.colSpan=r.width,o.rowSpan=r.height,o.innerHTML=r.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),a.forEach(function(l){o.classList.add(l)}),this.mapElementStyles(r.component.getElement(),o,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),o,["width"]):r.component._column.definition.width&&(o.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,o,["border-top"]),s.appendChild(o)}}),s}generateGroupElement(e,i,n){var s=document.createElement("tr"),r=document.createElement("td"),o=e.columns[0];return s.classList.add("tabulator-print-table-row"),i.groupHeader&&i.groupHeader[e.indent]?o.value=i.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):i.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),r.colSpan=o.width,r.innerHTML=o.value,s.classList.add("tabulator-print-table-group"),s.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&s.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),s.appendChild(r),s}generateCalcElement(e,i,n){var s=this.generateRowElement(e,i,n);return s.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),s}generateRowElement(e,i,n){var s=document.createElement("tr");if(s.classList.add("tabulator-print-table-row"),e.columns.forEach((r,o)=>{if(r){var a=document.createElement("td"),l=r.component._column,u=this.table.columnManager.findColumnIndex(l),c=r.value,A,h={modules:{},getValue:function(){return c},getField:function(){return l.definition.field},getElement:function(){return a},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return h},column:l},g=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(g.forEach(function(f){a.classList.add(f)}),this.table.modExists("format")&&this.config.formatCells!==!1)c=this.table.modules.format.formatExportValue(h,this.colVisProp);else switch(typeof c){case"object":c=c!==null?JSON.stringify(c):"";break;case"undefined":c="";break}c instanceof Node?a.appendChild(c):a.innerHTML=c,A=n.styleCells&&n.styleCells[u]?n.styleCells[u]:n.firstCell,A&&(this.mapElementStyles(A,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(a.style.textAlign=l.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(i.treeElementField&&i.treeElementField==l.field||!i.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),s.appendChild(a),h.modules.format&&h.modules.format.renderedCallback&&h.modules.format.renderedCallback()}}),i.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let r=Object.assign(e.component);r.getElement=function(){return s},i.rowFormatter(e.component)}return s}generateHTMLTable(e){var i=document.createElement("div");return i.appendChild(this.generateTableElement(e)),i.innerHTML}getHtml(e,i,n,s){var r=this.generateExportList(n||this.table.options.htmlOutputConfig,i,e,s||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(e,i,n){if(this.cloneTableStyle&&e&&i){var s={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);n.forEach(function(o){i.style[s[o]]||(i.style[s[o]]=r.getPropertyValue(o))})}}}}xF.moduleName="export";var g7={"=":function(t,e,i,n){return e==t},"<":function(t,e,i,n){return e<t},"<=":function(t,e,i,n){return e<=t},">":function(t,e,i,n){return e>t},">=":function(t,e,i,n){return e>=t},"!=":function(t,e,i,n){return e!=t},regex:function(t,e,i,n){return typeof t=="string"&&(t=new RegExp(t)),t.test(e)},like:function(t,e,i,n){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(t.toLowerCase())>-1:!1},keywords:function(t,e,i,n){var s=t.toLowerCase().split(typeof n.separator>"u"?" ":n.separator),r=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return s.forEach(a=>{r.includes(a)&&o.push(!0)}),n.matchAll?o.length===s.length:!!o.length},starts:function(t,e,i,n){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(t.toLowerCase()):!1},ends:function(t,e,i,n){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(t.toLowerCase()):!1},in:function(t,e,i,n){return Array.isArray(t)?t.length?t.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",t),!1)}};class Oa extends zt{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var i=this.table.columnManager.findColumn(e.field);if(i)this.setHeaderFilterValue(i,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,i,n,s){return s.filter=this.getFilters(!0,!0),s}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,i,n,s){this.setFilter(e,i,n,s),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,i,n,s){this.addFilter(e,i,n,s),this.refreshFilter()}userSetHeaderFilterFocus(e){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterFocus(i);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var i=this.table.columnManager.findColumn(e);if(i)return this.getHeaderFilterValue(i);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,i){var n=this.table.columnManager.findColumn(e);if(n)this.setHeaderFilterValue(n,i);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,i,n){this.removeFilter(e,i,n),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,i,n){return this.search("rows",e,i,n)}searchData(e,i,n){return this.search("data",e,i,n)}initializeColumnHeaderFilter(e){var i=e.definition;i.headerFilter&&this.initializeColumn(e)}initializeColumn(e,i){var n=this,s=e.getField();function r(o){var a=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",l="",u="",c;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete n.headerFilters[s];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":Oa.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,c=function(A){var h=e.definition.headerFilterFuncParams||{},g=e.getFieldValue(A);return h=typeof h=="function"?h(o,g,A):h,Oa.filters[e.definition.headerFilterFunc](o,g,A,h)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":c=function(A){var h=e.definition.headerFilterFuncParams||{},g=e.getFieldValue(A);return h=typeof h=="function"?h(o,g,A):h,e.definition.headerFilterFunc(o,g,A,h)},l=c;break}if(!c)switch(a){case"partial":c=function(A){var h=e.getFieldValue(A);return typeof h<"u"&&h!==null?String(h).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},l="like";break;default:c=function(A){return e.getFieldValue(A)==o},l="="}n.headerFilters[s]={value:o,func:c,type:l}}e.modules.filter.value=o,u=JSON.stringify(n.headerFilters),n.prevHeaderFilterChangeCheck!==u&&(n.prevHeaderFilterChangeCheck=u,n.trackChanges(),n.refreshFilter())}return!0}e.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,i,n){var s=this,r=e.modules.filter.success,o=e.getField(),a,l,u,c,A,h,g,f;e.modules.filter.value=i;function y(){}function E(C){f=C}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(C){return!C&&C!==0},a=document.createElement("div"),a.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":s.table.modules.edit.editors[e.definition.headerFilter]?(l=s.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(C){return C!==!0&&C!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":l=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?l=e.modules.edit.editor:e.definition.formatter&&s.table.modules.edit.editors[e.definition.formatter]?(l=s.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(C){return C!==!0&&C!==!1})):l=s.table.modules.edit.editors.input;break}if(l){if(c={getValue:function(){return typeof i<"u"?i:""},getField:function(){return e.definition.field},getElement:function(){return a},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},g=e.definition.headerFilterParams||{},g=typeof g=="function"?g.call(s.table,c):g,u=l.call(this.table.modules.edit,c,E,r,y,g),!u){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(u instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",u);return}s.langBind("headerFilters|columns|"+e.definition.field,function(C){u.setAttribute("placeholder",typeof C<"u"&&C?C:e.definition.headerFilterPlaceholder||s.langText("headerFilters|default"))}),u.addEventListener("click",function(C){C.stopPropagation(),u.focus()}),u.addEventListener("focus",C=>{var m=this.table.columnManager.contentsElement.scrollLeft,b=this.table.rowManager.element.scrollLeft;m!==b&&(this.table.rowManager.scrollHorizontal(m),this.table.columnManager.scrollHorizontal(m))}),A=!1,h=function(C){A&&clearTimeout(A),A=setTimeout(function(){r(u.value)},s.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=u,e.modules.filter.attrType=u.hasAttribute("type")?u.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=u.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(u.addEventListener("keyup",h),u.addEventListener("search",h),e.modules.filter.attrType=="number"&&u.addEventListener("change",function(C){r(u.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&u.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&u.addEventListener("mousedown",function(C){C.stopPropagation()})),a.appendChild(u),e.contentElement.appendChild(a),n||s.headerFilterColumns.push(e),f&&f()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,i){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,i,!0),e.modules.filter.success(i)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,i,n,s){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:i,value:n,params:s}]),this.addFilter(e)}addFilter(e,i,n,s){var r=!1;Array.isArray(e)||(e=[{field:e,type:i,value:n,params:s}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),r=!0)}),r&&this.trackChanges()}findFilter(e){var i;if(Array.isArray(e))return this.findSubFilters(e);var n=!1;return typeof e.field=="function"?n=function(s){return e.field(s,e.type||{})}:Oa.filters[e.type]?(i=this.table.columnManager.getColumnByField(e.field),i?n=function(s){return Oa.filters[e.type](e.value,i.getFieldValue(s),s,e.params||{})}:n=function(s){return Oa.filters[e.type](e.value,s[e.field],s,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=n,e.func?e:!1}findSubFilters(e){var i=[];return e.forEach(n=>{n=this.findFilter(n),n&&i.push(n)}),i.length?i:!1}getFilters(e,i){var n=[];return e&&(n=this.getHeaderFilters()),i&&n.forEach(function(s){typeof s.type=="function"&&(s.type="function")}),n=n.concat(this.filtersToArray(this.filterList,i)),n}filtersToArray(e,i){var n=[];return e.forEach(s=>{var r;Array.isArray(s)?n.push(this.filtersToArray(s,i)):(r={field:s.field,type:s.type,value:s.value},i&&typeof r.type=="function"&&(r.type="function"),n.push(r))}),n}getHeaderFilters(){var e=[];for(var i in this.headerFilters)e.push({field:i,type:this.headerFilters[i].type,value:this.headerFilters[i].value});return e}removeFilter(e,i,n){Array.isArray(e)||(e=[{field:e,type:i,value:n}]),e.forEach(s=>{var r=-1;typeof s.field=="object"?r=this.filterList.findIndex(o=>s===o):r=this.filterList.findIndex(o=>s.field===o.field&&s.type===o.type&&s.value===o.value),r>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",s.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,i,n,s){var r=[],o=[];return Array.isArray(i)||(i=[{field:i,type:n,value:s}]),i.forEach(a=>{a=this.findFilter(a),a&&o.push(a)}),this.table.rowManager.rows.forEach(a=>{var l=!0;o.forEach(u=>{this.filterRecurse(u,a.getData())||(l=!1)}),l&&r.push(e==="data"?a.getData("data"):a.getComponent())}),r}filter(e,i){var n=[],s=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&n.push(r)}):n=e.slice(0),this.subscribedExternal("dataFiltered")&&(n.forEach(r=>{s.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),s)),n}filterRow(e,i){var n=!0,s=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,s)||(n=!1)});for(var r in this.headerFilters)this.headerFilters[r].func(s)||(n=!1);return n}filterRecurse(e,i){var n=!1;return Array.isArray(e)?e.forEach(s=>{this.filterRecurse(s,i)&&(n=!0)}):n=e.func(i),n}}Oa.moduleName="filter";Oa.filters=g7;function m7(t,e,i){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function v7(t,e,i){return t.getValue()}function b7(t,e,i){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function y7(t,e,i){var n=parseFloat(t.getValue()),s="",r,o,a,l,u,c=e.decimal||".",A=e.thousand||",",h=e.negativeSign||"-",g=e.symbol||"",f=!!e.symbolAfter,y=typeof e.precision<"u"?e.precision:2;if(isNaN(n))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));if(n<0&&(n=Math.abs(n),s=h),r=y!==!1?n.toFixed(y):n,r=String(r).split("."),o=r[0],a=r.length>1?c+r[1]:"",e.thousand!==!1)for(l=/(\d+)(\d{3})/;l.test(o);)o=o.replace(l,"$1"+A+"$2");return u=o+a,s===!0?(u="("+u+")",f?u+g:g+u):f?s+u+g:s+g+u}function w7(t,e,i){var n=t.getValue(),s=e.urlPrefix||"",r=e.download,o=n,a=document.createElement("a"),l;function u(c,A){var h=c.shift(),g=A[h];return c.length&&typeof g=="object"?u(c,g):g}if(e.labelField&&(l=t.getData(),o=u(e.labelField.split(this.table.options.nestedFieldSeparator),l)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(t);break}if(o){if(e.urlField&&(l=t.getData(),n=l[e.urlField]),e.url)switch(typeof e.url){case"string":n=e.url;break;case"function":n=e.url(t);break}return a.setAttribute("href",s+n),e.target&&a.setAttribute("target",e.target),e.download&&(typeof r=="function"?r=r(t):r=r===!0?"":r,a.setAttribute("download",r)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),a}else return"&nbsp;"}function _7(t,e,i){var n=document.createElement("img"),s=t.getValue();switch(e.urlPrefix&&(s=e.urlPrefix+t.getValue()),e.urlSuffix&&(s=s+e.urlSuffix),n.setAttribute("src",s),typeof e.height){case"number":n.style.height=e.height+"px";break;case"string":n.style.height=e.height;break}switch(typeof e.width){case"number":n.style.width=e.width+"px";break;case"string":n.style.width=e.width;break}return n.addEventListener("load",function(){t.getRow().normalizeHeight()}),n}function C7(t,e,i){var n=t.getValue(),s=t.getElement(),r=e.allowEmpty,o=e.allowTruthy,a=Object.keys(e).includes("trueValue"),l=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&n===e.trueValue||!a&&(o&&n||n===!0||n==="true"||n==="True"||n===1||n==="1")?(s.setAttribute("aria-checked",!0),l||""):r&&(n==="null"||n===""||n===null||typeof n>"u")?(s.setAttribute("aria-checked","mixed"),""):(s.setAttribute("aria-checked",!1),u||"")}function E7(t,e,i){var n=window.DateTime||luxon.DateTime,s=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",a=t.getValue();if(typeof n<"u"){var l;return n.isDateTime(a)?l=a:s==="iso"?l=n.fromISO(String(a)):l=n.fromFormat(String(a),s),l.isValid?(e.timezone&&(l=l.setZone(e.timezone)),l.toFormat(r)):o===!0||!a?a:typeof o=="function"?o(a):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function T7(t,e,i){var n=window.DateTime||luxon.DateTime,s=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,a=typeof e.unit<"u"?e.unit:"days",l=typeof e.humanize<"u"?e.humanize:!1,u=typeof e.date<"u"?e.date:n.now(),c=t.getValue();if(typeof n<"u"){var A;return n.isDateTime(c)?A=c:s==="iso"?A=n.fromISO(String(c)):A=n.fromFormat(String(c),s),A.isValid?l?A.diff(u,a).toHuman()+(o?" "+o:""):parseInt(A.diff(u,a)[a])+(o?" "+o:""):r===!0?c:typeof r=="function"?r(c):r}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function x7(t,e,i){var n=t.getValue();return typeof e[n]>"u"?(console.warn("Missing display value for "+n),n):e[n]}function S7(t,e,i){var n=t.getValue(),s=t.getElement(),r=e&&e.stars?e.stars:5,o=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',u='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",n=n&&!isNaN(n)?parseInt(n):0,n=Math.max(0,Math.min(n,r));for(var c=1;c<=r;c++){var A=a.cloneNode(!0);A.innerHTML=c<=n?l:u,o.appendChild(A)}return s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.setAttribute("aria-label",n),o}function B7(t,e,i){var n=this.sanitizeHTML(t.getValue())||0,s=document.createElement("span"),r=e&&e.max?e.max:100,o=e&&e.min?e.min:0,a=e&&typeof e.color<"u"?e.color:["red","orange","green"],l="#666666",u,c;if(!(isNaN(n)||typeof t.getValue()>"u")){switch(s.classList.add("tabulator-traffic-light"),c=parseFloat(n)<=r?parseFloat(n):r,c=parseFloat(c)>=o?parseFloat(c):o,u=(r-o)/100,c=Math.round((c-o)/u),typeof a){case"string":l=a;break;case"function":l=a(n);break;case"object":if(Array.isArray(a)){var A=100/a.length,h=Math.floor(c/A);h=Math.min(h,a.length-1),h=Math.max(h,0),l=a[h];break}}return s.style.backgroundColor=l,s}}function k7(t,e={},i){var n=this.sanitizeHTML(t.getValue())||0,s=t.getElement(),r=e.max?e.max:100,o=e.min?e.min:0,a=e.legendAlign?e.legendAlign:"center",l,u,c,A,h;switch(u=parseFloat(n)<=r?parseFloat(n):r,u=parseFloat(u)>=o?parseFloat(u):o,l=(r-o)/100,u=Math.round((u-o)/l),typeof e.color){case"string":c=e.color;break;case"function":c=e.color(n);break;case"object":if(Array.isArray(e.color)){let E=100/e.color.length,C=Math.floor(u/E);C=Math.min(C,e.color.length-1),C=Math.max(C,0),c=e.color[C];break}default:c="#2DC214"}switch(typeof e.legend){case"string":A=e.legend;break;case"function":A=e.legend(n);break;case"boolean":A=n;break;default:A=!1}switch(typeof e.legendColor){case"string":h=e.legendColor;break;case"function":h=e.legendColor(n);break;case"object":if(Array.isArray(e.legendColor)){let E=100/e.legendColor.length,C=Math.floor(u/E);C=Math.min(C,e.legendColor.length-1),C=Math.max(C,0),h=e.legendColor[C]}break;default:h="#000"}s.style.minWidth="30px",s.style.position="relative",s.setAttribute("aria-label",u);var g=document.createElement("div");g.style.display="inline-block",g.style.width=u+"%",g.style.backgroundColor=c,g.style.height="100%",g.setAttribute("data-max",r),g.setAttribute("data-min",o);var f=document.createElement("div");if(f.style.position="relative",f.style.width="100%",f.style.height="100%",A){var y=document.createElement("div");y.style.position="absolute",y.style.top=0,y.style.left=0,y.style.textAlign=a,y.style.width="100%",y.style.color=h,y.innerHTML=A}return i(function(){if(!(t instanceof _F)){var E=document.createElement("div");E.style.position="absolute",E.style.top="4px",E.style.bottom="4px",E.style.left="4px",E.style.right="4px",s.appendChild(E),s=E}s.appendChild(f),f.appendChild(g),A&&f.appendChild(y)}),""}function D7(t,e,i){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""}function F7(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function I7(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function L7(t,e,i){var n=document.createElement("span"),s=t.getRow();return s.watchPosition(r=>{n.innerText=r}),n}function P7(t,e,i){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function M7(t,e,i){var n=document.createElement("div"),s=t.getRow()._row.modules.responsiveLayout;n.classList.add("tabulator-responsive-collapse-toggle"),n.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',t.getElement().classList.add("tabulator-row-handle");function r(o){var a=s.element;s.open=o,a&&(s.open?(n.classList.add("open"),a.style.display=""):(n.classList.remove("open"),a.style.display="none"))}return n.addEventListener("click",function(o){o.stopImmediatePropagation(),r(!s.open),t.getTable().rowManager.adjustTableSize()}),r(s.open),n}function R7(t,e,i){var n=document.createElement("input"),s=!1;if(n.type="checkbox",n.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(n.addEventListener("click",o=>{o.stopPropagation()}),typeof t.getRow=="function"){var r=t.getRow();r instanceof Db?(n.addEventListener("change",o=>{this.table.options.selectableRangeMode==="click"&&s?s=!1:r.toggleSelect()}),this.table.options.selectableRangeMode==="click"&&n.addEventListener("click",o=>{s=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,o)}),n.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,n)):n=""}else n.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(n);return n}var O7={plaintext:m7,html:v7,textarea:b7,money:y7,link:w7,image:_7,tickCross:C7,datetime:E7,datetimediff:T7,lookup:x7,star:S7,traffic:B7,progress:k7,color:D7,buttonTick:F7,buttonCross:I7,rownum:L7,handle:P7,responsiveCollapse:M7,rowSelection:R7};class Ur extends zt{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,i){var n={params:e.definition["formatter"+i+"Params"]||{}},s=e.definition["formatter"+i];switch(typeof s){case"string":Ur.formatters[s]?n.formatter=Ur.formatters[s]:(console.warn("Formatter Error - No such formatter found: ",s),n.formatter=Ur.formatters.plaintext);break;case"function":n.formatter=s;break;default:n.formatter=Ur.formatters.plaintext;break}return n}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,i,n){var s,r,o,a;return e.definition.titleFormatter?(s=this.getFormatter(e.definition.titleFormatter),o=l=>{e.titleFormatterRendered=l},a={getValue:function(){return i},getElement:function(){return n},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},r=e.definition.titleFormatterParams||{},r=typeof r=="function"?r():r,s.call(this,a,r,o)):i}formatValue(e){var i=e.getComponent(),n=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(i):e.column.modules.format.params;function s(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,i,n,s)}formatExportValue(e,i){var n=e.column.modules.format[i],s;if(n){let r=function(o){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=o,e.modules.format.rendered=!1};return s=typeof n.params=="function"?n.params(e.getComponent()):n.params,n.formatter.call(this,e.getComponent(),s,r)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(n){return i[n]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":Ur.formatters[e]?e=Ur.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=Ur.formatters.plaintext);break;case"function":break;default:e=Ur.formatters.plaintext;break}return e}}Ur.moduleName="format";Ur.formatters=O7;class SF extends zt{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-delete",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)})}initializeColumn(e){var i={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(i.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=i):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(i=>{i.calcs.top&&this.layoutRow(i.calcs.top),i.calcs.bottom&&this.layoutRow(i.calcs.bottom),i.groupList&&i.groupList.length&&this.layoutGroupCalcs(i.groupList)})}layoutColumnPosition(e){var i=[],n=0,s=0;this.leftColumns.forEach((r,o)=>{if(r.modules.frozen.marginValue=n,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(n+=r.getWidth()),o==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var a=this.getColGroupParentElement(r);i.includes(a)||(this.layoutElement(a,r),i.push(a)),r.modules.frozen.edge&&a.classList.add("tabulator-frozen-"+r.modules.frozen.position)}else this.layoutElement(r.getElement(),r);e&&r.cells.forEach(l=>{this.layoutElement(l.getElement(!0),r)})}),this.rightColumns.forEach((r,o)=>{r.modules.frozen.marginValue=s,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(s+=r.getWidth()),o==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),e&&r.cells.forEach(a=>{this.layoutElement(a.getElement(!0),r)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),i=this.table.rowManager.getRows().filter(n=>!e.includes(n));i.forEach(n=>{n.deinitialize()}),e.forEach(n=>{n.type==="row"&&this.layoutRow(n)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(i=>{var n=e.getCell(i);n&&this.layoutElement(n.getElement(!0),i)}),this.rightColumns.forEach(i=>{var n=e.getCell(i);n&&this.layoutElement(n.getElement(!0),i)})}layoutElement(e,i){var n;i.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?n=i.modules.frozen.position==="left"?"right":"left":n=i.modules.frozen.position,e.style[n]=i.modules.frozen.margin,e.classList.add("tabulator-frozen"),i.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+i.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,i){var n=0;for(let s=0;s<i;s++)e[s].visible&&(n+=e[s].getWidth());return n}}SF.moduleName="frozenColumns";class BF extends zt{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var i=this.table.options.frozenRows,n=typeof i;n==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=i&&this.freezeRow(e):n==="function"?i.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(i)&&i.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var i=this.rows.indexOf(e);return i>-1}isFrozen(){return!!this.rows.length}visibleRows(e,i){return this.rows.forEach(n=>{i.push(n)}),i}getRows(e){var i=e.slice(0);return this.rows.forEach(function(n){var s=i.indexOf(n);s>-1&&i.splice(s,1)}),i}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var i=this.rows.indexOf(e);if(i>-1){var n=e.getElement();n.parentNode&&n.parentNode.removeChild(n),this.rows.splice(i,1)}}styleRows(e){this.rows.forEach((i,n)=>{this.table.rowManager.styleRow(i,n)})}}BF.moduleName="frozenRows";class U7{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(i,n,s){return typeof i[n]<"u"?i[n]:i._group.groupManager.table.componentFunctionBinder.handle("group",i._group,n)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,i){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,i)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}let km=class kF{constructor(e,i,n,s,r,o,a){this.groupManager=e,this.parent=i,this.key=s,this.level=n,this.field=r,this.hasSubGroups=n<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:typeof e.startOpen[n]<"u"?e.startOpen[n]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(i){i.wipe()}):this.rows.forEach(i=>{i.modules&&delete i.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(i=>{this._createGroup(i,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",i=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(i.stopPropagation(),i.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,i){var n=i+"_"+e,s=new kF(this.groupManager,this,i,e,this.groupManager.groupIDLookups[i].field,this.groupManager.headerGenerator[i]||this.groupManager.headerGenerator[0],this.old?this.old.groups[n]:!1);this.groups[n]=s,this.groupList.push(s)}_addRowToGroup(e){var i=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[i].func(e.getData()),s=i+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[i]?this.groups[s]&&this.groups[s].addRow(e):(this.groups[s]||this._createGroup(n,i),this.groups[s].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,i,n){var s=this.conformRowData({});e.updateData(s);var r=this.rows.indexOf(i);r>-1?n?this.rows.splice(r+1,0,e):this.rows.splice(r,0,e):n?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(i){i.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var i=this.rows.indexOf(e),n=e.getElement();i>-1&&this.rows.splice(i,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(n.parentNode&&n.parentNode.removeChild(n),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var i=e.level+"_"+e.key,n;this.groups[i]&&(delete this.groups[i],n=this.groupList.indexOf(e),n>-1&&this.groupList.splice(n,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(i){e=e.concat(i.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,i){var n=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(s=>{n.push(s.getData(i||"data"))}),n}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(i=>{e+=i.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var i=e.getHeadersAndRows();i.forEach(n=>{n.detachElement()})}):this.rows.forEach(e=>{var i=e.getElement();i.parentNode.removeChild(i)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(i=>{var n=i.getHeadersAndRows();n.forEach(s=>{var r=s.getElement();e.parentNode.insertBefore(r,e.nextSibling),s.initialize(),e=r})}):this.rows.forEach(i=>{var n=i.getElement();e.parentNode.insertBefore(n,e.nextSibling),i.initialize(),e=n}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(i){e.push(i.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var i=!1;return this.groupList.length?this.groupList.forEach(function(n){var s=n.getRowGroup(e);s&&(i=s)}):this.rows.find(function(n){return n===e})&&(i=this),i}getSubGroups(e){var i=[];return this.groupList.forEach(function(n){i.push(e?n.getComponent():n)}),i}getRows(e,i){var n=[];return i&&this.groupList.length?this.groupList.forEach(s=>{n=n.concat(s.getRows(e,i))}):this.rows.forEach(function(s){n.push(e?s.getComponent():s)}),n}generateGroupHeaderContents(){var e=[],i=this.getRows(!1,!0);for(i.forEach(function(n){e.push(n.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Vi.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new U7(this)),this.component}};class DF extends zt{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,i=this.table.options.groupStartOpen,n=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,o)=>{this.headerGenerator[0]=(a,l,u)=>(typeof a>"u"?"":a)+"<span>("+l+" "+(l===1?r:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var s=this.table.columnManager.getRealColumns();s.forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((r,o)=>{var a,l;typeof r=="function"?a=r:(l=this.table.columnManager.getColumnByField(r),l?a=function(u){return l.getFieldValue(u)}:a=function(u){return u[r]}),this.groupIDLookups.push({field:typeof r=="function"?!1:r,func:a,values:this.allowedValues?this.allowedValues[o]:!1})}),i&&(Array.isArray(i)||(i=[i]),i.forEach(r=>{}),this.startOpen=i),n&&(this.headerGenerator=Array.isArray(n)?n:[n])}else this.groupList=[],this.groups={}}rowSample(e,i){if(this.table.options.groupBy){var n=this.getGroups(!1)[0];i.push(n.getRows(!1)[0])}return i}virtualRenderFill(){var e=this.table.rowManager.tableElement,i=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)i=i.filter(n=>n.type!=="group"),e.style.minWidth=i.length?"":this.table.columnManager.getWidth()+"px";else return i}rowAddingIndex(e,i,n){if(this.table.options.groupBy){this.assignRowToGroup(e);var s=e.modules.group.rows;return s.length>1&&(!i||i&&s.indexOf(i)==-1?n?s[0]!==e&&(i=s[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!n)):s[s.length-1]!==e&&(i=s[s.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!n)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!n)),i}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,i,n){if(this.table.options.groupBy){!n&&i instanceof km&&(i=this.table.rowManager.prevDisplayRow(e)||i);var s=i instanceof km?i:i.modules.group,r=e instanceof km?e:e.modules.group;s===r?this.table.rowManager.moveRowInArray(s.rows,e,i,n):(r&&r.removeRow(e),s.insertRow(e,i,n))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var i=[];return this.groupList.forEach(function(n){i.push(e?n.getComponent():n)}),i}getChildGroups(e){var i=[];return e||(e=this),e.groupList.forEach(n=>{n.groupList.length?i=i.concat(this.getChildGroups(n)):i.push(n)}),i}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var i=[];return e.forEach(n=>{var s={};s.level=0,s.rowCount=0,s.headerContent="";var r=[];n.hasSubGroups?(r=this.pullGroupListData(n.groupList),s.level=n.level,s.rowCount=r.length-n.groupList.length,s.headerContent=n.generator(n.key,s.rowCount,n.rows,n),i.push(s),i=i.concat(r)):(s.level=n.level,s.headerContent=n.generator(n.key,n.rows.length,n.rows,n),s.rowCount=n.getRows().length,i.push(s),n.getRows().forEach(o=>{i.push(o.getData("data"))}))}),i}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var i=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(n=>{var s=n.getRowGroup(e);s&&(i=s)}),i}countGroups(){return this.groupList.length}generateGroups(e){var i=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(n=>{this.createGroup(n,0,i)}),e.forEach(n=>{this.assignRowToExistingGroup(n,i)})):e.forEach(n=>{this.assignRowToGroup(n,i)}),Object.values(i).forEach(n=>{n.wipe(!0)})}createGroup(e,i,n){var s=i+"_"+e,r;n=n||[],r=new km(this,!1,i,e,this.groupIDLookups[0].field,this.headerGenerator[0],n[s]),this.groups[s]=r,this.groupList.push(r)}assignRowToExistingGroup(e,i){var n=this.groupIDLookups[0].func(e.getData()),s="0_"+n;this.groups[s]&&this.groups[s].addRow(e)}assignRowToGroup(e,i){var n=this.groupIDLookups[0].func(e.getData()),s=!this.groups["0_"+n];return s&&this.createGroup(n,0,i),this.groups["0_"+n].addRow(e),!s}reassignRowToGroup(e){if(e.type==="row"){var i=e.modules.group,n=i.getPath(),s=this.getExpectedPath(e),r;r=n.length==s.length&&n.every((o,a)=>o===s[a]),r||(i.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var i=[],n=e.getData();return this.groupIDLookups.forEach(s=>{i.push(s.func(n))}),i}updateGroupRows(e){var i=[];return this.blockRedraw||(this.groupList.forEach(n=>{i=i.concat(n.getHeadersAndRows())}),e&&this.refreshData(!0)),i}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(i=>{i.scrollHeader(e)}))}removeGroup(e){var i=e.level+"_"+e.key,n;this.groups[i]&&(delete this.groups[i],n=this.groupList.indexOf(e),n>-1&&this.groupList.splice(n,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,i=!0;this.table.rowManager.getDisplayRows().forEach((n,s)=>{this.table.rowManager.styleRow(n,s),e.appendChild(n.getElement()),n.initialize(!0),n.type!=="group"&&(i=!1)}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}DF.moduleName="groupRows";var N7={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue),t.component.cellRendered()},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){var e=t.data.posFrom-t.data.posTo>0;this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},H7={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue),t.component.cellRendered()},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posTo),t.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}};class Oc extends zt{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,i,n){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:i.getPosition(),to:i,after:n})}rowAdded(e,i,n,s){this.action("rowAdd",e,{data:i,pos:n,index:s})}rowDeleted(e){var i,n;this.table.options.groupBy?(n=e.getComponent().getGroup()._getSelf().rows,i=n.indexOf(e),i&&(i=n[i-1])):(i=e.table.rowManager.getRowIndex(e),i&&(i=e.table.rowManager.rows[i-1])),this.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,i,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:i,data:n}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var i=this.history.findIndex(function(n){return n.component===e});i>-1&&(this.history.splice(i,1),i<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Oc.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Oc.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,i){this.history.forEach(function(n){if(n.component instanceof vs)n.component===e&&(n.component=i);else if(n.component instanceof rg&&n.component.row===e){var s=n.component.column.getField();s&&(n.component=i.getCell(s))}})}}Oc.moduleName="history";Oc.undoers=N7;Oc.redoers=H7;class FF extends zt{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,i=this.table.options,n=e.getElementsByTagName("th"),s=e.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),s=s?s.getElementsByTagName("tr"):[],this._extractOptions(e,i),n.length?this._extractHeaders(n,s):this._generateBlankHeaders(n,s);for(var o=0;o<s.length;o++){var a=s[o],l=a.getElementsByTagName("td"),u={};this.hasIndex||(u[i.index]=o);for(var c=0;c<l.length;c++){var A=l[c];typeof this.fieldIndex[c]<"u"&&(u[this.fieldIndex[c]]=A.innerHTML)}r.push(u)}i.data=r,this.dispatchExternal("htmlImported")}_extractOptions(e,i,n){var s=e.attributes,r=Object.keys(n||i),o={};r.forEach(c=>{o[c.toLowerCase()]=c});for(var a in s){var l=s[a],u;l&&typeof l=="object"&&l.name&&l.name.indexOf("tabulator-")===0&&(u=l.name.replace("tabulator-",""),typeof o[u]<"u"&&(i[o[u]]=this._attribValue(l.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var i=this.table.options.columns.find(n=>n.title===e);return i||!1}_extractHeaders(e,i){for(var n=0;n<e.length;n++){var s=e[n],r=!1,o=this._findCol(s.textContent),a;o?r=!0:o={title:s.textContent.trim()},o.field||(o.field=s.textContent.trim().toLowerCase().replaceAll(" ","_")),a=s.getAttribute("width"),a&&!o.width&&(o.width=a),this._extractOptions(s,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[n]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(o)}}_generateBlankHeaders(e,i){for(var n=0;n<e.length;n++){var s=e[n],r={title:"",field:"col"+n};this.fieldIndex[n]=r.field;var o=s.getAttribute("width");o&&(r.width=o),this.table.options.columns.push(r)}}}FF.moduleName="htmlTableImport";function Q7(t){var e=[],i=0,n=0,s=!1;for(let r=0;r<t.length;r++){let o=t[r],a=t[r+1];if(e[i]||(e[i]=[]),e[i][n]||(e[i][n]=""),o=='"'&&s&&a=='"'){e[i][n]+=o,r++;continue}if(o=='"'){s=!s;continue}if(o==","&&!s){n++;continue}if(o=="\r"&&a=="\n"&&!s){n=0,i++,r++;continue}if((o=="\r"||o=="\n")&&!s){n=0,i++;continue}e[i][n]+=o}return e}function $7(t){try{return JSON.parse(t)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function j7(t){return t}var V7={csv:Q7,json:$7,array:j7};class ag extends zt{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,i,n,s,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var i;return e||(e=this.table.options.importFormat),typeof e=="string"?i=ag.importers[e]:i=e,i||console.error("Import Error - Importer not found:",e),i}importFromFile(e,i){var n=this.lookupImporter(e);if(n)return this.pickFile(i).then(this.importData.bind(this,n)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(s=>(console.error("Import Error:",s||"Unable to import file"),Promise.reject(s)))}pickFile(e){return new Promise((i,n)=>{var s=document.createElement("input");s.type="file",s.accept=e,s.addEventListener("change",r=>{var o=s.files[0],a=new FileReader;switch(this.table.options.importReader){case"buffer":a.readAsArrayBuffer(o);break;case"binary":a.readAsBinaryString(o);break;case"url":a.readAsDataURL(o);break;case"text":default:a.readAsText(o)}a.onload=l=>{i(a.result)},a.onerror=l=>{console.warn("File Load Error - Unable to read file"),n()}}),s.click()})}importData(e,i){var n=e.call(this.table,i);return n instanceof Promise?n:n?Promise.resolve(n):Promise.reject()}structureData(e){var i=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?i=this.structureArrayToObject(e):i=this.structureArrayToColumns(e),i):e}structureArrayToObject(e){var i=e.shift(),n=e.map(s=>{var r={};return i.forEach((o,a)=>{r[o]=s[a]}),r});return n}structureArrayToColumns(e){var i=[],n=this.table.getColumns();return n[0]&&e[0][0]&&n[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(s=>{var r={};s.forEach((o,a)=>{var l=n[a];l&&(r[l.getField()]=o)}),i.push(r)}),i}setData(e){return this.table.setData(e)}}ag.moduleName="import";ag.importers=V7;class IF extends zt{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(i=>{for(let n in i)i[n]=null})}cellContentsSelectionFixer(e,i){var n;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===i)){e.preventDefault();try{document.selection?(n=document.body.createTextRange(),n.moveToElementText(i.getElement()),n.select()):window.getSelection&&(n=document.createRange(),n.selectNode(i.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(n))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,i){i?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var i=this.eventMap[e];this.touchSubscribers[i+"-touchstart"]||(this.touchSubscribers[i+"-touchstart"]=this.handleTouch.bind(this,i,"start"),this.touchSubscribers[i+"-touchend"]=this.handleTouch.bind(this,i,"end"),this.subscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.subscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var i=!0,n=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let s in this.eventMap)this.eventMap[s]===n&&this.subscribers[s]&&(i=!1);i&&(this.unsubscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.unsubscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"]),delete this.touchSubscribers[n+"-touchstart"],delete this.touchSubscribers[n+"-touchend"])}}initializeColumn(e){var i=e.definition;for(let n in this.eventMap)i[n]&&(this.subscriptionChanged(n,!0),this.columnSubscribers[n]||(this.columnSubscribers[n]=[]),this.columnSubscribers[n].push(e))}handle(e,i,n){this.dispatchEvent(e,i,n)}handleTouch(e,i,n,s){var r=this.touchWatchers[e];switch(e==="column"&&(e="header"),i){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",n,s)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",n,s)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",n,s)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null;break}}dispatchEvent(e,i,n){var s=n.getComponent(),r;this.columnSubscribers[e]&&(n instanceof rg?r=n.column.definition[e]:n instanceof $o&&(r=n.definition[e]),r&&r(i,s)),this.dispatchExternal(e,i,s)}}IF.moduleName="interaction";var z7={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 67"]},G7={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,i=e.scrollTop-e.element.clientHeight;t.preventDefault(),e.displayRowsCount&&(i>=0?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,i=e.scrollTop+e.element.clientHeight,n=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(i<=n?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){this.dispatch("keybinding-nav-prev",t)},navNext:function(t){this.dispatch("keybinding-nav-next",t)},navLeft:function(t){this.dispatch("keybinding-nav-left",t)},navRight:function(t){this.dispatch("keybinding-nav-right",t)},navUp:function(t){this.dispatch("keybinding-nav-up",t)},navDown:function(t){this.dispatch("keybinding-nav-down",t)},undo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class ql extends zt{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,i={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(i,ql.bindings),Object.assign(i,e),this.mapBindings(i),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let i in e)ql.actions[i]?e[i]&&(typeof e[i]!="object"&&(e[i]=[e[i]]),e[i].forEach(n=>{var s=Array.isArray(n)?n:[n];s.forEach(r=>{this.mapBinding(i,r)})})):console.warn("Key Binding Error - no such action:",i)}mapBinding(e,i){var n={action:ql.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},s=i.toString().toLowerCase().split(" ").join("").split("+");s.forEach(r=>{switch(r){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),n.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(n)}})}bindEvents(){var e=this;this.keyupBinding=function(i){var n=i.keyCode,s=e.watchKeys[n];s&&(e.pressedKeys.push(n),s.forEach(function(r){e.checkBinding(i,r)}))},this.keydownBinding=function(i){var n=i.keyCode,s=e.watchKeys[n];if(s){var r=e.pressedKeys.indexOf(n);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,i){var n=!0;return e.ctrlKey==i.ctrl&&e.shiftKey==i.shift&&e.metaKey==i.meta?(i.keys.forEach(s=>{var r=this.pressedKeys.indexOf(s);r==-1&&(n=!1)}),n&&i.action.call(this,e),!0):!1}}ql.moduleName="keybindings";ql.bindings=z7;ql.actions=G7;let LF=class extends zt{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var i=e.definition;i.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),i.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),i.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),i.headerMenu&&this.initializeColumnHeaderMenu(e),i.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),i.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),i.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var i=e.definition.headerMenuIcon,n;n=document.createElement("span"),n.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?n.appendChild(i):n.innerHTML=i):n.innerHTML="&vellip;",n.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,s,e)}),e.titleElement.insertBefore(n,e.titleElement.firstChild)}loadMenuTableCellEvent(e,i,n){n._cell&&(n=n._cell),n.column.definition[e]&&this.loadMenuEvent(n.column.definition[e],i,n)}loadMenuTableColumnEvent(e,i,n){n._column&&(n=n._column),n.definition[e]&&this.loadMenuEvent(n.definition[e],i,n)}loadMenuEvent(e,i,n){n._group?n=n._group:n._row&&(n=n._row),e=typeof e=="function"?e.call(this.table,i,n.getComponent()):e,this.loadMenu(i,n,e)}loadMenu(e,i,n,s,r){var o=!(e instanceof MouseEvent),a=document.createElement("div"),l;if(a.classList.add("tabulator-menu"),o||e.preventDefault(),!(!n||!n.length)){if(s)l=r.child(a);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=l=this.popup(a)}n.forEach(u=>{var c=document.createElement("div"),A=u.label,h=u.disabled;u.separator?c.classList.add("tabulator-menu-separator"):(c.classList.add("tabulator-menu-item"),typeof A=="function"&&(A=A.call(this.table,i.getComponent())),A instanceof Node?c.appendChild(A):c.innerHTML=A,typeof h=="function"&&(h=h.call(this.table,i.getComponent())),h?(c.classList.add("tabulator-menu-item-disabled"),c.addEventListener("click",g=>{g.stopPropagation()})):u.menu&&u.menu.length?c.addEventListener("click",g=>{g.stopPropagation(),this.loadMenu(g,i,u.menu,c,l)}):u.action&&c.addEventListener("click",g=>{u.action(g,i.getComponent())}),u.menu&&u.menu.length&&c.classList.add("tabulator-menu-item-submenu")),a.appendChild(c)}),a.addEventListener("click",u=>{this.rootPopup&&this.rootPopup.hide()}),l.show(s||e),l===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=i,this.dispatchExternal("menuOpened",i.getComponent()))}}};LF.moduleName="menu";class PF extends zt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var i=this,n={},s;!e.modules.frozen&&!e.isGroup&&(s=e.getElement(),n.mousemove=(function(r){e.parent===i.moving.parent&&((i.touchMove?r.touches[0].pageX:r.pageX)-Vi.elOffset(s).left+i.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(i.toCol!==e||!i.toColAfter)&&(s.parentNode.insertBefore(i.placeholderElement,s.nextSibling),i.moveColumn(e,!0)):(i.toCol!==e||i.toColAfter)&&(s.parentNode.insertBefore(i.placeholderElement,s),i.moveColumn(e,!1)))}).bind(i),s.addEventListener("mousedown",function(r){i.touchMove=!1,r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),s.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),i.bindTouchEvents(e)),e.modules.moveColumn=n}bindTouchEvents(e){var i=e.getElement(),n=!1,s,r,o,a,l,u;i.addEventListener("touchstart",c=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,s=e.nextColumn(),o=s?s.getWidth()/2:0,r=e.prevColumn(),a=r?r.getWidth()/2:0,l=0,u=0,n=!1,this.startMove(c,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",c=>{var A,h;this.moving&&(this.moveHover(c),n||(n=c.touches[0].pageX),A=c.touches[0].pageX-n,A>0?s&&A-l>o&&(h=s,h!==e&&(n=c.touches[0].pageX,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement().nextSibling),this.moveColumn(h,!0))):r&&-A-u>a&&(h=r,h!==e&&(n=c.touches[0].pageX,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement()),this.moveColumn(h,!1))),h&&(s=h.nextColumn(),l=o,o=s?s.getWidth()/2:0,r=h.prevColumn(),u=a,a=r?r.getWidth()/2:0))},{passive:!0}),i.addEventListener("touchend",c=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(c)})}startMove(e,i){var n=i.getElement(),s=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=i,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Vi.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),s.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=s.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,i){var n=this.moving.getCells();this.toCol=e,this.toColAfter=i,i?e.getCells().forEach(function(s,r){var o=s.getElement(!0);o.parentNode&&n[r]&&o.parentNode.insertBefore(n[r].getElement(),o.nextSibling)}):e.getCells().forEach(function(s,r){var o=s.getElement(!0);o.parentNode&&n[r]&&o.parentNode.insertBefore(n[r].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var i=this.table.columnManager.getContentsElement(),n=i.scrollLeft,s=(this.touchMove?e.touches[0].pageX:e.pageX)-Vi.elOffset(i).left+n,r;this.hoverElement.style.left=s-this.startX+"px",s-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,n-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),n+i.clientWidth-s<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(i.clientWidth,n+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}PF.moduleName="moveColumn";class Ib extends zt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var i=this,n={};n.mouseup=(function(s){i.tableRowDrop(s,e)}).bind(i),n.mousemove=(function(s){var r;s.pageY-Vi.elOffset(e.element).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(r=e.getElement(),r.parentNode.insertBefore(i.placeholderElement,r.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(r=e.getElement(),r.previousSibling&&(r.parentNode.insertBefore(i.placeholderElement,r),i.moveRow(e,!1)))}).bind(i),e.modules.moveRow=n}initializeRow(e){var i=this,n={},s;n.mouseup=(function(r){i.tableRowDrop(r,e)}).bind(i),n.mousemove=(function(r){var o=e.getElement();r.pageY-Vi.elOffset(o).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o),i.moveRow(e,!1))}).bind(i),this.hasHandle||(s=e.getElement(),s.addEventListener("mousedown",function(r){r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),s.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=n}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var i=this,n=e.getElement(!0);n.addEventListener("mousedown",function(s){s.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(s,e.row)},i.checkPeriod))}),n.addEventListener("mouseup",function(s){s.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e.row,n)}}bindTouchEvents(e,i){var n=!1,s,r,o,a,l,u;i.addEventListener("touchstart",c=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,s=e.nextRow(),o=s?s.getHeight()/2:0,r=e.prevRow(),a=r?r.getHeight()/2:0,l=0,u=0,n=!1,this.startMove(c,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,i.addEventListener("touchmove",c=>{var A,h;this.moving&&(c.preventDefault(),this.moveHover(c),n||(n=c.touches[0].pageY),A=c.touches[0].pageY-n,A>0?s&&A-l>o&&(h=s,h!==e&&(n=c.touches[0].pageY,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement().nextSibling),this.moveRow(h,!0))):r&&-A-u>a&&(h=r,h!==e&&(n=c.touches[0].pageY,h.getElement().parentNode.insertBefore(this.placeholderElement,h.getElement()),this.moveRow(h,!1))),h&&(s=h.nextRow(),l=o,o=s?s.getHeight()/2:0,r=h.prevRow(),u=a,a=r?r.getHeight()/2:0))}),i.addEventListener("touchend",c=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(c),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,i){var n=i.getElement();this.setStartPosition(e,i),this.moving=i,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(i)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",i.getComponent()),this.moveHover(e)}setStartPosition(e,i){var n=this.touchMove?e.touches[0].pageX:e.pageX,s=this.touchMove?e.touches[0].pageY:e.pageY,r,o;r=i.getElement(),this.connection?(o=r.getBoundingClientRect(),this.startX=o.left-n+window.pageXOffset,this.startY=o.top-s+window.pageYOffset):this.startY=s-r.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,i){this.toRow=e,this.toRowAfter=i}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var i=this.table.rowManager.getElement(),n=i.scrollTop,s=(this.touchMove?e.touches[0].pageY:e.pageY)-i.getBoundingClientRect().top+n;this.hoverElement.style.top=Math.min(s-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,i,n){this.dispatchExternal("movableRowsElementDrop",e,i,n?n.getComponent():!1)}connectToTables(e){var i;this.connectionSelectorsTables&&(i=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",i),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(n=>{typeof n=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(n))):this.connectionElements.push(n)}),this.connectionElements.forEach(n=>{var s=r=>{this.elementRowDrop(r,n,this.moving)};n.addEventListener("mouseup",s),n.tabulatorElementDropEvent=s,n.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(i=>{i.classList.remove("tabulator-movingrow-receiving"),i.removeEventListener("mouseup",i.tabulatorElementDropEvent),delete i.tabulatorElementDropEvent})}connect(e,i){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=i,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(n=>{n.type==="row"&&n.modules.moveRow&&n.modules.moveRow.mouseup&&n.getElement().addEventListener("mouseup",n.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",i,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().removeEventListener("mouseup",i.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,i,n){var s=!1;if(n){switch(typeof this.table.options.movableRowsSender){case"string":s=this.senders[this.table.options.movableRowsSender];break;case"function":s=this.table.options.movableRowsSender;break}s?s.call(this,this.moving?this.moving.getComponent():void 0,i?i.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),i?i.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),i?i.getComponent():void 0,e);this.endMove()}tableRowDrop(e,i){var n=!1,s=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver;break}n?s=n.call(this,this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),s?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:i,success:s})}commsReceived(e,i,n){switch(i){case"connect":return this.connect(e,n.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,n.row,n.success)}}}Ib.prototype.receivers={insert:function(t,e,i){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,i){return this.table.addRow(t.getData()),!0},update:function(t,e,i){return e?(e.update(t.getData()),!0):!1},replace:function(t,e,i){return e?(this.table.addRow(t.getData(),void 0,e),e.delete(),!0):!1}};Ib.prototype.senders={delete:function(t,e,i){t.delete()}};Ib.moduleName="moveRow";var K7={};class _h extends zt{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,i,n){return this.transformRow(i,"data",n)}initializeColumn(e){var i=!1,n={};this.allowedTypes.forEach(s=>{var r="mutator"+(s.charAt(0).toUpperCase()+s.slice(1)),o;e.definition[r]&&(o=this.lookupMutator(e.definition[r]),o&&(i=!0,n[r]={mutator:o,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.mutate=n)}lookupMutator(e){var i=!1;switch(typeof e){case"string":_h.mutators[e]?i=_h.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i,n){var s="mutator"+(i.charAt(0).toUpperCase()+i.slice(1)),r;return this.enabled&&this.table.columnManager.traverse(o=>{var a,l,u;o.modules.mutate&&(a=o.modules.mutate[s]||o.modules.mutate.mutator||!1,a&&(r=o.getFieldValue(typeof n<"u"?n:e),(i=="data"&&!n||typeof r<"u")&&(u=o.getComponent(),l=typeof a.params=="function"?a.params(r,e,i,u):a.params,o.setFieldValue(e,a.mutator(r,e,i,l,u)))))}),e}transformCell(e,i){if(e.column.modules.mutate){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,s={};if(n)return s=Object.assign(s,e.row.getData()),e.column.setFieldValue(s,i),n.mutator(i,s,"edit",n.params,e.getComponent())}return i}mutateLink(e){var i=e.column.definition.mutateLink;i&&(Array.isArray(i)||(i=[i]),i.forEach(n=>{var s=e.row.getCell(n);s&&s.setValue(s.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}}_h.moduleName="mutator";_h.mutators=K7;function W7(t,e,i,n,s){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",A=>{o.innerHTML=A}),this.table.modules.localize.langBind("pagination|counter|of",A=>{l.innerHTML=A}),this.table.modules.localize.langBind("pagination|counter|rows",A=>{c.innerHTML=A}),n?(a.innerHTML=" "+e+"-"+Math.min(e+t-1,n)+" ",u.innerHTML=" "+n+" ",r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c)):(a.innerHTML=" 0 ",r.appendChild(o),r.appendChild(a),r.appendChild(c)),r}function q7(t,e,i,n,s){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",A=>{o.innerHTML=A}),a.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|of",A=>{l.innerHTML=A}),u.innerHTML=" "+s+" ",this.table.modules.localize.langBind("pagination|counter|pages",A=>{c.innerHTML=A}),r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c),r}var Y7={rows:W7,pages:q7};class lg extends zt{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,i){var n=this.table.rowManager,s=n.getDisplayRows(),r;return i?s.length?r=s[0]:n.activeRows.length&&(r=n.activeRows[n.activeRows.length-1],i=!1):s.length&&(r=s[s.length-1],i=!(s.length<this.size)),{index:r,top:i}}calculatePageSizes(){var e,i;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",i=document.createElement("div"),i.classList.add("tabulator-cell"),i.innerHTML="Page Row Test",e.appendChild(i),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,i,n,s){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),s.page=this.page,this.size&&(s.size=this.size),s}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,i){var n,s,r;!i&&!this.table.dataLoader.loading&&(n=this.table.rowManager.getElement(),s=n.scrollHeight-n.clientHeight-e,r=this.table.options.progressiveLoadScrollMargin||n.clientHeight*2,s<r&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,i){return i||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let i=1;i<5;i++)e.push(this.size*i);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(i=>{var n=document.createElement("option");n.value=i,i===!0?this.langBind("pagination|all",function(s){n.innerHTML=s}):n.innerHTML=i,this.pageSizeSelect.appendChild(n)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,i=null;e&&(typeof e=="function"?i=e:i=lg.pageCounters[e],i?(this.pageCounter=i,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var i,n;e||(this.langBind("pagination|first",s=>{this.firstBut.innerHTML=s}),this.langBind("pagination|first_title",s=>{this.firstBut.setAttribute("aria-label",s),this.firstBut.setAttribute("title",s)}),this.langBind("pagination|prev",s=>{this.prevBut.innerHTML=s}),this.langBind("pagination|prev_title",s=>{this.prevBut.setAttribute("aria-label",s),this.prevBut.setAttribute("title",s)}),this.langBind("pagination|next",s=>{this.nextBut.innerHTML=s}),this.langBind("pagination|next_title",s=>{this.nextBut.setAttribute("aria-label",s),this.nextBut.setAttribute("title",s)}),this.langBind("pagination|last",s=>{this.lastBut.innerHTML=s}),this.langBind("pagination|last_title",s=>{this.lastBut.setAttribute("aria-label",s),this.lastBut.setAttribute("title",s)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(i=document.createElement("label"),this.langBind("pagination|page_size",s=>{this.pageSizeSelect.setAttribute("aria-label",s),this.pageSizeSelect.setAttribute("title",s),i.innerHTML=s}),this.element.appendChild(i),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",s=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(n=document.querySelector(this.table.options.paginationCounterElement),n?n.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var i=this.displayRows(-1),n=i.indexOf(e);if(n>-1){var s=this.size===!0?1:Math.ceil((n+1)/this.size);return this.setPage(s)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,i,n){var s;if(this.pageCounter)switch(this.mode==="remote"&&(i=this.size,n=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),s=this.pageCounter.call(this,i,n,this.page,e,this.max),typeof s){case"object":if(s instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(s)}else this.pageCounterElement.innerHTML="",s!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",s);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=s}}_setPageButtons(){let e=Math.floor((this.count-1)/2),i=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),s=this.page<=i?Math.min(this.count,this.max):Math.min(this.page+i,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=n;r<=s;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var i=document.createElement("button");return i.classList.add("tabulator-page"),e==this.page&&i.classList.add("active"),i.setAttribute("type","button"),i.setAttribute("role","button"),this.langBind("pagination|page_title",n=>{i.setAttribute("aria-label",n+" "+e),i.setAttribute("title",n+" "+e)}),i.setAttribute("data-page",e),i.textContent=e,i.addEventListener("click",n=>{this.setPage(e)}),i}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var i=0,n,s,r,o,a=e.filter(l=>l.type==="row");if(this.mode=="local"){n=[],this.setMaxRows(e.length),this.size===!0?(s=0,r=e.length):(s=this.size*(this.page-1),r=s+parseInt(this.size)),this._setPageButtons();for(let l=s;l<r;l++){let u=e[l];u&&(n.push(u),u.type==="row"&&(o||(o=u),i++))}return this._setPageCounter(a.length,i,o?a.indexOf(o)+1:0),n}else return this._setPageButtons(),this._setPageCounter(a.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var i;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),i=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+i&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else this.dispatchExternal("pageLoaded",this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}lg.moduleName="page";lg.pageCounters=Y7;var X7={local:function(t,e){var i=localStorage.getItem(t+"-"+e);return i?JSON.parse(i):!1},cookie:function(t,e){var i=document.cookie,n=t+"-"+e,s=i.indexOf(n+"="),r,o;return s>-1&&(i=i.slice(s),r=i.indexOf(";"),r>-1&&(i=i.slice(0,r)),o=i.replace(n+"=","")),o?JSON.parse(o):!1}},J7={local:function(t,e,i){localStorage.setItem(t+"-"+e,JSON.stringify(i))},cookie:function(t,e,i){var n=new Date;n.setDate(n.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(i)+"; expires="+n.toUTCString()}};class Ns extends zt{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,i=this.table.options.persistenceID,n;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:Ns.readers[this.table.options.persistenceReaderFunc]?this.readFunc=Ns.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):Ns.readers[this.mode]?this.readFunc=Ns.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:Ns.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=Ns.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):Ns.writers[this.mode]?this.writeFunc=Ns.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(n=this.retrieveData("page"),n&&(typeof n.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=n.paginationSize),typeof n.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=n.paginationInitialPage))),this.config.group&&(n=this.retrieveData("group"),n&&(typeof n.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=n.groupBy),typeof n.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=n.groupStartOpen),typeof n.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=n.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,i,n;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(i=this.load("filter"),i&&(this.table.options.initialFilter=i)),this.config.headerFilter&&(n=this.load("headerFilter"),n&&(this.table.options.initialHeaderFilter=n))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var i,n;this.config.columns&&(this.defWatcherBlock=!0,i=e.getDefinition(),n=this.config.columns===!0?Object.keys(i):this.config.columns,n.forEach(s=>{var r=Object.getOwnPropertyDescriptor(i,s),o=i[s];r&&Object.defineProperty(i,s,{set:a=>{o=a,this.defWatcherBlock||this.save("columns"),r.set&&r.set(a)},get:()=>(r.get&&r.get(),o)})}),this.defWatcherBlock=!1)}load(e,i){var n=this.retrieveData(e);return i&&(n=n?this.mergeDefinition(i,n):i),n}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,i){var n=[];return i=i||[],i.forEach((s,r)=>{var o=this._findColumn(e,s),a;o&&(this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width")):a=this.config.columns,a.forEach(l=>{l!=="columns"&&typeof s[l]<"u"&&(o[l]=s[l])}),o.columns&&(o.columns=this.mergeDefinition(o.columns,s.columns)),n.push(o))}),e.forEach((s,r)=>{var o=this._findColumn(i,s);o||(n.length>r?n.splice(r,0,s):n.push(s))}),n}_findColumn(e,i){var n=i.columns?"group":i.field?"field":"object";return e.find(function(s){switch(n){case"group":return s.title===i.title&&s.columns.length===i.columns.length;case"field":return s.field===i.field;case"object":return s===i}})}save(e){var i={};switch(e){case"columns":i=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":i=this.table.modules.filter.getFilters();break;case"headerFilter":i=this.table.modules.filter.getHeaderFilters();break;case"sort":i=this.validateSorters(this.table.modules.sort.getSort());break;case"group":i=this.getGroupConfig();break;case"page":i=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,i)}validateSorters(e){return e.forEach(function(i){i.column=i.field,delete i.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var i=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(s=>{var r={},o=s.getDefinition(),a;s.isGroup?(r.title=o.title,r.columns=this.parseColumns(s.getColumns())):(r.field=s.getField(),this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width"),a.push("visible")):a=this.config.columns,a.forEach(l=>{switch(l){case"width":r.width=s.getWidth();break;case"visible":r.visible=s.visible;break;default:typeof o[l]!="function"&&n.indexOf(l)===-1&&(r[l]=o[l])}})),i.push(r)}),i}}Ns.moduleName="persistence";Ns.moduleInitOrder=-10;Ns.readers=X7;Ns.writers=J7;class MF extends zt{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,i,n){this.loadPopupEvent(i,null,e,n)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var i=e.definition;i.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),i.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),i.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),i.headerPopup&&this.initializeColumnHeaderPopup(e),i.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),i.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),i.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var i=e.definition.headerPopupIcon,n;n=document.createElement("span"),n.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?n.appendChild(i):n.innerHTML=i):n.innerHTML="&vellip;",n.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,s,e)}),e.titleElement.insertBefore(n,e.titleElement.firstChild)}loadPopupTableCellEvent(e,i,n){n._cell&&(n=n._cell),n.column.definition[e]&&this.loadPopupEvent(n.column.definition[e],i,n)}loadPopupTableColumnEvent(e,i,n){n._column&&(n=n._column),n.definition[e]&&this.loadPopupEvent(n.definition[e],i,n)}loadPopupEvent(e,i,n,s){var r;function o(a){r=a}n._group?n=n._group:n._row&&(n=n._row),e=typeof e=="function"?e.call(this.table,i,n.getComponent(),o):e,this.loadPopup(i,n,e,r,s)}loadPopup(e,i,n,s,r){var o=!(e instanceof MouseEvent),a,l;n instanceof HTMLElement?a=n:(a=document.createElement("div"),a.innerHTML=n),a.classList.add("tabulator-popup"),a.addEventListener("click",u=>{u.stopPropagation()}),o||e.preventDefault(),l=this.popup(a),typeof s=="function"&&l.renderCallback(s),e?l.show(e):l.show(i.getElement(),r||"center"),l.hideOnBlur(()=>{this.dispatchExternal("popupClosed",i.getComponent())}),this.dispatchExternal("popupOpened",i.getComponent())}}MF.moduleName="popup";class RF extends zt{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,i,n){var s=window.scrollX,r=window.scrollY,o=document.createElement("div"),a=document.createElement("div"),l=this.table.modules.export.generateTable(typeof n<"u"?n:this.table.options.printConfig,typeof i<"u"?i:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),u,c;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),u=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof u=="string"?o.innerHTML=u:o.appendChild(u),this.element.appendChild(o)),this.element.appendChild(l),this.table.options.printFooter&&(a.classList.add("tabulator-print-footer"),c=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof c=="string"?a.innerHTML=c:a.appendChild(c),this.element.appendChild(a)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,l),window.print(),this.cleanup(),window.scrollTo(s,r),this.manualBlock=!1}}RF.moduleName="print";class OF extends zt{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var i=this,n;this.currentVersion++,n=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r;return!i.blocked&&n===i.currentVersion&&(i.block("data-push"),s.forEach(o=>{i.table.rowManager.addRowActual(o,!1)}),r=i.origFuncs.push.apply(e,arguments),i.unblock("data-push")),r}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r;return!i.blocked&&n===i.currentVersion&&(i.block("data-unshift"),s.forEach(o=>{i.table.rowManager.addRowActual(o,!0)}),r=i.origFuncs.unshift.apply(e,arguments),i.unblock("data-unshift")),r}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var s,r;return!i.blocked&&n===i.currentVersion&&(i.block("data-shift"),i.data.length&&(s=i.table.rowManager.getRowFromDataObject(i.data[0]),s&&s.deleteActual()),r=i.origFuncs.shift.call(e),i.unblock("data-shift")),r}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var s,r;return!i.blocked&&n===i.currentVersion&&(i.block("data-pop"),i.data.length&&(s=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]),s&&s.deleteActual()),r=i.origFuncs.pop.call(e),i.unblock("data-pop")),r}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r=s[0]<0?e.length+s[0]:s[0],o=s[1],a=s[2]?s.slice(2):!1,l,u;if(!i.blocked&&n===i.currentVersion){if(i.block("data-splice"),a&&(l=e[r]?i.table.rowManager.getRowFromDataObject(e[r]):!1,l?a.forEach(A=>{i.table.rowManager.addRowActual(A,!0,l,!0)}):(a=a.slice().reverse(),a.forEach(A=>{i.table.rowManager.addRowActual(A,!0,!1,!0)}))),o!==0){var c=e.slice(r,typeof s[1]>"u"?s[1]:r+o);c.forEach((A,h)=>{var g=i.table.rowManager.getRowFromDataObject(A);g&&g.deleteActual(h!==c.length-1)})}(a||o!==0)&&i.table.rowManager.reRenderInPosition(),u=i.origFuncs.splice.apply(e,arguments),i.unblock("data-splice")}return u}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var i=e.getData();for(var n in i)this.watchKey(e,i,n);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var i=this,n=e.getData()[this.table.options.dataTreeChildField],s={};n&&(s.push=n.push,Object.defineProperty(n,"push",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-push");var r=s.push.apply(n,arguments);this.rebuildTree(e),i.unblock("tree-push")}return r}}),s.unshift=n.unshift,Object.defineProperty(n,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-unshift");var r=s.unshift.apply(n,arguments);this.rebuildTree(e),i.unblock("tree-unshift")}return r}}),s.shift=n.shift,Object.defineProperty(n,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-shift");var r=s.shift.call(n);this.rebuildTree(e),i.unblock("tree-shift")}return r}}),s.pop=n.pop,Object.defineProperty(n,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-pop");var r=s.pop.call(n);this.rebuildTree(e),i.unblock("tree-pop")}return r}}),s.splice=n.splice,Object.defineProperty(n,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-splice");var r=s.splice.apply(n,arguments);this.rebuildTree(e),i.unblock("tree-splice")}return r}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,i,n){var s=this,r=Object.getOwnPropertyDescriptor(i,n),o=i[n],a=this.currentVersion;Object.defineProperty(i,n,{set:l=>{if(o=l,!s.blocked&&a===s.currentVersion){s.block("key");var u={};u[n]=l,e.updateData(u),s.unblock("key")}r.set&&r.set(l)},get:()=>(r.get&&r.get(),o)})}unwatchRow(e){var i=e.getData();for(var n in i)Object.defineProperty(i,n,{value:i[n]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}OF.moduleName="reactiveData";class UF extends zt{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var i=e.prevColumn();this.reinitializeColumn(e),i&&this.reinitializeColumn(i)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.reinitializeColumn(i)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.reinitializeColumn(i)}))}frozenColumnOffset(e){var i=!1;return e.modules.frozen&&(i=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?i+=e.getWidth()-3:i&&(i-=3)),i!==!1?i+"px":!1}reinitializeColumn(e){var i=this.frozenColumnOffset(e);e.cells.forEach(n=>{n.modules.resize&&n.modules.resize.handleEl&&(i&&(n.modules.resize.handleEl.style[e.modules.frozen.position]=i,n.modules.resize.handleEl.style["z-index"]=11),n.element.after(n.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(i&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=i),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,i,n,s){var r=this,o=!1,a=n.definition.resizable,l={},u=n.getLastColumn();if(e==="header"&&(o=n.definition.formatter=="textarea"||n.definition.variableHeight,l={variableHeight:o}),(a===!0||a==e)&&this._checkResizability(u)){var c=document.createElement("span");c.className="tabulator-col-resize-handle",c.addEventListener("click",function(h){h.stopPropagation()});var A=function(h){r.startColumn=n,r.initialNextColumn=r.nextColumn=u.nextColumn(),r._mouseDown(h,u,c)};c.addEventListener("mousedown",A),c.addEventListener("touchstart",A,{passive:!0}),c.addEventListener("dblclick",h=>{var g=u.getWidth();h.stopPropagation(),u.reinitializeWidth(!0),g!==u.getWidth()&&(r.dispatch("column-resized",u),r.table.externalEvents.dispatch("columnResized",u.getComponent()))}),n.modules.frozen&&(c.style.position="sticky",c.style[n.modules.frozen.position]=this.frozenColumnOffset(n)),l.handleEl=c,s.parentNode&&n.visible&&s.after(c)}i.modules.resize=l}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(i=>{this.deInitializeComponent(i)})}deInitializeComponent(e){var i;e.modules.resize&&(i=e.modules.resize.handleEl,i&&i.parentElement&&i.parentElement.removeChild(i))}resizeHandle(e,i){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=i)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,i,n){var s=this;s.table.element.classList.add("tabulator-block-select");function r(a){var l=typeof a.screenX>"u"?a.touches[0].screenX:a.screenX,u=l-s.startX,c=l-s.latestX,A,h;if(s.latestX=l,s.table.rtl&&(u=-u,c=-c),A=i.width==i.minWidth||i.width==i.maxWidth,i.setWidth(s.startWidth+u),h=i.width==i.minWidth||i.width==i.maxWidth,c<0&&(s.nextColumn=s.initialNextColumn),s.table.options.resizableColumnFit&&s.nextColumn&&!(A&&h)){let g=s.nextColumn.getWidth();c>0&&g<=s.nextColumn.minWidth&&(s.nextColumn=s.nextColumn.nextColumn()),s.nextColumn&&s.nextColumn.setWidth(s.nextColumn.getWidth()-c)}s.table.columnManager.rerenderColumns(!0),!s.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights()}function o(a){s.startColumn.modules.edit&&(s.startColumn.modules.edit.blocked=!1),s.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),s.table.element.classList.remove("tabulator-block-select"),s.startWidth!==i.getWidth()&&(s.table.columnManager.verticalAlignHeaders(),s.dispatch("column-resized",i),s.table.externalEvents.dispatch("columnResized",i.getComponent()))}e.stopPropagation(),s.startColumn.modules.edit&&(s.startColumn.modules.edit.blocked=!0),s.startX=typeof e.screenX>"u"?e.touches[0].screenX:e.screenX,s.latestX=s.startX,s.startWidth=i.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)}}UF.moduleName="resizeColumns";class NF extends zt{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var i=this,n=e.getElement(),s=document.createElement("div");s.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",s.addEventListener("click",function(l){l.stopPropagation()});var o=function(l){i.startRow=e,i._mouseDown(l,e,s)};s.addEventListener("mousedown",o),s.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("click",function(l){l.stopPropagation()});var a=function(l){var u=i.table.rowManager.prevDisplayRow(e);u&&(i.startRow=u,i._mouseDown(l,u,r))};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a,{passive:!0}),n.appendChild(s),n.appendChild(r)}_mouseDown(e,i,n){var s=this;s.table.element.classList.add("tabulator-block-select");function r(a){i.setHeight(s.startHeight+((typeof a.screenY>"u"?a.touches[0].screenY:a.screenY)-s.startY))}function o(a){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),s.table.element.classList.remove("tabulator-block-select"),s.dispatchExternal("rowResized",i.getComponent())}e.stopPropagation(),s.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,s.startHeight=i.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)}}NF.moduleName="resizeRows";class HF extends zt{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,i;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var s=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.tableHeight!=s||this.tableWidth!=r)&&(this.tableHeight=s,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),i=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(i.getPropertyValue("max-height")||i.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(n=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var s=Math.floor(n[0].contentRect.height),r=Math.floor(n[0].contentRect.width);(this.containerHeight!=s||this.containerWidth!=r)&&(this.containerHeight=s,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}HF.moduleName="resizeTable";class QF extends zt{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((i,n)=>{i.modules.responsive&&i.modules.responsive.order&&i.modules.responsive.visible&&(i.modules.responsive.index=n,e.push(i),!i.visible&&this.mode==="collapse"&&this.hiddenColumns.push(i))}),e=e.reverse(),e=e.sort((i,n)=>{var s=n.modules.responsive.order-i.modules.responsive.order;return s||n.modules.responsive.index-i.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let i of this.table.columnManager.columnsByIndex)if(i.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=i;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var i=e.getDefinition();e.modules.responsive={order:typeof i.responsive>"u"?1:i.responsive,visible:i.visible!==!1}}initializeRow(e){var i;e.type!=="calc"&&(i=document.createElement("div"),i.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:i,open:this.collapseStartOpen},this.collapseStartOpen||(i.style.display="none"))}layoutRow(e){var i=e.getElement();e.modules.responsiveLayout&&(i.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,i){!i&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var i=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!i&&this.collapseHandleColumn.show())}showColumn(e){var i;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(i=this.hiddenColumns.indexOf(e),i>-1&&this.hiddenColumns.splice(i,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let i=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),n=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-i;if(n<0){let s=this.columns[this.index];s?(this.hideColumn(s),this.index++):e=!1}else{let s=this.columns[this.index-1];s&&n>0&&n>=s.getWidth()?(this.showColumn(s),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(i=>{this.generateCollapsedRowContent(i)})}generateCollapsedRowContent(e){var i,n;if(e.modules.responsiveLayout){for(i=e.modules.responsiveLayout.element;i.firstChild;)i.removeChild(i.firstChild);n=this.collapseFormatter(this.generateCollapsedRowData(e)),n&&i.appendChild(n)}}generateCollapsedRowData(e){var i=e.getData(),n=[],s;return this.hiddenColumns.forEach(r=>{var o=r.getFieldValue(i);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let a=function(l){l()};s={value:!1,data:{},getValue:function(){return o},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},n.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,s,r.modules.format.params,a)})}else n.push({field:r.field,title:r.definition.title,value:o})}),n}formatCollapsedData(e){var i=document.createElement("table");return e.forEach(function(n){var s=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),a,l=document.createElement("strong");r.appendChild(l),this.langBind("columns|"+n.field,function(u){l.innerHTML=u||n.title}),n.value instanceof Node?(a=document.createElement("div"),a.appendChild(n.value),o.appendChild(a)):o.innerHTML=n.value,s.appendChild(r),s.appendChild(o),i.appendChild(s)},this),Object.keys(e).length?i:""}}QF.moduleName="responsiveLayout";class $F extends zt{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(i,n){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.table.options.selectable!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,i){return e==="selected"?this.selectedRows:i}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var i=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],i&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var i=this,n=e.getElement(),s=function(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",s)};e.modules.select={selected:!1},i.checkRowSelectability(e)?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),i.table.options.selectable&&i.table.options.selectable!="highlight"&&(i.table.options.selectableRangeMode==="click"?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(r){(!i.table.modExists("edit")||!i.table.modules.edit.getCurrentCell())&&i.table._clearSelection(),i.selecting||i.toggleRow(e)}),n.addEventListener("mousedown",function(r){if(r.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",s),document.body.addEventListener("keyup",s),i.toggleRow(e),!1}),n.addEventListener("mouseenter",function(r){i.selecting&&(i.table._clearSelection(),i.toggleRow(e),i.selectPrev[1]==e&&i.toggleRow(i.selectPrev[0]))}),n.addEventListener("mouseout",function(r){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(e))})))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,i){if(i.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var n=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),s=this.table.rowManager.getDisplayRowIndex(e),r=n<=s?n:s,o=n>=s?n:s,a=this.table.rowManager.getDisplayRows().slice(0),l=a.splice(r,o-r+1);i.ctrlKey||i.metaKey?(l.forEach(u=>{u!==this.lastClickedRow&&(this.table.options.selectable!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectable&&this.toggleRow(u):this.toggleRow(u))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectable!==!0&&l.length>this.table.options.selectable&&(l=l.slice(0,this.table.options.selectable)),this.selectRows(l)),this.table._clearSelection()}else i.ctrlKey||i.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var i=[],n,s;switch(typeof e){case"undefined":n=this.table.rowManager.rows;break;case"string":n=this.table.rowManager.findRow(e),n||(n=this.table.rowManager.getRows(e));break;default:n=e;break}Array.isArray(n)?n.length&&(n.forEach(r=>{s=this._selectRow(r,!0,!0),s&&i.push(s)}),this._rowSelectionChanged(!1,i)):n&&this._selectRow(n,!1,!0)}_selectRow(e,i,n){if(!isNaN(this.table.options.selectable)&&this.table.options.selectable!==!0&&!n&&this.selectedRows.length>=this.table.options.selectable)if(this.table.options.selectableRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var s=this.table.rowManager.findRow(e);if(s){if(this.selectedRows.indexOf(s)==-1)return s.getElement().classList.add("tabulator-selected"),s.modules.select||(s.modules.select={}),s.modules.select.selected=!0,s.modules.select.checkboxEl&&(s.modules.select.checkboxEl.checked=!0),this.selectedRows.push(s),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(s,!0),this.dispatchExternal("rowSelected",s.getComponent()),this._rowSelectionChanged(i,s),s}else i||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,i){var n=[],s,r;switch(typeof e){case"undefined":s=Object.assign([],this.selectedRows);break;case"string":s=this.table.rowManager.findRow(e),s||(s=this.table.rowManager.getRows(e));break;default:s=e;break}Array.isArray(s)?s.length&&(s.forEach(o=>{r=this._deselectRow(o,!0,!0),r&&n.push(r)}),this._rowSelectionChanged(i,[],n)):s&&this._deselectRow(s,i,!0)}_deselectRow(e,i){var n=this,s=n.table.rowManager.findRow(e),r,o;if(s){if(r=n.selectedRows.findIndex(function(a){return a==s}),r>-1)return o=s.getElement(),o&&o.classList.remove("tabulator-selected"),s.modules.select||(s.modules.select={}),s.modules.select.selected=!1,s.modules.select.checkboxEl&&(s.modules.select.checkboxEl.checked=!1),n.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(s,!1),this.dispatchExternal("rowDeselected",s.getComponent()),n._rowSelectionChanged(i,void 0,s),s}else i||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getComponent())}),e}_rowSelectionChanged(e,i=[],n=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(i)||(i=[i]),i=i.map(s=>s.getComponent()),Array.isArray(n)||(n=[n]),n=n.map(s=>s.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),i,n))}registerRowSelectCheckbox(e,i){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=i}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,i){var n=this.table.modules.dataTree.getChildren(e,!0);if(i)for(let s of n)this._selectRow(s,!0);else for(let s of n)this._deselectRow(s,!0)}}$F.moduleName="selectRow";function Z7(t,e,i,n,s,r,o){var a=o.alignEmptyValues,l=o.decimalSeparator,u=o.thousandSeparator,c=0;if(t=String(t),e=String(e),u&&(t=t.split(u).join(""),e=e.split(u).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))c=isNaN(e)?0:-1;else if(isNaN(e))c=1;else return t-e;return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(c*=-1),c}function eN(t,e,i,n,s,r,o){var a=o.alignEmptyValues,l=0,u;if(!t)l=e?-1:0;else if(!e)l=1;else{switch(typeof o.locale){case"boolean":o.locale&&(u=this.langLocale());break;case"string":u=o.locale;break}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),u)}return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(l*=-1),l}function N2(t,e,i,n,s,r,o){var a=window.DateTime||luxon.DateTime,l=o.format||"dd/MM/yyyy HH:mm:ss",u=o.alignEmptyValues,c=0;if(typeof a<"u"){if(a.isDateTime(t)||(l==="iso"?t=a.fromISO(String(t)):t=a.fromFormat(String(t),l)),a.isDateTime(e)||(l==="iso"?e=a.fromISO(String(e)):e=a.fromFormat(String(e),l)),!t.isValid)c=e.isValid?-1:0;else if(!e.isValid)c=1;else return t-e;return(u==="top"&&r==="desc"||u==="bottom"&&r==="asc")&&(c*=-1),c}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function tN(t,e,i,n,s,r,o){return o.format||(o.format="dd/MM/yyyy"),N2.call(this,t,e,i,n,s,r,o)}function iN(t,e,i,n,s,r,o){return o.format||(o.format="HH:mm"),N2.call(this,t,e,i,n,s,r,o)}function nN(t,e,i,n,s,r,o){var a=t===!0||t==="true"||t==="True"||t===1?1:0,l=e===!0||e==="true"||e==="True"||e===1?1:0;return a-l}function sN(t,e,i,n,s,r,o){var a=o.type||"length",l=o.alignEmptyValues,u=0;function c(A){var h;switch(a){case"length":h=A.length;break;case"sum":h=A.reduce(function(g,f){return g+f});break;case"max":h=Math.max.apply(null,A);break;case"min":h=Math.min.apply(null,A);break;case"avg":h=A.reduce(function(g,f){return g+f})/A.length;break}return h}if(!Array.isArray(t))u=Array.isArray(e)?-1:0;else if(!Array.isArray(e))u=1;else return c(e)-c(t);return(l==="top"&&r==="desc"||l==="bottom"&&r==="asc")&&(u*=-1),u}function rN(t,e,i,n,s,r,o){var a=typeof t>"u"?0:1,l=typeof e>"u"?0:1;return a-l}function oN(t,e,i,n,s,r,o){var a,l,u,c,A=0,h,g=/(\d+)|(\D+)/g,f=/\d/,y=o.alignEmptyValues,E=0;if(!t&&t!==0)E=!e&&e!==0?0:-1;else if(!e&&e!==0)E=1;else{if(isFinite(t)&&isFinite(e))return t-e;if(a=String(t).toLowerCase(),l=String(e).toLowerCase(),a===l)return 0;if(!(f.test(a)&&f.test(l)))return a>l?1:-1;for(a=a.match(g),l=l.match(g),h=a.length>l.length?l.length:a.length;A<h;)if(u=a[A],c=l[A++],u!==c)return isFinite(u)&&isFinite(c)?(u.charAt(0)==="0"&&(u="."+u),c.charAt(0)==="0"&&(c="."+c),u-c):u>c?1:-1;return a.length>l.length}return(y==="top"&&r==="desc"||y==="bottom"&&r==="asc")&&(E*=-1),E}var aN={number:Z7,string:eN,date:tN,time:iN,datetime:N2,boolean:nN,array:sN,exists:rN,alphanum:oN};class Sc extends zt{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,i,n,s){var r=this.getSort();return r.forEach(o=>{delete o.column}),s.sort=r,s}userSetSort(e,i){this.setSort(e,i),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var i=!1,n,s;switch(typeof e.definition.sorter){case"string":Sc.sorters[e.definition.sorter]?i=Sc.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter;break}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(n=e.getElement(),n.classList.add("tabulator-sortable"),s=document.createElement("div"),s.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":s.classList.add("tabulator-col-sorter-element");break;case"header":n.classList.add("tabulator-col-sorter-element");break;default:n.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":s.appendChild(this.table.options.headerSortElement);break;default:s.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(s),e.modules.sort.element=s,this.setColumnHeaderSortIcon(e,"none"),(this.table.options.headerSortClickElement==="icon"?s:n).addEventListener("click",r=>{var o="",a=[],l=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?(a=this.getSort(),l=a.findIndex(u=>u.field===e.getField()),l>-1?(a[l].dir=o,l=a.splice(l,1)[0],o!="none"&&a.push(l)):o!="none"&&a.push({column:e,dir:o}),this.setSort(a)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,i=[];return e.sortList.forEach(function(n){n.column&&i.push({column:n.column.getComponent(),field:n.column.getField(),dir:n.dir})}),i}setSort(e,i){var n=this,s=[];Array.isArray(e)||(e=[{column:e,dir:i}]),e.forEach(function(r){var o;o=n.table.columnManager.findColumn(r.column),o?(r.column=o,s.push(r),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),n.sortList=s,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var i=this.table.rowManager.activeRows[0],n="string",s,r;if(i&&(i=i.getData(),s=e.getField(),s))switch(r=e.getFieldValue(i),typeof r){case"undefined":n="string";break;case"boolean":n="boolean";break;default:!isNaN(r)&&r!==""?n="number":r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum");break}return Sc.sorters[n]}sort(e){var i=this,n=this.table.options.sortOrderReverse?i.sortList.slice().reverse():i.sortList,s=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",i.getSort()),i.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(n.forEach(function(o,a){var l;o.column&&(l=o.column.modules.sort,l&&(l.sorter||(l.sorter=i.findSorter(o.column)),o.params=typeof l.params=="function"?l.params(o.column.getComponent(),o.dir):l.params,s.push(o)),i.setColumnHeader(o.column,o.dir))}),s.length&&i._sortItems(e,s)):n.forEach(function(o,a){i.setColumnHeader(o.column,o.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(o=>{r.push(o.getComponent())}),this.dispatchExternal("dataSorted",i.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,i){e.modules.sort.dir=i,e.getElement().setAttribute("aria-sort",i==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,i)}setColumnHeaderSortIcon(e,i){var n=e.modules.sort.element,s;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;n.firstChild;)n.removeChild(n.firstChild);s=this.table.options.headerSortElement.call(this.table,e.getComponent(),i),typeof s=="object"?n.appendChild(s):n.innerHTML=s}}_sortItems(e,i){var n=i.length-1;e.sort((s,r)=>{for(var o,a=n;a>=0;a--){let l=i[a];if(o=this._sortRow(s,r,l.column,l.dir,l.params),o!==0)break}return o})}_sortRow(e,i,n,s,r){var o,a,l=s=="asc"?e:i,u=s=="asc"?i:e;return e=n.getFieldValue(l.getData()),i=n.getFieldValue(u.getData()),e=typeof e<"u"?e:"",i=typeof i<"u"?i:"",o=l.getComponent(),a=u.getComponent(),n.modules.sort.sorter.call(this,e,i,o,a,n.getComponent(),s,r)}}Sc.moduleName="sort";Sc.sorters=aN;class jF extends zt{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,i,n){var s=e==="tooltip"?n.column.definition.tooltip:n.definition.headerTooltip;s&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,i,n,s),this.table.options.tooltipDelay))}mouseoutCheck(e,i,n){this.popupInstance||this.clearPopup()}clearPopup(e,i,n){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,i,n){var s,r,o;function a(l){r=l}typeof n=="function"&&(n=n(e,i.getComponent(),a)),n instanceof HTMLElement?s=n:(s=document.createElement("div"),n===!0&&(i instanceof rg?n=i.value:i.definition.field?this.langBind("columns|"+i.definition.field,l=>{s.innerHTML=n=l||i.definition.title}):n=i.definition.title),s.innerHTML=n),(n||n===0||n===!1)&&(s.classList.add("tabulator-tooltip"),s.addEventListener("mousemove",l=>l.preventDefault()),this.popupInstance=this.popup(s),typeof r=="function"&&this.popupInstance.renderCallback(r),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",i.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",i.getComponent()))}}jF.moduleName="tooltip";var lN={integer:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},max:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=i},min:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=i},starts:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(i).toLowerCase())},ends:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(i).toLowerCase())},minLength:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length>=i},maxLength:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length<=i},in:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(typeof i=="string"&&(i=i.split("|")),i.indexOf(e)>-1)},regex:function(t,e,i){if(e===""||e===null||typeof e>"u")return!0;var n=new RegExp(i);return n.test(e)},unique:function(t,e,i){if(e===""||e===null||typeof e>"u")return!0;var n=!0,s=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var a=o.getData();a!==s&&e==r.getFieldValue(a)&&(n=!1)}),n},required:function(t,e,i){return e!==""&&e!==null&&typeof e<"u"}};class ug extends zt{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,i,n){var s=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,i):!0;return s!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),i,s)}),s}editorClear(e,i){i&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var i=[];return e.cells.forEach(n=>{this.cellValidate(n)!==!0&&i.push(n.getComponent())}),i.length?i:!0}rowValidate(e){var i=[];return e.cells.forEach(n=>{this.cellValidate(n)!==!0&&i.push(n.getComponent())}),i.length?i:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.clearValidation(i._getSelf())})}userValidate(e){var i=[];return this.table.rowManager.rows.forEach(n=>{n=n.getComponent();var s=n.validate();s!==!0&&(i=i.concat(s))}),i.length?i:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var i=this,n=[],s;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{s=i._extractValidator(r),s&&n.push(s)}):(s=this._extractValidator(e.definition.validator),s&&n.push(s)),e.modules.validate=n.length?n:!1)}_extractValidator(e){var i,n,s;switch(typeof e){case"string":return s=e.indexOf(":"),s>-1?(i=e.substring(0,s),n=e.substring(s+1)):i=e,this._buildValidator(i,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,i){var n=typeof e=="function"?e:ug.validators[e];return n?{type:typeof e=="function"?"function":e,func:n,params:i}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,i,n){var s=this,r=[],o=this.invalidCells.indexOf(i);return e&&e.forEach(a=>{a.func.call(s,i.getComponent(),n,a.params)||r.push({type:a.type,parameters:a.params})}),i.modules.validate||(i.modules.validate={}),r.length?(i.modules.validate.invalid=r,this.table.options.validationMode!=="manual"&&i.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(i)):(i.modules.validate.invalid=!1,i.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),r.length?r:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(i=>{e.push(i.getComponent())}),e}clearValidation(e){var i;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,i=this.invalidCells.indexOf(e),i>-1&&this.invalidCells.splice(i,1))}}ug.moduleName="validate";ug.validators=lN;var uN=Object.freeze({__proto__:null,AccessorModule:yh,AjaxModule:uo,ClipboardModule:Rc,ColumnCalcsModule:Ql,DataTreeModule:TF,DownloadModule:wh,EditModule:og,ExportModule:xF,FilterModule:Oa,FormatModule:Ur,FrozenColumnsModule:SF,FrozenRowsModule:BF,GroupRowsModule:DF,HistoryModule:Oc,HtmlTableImportModule:FF,ImportModule:ag,InteractionModule:IF,KeybindingsModule:ql,MenuModule:LF,MoveColumnsModule:PF,MoveRowsModule:Ib,MutatorModule:_h,PageModule:lg,PersistenceModule:Ns,PopupModule:MF,PrintModule:RF,ReactiveDataModule:OF,ResizeColumnsModule:UF,ResizeRowsModule:NF,ResizeTableModule:HF,ResponsiveLayoutModule:QF,SelectRowModule:$F,SortModule:Sc,TooltipModule:jF,ValidateModule:ug}),cN={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class VF{constructor(e,i,n={}){this.table=e,this.msgType=i,this.registeredDefaults=Object.assign({},n)}register(e,i){this.registeredDefaults[e]=i}generate(e,i={}){var n=Object.assign({},this.registeredDefaults),s=this.table.options.debugInvalidOptions||i.debugInvalidOptions===!0;Object.assign(n,e);for(let r in i)n.hasOwnProperty(r)||(s&&console.warn("Invalid "+this.msgType+" option:",r),n[r]=i.key);for(let r in n)r in i?n[r]=i[r]:Array.isArray(n[r])?n[r]=Object.assign([],n[r]):typeof n[r]=="object"&&n[r]!==null?n[r]=Object.assign({},n[r]):typeof n[r]>"u"&&delete n[r];return n}}let Lb=class extends Ws{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,i){}renderRowCells(e){}rerenderRowCells(e,i){}scrollColumns(e,i){}scrollRows(e,i){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,i){var n=e.getElement();i%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,i,n){var s=this.rows().indexOf(e),r=e.getElement(),o=0;return new Promise((a,l)=>{if(s>-1){if(typeof n>"u"&&(n=this.table.options.scrollToRowIfVisible),!n&&Vi.elVisible(r)&&(o=Vi.elOffset(r).top-Vi.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-r.offsetHeight))return a(),!1;switch(typeof i>"u"&&(i=this.table.options.scrollToRowPosition),i==="nearest"&&(i=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),i){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})}};class AN extends Lb{constructor(e){super(e)}renderRowCells(e,i){const n=document.createDocumentFragment();e.cells.forEach(s=>{n.appendChild(s.getElement())}),e.element.appendChild(n),i||e.cells.forEach(s=>{s.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(i){i.reinitializeWidth()})}}class hN extends Lb{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,i){this.dataChange()}scrollColumns(e,i){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(i=>{if(i.visible){var n=i.getWidth();n>e&&(e=n)}}),this.windowBuffer=e*2}rerenderColumns(e,i){var n={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},s=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(r=>{var o={},a;r.visible&&(r.modules.frozen||(a=r.getWidth(),o.leftPos=s,o.rightPos=s+a,o.width=a,this.isFitData&&(o.fitDataCheck=r.modules.vdomHoz?r.modules.vdomHoz.fitDataCheck:!0),s+a>this.vDomScrollPosLeft&&s<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=s),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=a),this.columns.push(r),r.modules.vdomHoz=o,s+=a))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,i||(!e||this.reinitChanged(n))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const i=document.createDocumentFragment();e.cells.forEach(n=>{i.appendChild(n.getElement())}),e.element.appendChild(i),e.cells.forEach(n=>{n.cellRendered()})}}rerenderRowCells(e,i){this.reinitializeRow(e,i)}reinitializeColumnWidths(e){for(let i=this.leftCol;i<=this.rightCol;i++)this.columns[i].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,i,n;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(s=>{!s.definition.width&&s.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,i=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],i)){n=i.getElement(),i.generateCells(),this.tableElement.appendChild(n);for(let s=0;s<i.cells.length;s++){let r=i.cells[s];n.appendChild(r.getElement()),r.column.reinitializeWidth()}n.parentNode.removeChild(n),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var i=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((n,s)=>{n!==this.columns[s]&&(i=!1)}),!i)}reinitializeRows(){var e=this.getVisibleRows(),i=this.table.rowManager.getRows().filter(n=>!e.includes(n));e.forEach(n=>{this.reinitializeRow(n,!0)}),i.forEach(n=>{n.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,i,n){for(let s=e;s<i;s++){let r=this.columns[s];r.modules.vdomHoz.leftPos+=n,r.modules.vdomHoz.rightPos+=n}}addColRight(){for(var e=!1,i=!0;i;){let n=this.columns[this.rightCol+1];n&&n.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(n);s.getElement().insertBefore(r.getElement(),s.getCell(this.columns[this.rightCol]).getElement().nextSibling),r.cellRendered()}}),this.fitDataColActualWidthCheck(n),this.rightCol++,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=n.getWidth()):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,i=!0;i;){let n=this.columns[this.leftCol-1];if(n)if(n.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(n);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=n.getWidth();let s=this.fitDataColActualWidthCheck(n);s&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+s,this.vDomPadRight-=s)}else i=!1;else i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,i=!0;i;){let n=this.columns[this.rightCol];n&&n.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(n);try{s.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=n.getWidth(),this.rightCol--,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.rightCol=this.rightCol)})):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,i=!0;i;){let n=this.columns[this.leftCol];n&&n.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(n);try{s.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=n.getWidth(),this.leftCol++,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.leftCol=this.leftCol)})):i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var i,n;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),i=e.getWidth(),n=i-e.modules.vdomHoz.width,n&&(e.modules.vdomHoz.rightPos+=n,e.modules.vdomHoz.width=i,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,n)),e.modules.vdomHoz.fitDataCheck=!1),n}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.appendCell(e,i)});for(let i=this.leftCol;i<=this.rightCol;i++)this.appendCell(e,this.columns[i]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.appendCell(e,i)})}}appendCell(e,i){if(i&&i.visible){let n=e.getCell(i);e.getElement().appendChild(n.getElement()),n.cellRendered()}}reinitializeRow(e,i){if(e.type!=="group"&&(i||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var n=e.getElement();n.firstChild;)n.removeChild(n.firstChild);this.initializeRow(e)}}}class dN extends Ws{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new VF(this.table,"column definition",EF),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,i={virtual:hN,basic:AN};typeof this.table.options.renderHorizontal=="string"?e=i[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var i;e.deltaX&&(i=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(i),this.table.columnManager.scrollHorizontal(i))})}generateColumnsFromRowData(e){var i=[],n=this.table.options.autoColumnsDefinitions,s,r;if(e&&e.length){s=e[0];for(var o in s){let a={field:o,title:o},l=s[o];switch(typeof l){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":Array.isArray(l)?r="array":r="string";break;default:!isNaN(l)&&l!==""?r="number":l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?r="alphanum":r="string";break}a.sorter=r,i.push(a)}if(n)switch(typeof n){case"function":this.table.options.columns=n.call(this.table,i);break;case"object":Array.isArray(n)?i.forEach(a=>{var l=n.find(u=>u.field===a.field);l&&Object.assign(a,l)}):i.forEach(a=>{n[a.field]&&Object.assign(a,n[a.field])}),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}setColumns(e,i){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach((n,s)=>{this._addColumn(n)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,i,n){var s=new $o(e,this),r=s.getElement(),o=n&&this.findColumnIndex(n);if(n&&o>-1){var a=n.getTopColumn(),l=this.columns.indexOf(a),u=a.getElement();i?(this.columns.splice(l,0,s),u.parentNode.insertBefore(r,u)):(this.columns.splice(l+1,0,s),u.parentNode.insertBefore(r,u.nextSibling))}else i?(this.columns.unshift(s),this.headersElement.insertBefore(s.getElement(),this.headersElement.firstChild)):(this.columns.push(s),this.headersElement.appendChild(s.getElement()));return s.columnRendered(),s}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(i=>{i.clearVerticalAlign()}),this.columns.forEach(i=>{var n=i.getHeight();n>e&&(e=n)}),this.headersElement.style.height=e+"px",this.columns.forEach(i=>{i.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var i;if(typeof e=="object"){if(e instanceof $o)return e;if(e instanceof CF)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return i=[],this.columns.forEach(s=>{i.push(s),i=i.concat(s.getColumns(!0))}),i.find(s=>s.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var i=[];return Object.keys(this.columnsByField).forEach(n=>{var s=n.split(".")[0];s===e&&i.push(this.columnsByField[n])}),i}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(i=>i.visible);return e>-1?this.columnsByIndex[e]:!1}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(i=>e===i)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((i,n)=>{e(i,n)})}getDefinitions(e){var i=[];return this.columnsByIndex.forEach(n=>{(!e||e&&n.visible)&&i.push(n.getDefinition())}),i}getDefinitionTree(){var e=[];return this.columns.forEach(i=>{e.push(i.getDefinition(!0))}),e}getComponents(e){var i=[],n=e?this.columns:this.columnsByIndex;return n.forEach(s=>{i.push(s.getComponent())}),i}getWidth(){var e=0;return this.columnsByIndex.forEach(i=>{i.visible&&(e+=i.getWidth())}),e}moveColumn(e,i,n){i.element.parentNode.insertBefore(e.element,i.element),n&&i.element.parentNode.insertBefore(i.element,e.element),this.moveColumnActual(e,i,n),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,i,n){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,i,n):this._moveColumnInArray(this.columns,e,i,n),this._moveColumnInArray(this.columnsByIndex,e,i,n,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,i,n),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,i,n,s,r){var o=e.indexOf(i),a,l=[];o>-1&&(e.splice(o,1),a=e.indexOf(n),a>-1?s&&(a=a+1):a=o,e.splice(a,0,i),r&&(l=this.chain("column-moving-rows",[i,n,s],null,[])||[],l=l.concat(this.table.rowManager.rows),l.forEach(function(u){if(u.cells.length){var c=u.cells.splice(o,1)[0];u.cells.splice(a,0,c)}})))}scrollToColumn(e,i,n){var s=0,r=e.getLeftOffset(),o=0,a=e.getElement();return new Promise((l,u)=>{if(typeof i>"u"&&(i=this.table.options.scrollToColumnPosition),typeof n>"u"&&(n=this.table.options.scrollToColumnIfVisible),e.visible){switch(i){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=a.clientWidth-this.headersElement.clientWidth;break}if(!n&&r>0&&r+a.offsetWidth<this.element.clientWidth)return!1;s=r+o,s=Math.max(Math.min(s,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(s),this.scrollHorizontal(s),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")})}generateCells(e){var i=[];return this.columnsByIndex.forEach(n=>{i.push(n.generateCell(e))}),i}getFlexBaseWidth(){var e=this.table.element.clientWidth,i=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(n){var s,r,o;n.visible&&(s=n.definition.width||0,r=parseInt(n.minWidth),typeof s=="string"?s.indexOf("%")>-1?o=e/100*parseInt(s):o=parseInt(s):o=s,i+=o>r?o:r)}),i}addColumn(e,i,n){return new Promise((s,r)=>{var o=this._addColumn(e,i,n);this._reIndexColumns(),this.dispatch("column-add",e,i,n),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),s(o)})}deregisterColumn(e){var i=e.getField(),n;i&&delete this.columnsByField[i],n=this.columnsByIndex.indexOf(e),n>-1&&this.columnsByIndex.splice(n,1),n=this.columns.indexOf(e),n>-1&&this.columns.splice(n,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,i){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,i)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Vi.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class fN extends Lb{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,i=!0,n=document.createDocumentFragment(),s=this.rows();s.forEach((r,o)=>{this.styleRow(r,o),r.initialize(!1,!0),r.type!=="group"&&(i=!1),n.appendChild(r.getElement())}),e.appendChild(n),s.forEach(r=>{r.rendered(),r.heightInitialized||r.calcHeight(!0)}),s.forEach(r=>{r.heightInitialized||r.setCellHeight()}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows()}scrollToRowNearestTop(e){var i=Vi.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-i)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-i))}scrollToRow(e){var i=e.getElement();this.elementVertical.scrollTop=Vi.elOffset(i).top-Vi.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class pN extends Lb{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var i=this.elementVertical.scrollTop,n=!1,s=!1,r=this.table.rowManager.scrollLeft,o=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(o[a]){var l=i-o[a].getElement().offsetTop;if(s===!1||Math.abs(l)<s)s=l,n=a;else break}o.forEach(u=>{u.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(n===!1?this.rows.length-1:n,!0,s||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,i){var n=e-this.vDomScrollPosTop,s=e-this.vDomScrollPosBottom,r=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-n>r||s>r){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(a)}else i?(n<0&&this._addTopRow(o,-n),s<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-s):this.vDomScrollPosBottom=this.scrollTop)):(s>=0&&this._addBottomRow(o,s),n>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,n):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var i=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-i)>Math.abs(this.vDomBottom-i))}scrollToRow(e){var i=this.rows().indexOf(e);i>-1&&this._virtualRenderFill(i,!0)}visibleRows(e){var i=this.elementVertical.scrollTop,n=this.elementVertical.clientHeight+i,s=!1,r=0,o=0,a=this.rows();if(e)r=this.vDomTop,o=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(s)if(n-a[l].getElement().offsetTop>=0)o=l;else break;else if(i-a[l].getElement().offsetTop>=0)r=l;else if(s=!0,n-a[l].getElement().offsetTop>=0)o=l;else break;return a.slice(r,o+1)}_virtualRenderFill(e,i,n){var s=this.tableElement,r=this.elementVertical,o=0,a=0,l=0,u=0,c=0,A=0,h=this.rows(),g=h.length,f=0,y,E,C=[],m=0,b=0,_=this.table.rowManager.fixedHeight,B=this.elementVertical.clientHeight,L=this.table.options.rowHeight,j=!0;if(e=e||0,n=n||0,!e)this.clear();else{for(;s.firstChild;)s.removeChild(s.firstChild);u=(g-e+1)*this.vDomRowHeight,u<B&&(e-=Math.ceil((B-u)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(g&&Vi.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,_||this.table.options.maxHeight?(L&&(b=B/L+this.vDomWindowBuffer/L),b=Math.max(this.vDomWindowMinTotalRows,Math.ceil(b))):b=g;(b==g||a<=B+this.vDomWindowBuffer||m<this.vDomWindowMinTotalRows)&&this.vDomBottom<g-1;){for(C=[],E=document.createDocumentFragment(),A=0;A<b&&this.vDomBottom<g-1;)f=this.vDomBottom+1,y=h[f],this.styleRow(y,f),y.initialize(!1,!0),!y.heightInitialized&&!this.table.options.rowHeight&&y.clearCellHeight(),E.appendChild(y.getElement()),C.push(y),this.vDomBottom++,A++;if(!C.length)break;s.appendChild(E),C.forEach(O=>{O.rendered(),O.heightInitialized||O.calcHeight(!0)}),C.forEach(O=>{O.heightInitialized||O.setCellHeight()}),C.forEach(O=>{l=O.getHeight(),m<o?c+=l:a+=l,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=l*2),m++}),j=this.table.rowManager.adjustTableSize(),B=this.elementVertical.clientHeight,j&&(_||this.table.options.maxHeight)&&(L=a/m,b=Math.max(this.vDomWindowMinTotalRows,Math.ceil(B/L+this.vDomWindowBuffer/L)))}e?(this.vDomTopPad=i?this.vDomRowHeight*this.vDomTop+n:this.scrollTop-c,this.vDomBottomPad=this.vDomBottom==g-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-c,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+c)/m),this.vDomBottomPad=this.vDomRowHeight*(g-this.vDomBottom-1),this.vDomScrollHeight=c+a+this.vDomBottomPad-B),s.style.paddingTop=this.vDomTopPad+"px",s.style.paddingBottom=this.vDomBottomPad+"px",i&&(this.scrollTop=this.vDomTopPad+c+n-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-B:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-B),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&i&&(this.scrollTop+=this.elementVertical.offsetHeight-B),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,i){for(var n=this.tableElement,s=[],r=0,o=this.vDomTop-1,a=0,l=!0;l;)if(this.vDomTop){let u=e[o],c,A;u&&a<this.vDomMaxRenderChain?(c=u.getHeight()||this.vDomRowHeight,A=u.initialized,i>=c?(this.styleRow(u,o),n.insertBefore(u.getElement(),n.firstChild),(!u.initialized||!u.heightInitialized)&&s.push(u),u.initialize(),A||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=c*2)),i-=c,r+=c,this.vDomTop--,o--,a++):l=!1):l=!1}else l=!1;for(let u of s)u.clearCellHeight();this._quickNormalizeRowHeight(s),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(e,i){for(var n=[],s=0,r=0,o=!0;o;){let a=e[this.vDomTop],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,i>=l?(this.vDomTop++,i-=l,s+=l,n.push(a),r++):o=!1):o=!1}for(let a of n){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}s&&(this.vDomTopPad+=s,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?s:s+this.vDomWindowBuffer)}_addBottomRow(e,i){for(var n=this.tableElement,s=[],r=0,o=this.vDomBottom+1,a=0,l=!0;l;){let u=e[o],c,A;u&&a<this.vDomMaxRenderChain?(c=u.getHeight()||this.vDomRowHeight,A=u.initialized,i>=c?(this.styleRow(u,o),n.appendChild(u.getElement()),(!u.initialized||!u.heightInitialized)&&s.push(u),u.initialize(),A||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=c*2)),i-=c,r+=c,this.vDomBottom++,o++,a++):l=!1):l=!1}for(let u of s)u.clearCellHeight();this._quickNormalizeRowHeight(s),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(e,i){for(var n=[],s=0,r=0,o=!0;o;){let a=e[this.vDomBottom],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,i>=l?(this.vDomBottom--,i-=l,s+=l,n.push(a),r++):o=!1):o=!1}for(let a of n){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}s&&(this.vDomBottomPad+=s,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=s)}_quickNormalizeRowHeight(e){for(let i of e)i.calcHeight();for(let i of e)i.setCellHeight()}}class gN extends Ws{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let i=document.createElement("div");if(i.classList.add("tabulator-placeholder"),typeof e=="string"){let n=document.createElement("div");n.classList.add("tabulator-placeholder-contents"),n.innerHTML=e,i.appendChild(n),this.placeholderContents=n}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(i.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=i}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,i=this.scrollLeft>e,n=this.element.scrollTop,s=this.scrollTop>n;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,i),this.dispatchExternal("scrollHorizontal",e,i),this._positionPlaceholder()),this.scrollTop!=n&&(this.scrollTop=n,this.renderer.scrollRows(n,s),this.dispatch("scroll-vertical",n,s),this.dispatchExternal("scrollVertical",n,s))})}findRow(e){if(typeof e=="object"){if(e instanceof vs)return e;if(e instanceof Db)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(n=>n.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(n=>n.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var i=this.rows.find(n=>n.data===e);return i||!1}getRowFromPosition(e){return this.getDisplayRows().find(i=>i.getPosition()===e&&i.isDisplayed())}scrollToRow(e,i,n){return this.renderer.scrollToRowPosition(e,i,n)}setData(e,i,n){return new Promise((s,r)=>{i&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&n&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),s()})}_setDataActual(e,i){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((n,s)=>{if(n&&typeof n=="object"){var r=new vs(n,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",n)}),this.refreshActiveData(!1,!1,i),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,i){var n=this.rows.indexOf(e),s=this.activeRows.indexOf(e);s>-1&&this.activeRows.splice(s,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var o=r.indexOf(e);o>-1&&r.splice(o,1)}),i||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,i,n,s){var r=this.addRowActual(e,i,n,s);return r}addRows(e,i,n,s){var r=[];return new Promise((o,a)=>{i=this.findAddRowPos(i),Array.isArray(e)||(e=[e]),(typeof n>"u"&&i||typeof n<"u"&&!i)&&e.reverse(),e.forEach((l,u)=>{var c=this.addRow(l,i,n,!0);r.push(c),this.dispatch("row-added",c,l,i,n)}),this.refreshActiveData(s?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),r.length&&this._clearPlaceholder(),o(r)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,i,n,s){var r=e instanceof vs?e:new vs(e||{},this),o=this.findAddRowPos(i),a=-1,l,u;return n||(u=this.chain("row-adding-position",[r,o],null,{index:n,top:o}),n=u.index,o=u.top),typeof n<"u"&&(n=this.findRow(n)),n=this.chain("row-adding-index",[r,n,o],null,n),n&&(a=this.rows.indexOf(n)),n&&a>-1?(l=this.activeRows.indexOf(n),this.displayRowIterator(function(c){var A=c.indexOf(n);A>-1&&c.splice(o?A:A+1,0,r)}),l>-1&&this.activeRows.splice(o?l:l+1,0,r),this.rows.splice(o?a:a+1,0,r)):o?(this.displayRowIterator(function(c){c.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(c){c.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),s||this.reRenderInPosition(),r}moveRow(e,i,n){this.dispatch("row-move",e,i,n),this.moveRowActual(e,i,n),this.regenerateRowPositions(),this.dispatch("row-moved",e,i,n),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,i,n){this.moveRowInArray(this.rows,e,i,n),this.moveRowInArray(this.activeRows,e,i,n),this.displayRowIterator(s=>{this.moveRowInArray(s,e,i,n)}),this.dispatch("row-moving",e,i,n)}moveRowInArray(e,i,n,s){var r,o,a,l;if(i!==n&&(r=e.indexOf(i),r>-1&&(e.splice(r,1),o=e.indexOf(n),o>-1?s?e.splice(o+1,0,i):e.splice(o,0,i):e.splice(r,0,i)),e===this.getDisplayRows())){a=r<o?r:o,l=o>r?o:r+1;for(let u=a;u<=l;u++)e[u]&&this.styleRow(e[u],u)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var i=this.getDisplayRows().indexOf(e);return i>-1?i:!1}nextDisplayRow(e,i){var n=this.getDisplayRowIndex(e),s=!1;return n!==!1&&n<this.displayRowsCount-1&&(s=this.getDisplayRows()[n+1]),s&&(!(s instanceof vs)||s.type!="row")?this.nextDisplayRow(s,i):s}prevDisplayRow(e,i){var n=this.getDisplayRowIndex(e),s=!1;return n&&(s=this.getDisplayRows()[n-1]),i&&s&&(!(s instanceof vs)||s.type!="row")?this.prevDisplayRow(s,i):s}findRowIndex(e,i){var n;return e=this.findRow(e),e&&(n=i.indexOf(e),n>-1)?n:!1}getData(e,i){var n=[],s=this.getRows(e);return s.forEach(function(r){r.type=="row"&&n.push(r.getData(i||"data"))}),n}getComponents(e){var i=[],n=this.getRows(e);return n.forEach(function(s){i.push(s.getComponent())}),i}getDataCount(e){var i=this.getRows(e);return i.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,i){typeof i<"u"?(this.dataPipeline.push({handler:e,priority:i}),this.dataPipeline.sort((n,s)=>n.priority-s.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,i){typeof i<"u"?(this.displayPipeline.push({handler:e,priority:i}),this.displayPipeline.sort((n,s)=>n.priority-s.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,i,n){var s=this.table,r="",o=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(l=>l.handler===e),o>-1)r="dataPipeline",i&&(o==this.dataPipeline.length-1?r="display":o++);else if(o=this.displayPipeline.findIndex(l=>l.handler===e),o>-1)r="displayPipeline",i&&(o==this.displayPipeline.length-1?r="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else r=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&o<this.redrawBlockRestoreConfig.index||a.indexOf(r)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:i,renderInPosition:n,stage:r,index:o});return}else Vi.elVisible(this.element)?n?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,o,n)):(this.refreshPipelines(e,r,o,n),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),s.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,o,n),this.dispatch("data-refreshed")}}refreshPipelines(e,i,n,s){switch(this.dispatch("data-refreshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),i){case"all":case"dataPipeline":for(let r=n;r<this.dataPipeline.length;r++){let o=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=o||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":n=0,this.resetDisplayRows();case"displayPipeline":for(let r=n;r<this.displayPipeline.length;r++){let o=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),s);this.setDisplayRows(o||this.getDisplayRows(r-1).slice(0),r)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),i=1;e.forEach(n=>{n.type==="row"&&(n.setPosition(i),i++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,i){this.displayRows[i]=e,i==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,i){var n=Object.assign([],this.renderer.visibleRows(!i));return e&&(n=this.chain("rows-visible",[i],n,n)),n}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var i=[];switch(e){case"active":i=this.activeRows;break;case"display":i=this.table.rowManager.getDisplayRows();break;case"visible":i=this.getVisibleRows(!1,!0);break;default:i=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return i}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,i={virtual:pN,basic:fN};typeof this.table.options.renderVertical=="string"?e=i[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,i){var n=e.getElement();i%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(e){e.normalizeHeight()})}adjustTableSize(){let e=this.element.clientHeight,i,n=!1;if(this.renderer.verticalFillMode==="fill"){let s=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){i=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const r="calc(100% - "+s+"px)";this.element.style.minHeight=i||"calc(100% - "+s+"px)",this.element.style.height=r,this.element.style.maxHeight=r}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-s+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(n=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),n}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){const i=this.adjustTableSize();this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(i&&this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class mN extends Ws{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class vN extends Ws{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(i=>{e[i]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,i,n){this.pseudoTrackers[e].target!==n&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",i,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,i),this.pseudoTrackers[e].target=n,this.dispatch(e+"-mouseenter",i,n))}pseudoMouseLeave(e,i){var n=Object.keys(this.pseudoTrackers),s={row:["cell"],cell:["row"]};n=n.filter(r=>{var o=s[e];return r!==e&&(!o||o&&!o.includes(r))}),n.forEach(r=>{var o=this.pseudoTrackers[r].target;this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",i,o),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),i=Object.values(this.componentMap);for(let n of i)for(let s of e){let r=n+"-"+s;this.subscriptionChange(r,this.subscriptionChanged.bind(this,n,s))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,i,n){var s=this.listeners[i].components,r=s.indexOf(e),o=!1;n?r===-1&&(s.push(e),o=!0):this.subscribed(e+"-"+i)||r>-1&&(s.splice(r,1),o=!0),(i==="mouseenter"||i==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let i=this.listeners[e];i.components.length?i.handler||(i.handler=this.track.bind(this,e),this.el.addEventListener(e,i.handler)):i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}track(e,i){var n=i.composedPath&&i.composedPath()||i.path,s=this.findTargets(n);s=this.bindComponents(e,s),this.triggerEvents(e,i,s),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(s).length&&this.pseudoMouseLeave("none",i)}findTargets(e){var i={};let n=Object.keys(this.componentMap);for(let s of e){let r=s.classList?[...s.classList]:[];if(r.filter(l=>this.abortClasses.includes(l)).length)break;let a=r.filter(l=>n.includes(l));for(let l of a)i[this.componentMap[l]]||(i[this.componentMap[l]]=s)}return i.group&&i.group===i.row&&delete i.row,i}bindComponents(e,i){var n=Object.keys(i).reverse(),s=this.listeners[e],r={},o={};for(let a of n){let l,u=i[a],c=this.previousTargets[a];if(c&&c.target===u)l=c.component;else switch(a){case"row":case"group":(s.components.includes("row")||s.components.includes("cell")||s.components.includes("group"))&&(l=this.table.rowManager.getVisibleRows(!0).find(h=>h.getElement()===u),i.row&&i.row.parentNode&&i.row.parentNode.closest(".tabulator-row")&&(i[a]=!1));break;case"column":s.components.includes("column")&&(l=this.table.columnManager.findColumn(u));break;case"cell":s.components.includes("cell")&&(r.row instanceof vs?l=r.row.findCell(u):i.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}l&&(r[a]=l,o[a]={target:u,component:l})}return this.previousTargets=o,r}triggerEvents(e,i,n){var s=this.listeners[e];for(let r in n)n[r]&&s.components.includes(r)&&this.dispatch(r+"-"+e,i,n[r])}clearWatchers(){for(let e in this.listeners){let i=this.listeners[e];i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}}class bN{constructor(e){this.table=e,this.bindings={}}bind(e,i,n){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][i]?console.warn("Unable to bind component handler, a matching function name is already bound",e,i,n):this.bindings[e][i]=n}handle(e,i,n){if(this.bindings[e]&&this.bindings[e][n]&&typeof this.bindings[e][n].bind=="function")return this.bindings[e][n].bind(null,i);n!=="then"&&typeof n=="string"&&!n.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+n+" function, have you checked that you have the correct Tabulator module installed?")}}class yN extends Ws{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,i,n,s,r,o){var a=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,i,n,r])){this.loading=!0,r||this.alertLoader(),i=this.chain("data-params",[e,n,r],i||{},i||{}),i=this.mapParams(i,this.table.options.dataSendParams);var l=this.chain("data-load",[e,i,n,r],!1,Promise.resolve([]));return l.then(u=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(u)&&typeof u=="object"&&(u=this.mapParams(u,this.objectInvert(this.table.options.dataReceiveParams)));var c=this.chain("data-loaded",u,null,u);a==this.requestOrder?(this.clearAlert(),c!==!1&&(this.dispatchExternal("dataLoaded",c),this.table.rowManager.setData(c,s,typeof o>"u"?!s:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(u=>{console.error("Data Load Error: ",u),this.dispatchExternal("dataLoadError",u),r||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,s,typeof o>"u"?!s:o),Promise.resolve()}mapParams(e,i){var n={};for(let s in e)n[i.hasOwnProperty(s)?i[s]:s]=e[s];return n}objectInvert(e){var i={};for(let n in e)i[e[n]]=n;return i}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class wN{constructor(e,i,n){this.table=e,this.events={},this.optionsList=i||{},this.subscriptionNotifiers={},this.dispatch=n?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=n}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i){this.events[e]||(this.events[e]=[]),this.events[e].push(i),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var n;if(this.events[e])if(i)if(n=this.events[e].findIndex(s=>s===i),n>-1)this.events[e].splice(n,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,i){var n=this.subscriptionNotifiers[e];n&&n.forEach(s=>{s(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift(),n;return this.events[i]&&this.events[i].forEach((s,r)=>{let o=s.apply(this.table,e);r||(n=o)}),n}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}}class _N{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i,n=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:i,priority:n}),this.events[e].sort((s,r)=>s.priority-r.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var n;if(this.events[e]){if(i)if(n=this.events[e].findIndex(s=>s.callback===i),n>-1)this.events[e].splice(n,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,i,n,s){var r=n;return Array.isArray(i)||(i=[i]),this.subscribed(e)?(this.events[e].forEach((o,a)=>{r=o.callback.apply(this,i.concat([r]))}),r):typeof s=="function"?s():s}_confirm(e,i){var n=!1;return Array.isArray(i)||(i=[i]),this.subscribed(e)&&this.events[e].forEach((s,r)=>{s.callback.apply(this,i)&&(n=!0)}),n}_notifySubscriptionChange(e,i){var n=this.subscriptionNotifiers[e];n&&n.forEach(s=>{s(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift();this.events[i]&&this.events[i].forEach(n=>{n.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._confirm(...arguments)}}class CN extends Ws{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,i){var n="";return typeof this.options(e)<"u"?(n="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",i?(n=n+", Please use the %c"+i+"%c option instead",this._warnUser(n,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;")):this._warnUser(n,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,i){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+i,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class Ar{static register(e){Ar.tables.push(e)}static deregister(e){var i=Ar.tables.indexOf(e);i>-1&&Ar.tables.splice(i,1)}static lookupTable(e,i){var n=[],s,r;if(typeof e=="string"){if(s=document.querySelectorAll(e),s.length)for(var o=0;o<s.length;o++)r=Ar.matchElement(s[o]),r&&n.push(r)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof Uc?(r=Ar.matchElement(e),r&&n.push(r)):Array.isArray(e)?e.forEach(function(a){n=n.concat(Ar.lookupTable(a))}):i||console.warn("Table Connection Error - Invalid Selector",e);return n}static matchElement(e){return Ar.tables.find(function(i){return e instanceof Uc?i===e:i.element===e})}}Ar.tables=[];function EN(t,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(t),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Ex(t,e){t.forEach(function(i){i.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function TN(t,e){var i=0,n=this.table.rowManager.element.clientWidth,s=0,r=!1;t.forEach((o,a)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(r=o),o.visible&&(i+=o.getWidth())}),r?(s=n-i+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),s>0?r.setWidth(s):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function xN(t,e){var i=this.table.rowManager.element.getBoundingClientRect().width,n=0,s=0,r=0,o=0,a=[],l=[],u=0,c=0,A=0;function h(f){var y;return typeof f=="string"?f.indexOf("%")>-1?y=i/100*parseInt(f):y=parseInt(f):y=f,y}function g(f,y,E,C){var m=[],b=0,_=0,B=0,L=r,j=0,O=0,Q=[];function $(U){return E*(U.column.definition.widthGrow||1)}function D(U){return h(U.width)-E*(U.column.definition.widthShrink||0)}return f.forEach(function(U,S){var k=C?D(U):$(U);U.column.minWidth>=k?m.push(U):U.column.maxWidth&&U.column.maxWidth<k?(U.width=U.column.maxWidth,y-=U.column.maxWidth,L-=C?U.column.definition.widthShrink||1:U.column.definition.widthGrow||1,L&&(E=Math.floor(y/L))):(Q.push(U),O+=C?U.column.definition.widthShrink||1:U.column.definition.widthGrow||1)}),m.length?(m.forEach(function(U){b+=C?U.width-U.column.minWidth:U.column.minWidth,U.width=U.column.minWidth}),_=y-b,B=O?Math.floor(_/O):_,j=g(Q,_,B,C)):(j=O?y-Math.floor(y/O)*O:y,Q.forEach(function(U){U.width=C?D(U):$(U)})),j}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach(function(f){var y,E,C;f.visible&&(y=f.definition.width,E=parseInt(f.minWidth),y?(C=h(y),n+=C>E?C:E,f.definition.widthShrink&&(l.push({column:f,width:C>E?C:E}),u+=f.definition.widthShrink)):(a.push({column:f,width:0}),r+=f.definition.widthGrow||1))}),s=i-n,o=Math.floor(s/r),A=g(a,s,o,!1),a.length&&A>0&&(a[a.length-1].width+=A),a.forEach(function(f){s-=f.width}),c=Math.abs(A)+s,c>0&&u&&(A=g(l,c,Math.floor(c/u),!0)),A&&l.length&&(l[l.length-1].width-=A),a.forEach(function(f){f.column.setWidth(f.width)}),l.forEach(function(f){f.column.setWidth(f.width)})}var SN={fitData:EN,fitDataFill:Ex,fitDataTable:Ex,fitDataStretch:TN,fitColumns:xN};class Ch extends zt{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Ch.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Ch.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Ch.moduleName="layout";Ch.modes=SN;var BN={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class cg extends zt{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Vi.deepClone(cg.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,i){this.langList[e]?this._setLangProp(this.langList[e],i):this.langList[e]=i}_setLangProp(e,i){for(let n in i)e[n]&&typeof e[n]=="object"?this._setLangProp(e[n],i[n]):e[n]=i[n]}setLocale(e){e=e||"default";function i(n,s){for(var r in n)typeof n[r]=="object"?(s[r]||(s[r]={}),i(n[r],s[r])):s[r]=n[r]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let n=e.split("-")[0];this.langList[n]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n),e=n):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Vi.deepClone(this.langList.default||{}),e!="default"&&i(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,i){var n=i?e+"|"+i:e,s=n.split("|"),r=this._getLangElement(s,this.locale);return r||""}_getLangElement(e,i){var n=this.lang;return e.forEach(function(s){var r;n&&(r=n[s],typeof r<"u"?n=r:n=!1)}),n}bind(e,i){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(i),i(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(i=>{i(this.getText(e),this.lang)})}}cg.moduleName="localize";cg.langs=BN;class zF extends zt{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var i=[],n;return n=Ar.lookupTable(e),n.forEach(s=>{this.table!==s&&i.push(s)}),i}send(e,i,n,s){var r=this.getConnections(e);r.forEach(o=>{o.tableComms(this.table.element,i,n,s)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,i,n,s){if(this.table.modExists(i))return this.table.modules[i].commsReceived(e,n,s);console.warn("Inter-table Comms Error - no such module:",i)}}zF.moduleName="comms";var kN=Object.freeze({__proto__:null,LayoutModule:Ch,LocalizeModule:cg,CommsModule:zF});class GF{constructor(e,i){this.bindStaticFunctionality(e),this.bindModules(e,kN,!0),i&&this.bindModules(e,i)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(i,n,s){if(e.moduleBindings[i]){var r=e.moduleBindings[i][n];if(r)if(typeof s=="object")for(let o in s)r[o]=s[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",n)}else console.warn("Module Error - module does not exist:",i)},e.registerModule=function(i){Array.isArray(i)||(i=[i]),i.forEach(n=>{e.registerModuleBinding(n)})},e.registerModuleBinding=function(i){e.moduleBindings[i.moduleName]=i},e.findTable=function(i){var n=Ar.lookupTable(i,!0);return Array.isArray(n)&&!n.length?!1:n},e.prototype.bindModules=function(){var i=[],n=[],s=[];this.modules={};for(var r in e.moduleBindings){let o=e.moduleBindings[r],a=new o(this);this.modules[r]=a,o.prototype.moduleCore?this.modulesCore.push(a):o.moduleInitOrder?o.moduleInitOrder<0?i.push(a):n.push(a):s.push(a)}i.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),n.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),this.modulesRegular=i.concat(s.concat(n))}}bindModules(e,i,n){var s=Object.values(i);n&&s.forEach(r=>{r.prototype.moduleCore=!0}),e.registerModule(s)}}class DN extends Ws{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,i="msg"){if(e){for(this.clear(),this.type=i;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class Uc{constructor(e,i){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new bN(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new CN(this),this.optionsList=new VF(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(i),setTimeout(()=>{this._create()})),Ar.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new dN(this),this.rowManager=new gN(this),this.footerManager=new mN(this),this.dataLoader=new yN(this),this.alertManager=new DN(this),this.bindModules(),this.options=this.optionsList.generate(Uc.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new wN(this,this.options,this.options.debugEventsExternal),this.eventBus=new _N(this.options.debugEventsInternal),this.interactionMonitor=new vN(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,i=this.options,n;if(e.tagName==="TABLE"){this.originalElement=this.element,n=document.createElement("div");var s=e.attributes;for(var r in s)typeof s[r]=="object"&&n.setAttribute(s[r].name,s[r].value);e.parentNode.replaceChild(n,e),this.element=e=n}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),i.minHeight!==!1&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),i.maxHeight!==!1&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var e=this.element,i=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(n=>{n.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.autoColumns&&i.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(n=>{n.initialize()}),this.columnManager.setColumns(i.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(this.destroyed=!0,Ar.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,i){var n,s;return this.options.debugInitialization&&!this.initialized&&(e||(n=new Error().stack.split("\n"),s=n[0]=="Error"?n[2]:n[1],s[0]==" "?e=s.trim().split(" ")[1].split(".")[1]:e=s.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(i?" "+i:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,i,n){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,i,n,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,i,n){return this.initGuard(),this.dataLoader.load(e,i,n,!0,!0)}updateData(e){var i=0;return this.initGuard(),new Promise((n,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(r=>{var o=this.rowManager.findRow(r[this.options.index]);o?(i++,o.updateData(r).then(()=>{i--,i||n()}).catch(a=>{s("Update Error - Unable to update row",r,a)})):s("Update Error - Unable to find row",r)}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}addData(e,i,n){return this.initGuard(),new Promise((s,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,i,n).then(o=>{var a=[];o.forEach(function(l){a.push(l.getComponent())}),s(a)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}updateOrAddData(e){var i=[],n=0;return this.initGuard(),new Promise((s,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var a=this.rowManager.findRow(o[this.options.index]);n++,a?a.updateData(o).then(()=>{n--,i.push(a.getComponent()),n||s(i)}):this.rowManager.addRows(o).then(l=>{n--,i.push(l[0].getComponent()),n||s(i)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}getRow(e){var i=this.rowManager.findRow(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var i=this.rowManager.getRowFromPosition(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var i=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let n of e){let s=this.rowManager.findRow(n,!0);if(s)i.push(s);else return console.error("Delete Error - No matching row found:",n),Promise.reject("Delete Error - No matching row found")}return i.sort((n,s)=>this.rowManager.rows.indexOf(n)>this.rowManager.rows.indexOf(s)?1:-1),i.forEach(n=>{n.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,i,n){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,i,n,!0).then(s=>s[0].getComponent())}updateOrAddRow(e,i){var n=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),n?n.updateData(i).then(()=>n.getComponent()):this.rowManager.addRows(i).then(s=>s[0].getComponent())}updateRow(e,i){var n=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),n?n.updateData(i).then(()=>Promise.resolve(n.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,i,n){var s=this.rowManager.findRow(e);return s?this.rowManager.scrollToRow(s,i,n):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,i,n){var s=this.rowManager.findRow(e);this.initGuard(),s?s.moveToRow(i,n):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var i=this.rowManager.findRow(e);return i?i.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var i=this.columnManager.findColumn(e);return i?i.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.visible?i.hide():i.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,i,n){var s=this.columnManager.findColumn(n);return this.initGuard(),this.columnManager.addColumn(e,i,s).then(r=>r.getComponent())}deleteColumn(e){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,i){var n=this.columnManager.findColumn(e);return this.initGuard(),n?n.updateDefinition(i):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,i,n){var s=this.columnManager.findColumn(e),r=this.columnManager.findColumn(i);this.initGuard(),s?r?this.columnManager.moveColumn(s,r,n):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,i,n){return new Promise((s,r)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,i,n):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,i){this.externalEvents.subscribe(e,i)}off(e,i){this.externalEvents.unsubscribe(e,i)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,i){this.initGuard(),this.alertManager.alert(e,i)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,i){return this.modules[e]?!0:(i&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var i=this.modules[e];return i||console.error("Tabulator module not installed: "+e),i}}Uc.defaultOptions=cN;new GF(Uc);class KF extends Uc{}new GF(KF,uN);const FN={name:"PTableau",components:{JsPanel:ii,draggable:zh},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:50,minh:45,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},tabulator:"",tableau:[],colonnes:[{title:"",field:"colonne0",formatter:"plaintext",editor:!0,vertAlign:"middle"},{title:"",field:"colonne1",formatter:"plaintext",editor:!0,vertAlign:"middle"},{title:"",field:"colonne2",formatter:"plaintext",editor:!0,vertAlign:"middle"}],formats:["rownum","plaintext","textarea","html","list","link","color","star","progress","tickCross"],listes:{},lignes:8,taille:1.8}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{tableau:this.tableau,colonnes:this.colonnes,listes:this.listes,lignes:this.lignes,taille:this.taille},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tableau"),this.panneau.contenu!==""&&(this.tableau=this.panneau.contenu.tableau,this.colonnes=this.panneau.contenu.colonnes,this.listes=this.panneau.contenu.listes,this.lignes=this.panneau.contenu.lignes,this.taille=this.panneau.contenu.taille,this.donnees.w=this.panneau.w,this.donnees.h=this.panneau.h,this.donnees.x=this.panneau.x,this.donnees.y=this.panneau.y),this.genererOptions("tableau")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&this.$nextTick((function(){this.generer()}).bind(this))},methods:{generer(){if(this.colonnes.length>0&&this.lignes>0){if(this.colonnes.forEach((function(t,e){if(t.formatter==="list"&&this.listes.hasOwnProperty(t.field)&&this.listes[t.field]!==""){let i=this.listes[t.field].split(",").map(s=>s.trim());i=i.filter(s=>s!=="");const n={};i.forEach(function(s){n[s.toLowerCase()]=s}),this.colonnes[e].editorParams={values:n}}}).bind(this)),this.tableau.length===0)for(let t=0;t<this.lignes;t++)this.ajouterLigne();else if(this.tableau.length>0&&this.tableau.length<this.lignes){this.tableau=JSON.parse(JSON.stringify(this.tableau));for(let t=0;t<this.lignes-(this.tableau.length-1);t++)this.ajouterLigne()}else this.tableau.length>0&&this.tableau.length>this.lignes&&(this.tableau=JSON.parse(JSON.stringify(this.tableau)),this.tableau.splice(this.tableau.length-(this.tableau.length-this.lignes),this.tableau.length-this.lignes));this.mode="lecture",this.redimensionnement=!0,this.$nextTick((function(){this.tabulator=new KF("#tableau_"+this.id,{layout:"fitColumns",resizableRows:!0,addRowPos:"bottom",history:!0,data:this.tableau,reactiveData:!0,columns:this.colonnes})}).bind(this)),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=70,this.h=45),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.minw=30,this.minh=20,this.positionner()}},editer(){if(this.tabulator!==""){const t=this.tableau,e=this.colonnes;this.tabulator.clearData(),this.tabulator.destroy(),this.tableau=t,this.colonnes=e}this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=50,this.h=45,this.minw=50,this.minh=45,this.positionner()},ajouterColonne(){const t=this.colonnes.length;this.colonnes.push({title:"",field:"colonne"+t,formatter:"plaintext",editor:!0,vertAlign:"middle"}),this.tableau.forEach(function(e){e["colonne"+t]=""})},supprimerColonne(){this.colonnes.pop(),this.tableau.forEach(function(t){const e=Object.keys(t);delete t[e[e.length-1]]})},ajouterLigne(){const t={};this.colonnes.forEach(function(e){switch(e.formatter){case"star":t[e.field]=0;break;case"progress":t[e.field]=20;break;case"color":t[e.field]="red";break;default:t[e.field]=""}}),this.tableau.push(t),this.mode==="lecture"&&this.lignes++},supprimerLigne(){this.tableau.pop(),this.mode==="lecture"&&this.lignes--},definirDonneesColonne(t,e){switch(this.colonnes[e].hasOwnProperty("formatterParams")&&delete this.colonnes[e].formatterParams,this.colonnes[e].hasOwnProperty("width")&&delete this.colonnes[e].width,this.colonnes[e].hasOwnProperty("minWidth")&&delete this.colonnes[e].minWidth,this.colonnes[e].hasOwnProperty("sorter")&&delete this.colonnes[e].sorter,this.colonnes[e].hasOwnProperty("hozAlign")&&delete this.colonnes[e].hozAlign,t){case"rownum":this.colonnes[e].formatter=t,this.colonnes[e].editor=!1,this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;case"link":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={urlPrefix:"",target:"_blank"};break;case"list":this.colonnes[e].formatter=t,this.colonnes[e].editor="list";break;case"star":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={stars:5},this.colonnes[e].minWidth=130,this.colonnes[e].hozAlign="center";break;case"progress":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={min:0,max:100,color:"#00ced1"},this.colonnes[e].sorter="number";break;case"color":this.colonnes[e].formatter=t,this.colonnes[e].editor="list",this.colonnes[e].editorParams={values:{red:this.$t("rouge"),orange:this.$t("orange"),green:this.$t("vert"),blue:this.$t("bleu"),yellow:this.$t("jaune"),purple:this.$t("pourpre"),turquoise:this.$t("turquoise"),black:this.$t("noir"),grey:this.$t("gris"),white:this.$t("blanc")}},this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;case"tickCross":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={allowEmpty:!0,allowTruthy:!1,tickElement:'<i class="material-icons">done</i>',crossElement:'<i class="material-icons">close</i>'},this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;default:this.colonnes[e].formatter=t,this.colonnes[e].editor=!0}this.tableau.forEach(function(i){if(i.hasOwnProperty("colonne"+e))switch(t){case"star":i["colonne"+e]=0;break;case"progress":i["colonne"+e]=20;break;case"color":i["colonne"+e]="red";break;default:i["colonne"+e]=""}})},definirTableau(){const t=[];this.colonnes.forEach(function(e){t.push(e.field)}),this.tableau.forEach(function(e){const i={};t.forEach(function(n){e.hasOwnProperty(n)&&(i[n]=e[n])}),Object.keys(i).length>0&&(e=i)})},augmenterTaille(){this.taille<2.7&&(this.taille=this.taille+.1)},reduireTaille(){this.taille>1.4&&(this.taille=this.taille-.1)},annulerTaille(){this.taille=1.8}}},IN=d("div",{class:"conteneur-gauche"},null,-1),LN={class:"conteneur panneau-tableau"},PN={key:0,class:"contenu edition"},MN=["value"],RN=d("span",{class:"poignee"},[d("i",{class:"material-icons"},"drag_handle")],-1),ON={class:"numero"},UN=["placeholder","value","onInput"],NN=["onChange"],HN=["selected","value"],QN=["value","onInput","placeholder"],$N={class:"boutons"},jN=["title"],VN=d("i",{class:"material-icons"},"remove_circle_outline",-1),zN=[VN],GN=["title"],KN=d("i",{class:"material-icons"},"add_circle_outline",-1),WN=[KN],qN={class:"actions"},YN={key:1,class:"contenu"},XN=["id"],JN={class:"boutons"},ZN=["title"],eH=d("i",{class:"material-icons"},"remove_circle_outline",-1),tH=[eH],iH=["title"],nH=d("i",{class:"material-icons"},"add_circle_outline",-1),sH=[nH],rH=d("div",{class:"conteneur-droite"},null,-1),oH=d("div",{class:"conteneur-bas"},null,-1);function aH(t,e,i,n,s,r){const o=Ke("draggable"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[IN,d("div",LN,[s.mode==="edition"?(Y(),te("div",PN,[d("label",null,oe(t.$t("lignes")),1),d("input",{type:"number",class:"lignes",value:s.lignes,min:1,max:100,onInput:e[0]||(e[0]=l=>s.lignes=l.target.value)},null,40,MN),d("label",null,oe(t.$t("colonnes")),1),Ct(o,{class:"colonnes",modelValue:s.colonnes,"onUpdate:modelValue":e[1]||(e[1]=l=>s.colonnes=l),handle:".numero, .poignee",onSort:r.definirTableau},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.colonnes,(l,u)=>(Y(),te("div",{class:"colonne",key:"colonne_"+u},[d("div",null,[RN,d("span",ON,oe(u+1)+". ",1),d("input",{type:"text",placeholder:t.$t("titreColonne"),value:s.colonnes[u].title,onInput:c=>s.colonnes[u].title=c.target.value},null,40,UN),d("select",{onChange:c=>r.definirDonneesColonne(c.target.value,u)},[(Y(!0),te(dt,null,ei(s.formats,(c,A)=>(Y(),te("option",{selected:s.colonnes[u].formatter===c,value:c,key:"format_"+A},oe(t.$t(c)),9,HN))),128))],40,NN)]),s.colonnes[u].formatter==="list"?(Y(),te("textarea",{key:0,value:s.listes[s.colonnes[u].field],onInput:c=>s.listes[s.colonnes[u].field]=c.target.value,placeholder:t.$t("listeMots")},null,40,QN)):De("",!0)]))),128))]),_:1},8,["modelValue","onSort"]),d("div",$N,[s.colonnes.length>1?(Y(),te("span",{key:0,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("supprimerColonne"),onClick:e[2]||(e[2]=(...l)=>r.supprimerColonne&&r.supprimerColonne(...l))},zN,8,jN)):De("",!0),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterColonne"),onClick:e[3]||(e[3]=(...l)=>r.ajouterColonne&&r.ajouterColonne(...l))},WN,8,GN)]),d("div",qN,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])])):(Y(),te("div",YN,[d("div",{id:"tableau_"+s.id,style:ti({"font-size":t.convertirRem(s.taille)+"px"})},null,12,XN),d("div",JN,[s.tableau.length>1?(Y(),te("span",{key:0,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("supprimerLigne"),onClick:e[5]||(e[5]=(...l)=>r.supprimerLigne&&r.supprimerLigne(...l))},tH,8,ZN)):De("",!0),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterLigne"),onClick:e[6]||(e[6]=(...l)=>r.ajouterLigne&&r.ajouterLigne(...l))},sH,8,iH)])]))]),rH,oH]),_:1},8,["visible","options"])}const lH=Ht(FN,[["render",aH]]);var _n=function(){return _n=Object.assign||function(e){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_n.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(e,i){i=i||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),n}));function WF(t,e){for(var i=t.length;i--;)if(t[i].pointerId===e.pointerId)return i;return-1}function E_(t,e){var i;if(e.touches){i=0;for(var n=0,s=e.touches;n<s.length;n++){var r=s[n];r.pointerId=i++,E_(t,r)}return}i=WF(t,e),i>-1&&t.splice(i,1),t.push(e)}function uH(t,e){if(e.touches){for(;t.length;)t.pop();return}var i=WF(t,e);i>-1&&t.splice(i,1)}function Tx(t){t=t.slice(0);for(var e=t.pop(),i;i=t.pop();)e={clientX:(i.clientX-e.clientX)/2+e.clientX,clientY:(i.clientY-e.clientY)/2+e.clientY};return e}function _1(t){if(t.length<2)return 0;var e=t[0],i=t[1];return Math.sqrt(Math.pow(Math.abs(i.clientX-e.clientX),2)+Math.pow(Math.abs(i.clientY-e.clientY),2))}var Op={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?Op={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(Op={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function C1(t,e,i,n){Op[t].split(" ").forEach(function(s){e.addEventListener(s,i,n)})}function E1(t,e,i){Op[t].split(" ").forEach(function(n){e.removeEventListener(n,i)})}var cH=typeof document<"u"&&!!document.documentMode,T1;function AH(){return T1||(T1=document.createElement("div").style)}var xx=["webkit","moz","ms"],Dm={};function H2(t){if(Dm[t])return Dm[t];var e=AH();if(t in e)return Dm[t]=t;for(var i=t[0].toUpperCase()+t.slice(1),n=xx.length;n--;){var s="".concat(xx[n]).concat(i);if(s in e)return Dm[t]=s}}function Fm(t,e){return parseFloat(e[H2(t)])||0}function Im(t,e,i){i===void 0&&(i=window.getComputedStyle(t));var n=e==="border"?"Width":"";return{left:Fm("".concat(e,"Left").concat(n),i),right:Fm("".concat(e,"Right").concat(n),i),top:Fm("".concat(e,"Top").concat(n),i),bottom:Fm("".concat(e,"Bottom").concat(n),i)}}function jA(t,e,i){t.style[H2(e)]=i}function hH(t,e){var i=H2("transform");jA(t,"transition","".concat(i," ").concat(e.duration,"ms ").concat(e.easing))}function dH(t,e,i){var n=e.x,s=e.y,r=e.scale,o=e.isSVG;if(jA(t,"transform","scale(".concat(r,") translate(").concat(n,"px, ").concat(s,"px)")),o&&cH){var a=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",a)}}function x1(t){var e=t.parentNode,i=window.getComputedStyle(t),n=window.getComputedStyle(e),s=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{elem:{style:i,width:s.width,height:s.height,top:s.top,bottom:s.bottom,left:s.left,right:s.right,margin:Im(t,"margin",i),border:Im(t,"border",i)},parent:{style:n,width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right,padding:Im(e,"padding",n),border:Im(e,"border",n)}}}function fH(t){var e=t.ownerDocument,i=t.parentNode;return e&&i&&e.nodeType===9&&i.nodeType===1&&e.documentElement.contains(i)}function pH(t){return(t.getAttribute("class")||"").trim()}function gH(t,e){return t.nodeType===1&&" ".concat(pH(t)," ").indexOf(" ".concat(e," "))>-1}function mH(t,e){for(var i=t;i!=null;i=i.parentNode)if(gH(i,e.excludeClass)||e.exclude.indexOf(i)>-1)return!0;return!1}var vH=/^http:[\w\.\/]+svg$/;function bH(t){return vH.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function yH(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var qF={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(t){t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:dH,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function T_(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!fH(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e=_n(_n({},qF),e);var i=bH(t),n=t.parentNode;n.style.overflow=e.overflow,n.style.userSelect="none",n.style.touchAction=e.touchAction,(e.canvas?n:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,jA(t,"transformOrigin",typeof e.origin=="string"?e.origin:i?"0 0":"50% 50%");function s(){n.style.overflow="",n.style.userSelect="",n.style.touchAction="",n.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",jA(t,"transformOrigin","")}function r(ee){ee===void 0&&(ee={});for(var se in ee)ee.hasOwnProperty(se)&&(e[se]=ee[se]);(ee.hasOwnProperty("cursor")||ee.hasOwnProperty("canvas"))&&(n.style.cursor=t.style.cursor="",(e.canvas?n:t).style.cursor=e.cursor),ee.hasOwnProperty("overflow")&&(n.style.overflow=ee.overflow),ee.hasOwnProperty("touchAction")&&(n.style.touchAction=ee.touchAction,t.style.touchAction=ee.touchAction)}var o=0,a=0,l=1,u=!1;y(e.startScale,{animate:!1,force:!0}),setTimeout(function(){f(e.startX,e.startY,{animate:!1,force:!0})});function c(ee,se,ne){if(!ne.silent){var le=new CustomEvent(ee,{detail:se});t.dispatchEvent(le)}}function A(ee,se,ne){var le={x:o,y:a,scale:l,isSVG:i,originalEvent:ne};return requestAnimationFrame(function(){typeof se.animate=="boolean"&&(se.animate?hH(t,se):jA(t,"transition","none")),se.setTransform(t,le,se),c(ee,le,se),c("panzoomchange",le,se)}),le}function h(ee,se,ne,le){var he=_n(_n({},e),le),we={x:o,y:a,opts:he};if(!he.force&&(he.disablePan||he.panOnlyWhenZoomed&&l===he.startScale))return we;if(ee=parseFloat(ee),se=parseFloat(se),he.disableXAxis||(we.x=(he.relative?o:0)+ee),he.disableYAxis||(we.y=(he.relative?a:0)+se),he.contain){var pe=x1(t),ke=pe.elem.width/l,ce=pe.elem.height/l,ye=ke*ne,ie=ce*ne,He=(ye-ke)/2,$e=(ie-ce)/2;if(he.contain==="inside"){var ae=(-pe.elem.margin.left-pe.parent.padding.left+He)/ne,W=(pe.parent.width-ye-pe.parent.padding.left-pe.elem.margin.left-pe.parent.border.left-pe.parent.border.right+He)/ne;we.x=Math.max(Math.min(we.x,W),ae);var X=(-pe.elem.margin.top-pe.parent.padding.top+$e)/ne,re=(pe.parent.height-ie-pe.parent.padding.top-pe.elem.margin.top-pe.parent.border.top-pe.parent.border.bottom+$e)/ne;we.y=Math.max(Math.min(we.y,re),X)}else if(he.contain==="outside"){var ae=(-(ye-pe.parent.width)-pe.parent.padding.left-pe.parent.border.left-pe.parent.border.right+He)/ne,W=(He-pe.parent.padding.left)/ne;we.x=Math.max(Math.min(we.x,W),ae);var X=(-(ie-pe.parent.height)-pe.parent.padding.top-pe.parent.border.top-pe.parent.border.bottom+$e)/ne,re=($e-pe.parent.padding.top)/ne;we.y=Math.max(Math.min(we.y,re),X)}}return he.roundPixels&&(we.x=Math.round(we.x),we.y=Math.round(we.y)),we}function g(ee,se){var ne=_n(_n({},e),se),le={scale:l,opts:ne};if(!ne.force&&ne.disableZoom)return le;var he=e.minScale,we=e.maxScale;if(ne.contain){var pe=x1(t),ke=pe.elem.width/l,ce=pe.elem.height/l;if(ke>1&&ce>1){var ye=pe.parent.width-pe.parent.border.left-pe.parent.border.right,ie=pe.parent.height-pe.parent.border.top-pe.parent.border.bottom,He=ye/ke,$e=ie/ce;e.contain==="inside"?we=Math.min(we,He,$e):e.contain==="outside"&&(he=Math.max(he,He,$e))}}return le.scale=Math.min(Math.max(ee,he),we),le}function f(ee,se,ne,le){var he=h(ee,se,l,ne);return o!==he.x||a!==he.y?(o=he.x,a=he.y,A("panzoompan",he.opts,le)):{x:o,y:a,scale:l,isSVG:i,originalEvent:le}}function y(ee,se,ne){var le=g(ee,se),he=le.opts;if(!(!he.force&&he.disableZoom)){ee=le.scale;var we=o,pe=a;if(he.focal){var ke=he.focal;we=(ke.x/ee-ke.x/l+o*ee)/ee,pe=(ke.y/ee-ke.y/l+a*ee)/ee}var ce=h(we,pe,ee,{relative:!1,force:!0});return o=ce.x,a=ce.y,l=ee,A("panzoomzoom",he,ne)}}function E(ee,se){var ne=_n(_n(_n({},e),{animate:!0}),se);return y(l*Math.exp((ee?1:-1)*ne.step),ne)}function C(ee){return E(!0,ee)}function m(ee){return E(!1,ee)}function b(ee,se,ne,le){var he=x1(t),we={width:he.parent.width-he.parent.padding.left-he.parent.padding.right-he.parent.border.left-he.parent.border.right,height:he.parent.height-he.parent.padding.top-he.parent.padding.bottom-he.parent.border.top-he.parent.border.bottom},pe=se.clientX-he.parent.left-he.parent.padding.left-he.parent.border.left-he.elem.margin.left,ke=se.clientY-he.parent.top-he.parent.padding.top-he.parent.border.top-he.elem.margin.top;i||(pe-=he.elem.width/l/2,ke-=he.elem.height/l/2);var ce={x:pe/we.width*(we.width*ee),y:ke/we.height*(we.height*ee)};return y(ee,_n(_n({},ne),{animate:!1,focal:ce}),le)}function _(ee,se){ee.preventDefault();var ne=_n(_n(_n({},e),se),{animate:!1}),le=ee.deltaY===0&&ee.deltaX?ee.deltaX:ee.deltaY,he=le<0?1:-1,we=g(l*Math.exp(he*ne.step/3),ne).scale;return b(we,ee,ne,ee)}function B(ee){var se=_n(_n(_n({},e),{animate:!0,force:!0}),ee);l=g(se.startScale,se).scale;var ne=h(se.startX,se.startY,l,se);return o=ne.x,a=ne.y,A("panzoomreset",se)}var L,j,O,Q,$,D,U=[];function S(ee){if(!mH(ee.target,e)){E_(U,ee),u=!0,e.handleStartEvent(ee),L=o,j=a,c("panzoomstart",{x:o,y:a,scale:l,isSVG:i,originalEvent:ee},e);var se=Tx(U);O=se.clientX,Q=se.clientY,$=l,D=_1(U)}}function k(ee){if(!(!u||L===void 0||j===void 0||O===void 0||Q===void 0)){E_(U,ee);var se=Tx(U),ne=U.length>1,le=l;if(ne){D===0&&(D=_1(U));var he=_1(U)-D;le=g(he*e.step/80+$).scale,b(le,se,{animate:!1},ee)}(!ne||e.pinchAndPan)&&f(L+(se.clientX-O)/le,j+(se.clientY-Q)/le,{animate:!1},ee)}}function M(ee){U.length===1&&c("panzoomend",{x:o,y:a,scale:l,isSVG:i,originalEvent:ee},e),uH(U,ee),u&&(u=!1,L=j=O=Q=void 0)}var N=!1;function V(){N||(N=!0,C1("down",e.canvas?n:t,S),C1("move",document,k,{passive:!0}),C1("up",document,M,{passive:!0}))}function G(){N=!1,E1("down",e.canvas?n:t,S),E1("move",document,k),E1("up",document,M)}return e.noBind||V(),{bind:V,destroy:G,eventNames:Op,getPan:function(){return{x:o,y:a}},getScale:function(){return l},getOptions:function(){return yH(e)},handleDown:S,handleMove:k,handleUp:M,pan:f,reset:B,resetStyle:s,setOptions:r,setStyle:function(ee,se){return jA(t,ee,se)},zoom:y,zoomIn:C,zoomOut:m,zoomToPoint:b,zoomWithWheel:_}}T_.defaultOptions=qF;const wH={name:"PImage",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:27,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0,zoom:0},image:"",pixabayAPIKey:"",requete:"",resultats:{},page:1,panzoom:"",zoom:1,chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{image:this.image,requete:this.requete,page:this.page,coordonnees:this.definirCoordonnees(),zoom:this.zoom},w:this.w,h:this.h,x:this.x,y:this.y}))},page:function(t){this.rechercher(t)},statut:function(t){t===""&&this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})})}},created(){this.definirCaracteristiques("image"),this.panneau.contenu!==""&&(this.image=this.panneau.contenu.image,this.requete=this.panneau.contenu.requete,this.page=this.panneau.contenu.page,this.zoom=this.panneau.contenu.zoom),this.genererOptions("image")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.requete===""?this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)):this.mode==="recherche"?this.$nextTick((function(){this.rechercher(this.page)}).bind(this)):this.mode==="lecture"&&(this.redimensionnement=!0,this.$nextTick((function(){const t=document.querySelector("#image_"+this.id);if(this.panzoom=T_(t,{maxScale:15,minScale:.5,panOnlyWhenZoomed:!0}),this.panzoom.zoom(this.zoom),this.panneau.contenu.hasOwnProperty("coordonnees")&&this.panneau.contenu.coordonnees!==""){const e=this.panneau.contenu.coordonnees;setTimeout((function(){this.panzoom.pan(e.x,e.y)}).bind(this),0)}t.parentElement.addEventListener("wheel",this.panzoom.zoomWithWheel),t.addEventListener("panzoomchange",this.modifierZoom)}).bind(this)))},methods:{generer(){this.verifierURL(this.image)===!0||this.image.substring(0,10)==="data:image"?(this.mode="lecture",this.redimensionnement=!0,this.chargementImage=!1,this.w=40,this.h=30,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.donnees.zoom>0&&(this.zoom=this.donnees.zoom),this.positionner(),this.$nextTick((function(){const t=document.querySelector("#image_"+this.id);this.panzoom=T_(t,{maxScale:15,minScale:.5,panOnlyWhenZoomed:!0}),this.panzoom.zoom(this.zoom),t.parentElement.addEventListener("wheel",this.panzoom.zoomWithWheel),t.addEventListener("panzoomchange",this.modifierZoom)}).bind(this))):(this.mode="recherche",this.requete=this.image,this.w=40,this.h=35.4,this.rechercher(1),this.positionner())},editer(){if(this.redimensionnement=!1,this.chargementImage=!1,this.donnees.zoom=this.zoom,this.zoom=1,this.panzoom!==""){const t=document.querySelector("#image_"+this.id);t.removeEventListener("panzoomchange",this.modifierZoom),t.parentElement.removeEventListener("wheel",this.panzoom.zoomWithWheel),this.panzoom.destroy(),this.panzoom=""}this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.mode="recherche",this.w=40,this.h=35.4,this.rechercher(this.page),this.image.substring(0,10)==="data:image"&&(this.image=""),this.positionner()},rechercher(t){if(this.requete!==""){const e=this.requete.replace(/\s+/g,"+"),i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200){const n=JSON.parse(i.responseText);n&&n.total>0&&(this.resultats=n,this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})}))}}).bind(this),t===1&&(this.page=t),i.open("GET","https://pixabay.com/api/?key="+this.pixabayAPIKey+"&q="+e+"&image_type=photo&lang=fr&orientation=horizontal&safesearch=true&per_page=12&page="+t,!0),i.send()}},modifierPage(t){t==="suivante"&&this.page<this.resultats.total/12?this.page++:t==="precedente"&&this.page>1&&this.page--},selectionnerImage(t){this.image=t,this.generer()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1200){const r=document.createElement("canvas"),o=s.width/s.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85),this.generer()}else this.chargementImage=!1,this.image=n.target.result,this.generer()}).bind(this)}).bind(this)}},definirCoordonnees(){return this.panzoom!==""?this.panzoom.getPan():""},zoomer(){this.zoom<15&&(this.zoom=this.zoom+.1,this.panzoom.zoom(this.zoom,{animated:!0}))},dezoomer(){this.zoom>.5&&(this.zoom=this.zoom-.1,this.panzoom.zoom(this.zoom,{animated:!0}))},recadrer(){this.zoom=1,setTimeout((function(){this.panzoom.reset()}).bind(this),10)},modifierZoom(t){t.detail.scale!==this.zoom&&(this.zoom=t.detail.scale,this.panzoom.zoom(this.zoom,{animated:!0}))}}},_H=d("div",{class:"conteneur-gauche"},null,-1),CH={class:"conteneur panneau-image"},EH={key:0,class:"contenu"},TH={key:0},xH={key:1,class:"rechercher"},SH=["value"],BH=["title"],kH=d("i",{class:"material-icons"},"search",-1),DH=[kH],FH={key:2,class:"separateur"},IH=["for"],LH=["id"],PH={key:1,class:"contenu"},MH=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),RH=[MH],OH={key:2,class:"contenu"},UH={class:"recherche"},NH={class:"rechercher"},HH=["value"],QH=["title"],$H=d("i",{class:"material-icons"},"search",-1),jH=[$H],VH={key:0,class:"resultats"},zH=["data-w","data-h","onClick"],GH=["src"],KH={key:1,class:"navigation"},WH=["id","src"],qH=d("div",{class:"conteneur-droite"},null,-1),YH=d("div",{class:"conteneur-bas"},null,-1);function XH(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[_H,d("div",CH,[s.mode==="edition"&&!s.chargementImage?(Y(),te("div",EH,[s.pixabayAPIKey!==""?(Y(),te("label",TH,oe(t.$t("lienImageRecherche")),1)):De("",!0),s.pixabayAPIKey!==""?(Y(),te("div",xH,[d("input",{type:"search",value:s.image,onInput:e[0]||(e[0]=a=>s.image=a.target.value),onKeydown:e[1]||(e[1]=qo((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,SH),d("span",{role:"button",tabindex:"0",title:t.$t("rechercher"),class:"bouton-secondaire",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a))},DH,8,BH)])):De("",!0),s.pixabayAPIKey!==""?(Y(),te("div",FH,[d("span",null,oe(t.$t("ou")),1)])):De("",!0),d("label",null,oe(t.$t("fichierAppareil")),1),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-image-"+s.id},oe(t.$t("selectionnerImage")),9,IH),d("input",{id:"selectionner-image-"+s.id,type:"file",onChange:e[3]||(e[3]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,LH)])):s.mode==="edition"&&s.chargementImage?(Y(),te("div",PH,RH)):s.mode==="recherche"?(Y(),te("div",OH,[d("label",null,oe(t.$t("resultatsRecherche")),1),d("div",UH,[d("div",NH,[d("input",{type:"search",value:s.requete,onInput:e[4]||(e[4]=a=>s.requete=a.target.value),onKeydown:e[5]||(e[5]=qo(a=>r.rechercher(1),["enter"]))},null,40,HH),d("span",{role:"button",tabindex:"0",title:t.$t("rechercher"),class:"bouton-secondaire",onClick:e[6]||(e[6]=a=>r.rechercher(1))},jH,8,QH)]),Object.keys(s.resultats).length>0?(Y(),te("div",VH,[(Y(!0),te(dt,null,ei(s.resultats.hits,(a,l)=>(Y(),te("div",{class:"item","data-w":a.previewWidth,"data-h":a.previewHeight,onClick:u=>r.selectionnerImage(a.previewURL.replace("_150","_1280")),key:"image_"+l},[d("img",{src:a.previewURL},null,8,GH)],8,zH))),128))])):De("",!0),Object.keys(s.resultats).length>0&&(s.page>1||s.page<s.resultats.total/12)?(Y(),te("div",KH,[d("span",{role:"button",tabindex:"0",class:Ne({invisible:s.page<2}),onClick:e[7]||(e[7]=a=>r.modifierPage("precedente"))},oe(t.$t("pagePrecedente")),3),d("span",{role:"button",tabindex:"0",class:Ne({invisible:s.page>=s.resultats.total/12}),onClick:e[8]||(e[8]=a=>r.modifierPage("suivante"))},oe(t.$t("pageSuivante")),3)])):De("",!0)])])):(Y(),te("img",{key:3,id:"image_"+s.id,src:s.image,alt:"Image"},null,8,WH))]),qH,YH]),_:1},8,["visible","options"])}const JH=Ht(wH,[["render",XH]]);const ZH={name:"PGalerie",components:{JsPanel:ii,draggable:zh},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],index:0}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("galerieImages"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0),this.genererOptions("galerie")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=34,this.index=0,this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1500){const r=document.createElement("canvas"),o=s.width/s.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1500){const r=document.createElement("canvas"),o=s.width/s.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)},afficherDiapoPrecedente(){this.index===0?this.index=this.images.length-1:this.index--},afficherDiapoSuivante(){this.index===this.images.length-1?this.index=0:this.index++},gererClavier(t){this.mode==="lecture"&&t.key==="ArrowLeft"?this.afficherDiapoPrecedente():this.mode==="lecture"&&t.key==="ArrowRight"&&this.afficherDiapoSuivante()}}},eQ=d("div",{class:"conteneur-gauche"},null,-1),tQ={class:"conteneur panneau-galerie"},iQ={key:0,class:"contenu"},nQ=["id"],sQ=["for"],rQ=["src","alt"],oQ=["onClick"],aQ=d("i",{class:"material-icons"},"highlight_off",-1),lQ=[aQ],uQ={key:1,class:"contenu lecture"},cQ={class:"numero"},AQ=["src","alt"],hQ=d("i",{class:"material-icons"},"navigate_before",-1),dQ=[hQ],fQ=d("i",{class:"material-icons"},"navigate_next",-1),pQ=[fQ],gQ=d("div",{class:"conteneur-droite"},null,-1),mQ=d("div",{class:"conteneur-bas"},null,-1);function vQ(t,e,i,n,s,r){const o=Ke("draggable"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[eQ,d("div",tQ,[s.mode==="edition"?(Y(),te("div",iQ,[d("label",null,oe(t.$t("texteGalerie")),1),d("div",{class:"zone",onDragover:e[2]||(e[2]=Wa(()=>{},["prevent"])),onDrop:e[3]||(e[3]=Wa(()=>{},["prevent"]))},[d("input",{id:"selectionner-images-"+s.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...l)=>r.selectionnerImages&&r.selectionnerImages(...l)),style:{display:"none"}},null,40,nQ),d("label",{for:"selectionner-images-"+s.id,onDrop:e[1]||(e[1]=(...l)=>r.glisserImages&&r.glisserImages(...l))},oe(t.$t("selectionnerImages")),41,sQ)],32),Ct(o,{class:"images",modelValue:s.images,"onUpdate:modelValue":e[4]||(e[4]=l=>s.images=l)},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.images,(l,u)=>(Y(),te("div",{class:"image",key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,rQ),d("span",{class:"fermer",onClick:c=>r.supprimerImage(u)},lQ,8,oQ)]))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])):(Y(),te("div",uQ,[d("div",{class:"galerie",tabindex:"-1",onKeydown:e[8]||(e[8]=(...l)=>r.gererClavier&&r.gererClavier(...l))},[(Y(!0),te(dt,null,ei(s.images,(l,u)=>W0((Y(),te("div",{class:"diapo",key:"image_"+u},[d("div",cQ,oe(u+1)+" / "+oe(s.images.length),1),d("img",{src:l,alt:"Image"+s.index},null,8,AQ)])),[[Pp,s.index===u]])),128)),d("span",{class:"diapo-precedente",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.afficherDiapoPrecedente&&r.afficherDiapoPrecedente(...l))},dQ),d("span",{class:"diapo-suivante",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...l)=>r.afficherDiapoSuivante&&r.afficherDiapoSuivante(...l))},pQ)],32)]))]),gQ,mQ]),_:1},8,["visible","options"])}const bQ=Ht(ZH,[["render",vQ]]),YF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACcFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACKkOugAAAAz3RSTlMA7uyIMAb5MxQN6yb+12LzJxOiNF6e6STwG+/QBPsfL+qH9x6OCdn9nQiC7TuKJdHbtBVkBXRyUCHI5m0HPPreDGcjxgP21lUiDoa1q9zxKWYdqaNSEpeQFwK4KCzU9MeSYfJx3Z/nvYHaX+HicG5TLVi5fdOMmM4B+DrEGsOAwVwYdjFqy7PFQc2lk3ugoUNpY4sqD8zlt5Squzi6j0g1SfWmWVSVC7Bdrfw+Vxau1bYKSxBWT3No5IQuQIXSmlqWP2zo3xkgiaSbz34cnOAjM8VWAAAECUlEQVR4Xu3YxW4cSwCF4TPjjMfMzMzMEHPMzL62w8zMzLnMzMzMzAznla6SjZWq7umq6fHO37I3v0pV0pEaqqruH/Mbaszb40htdbQdaXwzM6zlXfhScMe9eTTQFhuTBp9I37GWHlQULcCmR/aF0tKddZHw3sPHwqlk3Ww2vNMQlU9lrfcFQ9K/efBQaRnMVd3tTy3+D/ULja+Gb31/EGZinNS2bdcJLMEqJ2/JL4GhhkP0yvZEuUFWwsjBcHrJWS83GAeZawNtmCkUGyQkZ9bTltORYkOO9FXQpuEIpAfRU+T5DNqWEeakp8jX4fQxORK9icseWQiiB1ldP9ROlbg7y9xv19ceO9/tXSRxD00lFz1dI7z0knuS9SOuLpqIKw2GoYiiDM3IEzS2u8MFU7ljFTqRN2goqdkFj2o2JylH0oz3KWoOlgImVSPzNDDyMpS84lSK7KKB42lQlJ2sEKkqpuz1digLrLSOzFJWcAc0uFOtIr+dpCRWq5EeRKvIJCXvWTaEPbeKjOZT9OiH9hpy5FWKnIn2GnLkY3lEPrF5H3JkL0Wxds8hR0IpKA6w2ZAjByh6AOoWnVSJ7KBgSwqUtedRKdJDQTXUdVABEExBkwvq7lKLVFMwAA0TtLYO2Co0QjqhoZbWzgI7hchV6Khy0NIUAig4By0vdNNCKXCRAjf0RBS87zD32OMfAcCTvM08lkNKTKbfkupCLJcVK1asWJE75rckMyYFy+Ep3mYIAD59pslhric2AnqiKZgDnqWF7uegpUhohETiHVoqDoCO40IkD7hOa3XQEBEiRAqAF2ntJWgopWAjQAVRULc6joJOtUgY1F2hIBlKkdDXoMy1m4LDShHnItTto2hUJeJcBXVzSRQcAQCfNhBF0U8KEUc0NOynaFO/ELF9jrQkimZxkw8bgckUvRUvROw21lyj2V8Hn93HmihKsrKtIqlurcYflB2FVYSDgVAW+AFlQZHWEZZnQ1FDOQ18D4UIEy5ASa+DBiqhFCEnFVbxzASNJCSqRphU54JHhZ+N0EhIL5Qj5PDnuTCV2/wFjR2FToQM+nIUhhZyimnifIoQUVB+uGW1sLOnvvmWptouQoioyTr73aX9N9zB8e4fey/NNPrTg23x0IzoS7iMZY8klMBTxBmWQdt+vgyBuIN9obTplzKIpP2IPE1brv8KibxRhTP0XkhODWRxBjtY76SXEqZgZFBuAInb6ZVr4zDUki83gBMxTdQWdxBmwk6S5M4D4tT97k8tWTnTMBefOV/Z3A5J2VaNTOqf4/DOeE44lYxsiIf3pvdepaW1VwJhU/C5UHrw19+L8Il/LvxbQVlIT0FYH3wp4NTGgaGu8i0O/1bHf6HrJwaqb0xD0f+SwE0D5kLTNgAAAABJRU5ErkJggg==";const yQ={name:"PDessin",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,largeurPage:Number,hauteurPage:Number,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!0,titre:"",id:"",w:0,h:0,x:0,y:0,minw:48,minh:28,statut:"",dimensions:{},position:{},dessin:!1,ligneId:0,nom:"",lignes:[],positionStylo:[],couleurStylo:"#000000",dimensionsCanva:{w:0,h:0}}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lignes:this.lignes},w:this.w,h:this.h,x:this.x,y:this.y}))},w:function(t){this.dimensionsCanva.w=this.convertirRem(t)},h:function(t){this.dimensionsCanva.h=this.convertirRem(t)-this.convertirRem(3)},statut:function(t){t==="max"?(this.dimensionsCanva.w=this.largeurPage,this.dimensionsCanva.h=this.hauteurPage-this.convertirRem(3)):(this.dimensionsCanva.w=this.convertirRem(this.w),this.dimensionsCanva.h=this.convertirRem(this.h)-this.convertirRem(3))}},created(){this.definirCaracteristiques("dessin"),this.panneau.contenu!==""&&(this.lignes=this.panneau.contenu.lignes),this.genererOptions("dessin")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{selectionnerDebut(t){const e=t.target.getStage();this.dessin=!0,this.positionStylo=e.getPointerPosition(),this.ligneId++,this.lignes.push({name:"ligne"+this.ligneId,points:[this.positionStylo.x,this.positionStylo.y],globalCompositeOperation:"source-over",stroke:this.couleurStylo,strokeWidth:2,draggable:!1,verrouille:!1}),this.nom="ligne"+this.ligneId,this.$nextTick((function(){this.$refs.lignes.getNode().getLayer().batchDraw()}).bind(this))},selectionnerMouvement(t){const e=t.target.getStage();if(!this.dessin)return;this.positionStylo=e.getPointerPosition();const i=this.lignes.find(s=>s.name===this.nom),n=i.points.concat([this.positionStylo.x,this.positionStylo.y]);i.points=n,this.$refs.lignes.getNode().getLayer().batchDraw()},selectionnerFin(){this.dessin=!1},modifierCouleur(t){this.couleurStylo=t},reinitialiser(){this.ligneId=0,this.nom="",this.lignes=[],this.$refs.lignes.getNode().getLayer().batchDraw()}}},wQ={class:"conteneur panneau-dessin"},_Q={class:"contenu"},CQ={class:"outils-dessin"},EQ=["title"],TQ=d("span",{class:"couleur noir"},null,-1),xQ=[TQ],SQ=["title"],BQ=d("span",{class:"couleur blanc"},null,-1),kQ=[BQ],DQ=["title"],FQ=d("span",{class:"couleur rouge"},null,-1),IQ=[FQ],LQ=["title"],PQ=d("span",{class:"couleur jaune"},null,-1),MQ=[PQ],RQ=["title"],OQ=d("span",{class:"couleur vert"},null,-1),UQ=[OQ],NQ=["title"],HQ=d("span",{class:"couleur bleu"},null,-1),QQ=[HQ],$Q=d("span",{class:"separateur"},null,-1),jQ=["title"],VQ=["alt"];function zQ(t,e,i,n,s,r){const o=Ke("v-line"),a=Ke("v-layer"),l=Ke("v-stage"),u=Ke("JsPanel");return Y(),Je(u,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[d("div",wQ,[d("div",_Q,[Ct(l,{ref:"dessin",config:{width:s.dimensionsCanva.w,height:s.dimensionsCanva.h},onMousedown:r.selectionnerDebut,onTouchstart:r.selectionnerDebut,onMousemove:r.selectionnerMouvement,onTouchmove:r.selectionnerMouvement,onMouseup:r.selectionnerFin,onTouchend:r.selectionnerFin},{default:Et(()=>[Ct(a,{ref:"lignes"},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.lignes,(c,A)=>(Y(),Je(o,{config:c,key:"ligne_"+A},null,8,["config"]))),128))]),_:1},512)]),_:1},8,["config","onMousedown","onTouchstart","onMousemove","onTouchmove","onMouseup","onTouchend"]),d("div",CQ,[d("span",{class:Ne(["outil noir",{actif:s.couleurStylo==="#000000"}]),title:t.$t("noir"),onClick:e[0]||(e[0]=c=>r.modifierCouleur("#000000"))},xQ,10,EQ),d("span",{class:Ne(["outil blanc",{actif:s.couleurStylo==="#ffffff"}]),title:t.$t("blanc"),onClick:e[1]||(e[1]=c=>r.modifierCouleur("#ffffff"))},kQ,10,SQ),d("span",{class:Ne(["outil rouge",{actif:s.couleurStylo==="#ff0000"}]),title:t.$t("rouge"),onClick:e[2]||(e[2]=c=>r.modifierCouleur("#ff0000"))},IQ,10,DQ),d("span",{class:Ne(["outil jaune",{actif:s.couleurStylo==="#ffff00"}]),title:t.$t("jaune"),onClick:e[3]||(e[3]=c=>r.modifierCouleur("#ffff00"))},MQ,10,LQ),d("span",{class:Ne(["outil vert",{actif:s.couleurStylo==="#00ff00"}]),title:t.$t("vert"),onClick:e[4]||(e[4]=c=>r.modifierCouleur("#00ff00"))},UQ,10,RQ),d("span",{class:Ne(["outil bleu",{actif:s.couleurStylo==="#04fdff"}]),title:t.$t("bleu"),onClick:e[5]||(e[5]=c=>r.modifierCouleur("#04fdff"))},QQ,10,NQ),$Q,d("span",{class:"outil",title:t.$t("reinitialiser"),onClick:e[6]||(e[6]=(...c)=>r.reinitialiser&&r.reinitialiser(...c))},[d("img",{src:YF,alt:t.$t("reinitialiser")},null,8,VQ)],8,jQ)])])])]),_:1},8,["visible","options"])}const GQ=Ht(yQ,[["render",zQ]]);const KQ={name:"PDocument",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:16,statut:"",dimensions:{},position:{},document:"",dataURL:"",type:"",chargementDocument:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{document:this.document,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("document"),this.panneau.contenu!=="")if(this.type=this.panneau.contenu.type,this.type==="pdf"){this.dataURL=this.panneau.contenu.dataURL;const t=this.convertirDataURL(this.dataURL);this.document=window.URL.createObjectURL(t)}else this.document=this.panneau.contenu.document;this.genererOptions("document")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&(this.redimensionnement=!0)},methods:{generer(){this.mode="lecture",this.redimensionnement=!0,this.w=50,this.h=35,this.positionner()},televerserDocument(t){const e=t.target.files[0];if(e){const i=e.name.substring(e.name.lastIndexOf(".")+1);if(i.toLowerCase()==="pdf"){this.chargementDocument=!0,this.type="pdf";const n=new FileReader;n.readAsDataURL(e),n.onloadend=(function(s){this.chargementDocument=!1,this.dataURL=s.target.result,this.document=window.URL.createObjectURL(e),this.generer()}).bind(this)}else if(i.toLowerCase()==="odt"||i.toLowerCase()==="odp"||i.toLowerCase()==="ods"||i.toLowerCase()==="odg")if(e.size<1024e3){this.chargementDocument=!0,this.type="doc";const n=new FileReader;n.readAsDataURL(e),n.onloadend=(function(s){this.chargementDocument=!1,this.document=s.target.result,this.generer()}).bind(this)}else alert(this.$t("erreurTailleFichier"))}}}},WQ={key:0,class:"conteneur panneau-document"},qQ={key:0,class:"contenu"},YQ=["for"],XQ=["id"],JQ={key:1,class:"contenu"},ZQ=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),e$=[ZQ],t$={key:1,class:"conteneur panneau-document large"},i$=["src"],n$=["src"];function s$(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[d("div",{class:Ne(["conteneur-gauche",{masque:s.mode==="lecture"}])},null,2),s.mode==="edition"?(Y(),te("div",WQ,[s.chargementDocument?(Y(),te("div",JQ,e$)):(Y(),te("div",qQ,[d("label",null,oe(t.$t("documentAppareil")),1),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-document-"+s.id},oe(t.$t("selectionnerDocument")),9,YQ),d("input",{id:"selectionner-document-"+s.id,type:"file",onChange:e[0]||(e[0]=(...a)=>r.televerserDocument&&r.televerserDocument(...a)),style:{display:"none"},accept:".pdf, .ods, .odt, .odp, .odg"},null,40,XQ)]))])):(Y(),te("div",t$,[s.type==="pdf"?(Y(),te("iframe",{key:0,src:"./static/pdfjs/web/viewer.html?file="+s.document,allowfullscreen:""},null,8,i$)):(Y(),te("iframe",{key:1,src:"./static/viewer/#"+s.document,allowfullscreen:""},null,8,n$))])),d("div",{class:Ne(["conteneur-droite",{masque:s.mode==="lecture"}])},null,2),d("div",{class:Ne(["conteneur-bas",{masque:s.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const r$=Ht(KQ,[["render",s$]]);const o$={name:"PAudio",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:21,minh:12,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},audio:"",dataURL:"",type:"lecteur",vitesse:1,lecture:!1,chargementAudio:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{audio:this.audio,dataURL:this.dataURL,type:this.type,vitesse:this.vitesse},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("audio"),this.panneau.contenu!==""){if(this.panneau.contenu.hasOwnProperty("dataURL")&&(this.dataURL=this.panneau.contenu.dataURL),this.dataURL!==""){const t=this.convertirDataURL(this.dataURL);this.audio=window.URL.createObjectURL(t)}else this.audio=this.panneau.contenu.audio;this.panneau.contenu.hasOwnProperty("type")&&(this.type=this.panneau.contenu.type),this.vitesse=this.panneau.contenu.vitesse}this.genererOptions("audio")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.audio===""?this.$nextTick((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this)):this.mode==="lecture"&&this.$nextTick((function(){const t=document.querySelector("#"+this.id+" audio");t.playbackRate=this.vitesse,t.preservesPitch=!0}).bind(this))},methods:{valider(){this.verifierURL(this.audio)===!0&&(this.mode="vitesse",this.w=40,this.h=24,this.positionner())},generer(){this.mode="lecture",this.type==="lecteur"?(this.w=40,this.h=12):(this.w=21,this.h=14),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.$nextTick((function(){const t=document.querySelector("#"+this.id+" audio");t.playbackRate=this.vitesse,t.preservesPitch=!0,this.type==="bouton"&&t.addEventListener("ended",(function(){this.lecture=!1}).bind(this))}).bind(this))},editer(){this.mode="vitesse",this.lecture=!1,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=24,this.positionner()},modifierVitesse(t){const e=t.target.value;document.querySelector("#"+this.id+" audio").playbackRate=e,this.vitesse=e},televerserAudio(t){const e=t.target.files[0];if(e){this.chargementAudio=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){this.chargementAudio=!1,this.dataURL=n.target.result,this.audio=window.URL.createObjectURL(e),this.mode="vitesse",this.w=40,this.h=24,this.positionner()}).bind(this)}},lireAudio(){const t=document.querySelector("#"+this.id+" audio");this.lecture===!1?(t.play(),this.lecture=!0):(t.pause(),this.lecture=!1)},relireAudio(){const t=document.querySelector("#"+this.id+" audio");t.pause(),t.currentTime=0,t.play(),this.lecture=!0}}},a$=d("div",{class:"conteneur-gauche"},null,-1),l$={class:"conteneur panneau-audio"},u$={key:0,class:"contenu"},c$={class:"choix"},A$={class:"lecteur-audio"},h$=["id","name","checked"],d$=["for"],f$={class:"bouton-audio"},p$=["id","name","checked"],g$=["for"],m$={class:"valider"},v$=["value"],b$=["title"],y$=d("i",{class:"material-icons"},"search",-1),w$=[y$],_$={class:"separateur"},C$=["for"],E$=["id"],T$={key:1,class:"contenu"},x$=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),S$=[x$],B$={key:2,class:"contenu"},k$=["src"],D$={class:"vitesse"},F$=["value"],I$={class:"valeur"},L$={key:3,class:"contenu lecture-audio"},P$=["src"],M$={key:0,class:"material-icons"},R$={key:1,class:"material-icons"},O$=["title"],U$=d("i",{class:"material-icons"},"replay",-1),N$=[U$],H$=d("div",{class:"conteneur-droite"},null,-1),Q$=d("div",{class:"conteneur-bas"},null,-1);function $$(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[a$,d("div",l$,[s.mode==="edition"&&!s.chargementAudio?(Y(),te("div",u$,[d("label",null,oe(t.$t("apparence")),1),d("div",c$,[d("span",A$,[d("input",{type:"radio",id:"lecteur_"+s.id,name:"type_"+s.id,value:"lecteur",checked:s.type==="lecteur",onChange:e[0]||(e[0]=a=>s.type=a.target.value)},null,40,h$),d("label",{for:"lecteur_"+s.id},oe(t.$t("lecteur")),9,d$)]),d("span",f$,[d("input",{type:"radio",id:"bouton_"+s.id,name:"type_"+s.id,value:"bouton",checked:s.type==="bouton",onChange:e[1]||(e[1]=a=>s.type=a.target.value)},null,40,p$),d("label",{for:"bouton_"+s.id},oe(t.$t("bouton")),9,g$)])]),d("label",null,oe(t.$t("lienFichierAudio")),1),d("div",m$,[d("input",{type:"search",value:s.audio,onInput:e[2]||(e[2]=a=>s.audio=a.target.value),onKeydown:e[3]||(e[3]=qo((...a)=>r.valider&&r.valider(...a),["enter"]))},null,40,v$),d("span",{role:"button",tabindex:"0",title:t.$t("valider"),class:"bouton-secondaire",onClick:e[4]||(e[4]=(...a)=>r.valider&&r.valider(...a))},w$,8,b$)]),d("div",_$,[d("span",null,oe(t.$t("ou")),1)]),d("label",null,oe(t.$t("fichierAppareil")),1),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-audio-"+s.id},oe(t.$t("selectionnerAudio")),9,C$),d("input",{id:"selectionner-audio-"+s.id,type:"file",onChange:e[5]||(e[5]=(...a)=>r.televerserAudio&&r.televerserAudio(...a)),style:{display:"none"},accept:".mp3, .wav, .m4a, .ogg"},null,40,E$)])):s.mode==="edition"&&s.chargementAudio?(Y(),te("div",T$,S$)):s.mode==="vitesse"?(Y(),te("div",B$,[d("audio",{controls:"",src:s.audio},null,8,k$),d("label",null,oe(t.$t("vitesseLecture")),1),d("div",D$,[d("input",{type:"range",min:.5,max:2,value:s.vitesse,step:.1,onChange:e[6]||(e[6]=(...a)=>r.modifierVitesse&&r.modifierVitesse(...a))},null,40,F$),d("span",I$,oe(s.vitesse),1)]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",L$,[d("audio",{controls:"",class:Ne({masque:s.type==="bouton"}),src:s.audio},null,10,P$),s.type==="bouton"?(Y(),te("span",{key:0,class:"bouton audio",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.lireAudio&&r.lireAudio(...a))},[s.lecture?(Y(),te("i",R$,"pause")):(Y(),te("i",M$,"play_arrow"))])):De("",!0),s.type==="bouton"?(Y(),te("span",{key:1,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterListe"),onClick:e[9]||(e[9]=(...a)=>r.relireAudio&&r.relireAudio(...a))},N$,8,O$)):De("",!0)]))]),H$,Q$]),_:1},8,["visible","options"])}const j$=Ht(o$,[["render",$$]]);const V$={name:"PSynthese",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object,listeVoix:Array},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:20,minh:14,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},texte:"",vitesse:1,hauteur:1,voix:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,vitesse:this.vitesse,hauteur:this.hauteur,voix:this.voix},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("syntheseVocale"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.vitesse=this.panneau.contenu.vitesse,this.hauteur=this.panneau.contenu.hauteur,this.voix=this.panneau.contenu.voix),this.genererOptions("synthese")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.mode==="edition"&&this.listeVoix.length===0?this.voix="---":this.mode==="lecture"&&(this.listeVoix.length===0||this.listeVoix.map(function(t){return t.name}).includes(this.voix)===!1)&&this.editer()},methods:{generer(){this.texte!==""&&this.voix!==""&&this.listeVoix.map(function(t){return t.name}).includes(this.voix)===!0&&(this.mode="lecture",this.w=20,this.h=14,this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner())},editer(){this.mode="edition",this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=41,this.positionner()},parler(){if(window.speechSynthesis.speaking||this.voix==="")return!1;{const t=new SpeechSynthesisUtterance(this.texte);t.rate=this.vitesse,t.pitch=this.hauteur,this.listeVoix.forEach((function(e){e.name===this.voix&&(t.voice=e)}).bind(this)),window.speechSynthesis.speak(t)}}}},z$=d("div",{class:"conteneur-gauche"},null,-1),G$={class:"conteneur panneau-synthese"},K$={key:0,class:"contenu"},W$={class:"synthese"},q$=["value"],Y$={class:"vitesse"},X$=["value"],J$={class:"valeur"},Z$={class:"hauteur"},ej=["value"],tj={class:"valeur"},ij={class:"voix"},nj=["list","value","disabled"],sj=["id"],rj=d("option",{value:""},"--",-1),oj=["value"],aj=["value"],lj={class:"actions"},uj=d("i",{class:"material-icons"},"play_arrow",-1),cj=[uj],Aj=d("div",{class:"conteneur-droite"},null,-1),hj=d("div",{class:"conteneur-bas"},null,-1);function dj(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[z$,d("div",G$,[s.mode==="edition"?(Y(),te("div",K$,[d("label",null,oe(t.$t("texteSynthetiser")),1),d("div",W$,[d("input",{type:"search",value:s.texte,onInput:e[0]||(e[0]=a=>s.texte=a.target.value)},null,40,q$)]),d("label",null,oe(t.$t("vitesse")),1),d("div",Y$,[d("input",{type:"range",min:.5,max:2,value:s.vitesse,step:.1,onChange:e[1]||(e[1]=a=>s.vitesse=a.target.value)},null,40,X$),d("span",J$,oe(s.vitesse),1)]),d("label",null,oe(t.$t("hauteur")),1),d("div",Z$,[d("input",{type:"range",min:0,max:2,value:s.hauteur,step:.1,onChange:e[2]||(e[2]=a=>s.hauteur=a.target.value)},null,40,ej),d("span",tj,oe(s.hauteur),1)]),d("label",null,oe(t.$t("voix")),1),d("div",ij,[d("input",{type:"text",list:s.id+"liste_voix",value:s.voix,onInput:e[3]||(e[3]=a=>s.voix=a.target.value),disabled:i.listeVoix.length===0},null,40,nj),d("datalist",{id:s.id+"liste_voix"},[rj,(Y(!0),te(dt,null,ei(i.listeVoix,(a,l)=>(Y(),te(dt,null,[a.default?(Y(),te("option",{value:a.name,key:"voix_"+l},oe(a.name)+" ("+oe(a.lang)+") -- "+oe(t.$t("parDefaut")),9,oj)):(Y(),te("option",{value:a.name,key:"voix_"+l},oe(a.name)+" ("+oe(a.lang)+")",9,aj))],64))),256))],8,sj)]),d("div",lj,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.parler&&r.parler(...a))},oe(t.$t("ecouter")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):(Y(),te("span",{key:1,class:"bouton audio",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.parler&&r.parler(...a))},cj))]),Aj,hj]),_:1},8,["visible","options"])}const fj=Ht(V$,[["render",dj]]);var kf;typeof window<"u"?kf=window:typeof Xi<"u"?kf=Xi:typeof self<"u"?kf=self:kf={};var Pb=kf;const me=us(Pb),pj={},gj=Object.freeze(Object.defineProperty({__proto__:null,default:pj},Symbol.toStringTag,{value:"Module"})),mj=x2(gj);var Sx=typeof Xi<"u"?Xi:typeof window<"u"?window:{},vj=mj,Df;typeof document<"u"?Df=document:(Df=Sx["__GLOBAL_DOCUMENT_CACHE@4"],Df||(Df=Sx["__GLOBAL_DOCUMENT_CACHE@4"]=vj));var XF=Df;const Xe=us(XF);var x_={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var c=String(l),A=n[c.toLowerCase()];if(A)return A;var A=s[c.toLowerCase()];if(A)return A;if(c.length===1)return c.charCodeAt(0)}i.isEventKey=function(u,c){if(u&&typeof u=="object"){var A=u.which||u.keyCode||u.charCode;if(A==null)return!1;if(typeof c=="string"){var h=n[c.toLowerCase()];if(h)return h===A;var h=s[c.toLowerCase()];if(h)return h===A}else if(typeof c=="number")return c===A;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(r=97;r<123;r++)n[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)n[r-48]=r;for(r=1;r<13;r++)n["f"+r]=r+111;for(r=0;r<10;r++)n["numpad "+r]=r+96;var o=e.names=e.title={};for(r in n)o[n[r]]=r;for(var a in s)n[a]=s[a]})(x_,x_.exports);var bj=x_.exports;const Pt=us(bj);var yj=wj;function wj(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(s){n=s}return[n,i]}const _j=us(yj);var Q2={exports:{}};function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ya.apply(this,arguments)}const Cj=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),Ej=x2(Cj);var Tj=Sj,xj=Object.prototype.toString;function Sj(t){if(!t)return!1;var e=xj.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var Bj=Pb,kj=function(e,i){return i===void 0&&(i=!1),function(n,s,r){if(n){e(n);return}if(s.statusCode>=400&&s.statusCode<=599){var o=r;if(i)if(Bj.TextDecoder){var a=Dj(s.headers&&s.headers["content-type"]);try{o=new TextDecoder(a).decode(r)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(r));e({cause:o});return}e(null,r)}};function Dj(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),s=n[0],r=n[1];return s.trim()==="charset"?r.trim():e},"utf-8")}var Fj=kj,JF=Pb,Ij=Ej,Lj=Tj;jo.httpHandler=Fj;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Pj=function(e){var i={};return e&&e.trim().split("\n").forEach(function(n){var s=n.indexOf(":"),r=n.slice(0,s).trim().toLowerCase(),o=n.slice(s+1).trim();typeof i[r]>"u"?i[r]=o:Array.isArray(i[r])?i[r].push(o):i[r]=[i[r],o]}),i};Q2.exports=jo;Q2.exports.default=jo;jo.XMLHttpRequest=JF.XMLHttpRequest||Uj;jo.XDomainRequest="withCredentials"in new jo.XMLHttpRequest?jo.XMLHttpRequest:JF.XDomainRequest;Mj(["get","put","post","patch","head","delete"],function(t){jo[t==="delete"?"del":t]=function(e,i,n){return i=ZF(e,i,n),i.method=t.toUpperCase(),eI(i)}});function Mj(t,e){for(var i=0;i<t.length;i++)e(t[i])}function Rj(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function ZF(t,e,i){var n=t;return Lj(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=Ij({},e,{uri:t}),n.callback=i,n}function jo(t,e,i){return e=ZF(t,e,i),eI(e)}function eI(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(b,_,B){e||(e=!0,t.callback(b,_,B))};function n(){a.readyState===4&&setTimeout(o,0)}function s(){var m=void 0;if(a.response?m=a.response:m=a.responseText||Oj(a),y)try{m=JSON.parse(m)}catch{}return m}function r(m){return clearTimeout(E),m instanceof Error||(m=new Error(""+(m||"Unknown XMLHttpRequest Error"))),m.statusCode=0,i(m,C)}function o(){if(!u){var m;clearTimeout(E),t.useXDR&&a.status===void 0?m=200:m=a.status===1223?204:a.status;var b=C,_=null;return m!==0?(b={body:s(),statusCode:m,method:A,headers:{},url:c,rawRequest:a},a.getAllResponseHeaders&&(b.headers=Pj(a.getAllResponseHeaders()))):_=new Error("Internal XMLHttpRequest Error"),i(_,b,b.body)}}var a=t.xhr||null;a||(t.cors||t.useXDR?a=new jo.XDomainRequest:a=new jo.XMLHttpRequest);var l,u,c=a.url=t.uri||t.url,A=a.method=t.method||"GET",h=t.body||t.data,g=a.headers=t.headers||{},f=!!t.sync,y=!1,E,C={body:void 0,headers:{},statusCode:0,method:A,url:c,rawRequest:a};if("json"in t&&t.json!==!1&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),A!=="GET"&&A!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),a.onreadystatechange=n,a.onload=o,a.onerror=r,a.onprogress=function(){},a.onabort=function(){u=!0},a.ontimeout=r,a.open(A,c,!f,t.username,t.password),f||(a.withCredentials=!!t.withCredentials),!f&&t.timeout>0&&(E=setTimeout(function(){if(!u){u=!0,a.abort("timeout");var m=new Error("XMLHttpRequest timeout");m.code="ETIMEDOUT",r(m)}},t.timeout)),a.setRequestHeader)for(l in g)g.hasOwnProperty(l)&&a.setRequestHeader(l,g[l]);else if(t.headers&&!Rj(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(a),a.send(h||null),a}function Oj(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Uj(){}var Nj=Q2.exports;const tI=us(Nj);var iI={exports:{}},Bx=XF,$2=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function gr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}gr.prototype=$2(Error.prototype);gr.prototype.constructor=gr;gr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function j2(t){function e(n,s,r,o){return(n|0)*3600+(s|0)*60+(r|0)+(o|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function lp(){this.values=$2(null)}lp.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Ff(t,e,i,n){var s=n?t.split(n):[t];for(var r in s)if(typeof s[r]=="string"){var o=s[r].split(i);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function Hj(t,e,i){var n=t;function s(){var a=j2(t);if(a===null)throw new gr(gr.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function r(a,l){var u=new lp;Ff(a,function(c,A){switch(c){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===A){u.set(c,i[h].region);break}break;case"vertical":u.alt(c,A,["rl","lr"]);break;case"line":var g=A.split(","),f=g[0];u.integer(c,f),u.percent(c,f)&&u.set("snapToLines",!1),u.alt(c,f,["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=A.split(","),u.percent(c,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start","center","end"]);break;case"size":u.percent(c,A);break;case"align":u.alt(c,A,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=s(),o(),t.substr(0,3)!=="-->")throw new gr(gr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),o(),e.endTime=s(),o(),r(t,e)}var S1=Bx.createElement&&Bx.createElement("textarea"),Qj={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},kx={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},$j={v:"title",lang:"lang"},Dx={rt:"ruby"};function nI(t,e){function i(){if(!e)return null;function f(E){return e=e.substr(E.length),E}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return f(y[1]?y[1]:y[2])}function n(f){return S1.innerHTML=f,f=S1.textContent,S1.textContent="",f}function s(f,y){return!Dx[y.localName]||Dx[y.localName]===f.localName}function r(f,y){var E=Qj[f];if(!E)return null;var C=t.document.createElement(E),m=$j[f];return m&&y&&(C[m]=y.trim()),C}for(var o=t.document.createElement("div"),a=o,l,u=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var c=j2(l.substr(1,l.length-2)),A;if(c){A=t.document.createProcessingInstruction("timestamp",c),a.appendChild(A);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(A=r(h[1],h[3]),!A)||!s(a,A))continue;if(h[2]){var g=h[2].split(".");g.forEach(function(f){var y=/^bg_/.test(f),E=y?f.slice(3):f;if(kx.hasOwnProperty(E)){var C=y?"background-color":"color",m=kx[E];A.style[C]=m}}),A.className=g.join(" ")}u.push(h[1]),a.appendChild(A),a=A;continue}a.appendChild(t.document.createTextNode(n(l)))}return o}var Fx=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function jj(t){for(var e=0;e<Fx.length;e++){var i=Fx[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Vj(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function s(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function r(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(a.length=0,c[0]):u}if(l.tagName==="ruby")return r(a);if(l.childNodes)return s(a,l),r(a)}for(s(e,t);i=r(e);)for(var o=0;o<i.length;o++)if(n=i.charCodeAt(o),jj(n))return"rtl";return"ltr"}function zj(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,s=0;s<i.length&&i[s]!==e;s++)i[s].mode==="showing"&&n++;return++n*-1}function Mb(){}Mb.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};Mb.prototype.formatStyle=function(t,e){return t===0?0:t+e};function wv(t,e,i){Mb.call(this),this.cue=e,this.cueDiv=nI(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Vj(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var s=0;switch(e.positionAlign){case"start":case"line-left":s=e.position;break;case"center":s=e.position-e.size/2;break;case"end":case"line-right":s=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(r){this.applyStyles({top:this.formatStyle(r.top,"px"),bottom:this.formatStyle(r.bottom,"px"),left:this.formatStyle(r.left,"px"),right:this.formatStyle(r.right,"px"),height:this.formatStyle(r.height,"px"),width:this.formatStyle(r.width,"px")})}}wv.prototype=$2(Mb.prototype);wv.prototype.constructor=wv;function ws(t){var e,i,n,s;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,s=t.div.offsetTop;var r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();t=t.div.getBoundingClientRect(),e=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0}this.left=t.left,this.right=t.right,this.top=t.top||s,this.height=t.height||i,this.bottom=t.bottom||s+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}ws.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};ws.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};ws.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};ws.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};ws.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};ws.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};ws.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};ws.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var s={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return s};function Gj(t,e,i,n){function s(E,C){for(var m,b=new ws(E),_=1,B=0;B<C.length;B++){for(;E.overlapsOppositeAxis(i,C[B])||E.within(i)&&E.overlapsAny(n);)E.move(C[B]);if(E.within(i))return E;var L=E.intersectPercentage(i);_>L&&(m=new ws(E),_=L),E=new ws(b)}return m||b}var r=new ws(e),o=e.cue,a=zj(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=r.lineHeight,A=c*Math.round(a),h=i[u]+c,g=l[0];Math.abs(A)>h&&(A=A<0?-1:1,A*=Math.ceil(h/c)*c),a<0&&(A+=o.vertical===""?i.height:i.width,l=l.reverse()),r.move(g,A)}else{var f=r.lineHeight/i.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],r=new ws(e)}var y=s(r,l);e.move(y.toCSSCompatValues(i))}function Gh(){}Gh.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Gh.convertCueToDOMTree=function(t,e){return!t||!e?null:nI(t,e)};var Kj=.05,Wj="sans-serif",qj="1.5%";Gh.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=qj,i.appendChild(n);function s(c){for(var A=0;A<c.length;A++)if(c[A].hasBeenReset||!c[A].displayState)return!0;return!1}if(!s(e)){for(var r=0;r<e.length;r++)n.appendChild(e[r].displayState);return}var o=[],a=ws.getSimpleBoxPosition(n),l=Math.round(a.height*Kj*100)/100,u={font:l+"px "+Wj};(function(){for(var c,A,h=0;h<e.length;h++)A=e[h],c=new wv(t,A,u),n.appendChild(c.div),Gj(t,c,a,o),A.displayState=c.div,o.push(ws.getSimpleBoxPosition(c))})()};Gh.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};Gh.Parser.prototype={reportOrThrowError:function(t){if(t instanceof gr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var c=e.buffer,A=0;A<c.length&&c[A]!=="\r"&&c[A]!=="\n";)++A;var h=c.substr(0,A);return c[A]==="\r"&&++A,c[A]==="\n"&&++A,e.buffer=c.substr(A),h}function n(c){var A=new lp;if(Ff(c,function(g,f){switch(g){case"id":A.set(g,f);break;case"width":A.percent(g,f);break;case"lines":A.integer(g,f);break;case"regionanchor":case"viewportanchor":var y=f.split(",");if(y.length!==2)break;var E=new lp;if(E.percent("x",y[0]),E.percent("y",y[1]),!E.has("x")||!E.has("y"))break;A.set(g+"X",E.get("x")),A.set(g+"Y",E.get("y"));break;case"scroll":A.alt(g,f,["up"]);break}},/=/,/\s/),A.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=A.get("width",100),h.lines=A.get("lines",3),h.regionAnchorX=A.get("regionanchorX",0),h.regionAnchorY=A.get("regionanchorY",100),h.viewportAnchorX=A.get("viewportanchorX",0),h.viewportAnchorY=A.get("viewportanchorY",100),h.scroll=A.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:A.get("id"),region:h})}}function s(c){var A=new lp;Ff(c,function(h,g){switch(h){case"MPEGT":A.integer(h+"S",g);break;case"LOCA":A.set(h+"L",j2(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:A.get("MPEGTS"),LOCAL:A.get("LOCAL")})}function r(c){c.match(/X-TIMESTAMP-MAP/)?Ff(c,function(A,h){switch(A){case"X-TIMESTAMP-MAP":s(h);break}},/=/):Ff(c,function(A,h){switch(A){case"Region":n(h);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=i();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new gr(gr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=i(),e.state){case"HEADER":/:/.test(o)?r(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{Hj(o,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=o.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":o||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+="\n\n",t.parse()),t.state==="INITIAL")throw new gr(gr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Yj=Gh,Xj="auto",Jj={"":1,lr:1,rl:1},Zj={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function eV(t){if(typeof t!="string")return!1;var e=Jj[t.toLowerCase()];return e?t.toLowerCase():!1}function B1(t){if(typeof t!="string")return!1;var e=Zj[t.toLowerCase()];return e?t.toLowerCase():!1}function sI(t,e,i){this.hasBeenReset=!1;var n="",s=!1,r=t,o=e,a=i,l=null,u="",c=!0,A="auto",h="start",g="auto",f="auto",y=100,E="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(C){n=""+C}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(C){s=!!C}},startTime:{enumerable:!0,get:function(){return r},set:function(C){if(typeof C!="number")throw new TypeError("Start time must be set to a number.");r=C,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number")throw new TypeError("End time must be set to a number.");o=C,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(C){a=""+C,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(C){l=C,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(C){var m=eV(C);if(m===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=m,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(C){c=!!C,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return A},set:function(C){if(typeof C!="number"&&C!==Xj)throw new SyntaxError("Line: an invalid number or illegal string was specified.");A=C,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(C){var m=B1(C);m?(h=m,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(C){if(C<0||C>100)throw new Error("Position must be between 0 and 100.");g=C,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(C){var m=B1(C);m?(f=m,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(C){if(C<0||C>100)throw new Error("Size must be between 0 and 100.");y=C,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return E},set:function(C){var m=B1(C);if(!m)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");E=m,this.hasBeenReset=!0}}}),this.displayState=void 0}sI.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var tV=sI,iV={"":!0,up:!0};function nV(t){if(typeof t!="string")return!1;var e=iV[t.toLowerCase()];return e?t.toLowerCase():!1}function wd(t){return typeof t=="number"&&t>=0&&t<=100}function sV(){var t=100,e=3,i=0,n=100,s=0,r=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!wd(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!wd(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!wd(a))throw new Error("RegionAnchorY must be between 0 and 100.");i=a}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(a){if(!wd(a))throw new Error("ViewportAnchorY must be between 0 and 100.");r=a}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(a){if(!wd(a))throw new Error("ViewportAnchorX must be between 0 and 100.");s=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=nV(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var rV=sV,Xa=Pb,Vc=iI.exports={WebVTT:Yj,VTTCue:tV,VTTRegion:rV};Xa.vttjs=Vc;Xa.WebVTT=Vc.WebVTT;var oV=Vc.VTTCue,aV=Vc.VTTRegion,lV=Xa.VTTCue,uV=Xa.VTTRegion;Vc.shim=function(){Xa.VTTCue=oV,Xa.VTTRegion=aV};Vc.restore=function(){Xa.VTTCue=lV,Xa.VTTRegion=uV};Xa.VTTCue||Vc.shim();var cV=iI.exports;const Ix=us(cV);var rI={exports:{}};(function(t,e){(function(i){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var A=a.parseURL(l);if(!A)throw new Error("Error trying to parse base URL.");return A.path=a.normalizePath(A.path),a.buildURLFromParts(A)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var g=a.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var f=s.exec(g.path);g.netLoc=f[1],g.path=f[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)y.path=g.path,h.params||(y.params=g.params,h.query||(y.query=g.query));else{var E=g.path,C=E.substring(0,E.lastIndexOf("/")+1)+h.path;y.path=a.normalizePath(C)}return y.path===null&&(y.path=c.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(y)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(r,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(rI);var AV=rI.exports;const _v=us(AV);var Lx="http://example.com",hV=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=me.location&&me.location.href||"");var n=typeof me.URL=="function",s=/^\/\//.test(e),r=!me.location&&!/\/\//i.test(e);if(n?e=new me.URL(e,me.location||Lx):/\/\//i.test(e)||(e=_v.buildAbsoluteURL(me.location&&me.location.href||"",e)),n){var o=new URL(i,e);return r?o.href.slice(Lx.length):s?o.href.slice(o.protocol.length):o.href}return _v.buildAbsoluteURL(e,i)},V2=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,s){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(s)},e.off=function(n,s){if(!this.listeners[n])return!1;var r=this.listeners[n].indexOf(s);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(r,1),r>-1},e.trigger=function(n){var s=this.listeners[n];if(s)if(arguments.length===2)for(var r=s.length,o=0;o<r;++o)s[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=s.length,u=0;u<l;++u)s[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(s){n.push(s)})},t}(),dV=function(e){return me.atob?me.atob(e):Buffer.from(e,"base64").toString("binary")};function fV(t){for(var e=dV(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class pV extends V2{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf("\n");i>-1;i=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const gV=String.fromCharCode(9),k1=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},mV=function(){const t="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},Ir=function(t){const e={};if(!t)return e;const i=t.split(mV());let n=i.length,s;for(;n--;)i[n]!==""&&(s=/([^=]*)=(.*)/.exec(i[n]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e};class vV extends V2{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((r,o)=>{const a=o(e);return a===e?r:r.concat([a])},[e]).forEach(r=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,r))return;if(r.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:r.slice(1)});return}if(r=r.replace("\r",""),i=/^#EXTM3U/.exec(r),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(r),i){n={type:"tag",tagType:"inf"},i[1]&&(n.duration=parseFloat(i[1])),i[2]&&(n.title=i[2]),this.trigger("data",n);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"targetduration"},i[1]&&(n.duration=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"version"},i[1]&&(n.version=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"media-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(r),i){n={type:"tag",tagType:"playlist-type"},i[1]&&(n.playlistType=i[1]),this.trigger("data",n);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(r),i){n=Ya(k1(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(r),i){n={type:"tag",tagType:"allow-cache"},i[1]&&(n.allowed=!/NO/.test(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(r),i){if(n={type:"tag",tagType:"map"},i[1]){const o=Ir(i[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=k1(o.BYTERANGE))}this.trigger("data",n);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(r),i){if(n={type:"tag",tagType:"stream-inf"},i[1]){if(n.attributes=Ir(i[1]),n.attributes.RESOLUTION){const o=n.attributes.RESOLUTION.split("x"),a={};o[0]&&(a.width=parseInt(o[0],10)),o[1]&&(a.height=parseInt(o[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(r),i){n={type:"tag",tagType:"media"},i[1]&&(n.attributes=Ir(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-ENDLIST/.exec(r),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(r),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(r),i){n={type:"tag",tagType:"program-date-time"},i[1]&&(n.dateTimeString=i[1],n.dateTimeObject=new Date(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(r),i){n={type:"tag",tagType:"key"},i[1]&&(n.attributes=Ir(i[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(i=/^#EXT-X-START:(.*)$/.exec(r),i){n={type:"tag",tagType:"start"},i[1]&&(n.attributes=Ir(i[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-out-cont"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-out"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-IN:(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-in"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"skip"},n.attributes=Ir(i[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(gV)),this.trigger("data",n);return}if(i=/^#EXT-X-PART:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"part"},n.attributes=Ir(i[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=k1(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"server-control"},n.attributes=Ir(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Ir(i[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Ir(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Ir(i[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"daterange"},n.attributes=Ir(i[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),u=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):u?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(r),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:r.slice(4)})})}addParser({expression:e,customType:i,dataParser:n,segment:s}){typeof n!="function"&&(n=r=>r),this.customParsers.push(r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:i,segment:s}),!0})}addTagMapper({expression:e,map:i}){const n=s=>e.test(s)?i(s):s;this.tagMappers.push(n)}}const bV=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Zu=function(t){const e={};return Object.keys(t).forEach(function(i){e[bV(i)]=t[i]}),e},D1=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:n}=t;if(!e)return;const s="#EXT-X-SERVER-CONTROL",r="holdBack",o="partHoldBack",a=i&&i*3,l=n&&n*2;i&&!e.hasOwnProperty(r)&&(e[r]=a,this.trigger("info",{message:"".concat(s," defaulting HOLD-BACK to targetDuration * 3 (").concat(a,").")})),a&&e[r]<a&&(this.trigger("warn",{message:"".concat(s," clamping HOLD-BACK (").concat(e[r],") to targetDuration * 3 (").concat(a,")")}),e[r]=a),n&&!e.hasOwnProperty(o)&&(e[o]=n*3,this.trigger("info",{message:"".concat(s," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(e[o],").")})),n&&e[o]<l&&(this.trigger("warn",{message:"".concat(s," clamping PART-HOLD-BACK (").concat(e[o],") to partTargetDuration * 2 (").concat(l,").")}),e[o]=l)};let yV=class extends V2{constructor(){super(),this.lineStream=new pV,this.parseStream=new vV,this.lineStream.pipe(this.parseStream);const e=this,i=[];let n={},s,r,o=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let c=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let A=0,h=0;const g={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&s&&(n.map=s),!n.key&&r&&(n.key=r),!n.timeline&&typeof c=="number"&&(n.timeline=c),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(f){let y,E;({tag(){({version(){f.version&&(this.manifest.version=f.version)},"allow-cache"(){this.manifest.allowCache=f.allowed,"allowed"in f||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const C={};"length"in f&&(n.byterange=C,C.length=f.length,"offset"in f||(f.offset=A)),"offset"in f&&(n.byterange=C,C.offset=f.offset),A=C.offset+C.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),f.duration>0&&(n.duration=f.duration),f.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!f.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(f.attributes.METHOD==="NONE"){r=null;return}if(!f.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(f.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:f.attributes};return}if(f.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:f.attributes.URI};return}if(f.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(f.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(f.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),f.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(f.attributes.KEYID&&f.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:f.attributes.KEYFORMAT,keyId:f.attributes.KEYID.substring(2)},pssh:fV(f.attributes.URI.split(",")[1])};return}f.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:f.attributes.METHOD||"AES-128",uri:f.attributes.URI},typeof f.attributes.IV<"u"&&(r.iv=f.attributes.IV)},"media-sequence"(){if(!isFinite(f.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+f.number});return}this.manifest.mediaSequence=f.number},"discontinuity-sequence"(){if(!isFinite(f.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+f.number});return}this.manifest.discontinuitySequence=f.number,c=f.number},"playlist-type"(){if(!/VOD|EVENT/.test(f.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+f.playlist});return}this.manifest.playlistType=f.playlistType},map(){s={},f.uri&&(s.uri=f.uri),f.byterange&&(s.byterange=f.byterange),r&&(s.key=r)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!f.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Ya(n.attributes,f.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(f.attributes&&f.attributes.TYPE&&f.attributes["GROUP-ID"]&&f.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const C=this.manifest.mediaGroups[f.attributes.TYPE];C[f.attributes["GROUP-ID"]]=C[f.attributes["GROUP-ID"]]||{},y=C[f.attributes["GROUP-ID"]],E={default:/yes/i.test(f.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(f.attributes.AUTOSELECT),f.attributes.LANGUAGE&&(E.language=f.attributes.LANGUAGE),f.attributes.URI&&(E.uri=f.attributes.URI),f.attributes["INSTREAM-ID"]&&(E.instreamId=f.attributes["INSTREAM-ID"]),f.attributes.CHARACTERISTICS&&(E.characteristics=f.attributes.CHARACTERISTICS),f.attributes.FORCED&&(E.forced=/yes/i.test(f.attributes.FORCED)),y[f.attributes.NAME]=E},discontinuity(){c+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=f.dateTimeString,this.manifest.dateTimeObject=f.dateTimeObject),n.dateTimeString=f.dateTimeString,n.dateTimeObject=f.dateTimeObject},targetduration(){if(!isFinite(f.duration)||f.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+f.duration});return}this.manifest.targetDuration=f.duration,D1.call(this,this.manifest)},start(){if(!f.attributes||isNaN(f.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:f.attributes["TIME-OFFSET"],precise:f.attributes.PRECISE}},"cue-out"(){n.cueOut=f.data},"cue-out-cont"(){n.cueOutCont=f.data},"cue-in"(){n.cueIn=f.data},skip(){this.manifest.skip=Zu(f.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",f.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const C=this.manifest.segments.length,m=Zu(f.attributes);n.parts=n.parts||[],n.parts.push(m),m.byterange&&(m.byterange.hasOwnProperty("offset")||(m.byterange.offset=h),h=m.byterange.offset+m.byterange.length);const b=n.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(b," for segment #").concat(C),f.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((_,B)=>{_.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(B," lacks required attribute(s): LAST-PART")})})},"server-control"(){const C=this.manifest.serverControl=Zu(f.attributes);C.hasOwnProperty("canBlockReload")||(C.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),D1.call(this,this.manifest),C.canSkipDateranges&&!C.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const C=this.manifest.segments.length,m=Zu(f.attributes),b=m.type&&m.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(m),m.byterange&&(m.byterange.hasOwnProperty("offset")||(m.byterange.offset=b?h:0,b&&(h=m.byterange.offset+m.byterange.length)));const _=n.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(_," for segment #").concat(C),f.attributes,["TYPE","URI"]),!!m.type)for(let B=0;B<n.preloadHints.length-1;B++){const L=n.preloadHints[B];L.type&&L.type===m.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(_," for segment #").concat(C," has the same TYPE ").concat(m.type," as preload hint #").concat(B)})}},"rendition-report"(){const C=Zu(f.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(C);const m=this.manifest.renditionReports.length-1,b=["LAST-MSN","URI"];o&&b.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(m),f.attributes,b)},"part-inf"(){this.manifest.partInf=Zu(f.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",f.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),D1.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(Zu(f.attributes));const C=this.manifest.daterange.length-1;this.warnOnMissingAttributes_("#EXT-X-DATERANGE #".concat(C),f.attributes,["ID","START-DATE"]);const m=this.manifest.daterange[C];m.endDate&&m.startDate&&new Date(m.endDate)<new Date(m.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),m.duration&&m.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),m.plannedDuration&&m.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const b=!!m.endOnNext;if(b&&!m.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),b&&(m.duration||m.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),m.duration&&m.endDate){const _=m.startDate,B=_.setSeconds(_.getSeconds()+m.duration);this.manifest.daterange[C].endDate=new Date(B)}if(m&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!g[m.id])g[m.id]=m;else for(const _ in g[m.id])if(g[m.id][_]!==m[_]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[f.tagType]||a).call(e)},uri(){n.uri=f.uri,i.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),r&&(n.key=r),n.timeline=c,s&&(n.map=s),h=0,n={}},comment(){},custom(){f.segment?(n.custom=n.custom||{},n.custom[f.customType]=f.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[f.customType]=f.data)}})[f.type].call(e)})}warnOnMissingAttributes_(e,i,n){const s=[];n.forEach(function(r){i.hasOwnProperty(r)||s.push(r)}),s.length&&this.trigger("warn",{message:"".concat(e," lacks required attribute(s): ").concat(s.join(", "))})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var Bc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},wV=["video","audio","text"],Px=["Video","Audio","Text"],oI=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,s){var r=("00"+Number(n).toString(16)).slice(-2),o=("00"+Number(s).toString(16)).slice(-2);return"avc1."+r+"00"+o})},Lo=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(s){s=s.trim();var r;wV.forEach(function(o){var a=Bc[o].exec(s.toLowerCase());if(!(!a||a.length<=1)){r=o;var l=s.substring(0,a[1].length),u=s.replace(l,"");n.push({type:l,details:u,mediaType:o})}}),r||n.push({type:s,details:"",mediaType:"unknown"})}),n},_V=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var s in n){var r=n[s];if(r.default&&r.playlists)return Lo(r.playlists[0].attributes.CODECS)}return null},aI=function(e){return e===void 0&&(e=""),Bc.audio.test(e.trim().toLowerCase())},CV=function(e){return e===void 0&&(e=""),Bc.text.test(e.trim().toLowerCase())},Up=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(r){return oI(r.trim())}),n="video";i.length===1&&aI(i[0])?n="audio":i.length===1&&CV(i[0])&&(n="application");var s="mp4";return i.every(function(r){return Bc.mp4.test(r)})?s="mp4":i.every(function(r){return Bc.webm.test(r)})?s="webm":i.every(function(r){return Bc.ogg.test(r)})&&(s="ogg"),n+"/"+s+';codecs="'+e+'"'}},S0=function(e){return e===void 0&&(e=""),me.MediaSource&&me.MediaSource.isTypeSupported&&me.MediaSource.isTypeSupported(Up(e))||!1},F1=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<Px.length;n++){var s=Px[n];if(Bc["muxer"+s].test(i))return!0}return!1})},Mx="mp4a.40.2",EV="avc1.4d400d",TV=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,xV=/^application\/dash\+xml/i,lI=function(e){return TV.test(e)?"hls":xV.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},SV=function(e){return e.toString(2).length},BV=function(e){return Math.ceil(SV(e)/8)},uI=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},kV=function(e){return uI(e)},wt=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!kV(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Vn=me.BigInt||Number,S_=[Vn("0x1"),Vn("0x100"),Vn("0x10000"),Vn("0x1000000"),Vn("0x100000000"),Vn("0x10000000000"),Vn("0x1000000000000"),Vn("0x100000000000000"),Vn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var DV=function(e,i){var n=i===void 0?{}:i,s=n.signed,r=s===void 0?!1:s,o=n.le,a=o===void 0?!1:o;e=wt(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(h,g,f){var y=a?f:Math.abs(f+1-e.length);return h+Vn(g)*S_[y]},Vn(0));if(r){var A=S_[e.length]/Vn(2)-Vn(1);c=Vn(c),c>A&&(c-=A,c-=A,c-=Vn(2))}return Number(c)},FV=function(e,i){var n=i===void 0?{}:i,s=n.le,r=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Vn(e);for(var o=BV(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=r?l:Math.abs(l+1-a.length);a[u]=Number(e/S_[l]&Vn(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},cI=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n},IV=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),i.length<=1)return wt(i[0]);var s=i.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),r=new Uint8Array(s),o=0;return i.forEach(function(a){a=wt(a),r.set(a,o),o+=a.byteLength}),r},$i=function(e,i,n){var s=n===void 0?{}:n,r=s.offset,o=r===void 0?0:r,a=s.mask,l=a===void 0?[]:a;e=wt(e),i=wt(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-o>=i.length&&u.call(i,function(c,A){var h=l[A]?l[A]&e[o+A]:e[o+A];return c===h})},Rx="http://example.com",z2=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=me.location&&me.location.href||"");var n=typeof me.URL=="function",s=/^\/\//.test(e),r=!me.location&&!/\/\//i.test(e);if(n?e=new me.URL(e,me.location||Rx):/\/\//i.test(e)||(e=_v.buildAbsoluteURL(me.location&&me.location.href||"",e)),n){var o=new URL(i,e);return r?o.href.slice(Rx.length):s?o.href.slice(o.protocol.length):o.href}return _v.buildAbsoluteURL(e,i)},LV=function(e,i,n){i.forEach(function(s){for(var r in e.mediaGroups[s])for(var o in e.mediaGroups[s][r]){var a=e.mediaGroups[s][r][o];n(a,s,r,o)}})},PV=function(e){return me.atob?me.atob(e):Buffer.from(e,"base64").toString("binary")};function MV(t){for(var e=PV(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}var cu={},rl={};function RV(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];if(e.call(void 0,s,n,t))return s}}function G2(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function OV(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var AI=G2({HTML:"text/html",isHTML:function(t){return t===AI.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),hI=G2({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===hI.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});rl.assign=OV;rl.find=RV;rl.freeze=G2;rl.MIME_TYPE=AI;rl.NAMESPACE=hI;var dI=rl,Vo=dI.find,Np=dI.NAMESPACE;function UV(t){return t!==""}function NV(t){return t?t.split(/[\t\n\f\r ]+/).filter(UV):[]}function HV(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function Ox(t){if(!t)return[];var e=NV(t);return Object.keys(e.reduce(HV,{}))}function QV(t){return function(e){return t&&t.indexOf(e)!==-1}}function Ag(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function qs(t,e){var i=t.prototype;if(!(i instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Ag(i,n),t.prototype=i=n}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var Ys={},Ao=Ys.ELEMENT_NODE=1,Eh=Ys.ATTRIBUTE_NODE=2,Cv=Ys.TEXT_NODE=3,fI=Ys.CDATA_SECTION_NODE=4,pI=Ys.ENTITY_REFERENCE_NODE=5,$V=Ys.ENTITY_NODE=6,gI=Ys.PROCESSING_INSTRUCTION_NODE=7,mI=Ys.COMMENT_NODE=8,vI=Ys.DOCUMENT_NODE=9,bI=Ys.DOCUMENT_TYPE_NODE=10,Ja=Ys.DOCUMENT_FRAGMENT_NODE=11,jV=Ys.NOTATION_NODE=12,cs={},On={};cs.INDEX_SIZE_ERR=(On[1]="Index size error",1);cs.DOMSTRING_SIZE_ERR=(On[2]="DOMString size error",2);var Qs=cs.HIERARCHY_REQUEST_ERR=(On[3]="Hierarchy request error",3);cs.WRONG_DOCUMENT_ERR=(On[4]="Wrong document",4);cs.INVALID_CHARACTER_ERR=(On[5]="Invalid character",5);cs.NO_DATA_ALLOWED_ERR=(On[6]="No data allowed",6);cs.NO_MODIFICATION_ALLOWED_ERR=(On[7]="No modification allowed",7);var yI=cs.NOT_FOUND_ERR=(On[8]="Not found",8);cs.NOT_SUPPORTED_ERR=(On[9]="Not supported",9);var Ux=cs.INUSE_ATTRIBUTE_ERR=(On[10]="Attribute in use",10);cs.INVALID_STATE_ERR=(On[11]="Invalid state",11);cs.SYNTAX_ERR=(On[12]="Syntax error",12);cs.INVALID_MODIFICATION_ERR=(On[13]="Invalid modification",13);cs.NAMESPACE_ERR=(On[14]="Invalid namespace",14);cs.INVALID_ACCESS_ERR=(On[15]="Invalid access",15);function An(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,On[t]),this.message=On[t],Error.captureStackTrace&&Error.captureStackTrace(this,An);return i.code=t,e&&(this.message=this.message+": "+e),i}An.prototype=Error.prototype;Ag(cs,An);function Va(){}Va.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)VA(this[n],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Th(t,e){this._node=t,this._refresh=e,K2(this)}function K2(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var i=t._refresh(t._node);if(II(t,"length",i.length),!t.$$length||i.length<t.$$length)for(var n=i.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Ag(i,t),t._inc=e}}Th.prototype.item=function(t){return K2(this),this[t]||null};qs(Th,Va);function Ev(){}function wI(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function Nx(t,e,i,n){if(n?e[wI(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var s=t.ownerDocument;s&&(n&&EI(s,t,n),VV(s,t,i))}}function Hx(t,e,i){var n=wI(e,i);if(n>=0){for(var s=e.length-1;n<s;)e[n]=e[++n];if(e.length=s,t){var r=t.ownerDocument;r&&(EI(r,t,i),i.ownerElement=null)}}else throw new An(yI,new Error(t.tagName+"@"+i))}Ev.prototype={length:0,item:Va.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new An(Ux);var i=this.getNamedItem(t.nodeName);return Nx(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new An(Ux);return i=this.getNamedItemNS(t.namespaceURI,t.localName),Nx(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return Hx(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return Hx(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function _I(){}_I.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new hg;if(n.implementation=this,n.childNodes=new Va,n.doctype=i||null,i&&n.appendChild(i),e){var s=n.createElementNS(t,e);n.appendChild(s)}return n},createDocumentType:function(t,e,i){var n=new Rb;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function vi(){}vi.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Tv(this,t,e)},replaceChild:function(t,e){Tv(this,t,e,xI),e&&this.removeChild(e)},removeChild:function(t){return TI(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return B_(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Cv&&t.nodeType==Cv?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t)return n}e=e.nodeType==Eh?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==Eh?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function CI(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Ag(Ys,vi);Ag(Ys,vi.prototype);function Hp(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Hp(t,e))return!0;while(t=t.nextSibling)}function hg(){this.ownerDocument=this}function VV(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===Np.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function EI(t,e,i,n){t&&t._inc++;var s=i.namespaceURI;s===Np.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function W2(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var s=e.firstChild,r=0;s;)n[r++]=s,s=s.nextSibling;n.length=r,delete n[n.length]}}}function TI(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,W2(t.ownerDocument,t),e}function zV(t){return t&&(t.nodeType===vi.DOCUMENT_NODE||t.nodeType===vi.DOCUMENT_FRAGMENT_NODE||t.nodeType===vi.ELEMENT_NODE)}function GV(t){return t&&(zo(t)||q2(t)||Za(t)||t.nodeType===vi.DOCUMENT_FRAGMENT_NODE||t.nodeType===vi.COMMENT_NODE||t.nodeType===vi.PROCESSING_INSTRUCTION_NODE)}function Za(t){return t&&t.nodeType===vi.DOCUMENT_TYPE_NODE}function zo(t){return t&&t.nodeType===vi.ELEMENT_NODE}function q2(t){return t&&t.nodeType===vi.TEXT_NODE}function Qx(t,e){var i=t.childNodes||[];if(Vo(i,zo)||Za(e))return!1;var n=Vo(i,Za);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function $x(t,e){var i=t.childNodes||[];function n(r){return zo(r)&&r!==e}if(Vo(i,n))return!1;var s=Vo(i,Za);return!(e&&s&&i.indexOf(s)>i.indexOf(e))}function KV(t,e,i){if(!zV(t))throw new An(Qs,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new An(yI,"child not in parent");if(!GV(e)||Za(e)&&t.nodeType!==vi.DOCUMENT_NODE)throw new An(Qs,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function WV(t,e,i){var n=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===vi.DOCUMENT_FRAGMENT_NODE){var r=s.filter(zo);if(r.length>1||Vo(s,q2))throw new An(Qs,"More than one element or text in fragment");if(r.length===1&&!Qx(t,i))throw new An(Qs,"Element in fragment can not be inserted before doctype")}if(zo(e)&&!Qx(t,i))throw new An(Qs,"Only one element can be added and only after doctype");if(Za(e)){if(Vo(n,Za))throw new An(Qs,"Only one doctype is allowed");var o=Vo(n,zo);if(i&&n.indexOf(o)<n.indexOf(i))throw new An(Qs,"Doctype can only be inserted before an element");if(!i&&o)throw new An(Qs,"Doctype can not be appended since element is present")}}function xI(t,e,i){var n=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===vi.DOCUMENT_FRAGMENT_NODE){var r=s.filter(zo);if(r.length>1||Vo(s,q2))throw new An(Qs,"More than one element or text in fragment");if(r.length===1&&!$x(t,i))throw new An(Qs,"Element in fragment can not be inserted before doctype")}if(zo(e)&&!$x(t,i))throw new An(Qs,"Only one element can be added and only after doctype");if(Za(e)){if(Vo(n,function(l){return Za(l)&&l!==i}))throw new An(Qs,"Only one doctype is allowed");var o=Vo(n,zo);if(i&&n.indexOf(o)<n.indexOf(i))throw new An(Qs,"Doctype can only be inserted before an element")}}function Tv(t,e,i,n){KV(t,e,i),t.nodeType===vi.DOCUMENT_NODE&&(n||WV)(t,e,i);var s=e.parentNode;if(s&&s.removeChild(e),e.nodeType===Ja){var r=e.firstChild;if(r==null)return e;var o=e.lastChild}else r=o=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,i==null?t.lastChild=o:i.previousSibling=o;do r.parentNode=t;while(r!==o&&(r=r.nextSibling));return W2(t.ownerDocument||t,t),e.nodeType==Ja&&(e.firstChild=e.lastChild=null),e}function qV(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,W2(t.ownerDocument,t,e),e}hg.prototype={nodeName:"#document",nodeType:vI,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ja){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return Tv(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Ao&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),TI(this,t)},replaceChild:function(t,e){Tv(this,t,e,xI),t.ownerDocument=this,e&&this.removeChild(e),zo(t)&&(this.documentElement=t)},importNode:function(t,e){return FI(this,t,e)},getElementById:function(t){var e=null;return Hp(this.documentElement,function(i){if(i.nodeType==Ao&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=Ox(t);return new Th(this,function(i){var n=[];return e.length>0&&Hp(i.documentElement,function(s){if(s!==i&&s.nodeType===Ao){var r=s.getAttribute("class");if(r){var o=t===r;if(!o){var a=Ox(r);o=e.every(QV(a))}o&&n.push(s)}}}),n})},createElement:function(t){var e=new Nc;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Va;var i=e.attributes=new Ev;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Ob;return t.ownerDocument=this,t.childNodes=new Va,t},createTextNode:function(t){var e=new Y2;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new X2;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new J2;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new eE;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new xv;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Z2;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new Nc,n=e.split(":"),s=i.attributes=new Ev;return i.childNodes=new Va,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,s._ownerElement=i,i},createAttributeNS:function(t,e){var i=new xv,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};qs(hg,vi);function Nc(){this._nsMap={}}Nc.prototype={nodeType:Ao,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ja?this.insertBefore(t,null):qV(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Th(this,function(e){var i=[];return Hp(e,function(n){n!==e&&n.nodeType==Ao&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new Th(this,function(i){var n=[];return Hp(i,function(s){s!==i&&s.nodeType===Ao&&(t==="*"||s.namespaceURI===t)&&(e==="*"||s.localName==e)&&n.push(s)}),n})}};hg.prototype.getElementsByTagName=Nc.prototype.getElementsByTagName;hg.prototype.getElementsByTagNameNS=Nc.prototype.getElementsByTagNameNS;qs(Nc,vi);function xv(){}xv.prototype.nodeType=Eh;qs(xv,vi);function dg(){}dg.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(On[Qs])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),s=this.data.substring(t+e);i=n+i+s,this.nodeValue=this.data=i,this.length=i.length}};qs(dg,vi);function Y2(){}Y2.prototype={nodeName:"#text",nodeType:Cv,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};qs(Y2,dg);function X2(){}X2.prototype={nodeName:"#comment",nodeType:mI};qs(X2,dg);function J2(){}J2.prototype={nodeName:"#cdata-section",nodeType:fI};qs(J2,dg);function Rb(){}Rb.prototype.nodeType=bI;qs(Rb,vi);function SI(){}SI.prototype.nodeType=jV;qs(SI,vi);function BI(){}BI.prototype.nodeType=$V;qs(BI,vi);function Z2(){}Z2.prototype.nodeType=pI;qs(Z2,vi);function Ob(){}Ob.prototype.nodeName="#document-fragment";Ob.prototype.nodeType=Ja;qs(Ob,vi);function eE(){}eE.prototype.nodeType=gI;qs(eE,vi);function kI(){}kI.prototype.serializeToString=function(t,e,i){return DI.call(t,e,i)};vi.prototype.toString=DI;function DI(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,s=n.prefix,r=n.namespaceURI;if(r&&s==null){var s=n.lookupPrefix(r);if(s==null)var o=[{namespace:r,prefix:null}]}return VA(this,i,t,e,o),i.join("")}function jx(t,e,i){var n=t.prefix||"",s=t.namespaceURI;if(!s||n==="xml"&&s===Np.XML||s===Np.XMLNS)return!1;for(var r=i.length;r--;){var o=i[r];if(o.prefix===n)return o.namespace!==s}return!0}function I1(t,e,i){t.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,CI),'"')}function VA(t,e,i,n,s){if(s||(s=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ao:var r=t.attributes,o=r.length,C=t.firstChild,a=t.tagName;i=Np.isHTML(t.namespaceURI)||i;var l=a;if(!i&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<r.length;c++)if(r.item(c).name==="xmlns"){u=r.item(c).value;break}if(!u)for(var A=s.length-1;A>=0;A--){var h=s[A];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var A=s.length-1;A>=0;A--){var h=s[A];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var g=0;g<o;g++){var f=r.item(g);f.prefix=="xmlns"?s.push({prefix:f.localName,namespace:f.value}):f.nodeName=="xmlns"&&s.push({prefix:"",namespace:f.value})}for(var g=0;g<o;g++){var f=r.item(g);if(jx(f,i,s)){var y=f.prefix||"",E=f.namespaceURI;I1(e,y?"xmlns:"+y:"xmlns",E),s.push({prefix:y,namespace:E})}VA(f,e,i,n,s)}if(a===l&&jx(t,i,s)){var y=t.prefix||"",E=t.namespaceURI;I1(e,y?"xmlns:"+y:"xmlns",E),s.push({prefix:y,namespace:E})}if(C||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),i&&/^script$/i.test(a))for(;C;)C.data?e.push(C.data):VA(C,e,i,n,s.slice()),C=C.nextSibling;else for(;C;)VA(C,e,i,n,s.slice()),C=C.nextSibling;e.push("</",l,">")}else e.push("/>");return;case vI:case Ja:for(var C=t.firstChild;C;)VA(C,e,i,n,s.slice()),C=C.nextSibling;return;case Eh:return I1(e,t.name,t.value);case Cv:return e.push(t.data.replace(/[<&>]/g,CI));case fI:return e.push("<![CDATA[",t.data,"]]>");case mI:return e.push("<!--",t.data,"-->");case bI:var m=t.publicId,b=t.systemId;if(e.push("<!DOCTYPE ",t.name),m)e.push(" PUBLIC ",m),b&&b!="."&&e.push(" ",b),e.push(">");else if(b&&b!=".")e.push(" SYSTEM ",b,">");else{var _=t.internalSubset;_&&e.push(" [",_,"]"),e.push(">")}return;case gI:return e.push("<?",t.target," ",t.data,"?>");case pI:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function FI(t,e,i){var n;switch(e.nodeType){case Ao:n=e.cloneNode(!1),n.ownerDocument=t;case Ja:break;case Eh:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var s=e.firstChild;s;)n.appendChild(FI(t,s,i)),s=s.nextSibling;return n}function B_(t,e,i){var n=new e.constructor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=e[s];typeof r!="object"&&r!=n[s]&&(n[s]=r)}switch(e.childNodes&&(n.childNodes=new Va),n.ownerDocument=t,n.nodeType){case Ao:var o=e.attributes,a=n.attributes=new Ev,l=o.length;a._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(B_(t,o.item(u),!0));break;case Eh:i=!0}if(i)for(var c=e.firstChild;c;)n.appendChild(B_(t,c,i)),c=c.nextSibling;return n}function II(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ao:case Ja:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(Th.prototype,"length",{get:function(){return K2(this),this.$$length}}),Object.defineProperty(vi.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ao:case Ja:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),II=function(e,i,n){e["$$"+i]=n}}}catch{}cu.DocumentType=Rb;cu.DOMException=An;cu.DOMImplementation=_I;cu.Element=Nc;cu.Node=vi;cu.NodeList=Va;cu.XMLSerializer=kI;var Ub={},LI={};(function(t){var e=rl.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(LI);var tE={},Qp=rl.NAMESPACE,k_=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Vx=new RegExp("[\\-\\.0-9"+k_.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),zx=new RegExp("^"+k_.source+Vx.source+"*(?::"+k_.source+Vx.source+"*)?$"),_d=0,El=1,gA=2,Cd=3,mA=4,vA=5,Ed=6,Lm=7;function xh(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,xh)}xh.prototype=new Error;xh.prototype.name=xh.name;function PI(){}PI.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),MI(e,e={}),YV(t,e,i,n,this.errorHandler),n.endDocument()}};function YV(t,e,i,n,s){function r(N){if(N>65535){N-=65536;var V=55296+(N>>10),G=56320+(N&1023);return String.fromCharCode(V,G)}else return String.fromCharCode(N)}function o(N){var V=N.slice(1,-1);return Object.hasOwnProperty.call(i,V)?i[V]:V.charAt(0)==="#"?r(parseInt(V.substr(1).replace("x","0x"))):(s.error("entity not found:"+N),N)}function a(N){if(N>y){var V=t.substring(y,N).replace(/&#?\w+;/g,o);h&&l(y),n.characters(V,0,N-y),y=N}}function l(N,V){for(;N>=c&&(V=A.exec(t));)u=V.index,c=u+V[0].length,h.lineNumber++;h.columnNumber=N-u+1}for(var u=0,c=0,A=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,g=[{currentNSMap:e}],f={},y=0;;){try{var E=t.indexOf("<",y);if(E<0){if(!t.substr(y).match(/^\s*$/)){var C=n.doc,m=C.createTextNode(t.substr(y));C.appendChild(m),n.currentElement=m}return}switch(E>y&&a(E),t.charAt(E+1)){case"/":var D=t.indexOf(">",E+3),b=t.substring(E+2,D).replace(/[ \t\n\r]+$/g,""),_=g.pop();D<0?(b=t.substring(E+2).replace(/[\s<].*/,""),s.error("end tag name: "+b+" is not complete:"+_.tagName),D=E+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),s.error("end tag name: "+b+" maybe not complete"),D=E+1+b.length);var B=_.localNSMap,L=_.tagName==b,j=L||_.tagName&&_.tagName.toLowerCase()==b.toLowerCase();if(j){if(n.endElement(_.uri,_.localName,b),B)for(var O in B)Object.prototype.hasOwnProperty.call(B,O)&&n.endPrefixMapping(O);L||s.fatalError("end tag name: "+b+" is not match the current start tagName:"+_.tagName)}else g.push(_);D++;break;case"?":h&&l(E),D=tz(t,E,n);break;case"!":h&&l(E),D=ez(t,E,n,s);break;default:h&&l(E);var Q=new RI,$=g[g.length-1].currentNSMap,D=XV(t,E,Q,$,o,s),U=Q.length;if(!Q.closed&&ZV(t,D,Q.tagName,f)&&(Q.closed=!0,i.nbsp||s.warning("unclosed xml attribute")),h&&U){for(var S=Gx(h,{}),k=0;k<U;k++){var M=Q[k];l(M.offset),M.locator=Gx(h,{})}n.locator=S,Kx(Q,n,$)&&g.push(Q),n.locator=h}else Kx(Q,n,$)&&g.push(Q);Qp.isHTML(Q.uri)&&!Q.closed?D=JV(t,D,Q.tagName,o,n):D++}}catch(N){if(N instanceof xh)throw N;s.error("element parse error: "+N),D=-1}D>y?y=D:a(Math.max(E,y)+1)}}function Gx(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function XV(t,e,i,n,s,r){function o(h,g,f){i.attributeNames.hasOwnProperty(h)&&r.fatalError("Attribute "+h+" redefined"),i.addValue(h,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),f)}for(var a,l,u=++e,c=_d;;){var A=t.charAt(u);switch(A){case"=":if(c===El)a=t.slice(e,u),c=Cd;else if(c===gA)c=Cd;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Cd||c===El)if(c===El&&(r.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(A,e),u>0)l=t.slice(e,u),o(a,l,e-1),c=vA;else throw new Error("attribute value no end '"+A+"' match");else if(c==mA)l=t.slice(e,u),o(a,l,e),r.warning('attribute "'+a+'" missed start quot('+A+")!!"),e=u+1,c=vA;else throw new Error('attribute value must after "="');break;case"/":switch(c){case _d:i.setTagName(t.slice(e,u));case vA:case Ed:case Lm:c=Lm,i.closed=!0;case mA:case El:break;case gA:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),c==_d&&i.setTagName(t.slice(e,u)),u;case">":switch(c){case _d:i.setTagName(t.slice(e,u));case vA:case Ed:case Lm:break;case mA:case El:l=t.slice(e,u),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case gA:c===gA&&(l=a),c==mA?(r.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!Qp.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&r.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case Cd:throw new Error("attribute value missed!!")}return u;case"":A=" ";default:if(A<=" ")switch(c){case _d:i.setTagName(t.slice(e,u)),c=Ed;break;case El:a=t.slice(e,u),c=gA;break;case mA:var l=t.slice(e,u);r.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case vA:c=Ed;break}else switch(c){case gA:i.tagName,(!Qp.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&r.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=u,c=El;break;case vA:r.warning('attribute space is required"'+a+'"!!');case Ed:c=El,e=u;break;case Cd:c=mA,e=u;break;case Lm:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function Kx(t,e,i){for(var n=t.tagName,s=null,A=t.length;A--;){var r=t[A],o=r.qName,a=r.value,h=o.indexOf(":");if(h>0)var l=r.prefix=o.slice(0,h),u=o.slice(h+1),c=l==="xmlns"&&u;else u=o,l=null,c=o==="xmlns"&&"";r.localName=u,c!==!1&&(s==null&&(s={},MI(i,i={})),i[c]=s[c]=a,r.uri=Qp.XMLNS,e.startPrefixMapping(c,a))}for(var A=t.length;A--;){r=t[A];var l=r.prefix;l&&(l==="xml"&&(r.uri=Qp.XML),l!=="xmlns"&&(r.uri=i[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),u=t.localName=n.slice(h+1)):(l=null,u=t.localName=n);var g=t.uri=i[l||""];if(e.startElement(g,u,n,t),t.closed){if(e.endElement(g,u,n),s)for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=s,!0}function JV(t,e,i,n,s){if(/^(?:script|textarea)$/i.test(i)){var r=t.indexOf("</"+i+">",e),o=t.substring(e+1,r);if(/[&<]/.test(o))return/^script$/i.test(i)?(s.characters(o,0,o.length),r):(o=o.replace(/&#?\w+;/g,n),s.characters(o,0,o.length),r)}return e+1}function ZV(t,e,i,n){var s=n[i];return s==null&&(s=t.lastIndexOf("</"+i+">"),s<e&&(s=t.lastIndexOf("</"+i)),n[i]=s),s<e}function MI(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function ez(t,e,i,n){var s=t.charAt(e+2);switch(s){case"-":if(t.charAt(e+3)==="-"){var r=t.indexOf("-->",e+4);return r>e?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var r=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3}var o=iz(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var A=o[a-1];return i.startDTD(l,u,c),i.endDTD(),A.index+A[0].length}}return-1}function tz(t,e,i){var n=t.indexOf("?>",e);if(n){var s=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,i.processingInstruction(s[1],s[2]),n+2):-1}return-1}function RI(){this.attributeNames={}}RI.prototype={setTagName:function(t){if(!zx.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!zx.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function iz(t,e){var i,n=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(t);i=s.exec(t);)if(n.push(i),i[1])return n}tE.XMLReader=PI;tE.ParseError=xh;var nz=rl,sz=cu,Wx=LI,OI=tE,rz=sz.DOMImplementation,qx=nz.NAMESPACE,oz=OI.ParseError,az=OI.XMLReader;function UI(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function NI(t){this.options=t||{locator:{}}}NI.prototype.parseFromString=function(t,e){var i=this.options,n=new az,s=i.domBuilder||new fg,r=i.errorHandler,o=i.locator,a=i.xmlns||{},l=/\/x?html?$/.test(e),u=l?Wx.HTML_ENTITIES:Wx.XML_ENTITIES;o&&s.setDocumentLocator(o),n.errorHandler=lz(r,s,o),n.domBuilder=i.domBuilder||s,l&&(a[""]=qx.HTML),a.xml=a.xml||qx.XML;var c=i.normalizeLineEndings||UI;return t&&typeof t=="string"?n.parse(c(t),a,u):n.errorHandler.error("invalid doc source"),s.doc};function lz(t,e,i){if(!t){if(e instanceof fg)return e;t=e}var n={},s=t instanceof Function;i=i||{};function r(o){var a=t[o];!a&&s&&(a=t.length==2?function(l){t(o,l)}:t),n[o]=a&&function(l){a("[xmldom "+o+"]	"+l+D_(i))}||function(){}}return r("warning"),r("error"),r("fatalError"),n}function fg(){this.cdata=!1}function bA(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}fg.prototype={startDocument:function(){this.doc=new rz().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var s=this.doc,r=s.createElementNS(t,i||e),o=n.length;Pm(this,r),this.currentElement=r,this.locator&&bA(this.locator,r);for(var a=0;a<o;a++){var t=n.getURI(a),l=n.getValue(a),i=n.getQName(a),u=s.createAttributeNS(t,i);this.locator&&bA(n.getLocator(a),u),u.value=u.nodeValue=l,r.setAttributeNode(u)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&bA(this.locator,i),Pm(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=Yx.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&bA(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=Yx.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&bA(this.locator,n),Pm(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var s=n.createDocumentType(t,e,i);this.locator&&bA(this.locator,s),Pm(this,s),this.doc.doctype=s}},warning:function(t){console.warn("[xmldom warning]	"+t,D_(this.locator))},error:function(t){console.error("[xmldom error]	"+t,D_(this.locator))},fatalError:function(t){throw new oz(t,this.locator)}};function D_(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Yx(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){fg.prototype[t]=function(){return null}});function Pm(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Ub.__DOMHandler=fg;Ub.normalizeLineEndings=UI;Ub.DOMParser=NI;var uz=Ub.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const Xx=t=>!!t&&typeof t=="object",Mn=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(n=>{Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):Xx(e[n])&&Xx(i[n])?e[n]=Mn(e[n],i[n]):e[n]=i[n]}),e),{}),HI=t=>Object.keys(t).map(e=>t[e]),cz=(t,e)=>{const i=[];for(let n=t;n<e;n++)i.push(n);return i},Sh=t=>t.reduce((e,i)=>e.concat(i),[]),QI=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},Az=(t,e)=>t.reduce((i,n,s)=>(n[e]&&i.push(s),i),[]),hz=(t,e)=>HI(t.reduce((i,n)=>(n.forEach(s=>{i[e(s)]=s}),i),{}));var Bh={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const $p=({baseUrl:t="",source:e="",range:i="",indexRange:n=""})=>{const s={uri:e,resolvedUri:z2(t||"",e)};if(i||n){const o=(i||n).split("-");let a=me.BigInt?me.BigInt(o[0]):parseInt(o[0],10),l=me.BigInt?me.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=me.BigInt(l)-me.BigInt(a)+me.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),s.byterange={length:u,offset:a}}return s},dz=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=me.BigInt(t.offset)+me.BigInt(t.length)-me.BigInt(1):e=t.offset+t.length-1,"".concat(t.offset,"-").concat(e)},Jx=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),fz={static(t){const{duration:e,timescale:i=1,sourceDuration:n,periodDuration:s}=t,r=Jx(t.endNumber),o=e/i;return typeof r=="number"?{start:0,end:r}:typeof s=="number"?{start:0,end:s/o}:{start:0,end:n/o}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:n,timescale:s=1,duration:r,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=Jx(t.endNumber),c=(e+i)/1e3,A=n+o,g=c+a-A,f=Math.ceil(g*s/r),y=Math.floor((c-A-l)*s/r),E=Math.floor((c-A)*s/r);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(f,E)}}},pz=t=>e=>{const{duration:i,timescale:n=1,periodStart:s,startNumber:r=1}=t;return{number:r+e,duration:i/n,timeline:s,time:e*i}},iE=t=>{const{type:e,duration:i,timescale:n=1,periodDuration:s,sourceDuration:r}=t,{start:o,end:a}=fz[e](t),l=cz(o,a).map(pz(t));if(e==="static"){const u=l.length-1,c=typeof s=="number"?s:r;l[u].duration=c-i/n*u}return l},$I=t=>{const{baseUrl:e,initialization:i={},sourceDuration:n,indexRange:s="",periodStart:r,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(Bh.NO_BASE_URL);const u=$p({baseUrl:e,source:i.sourceURL,range:i.range}),c=$p({baseUrl:e,source:e,indexRange:s});if(c.map=u,l){const A=iE(t);A.length&&(c.duration=A[0].duration,c.timeline=A[0].timeline)}else n&&(c.duration=n,c.timeline=r);return c.presentationTime=o||r,c.number=a,[c]},nE=(t,e,i)=>{const n=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,r=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(E=>E.referenceType!==1),c=[],A=t.endList?"static":"dynamic",h=t.sidx.timeline;let g=h,f=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=me.BigInt(a)+e.firstOffset:y=a+e.firstOffset;for(let E=0;E<u.length;E++){const C=e.references[E],m=C.referencedSize,b=C.subsegmentDuration;let _;typeof y=="bigint"?_=y+me.BigInt(m)-me.BigInt(1):_=y+m-1;const B="".concat(y,"-").concat(_),j=$I({baseUrl:i,timescale:l,timeline:r,periodStart:h,presentationTime:g,number:f,duration:b,sourceDuration:s,indexRange:B,type:A})[0];n&&(j.map=n),c.push(j),typeof y=="bigint"?y+=me.BigInt(m):y+=m,g+=b/l,f++}return t.segments=c,t},gz=["AUDIO","SUBTITLES"],mz=1/60,jI=t=>hz(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),vz=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},Zx=t=>{let e=[];return LV(t,gz,(i,n,s,r)=>{e=e.concat(i.playlists||[])}),e},eS=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,n)=>{i.number=t.mediaSequence+n})},bz=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(n=>{n.discontinuitySequence=i.findIndex(function({timeline:l}){return l===n.timeline});const s=vz(t,n.attributes.NAME);if(!s||n.sidx)return;const r=n.segments[0],o=s.segments.findIndex(function(l){return Math.abs(l.presentationTime-r.presentationTime)<mz});if(o===-1){eS({playlist:n,mediaSequence:s.mediaSequence+s.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!s.segments.length&&n.timeline>s.timeline||s.segments.length&&n.timeline>s.segments[s.segments.length-1].timeline)&&n.discontinuitySequence--;return}s.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),eS({playlist:n,mediaSequence:s.segments[o].number})})},yz=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(Zx(t)),n=e.playlists.concat(Zx(e));return e.timelineStarts=jI([t.timelineStarts,e.timelineStarts]),bz({oldPlaylists:i,newPlaylists:n,timelineStarts:e.timelineStarts}),e},Nb=t=>t&&t.uri+"-"+dz(t.byterange),L1=t=>{const e=t.reduce(function(n,s){return n[s.attributes.baseUrl]||(n[s.attributes.baseUrl]=[]),n[s.attributes.baseUrl].push(s),n},{});let i=[];return Object.values(e).forEach(n=>{const s=HI(n.reduce((r,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return r[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),r[a].segments.push(...o.segments)),o.attributes.contentProtection&&(r[a].attributes.contentProtection=o.attributes.contentProtection)):(r[a]=o,r[a].attributes.timelineStarts=[]),r[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),r},{}));i=i.concat(s)}),i.map(n=>(n.discontinuityStarts=Az(n.segments||[],"discontinuity"),n))},sE=(t,e)=>{const i=Nb(t.sidx),n=i&&e[i]&&e[i].sidx;return n&&nE(t,n,t.sidx.resolvedUri),t},wz=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=sE(t[i],e);return t},_z=({attributes:t,segments:e,sidx:i,mediaSequence:n,discontinuitySequence:s,discontinuityStarts:r},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:s,discontinuityStarts:r,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),i&&(a.sidx=i),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},Cz=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:n,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const r={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(r.CODECS=t.codecs);const o={attributes:r,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:s,mediaSequence:i,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},Ez=(t,e={},i=!1)=>{let n;const s=t.reduce((r,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const A=a?" (".concat(a,")"):"";u="".concat(o.attributes.lang).concat(A)}r[u]||(r[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const c=sE(_z(o,i),e);return r[u].playlists.push(c),typeof n>"u"&&a==="main"&&(n=o,n.default=!0),r},{});if(!n){const r=Object.keys(s)[0];s[r].default=!0}return s},Tz=(t,e={})=>t.reduce((i,n)=>{const s=n.attributes.label||n.attributes.lang||"text";return i[s]||(i[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),i[s].playlists.push(sE(Cz(n),e)),i},{}),xz=t=>t.reduce((e,i)=>(i&&i.forEach(n=>{const{channel:s,language:r}=n;e[r]={autoselect:!1,default:!1,instreamId:s,language:r},n.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[r].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[r]["3D"]=n["3D"])}),e),{}),Sz=({attributes:t,segments:e,sidx:i,discontinuityStarts:n})=>{const s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),i&&(s.sidx=i),s},Bz=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",kz=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",Dz=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Fz=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:n}){return n===i.timeline}),i.segments&&i.segments.forEach((n,s)=>{n.number=s})})},tS=t=>t?Object.keys(t).reduce((e,i)=>{const n=t[i];return e.concat(n.playlists)},[]):[],Iz=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:n={},previousManifest:s,eventStream:r})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=L1(t.filter(Bz)).map(Sz),A=L1(t.filter(kz)),h=L1(t.filter(Dz)),g=t.map(_=>_.attributes.captionServices).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:wz(c,n)};u>=0&&(f.minimumUpdatePeriod=u*1e3),e&&(f.locations=e),i&&(f.contentSteering=i),a==="dynamic"&&(f.suggestedPresentationDelay=l),r&&r.length>0&&(f.eventStream=r);const y=f.playlists.length===0,E=A.length?Ez(A,n,y):null,C=h.length?Tz(h,n):null,m=c.concat(tS(E),tS(C)),b=m.map(({timelineStarts:_})=>_);return f.timelineStarts=jI(b),Fz(m,f.timelineStarts),E&&(f.mediaGroups.AUDIO.audio=E),C&&(f.mediaGroups.SUBTITLES.subs=C),g.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=xz(g)),s?yz({oldManifest:s,newManifest:f}):f},Lz=(t,e,i)=>{const{NOW:n,clientOffset:s,availabilityStartTime:r,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(n+s)/1e3,c=r+a,h=u+l-c;return Math.ceil((h*o-e)/i)},VI=(t,e)=>{const{type:i,minimumUpdatePeriod:n=0,media:s="",sourceDuration:r,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let c=-1;for(let A=0;A<e.length;A++){const h=e[A],g=h.d,f=h.r||0,y=h.t||0;c<0&&(c=y),y&&y>c&&(c=y);let E;if(f<0){const b=A+1;b===e.length?i==="dynamic"&&n>0&&s.indexOf("$Number$")>0?E=Lz(t,c,g):E=(r*o-c)/g:E=(e[b].t-c)/g}else E=f+1;const C=a+u.length+E;let m=a+u.length;for(;m<C;)u.push({number:m,duration:g/o,time:c,timeline:l}),c+=g,m++}return u},Pz=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Mz=t=>(e,i,n,s)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const r=""+t[i];return i==="RepresentationID"||(n?s=parseInt(s,10):s=1,r.length>=s)?r:"".concat(new Array(s-r.length+1).join("0")).concat(r)},iS=(t,e)=>t.replace(Pz,Mz(e)),Rz=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?iE(t):VI(t,e),Oz=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,s=$p({baseUrl:t.baseUrl,source:iS(n.sourceURL,i),range:n.range});return Rz(t,e).map(o=>{i.Number=o.number,i.Time=o.time;const a=iS(t.media||"",i),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:z2(t.baseUrl||"",a),map:s,number:o.number,presentationTime:c}})},Uz=(t,e)=>{const{baseUrl:i,initialization:n={}}=t,s=$p({baseUrl:i,source:n.sourceURL,range:n.range}),r=$p({baseUrl:i,source:e.media,range:e.mediaRange});return r.map=s,r},Nz=(t,e)=>{const{duration:i,segmentUrls:n=[],periodStart:s}=t;if(!i&&!e||i&&e)throw new Error(Bh.SEGMENT_TIME_UNSPECIFIED);const r=n.map(l=>Uz(t,l));let o;return i&&(o=iE(t)),e&&(o=VI(t,e)),o.map((l,u)=>{if(r[u]){const c=r[u],A=t.timescale||1,h=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=s+(l.time-h)/A,c}}).filter(l=>l)},Hz=({attributes:t,segmentInfo:e})=>{let i,n;e.template?(n=Oz,i=Mn(t,e.template)):e.base?(n=$I,i=Mn(t,e.base)):e.list&&(n=Nz,i=Mn(t,e.list));const s={attributes:t};if(!n)return s;const r=n(i,e.segmentTimeline);if(i.duration){const{duration:o,timescale:a=1}=i;i.duration=o/a}else r.length?i.duration=r.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):i.duration=0;return s.attributes=i,s.segments=r,e.base&&i.indexRange&&(s.sidx=r[0],s.segments=[]),s},Qz=t=>t.map(Hz),ji=(t,e)=>QI(t.childNodes).filter(({tagName:i})=>i===e),pg=t=>t.textContent.trim(),$z=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),yA=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,c,A,h,g]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(A||0)*3600+parseFloat(h||0)*60+parseFloat(g||0)},jz=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),nS={mediaPresentationDuration(t){return yA(t)},availabilityStartTime(t){return jz(t)/1e3},minimumUpdatePeriod(t){return yA(t)},suggestedPresentationDelay(t){return yA(t)},type(t){return t},timeShiftBufferDepth(t){return yA(t)},start(t){return yA(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return $z(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?yA(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},gn=t=>t&&t.attributes?QI(t.attributes).reduce((e,i)=>{const n=nS[i.name]||nS.DEFAULT;return e[i.name]=n(i.value),e},{}):{},Vz={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Hb=(t,e)=>e.length?Sh(t.map(function(i){return e.map(function(n){const s=pg(n),r=z2(i.baseUrl,s),o=Mn(gn(n),{baseUrl:r});return r!==s&&!o.serviceLocation&&i.serviceLocation&&(o.serviceLocation=i.serviceLocation),o})})):t,rE=t=>{const e=ji(t,"SegmentTemplate")[0],i=ji(t,"SegmentList")[0],n=i&&ji(i,"SegmentURL").map(A=>Mn({tag:"SegmentURL"},gn(A))),s=ji(t,"SegmentBase")[0],r=i||e,o=r&&ji(r,"SegmentTimeline")[0],a=i||s||e,l=a&&ji(a,"Initialization")[0],u=e&&gn(e);u&&l?u.initialization=l&&gn(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:o&&ji(o,"S").map(A=>gn(A)),list:i&&Mn(gn(i),{segmentUrls:n,initialization:gn(l)}),base:s&&Mn(gn(s),{initialization:gn(l)})};return Object.keys(c).forEach(A=>{c[A]||delete c[A]}),c},zz=(t,e,i)=>n=>{const s=ji(n,"BaseURL"),r=Hb(e,s),o=Mn(t,gn(n)),a=rE(n);return r.map(l=>({segmentInfo:Mn(i,a),attributes:Mn(o,l)}))},Gz=t=>t.reduce((e,i)=>{const n=gn(i);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const s=Vz[n.schemeIdUri];if(s){e[s]={attributes:n};const r=ji(i,"cenc:pssh")[0];if(r){const o=pg(r);e[s].pssh=o&&MV(o)}}return e},{}),Kz=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let n,s;return s=i,/^CC\d=/.test(i)?[n,s]=i.split("="):/^CC\d$/.test(i)&&(n=i),{channel:n,language:s}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[s,r=""]=i.split("=");n.channel=s,n.language=i,r.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=i;return n.channel&&(n.channel="SERVICE"+n.channel),n})},Wz=t=>Sh(ji(t.node,"EventStream").map(e=>{const i=gn(e),n=i.schemeIdUri;return ji(e,"Event").map(s=>{const r=gn(s),o=r.presentationTime||0,a=i.timescale||1,l=r.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:n,value:i.value,id:r.id,start:u,end:u+l/a,messageData:pg(s)||r.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),qz=(t,e,i)=>n=>{const s=gn(n),r=Hb(e,ji(n,"BaseURL")),o=ji(n,"Role")[0],a={role:gn(o)};let l=Mn(t,s,a);const u=ji(n,"Accessibility")[0],c=Kz(gn(u));c&&(l=Mn(l,{captionServices:c}));const A=ji(n,"Label")[0];if(A&&A.childNodes.length){const E=A.childNodes[0].nodeValue.trim();l=Mn(l,{label:E})}const h=Gz(ji(n,"ContentProtection"));Object.keys(h).length&&(l=Mn(l,{contentProtection:h}));const g=rE(n),f=ji(n,"Representation"),y=Mn(i,g);return Sh(f.map(zz(l,r,y)))},Yz=(t,e)=>(i,n)=>{const s=Hb(e,ji(i.node,"BaseURL")),r=Mn(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(r.periodDuration=i.attributes.duration);const o=ji(i.node,"AdaptationSet"),a=rE(i.node);return Sh(o.map(qz(r,s,a)))},Xz=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=Mn({serverURL:pg(t[0])},gn(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},Jz=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,Zz=(t,e={})=>{const{manifestUri:i="",NOW:n=Date.now(),clientOffset:s=0,eventHandler:r=function(){}}=e,o=ji(t,"Period");if(!o.length)throw new Error(Bh.INVALID_NUMBER_OF_PERIOD);const a=ji(t,"Location"),l=gn(t),u=Hb([{baseUrl:i}],ji(t,"BaseURL")),c=ji(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=s,a.length&&(l.locations=a.map(pg));const A=[];return o.forEach((h,g)=>{const f=gn(h),y=A[g-1];f.start=Jz({attributes:f,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),A.push({node:h,attributes:f})}),{locations:l.locations,contentSteeringInfo:Xz(c,r),representationInfo:Sh(A.map(Yz(l,u))),eventStream:Sh(A.map(Wz))}},zI=t=>{if(t==="")throw new Error(Bh.DASH_EMPTY_MANIFEST);const e=new uz;let i,n;try{i=e.parseFromString(t,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Bh.DASH_INVALID_XML);return n},eG=t=>{const e=ji(t,"UTCTiming")[0];if(!e)return null;const i=gn(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Bh.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},tG=(t,e={})=>{const i=Zz(zI(t),e),n=Qz(i.representationInfo);return Iz({dashPlaylists:n,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},iG=t=>eG(zI(t));var GI=Math.pow(2,32),nG=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*GI+e.getUint32(4)},sG={getUint64:nG,MAX_UINT32:GI},sS=sG.getUint64,rG=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=sS(t.subarray(n)),i.firstOffset=sS(t.subarray(n+8)),n+=16),n+=2;var s=e.getUint16(n);for(n+=2;s>0;n+=12,s--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},oG=rG;const aG=us(oG);var lG=wt([73,68,51]),uG=function(e,i){i===void 0&&(i=0),e=wt(e);var n=e[i+5],s=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],r=(n&16)>>4;return r?s+20:s+10},If=function t(e,i){return i===void 0&&(i=0),e=wt(e),e.length-i<10||!$i(e,lG,{offset:i})?i:(i+=uG(e,i),t(e,i))},rS=function(e){return typeof e=="string"?cI(e):e},cG=function(e){return Array.isArray(e)?e.map(function(i){return rS(i)}):[rS(e)]},AG=function t(e,i,n){n===void 0&&(n=!1),i=cG(i),e=wt(e);var s=[];if(!i.length)return s;for(var r=0;r<e.length;){var o=(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0,a=e.subarray(r+4,r+8);if(o===0)break;var l=r+o;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(r+8,l);$i(a,i[0])&&(i.length===1?s.push(u):s.push.apply(s,t(u,i.slice(1),n))),r=l}return s},Mm={EBML:wt([26,69,223,163]),DocType:wt([66,130]),Segment:wt([24,83,128,103]),SegmentInfo:wt([21,73,169,102]),Tracks:wt([22,84,174,107]),Track:wt([174]),TrackNumber:wt([215]),DefaultDuration:wt([35,227,131]),TrackEntry:wt([174]),TrackType:wt([131]),FlagDefault:wt([136]),CodecID:wt([134]),CodecPrivate:wt([99,162]),VideoTrack:wt([224]),AudioTrack:wt([225]),Cluster:wt([31,67,182,117]),Timestamp:wt([231]),TimestampScale:wt([42,215,177]),BlockGroup:wt([160]),BlockDuration:wt([155]),Block:wt([161]),SimpleBlock:wt([163])},F_=[128,64,32,16,8,4,2,1],hG=function(e){for(var i=1,n=0;n<F_.length&&!(e&F_[n]);n++)i++;return i},Sv=function(e,i,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1);var r=hG(e[i]),o=e.subarray(i,i+r);return n&&(o=Array.prototype.slice.call(e,i,i+r),o[0]^=F_[r-1]),{length:r,value:DV(o,{signed:s}),bytes:o}},oS=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?FV(e):e},dG=function(e){return Array.isArray(e)?e.map(function(i){return oS(i)}):[oS(e)]},fG=function t(e,i,n){if(n>=i.length)return i.length;var s=Sv(i,n,!1);if($i(e.bytes,s.bytes))return n;var r=Sv(i,n+s.length);return t(e,i,n+r.length+r.value+s.length)},aS=function t(e,i){i=dG(i),e=wt(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var r=Sv(e,s,!1),o=Sv(e,s+r.length),a=s+r.length+o.length;o.value===127&&(o.value=fG(r,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);$i(i[0],r.bytes)&&(i.length===1?n.push(u):n=n.concat(t(u,i.slice(1))));var c=r.length+o.length+u.length;s+=c}return n},pG=wt([0,0,0,1]),gG=wt([0,0,1]),mG=wt([0,0,3]),vG=function(e){for(var i=[],n=1;n<e.length-2;)$i(e.subarray(n,n+3),mG)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var s=e.length-i.length,r=new Uint8Array(s),o=0;for(n=0;n<s;o++,n++)o===i[0]&&(o++,i.shift()),r[n]=e[o];return r},KI=function(e,i,n,s){s===void 0&&(s=1/0),e=wt(e),n=[].concat(n);for(var r=0,o,a=0;r<e.length&&(a<s||o);){var l=void 0;if($i(e.subarray(r),pG)?l=4:$i(e.subarray(r),gG)&&(l=3),!l){r++;continue}if(a++,o)return vG(e.subarray(o,r));var u=void 0;i==="h264"?u=e[r+l]&31:i==="h265"&&(u=e[r+l]>>1&63),n.indexOf(u)!==-1&&(o=r+l),r+=l+(i==="h264"?1:2)}return e.subarray(0,0)},bG=function(e,i,n){return KI(e,"h264",i,n)},yG=function(e,i,n){return KI(e,"h265",i,n)},As={webm:wt([119,101,98,109]),matroska:wt([109,97,116,114,111,115,107,97]),flac:wt([102,76,97,67]),ogg:wt([79,103,103,83]),ac3:wt([11,119]),riff:wt([82,73,70,70]),avi:wt([65,86,73]),wav:wt([87,65,86,69]),"3gp":wt([102,116,121,112,51,103]),mp4:wt([102,116,121,112]),fmp4:wt([115,116,121,112]),mov:wt([102,116,121,112,113,116]),moov:wt([109,111,111,118]),moof:wt([109,111,111,102])},kh={aac:function(e){var i=If(e);return $i(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=If(e);return $i(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=aS(e,[Mm.EBML,Mm.DocType])[0];return $i(i,As.webm)},mkv:function(e){var i=aS(e,[Mm.EBML,Mm.DocType])[0];return $i(i,As.matroska)},mp4:function(e){if(kh["3gp"](e)||kh.mov(e))return!1;if($i(e,As.mp4,{offset:4})||$i(e,As.fmp4,{offset:4})||$i(e,As.moof,{offset:4})||$i(e,As.moov,{offset:4}))return!0},mov:function(e){return $i(e,As.mov,{offset:4})},"3gp":function(e){return $i(e,As["3gp"],{offset:4})},ac3:function(e){var i=If(e);return $i(e,As.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=If(e);return $i(e,As.flac,{offset:i})},ogg:function(e){return $i(e,As.ogg)},avi:function(e){return $i(e,As.riff)&&$i(e,As.avi,{offset:8})},wav:function(e){return $i(e,As.riff)&&$i(e,As.wav,{offset:8})},h264:function(e){return bG(e,7,3).length},h265:function(e){return yG(e,[32,33],3).length}},I_=Object.keys(kh).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);I_.forEach(function(t){var e=kh[t];kh[t]=function(i){return e(wt(i))}});var wG=kh,oE=function(e){e=wt(e);for(var i=0;i<I_.length;i++){var n=I_[i];if(wG[n](e))return n}return""},_G=function(e){return AG(e,["moof"]).length>0},aE=9e4,lE,uE,Qb,cE,WI,qI,YI;lE=function(t){return t*aE};uE=function(t,e){return t*e};Qb=function(t){return t/aE};cE=function(t,e){return t/e};WI=function(t,e){return lE(cE(t,e))};qI=function(t,e){return uE(Qb(t),e)};YI=function(t,e,i){return Qb(i?t:t-e)};var Bv={ONE_SECOND_IN_TS:aE,secondsToVideoTs:lE,secondsToAudioTs:uE,videoTsToSeconds:Qb,audioTsToSeconds:cE,audioTsToVideoTs:WI,videoTsToAudioTs:qI,metadataTsToSeconds:YI};/**
 * @license
 * Video.js 8.6.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var XI="8.6.1";const Ua={},ru=function(t,e){return Ua[t]=Ua[t]||[],e&&(Ua[t]=Ua[t].concat(e)),Ua[t]},CG=function(t,e){ru(t,e)},JI=function(t,e){const i=ru(t).indexOf(e);return i<=-1?!1:(Ua[t]=Ua[t].slice(),Ua[t].splice(i,1),!0)},EG=function(t,e){ru(t,[].concat(e).map(i=>{const n=(...s)=>(JI(t,n),i(...s));return n}))},kv={prefixed:!0},B0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],lS=B0[0];let Lf;for(let t=0;t<B0.length;t++)if(B0[t][1]in Xe){Lf=B0[t];break}if(Lf){for(let t=0;t<Lf.length;t++)kv[lS[t]]=Lf[t];kv.prefixed=Lf[0]!==lS[0]}let Os=[];const TG=(t,e,i)=>(n,s,r)=>{const o=e.levels[s],a=new RegExp("^(".concat(o,")$"));let l=t;if(n!=="log"&&r.unshift(n.toUpperCase()+":"),i&&(l="%c".concat(t),r.unshift(i)),r.unshift(l+":"),Os){Os.push([].concat(r));const c=Os.length-1e3;Os.splice(0,c>0?c:0)}if(!me.console)return;let u=me.console[n];!u&&n==="debug"&&(u=me.console.info||me.console.log),!(!u||!o||!a.test(n))&&u[Array.isArray(r)?"apply":"call"](me.console,r)};function L_(t,e=":",i=""){let n="info",s;const r=function(...o){s("log",n,o)};return s=TG(t,r,i),r.createLogger=(o,a,l)=>{const u=a!==void 0?a:e,c=l!==void 0?l:i,A="".concat(t," ").concat(u," ").concat(o);return L_(A,u,c)},r.createNewLogger=(o,a,l)=>L_(o,a,l),r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=o=>{if(typeof o=="string"){if(!r.levels.hasOwnProperty(o))throw new Error('"'.concat(o,'" in not a valid log level'));n=o}return n},r.history=()=>Os?[].concat(Os):[],r.history.filter=o=>(Os||[]).filter(a=>new RegExp(".*".concat(o,".*")).test(a[0])),r.history.clear=()=>{Os&&(Os.length=0)},r.history.disable=()=>{Os!==null&&(Os.length=0,Os=null)},r.history.enable=()=>{Os===null&&(Os=[])},r.error=(...o)=>s("error",n,o),r.warn=(...o)=>s("warn",n,o),r.debug=(...o)=>s("debug",n,o),r}const Xt=L_("VIDEOJS"),ZI=Xt.createLogger,xG=Object.prototype.toString,e5=function(t){return Xo(t)?Object.keys(t):[]};function sh(t,e){e5(t).forEach(i=>e(t[i],i))}function t5(t,e,i=0){return e5(t).reduce((n,s)=>e(n,t[s],s),i)}function Xo(t){return!!t&&typeof t=="object"}function Dh(t){return Xo(t)&&xG.call(t)==="[object Object]"&&t.constructor===Object}function Di(...t){const e={};return t.forEach(i=>{i&&sh(i,(n,s)=>{if(!Dh(n)){e[s]=n;return}Dh(e[s])||(e[s]={}),e[s]=Di(e[s],n)})}),e}function i5(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];e.push(n)}return e}function $b(t,e,i,n=!0){const s=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),r={configurable:!0,enumerable:!0,get(){const o=i();return s(o),o}};return n&&(r.set=s),Object.defineProperty(t,e,r)}var SG=Object.freeze({__proto__:null,each:sh,reduce:t5,isObject:Xo,isPlain:Dh,merge:Di,values:i5,defineLazyProperty:$b});let AE=!1,n5=null,Jo=!1,s5,r5=!1,rh=!1,oh=!1,Zo=!1,hE=null,jb=null,o5=null,Dv=!1,Vb=!1,Fv=!1,zb=!1;const jp=!!(Kh()&&("ontouchstart"in me||me.navigator.maxTouchPoints||me.DocumentTouch&&me.document instanceof me.DocumentTouch)),wA=me.navigator&&me.navigator.userAgentData;wA&&(Jo=wA.platform==="Android",rh=!!wA.brands.find(t=>t.brand==="Microsoft Edge"),oh=!!wA.brands.find(t=>t.brand==="Chromium"),Zo=!rh&&oh,hE=jb=(wA.brands.find(t=>t.brand==="Chromium")||{}).version||null,Vb=wA.platform==="Windows");if(!oh){const t=me.navigator&&me.navigator.userAgent||"";AE=/iPod/i.test(t),n5=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Jo=/Android/i.test(t),s5=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return i&&n?parseFloat(e[1]+"."+e[2]):i||null}(),r5=/Firefox/i.test(t),rh=/Edg/i.test(t),oh=/Chrome/i.test(t)||/CriOS/i.test(t),Zo=!rh&&oh,hE=jb=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),o5=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),Dv=/Safari/i.test(t)&&!Zo&&!Jo&&!rh,Vb=/Windows/i.test(t),Fv=/iPad/i.test(t)||Dv&&jp&&!/iPhone/i.test(t),zb=/iPhone/i.test(t)&&!Fv}const Es=zb||Fv||AE,Gb=(Dv||Es)&&!Zo;var BG=Object.freeze({__proto__:null,get IS_IPOD(){return AE},get IOS_VERSION(){return n5},get IS_ANDROID(){return Jo},get ANDROID_VERSION(){return s5},get IS_FIREFOX(){return r5},get IS_EDGE(){return rh},get IS_CHROMIUM(){return oh},get IS_CHROME(){return Zo},get CHROMIUM_VERSION(){return hE},get CHROME_VERSION(){return jb},get IE_VERSION(){return o5},get IS_SAFARI(){return Dv},get IS_WINDOWS(){return Vb},get IS_IPAD(){return Fv},get IS_IPHONE(){return zb},TOUCH_ENABLED:jp,IS_IOS:Es,IS_ANY_SAFARI:Gb});function uS(t){return typeof t=="string"&&!!t.trim()}function kG(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Kh(){return Xe===me.document}function Wh(t){return Xo(t)&&t.nodeType===1}function a5(){try{return me.parent!==me.self}catch{return!0}}function l5(t){return function(e,i){if(!uS(e))return Xe[t](null);uS(i)&&(i=Xe.querySelector(i));const n=Wh(i)?i:Xe;return n[t]&&n[t](e)}}function Nt(t="div",e={},i={},n){const s=Xe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(r){const o=e[r];r==="textContent"?Au(s,o):(s[r]!==o||r==="tabIndex")&&(s[r]=o)}),Object.getOwnPropertyNames(i).forEach(function(r){s.setAttribute(r,i[r])}),n&&dE(s,n),s}function Au(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function P_(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function up(t,e){return kG(e),t.classList.contains(e)}function kc(t,...e){return t.classList.add(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t}function Kb(t,...e){return t?(t.classList.remove(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t):(Xt.warn("removeClass was called with an element that doesn't exist"),null)}function u5(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,i)),t}function c5(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const n=e[i];n===null||typeof n>"u"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function Pl(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let s=n.length-1;s>=0;s--){const r=n[s].name;let o=n[s].value;i.includes(r)&&(o=o!==null),e[r]=o}}return e}function A5(t,e){return t.getAttribute(e)}function Fh(t,e,i){t.setAttribute(e,i)}function Wb(t,e){t.removeAttribute(e)}function h5(){Xe.body.focus(),Xe.onselectstart=function(){return!1}}function d5(){Xe.onselectstart=function(){return!0}}function Ih(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(Lh(t,"height"))),i.width||(i.width=parseFloat(Lh(t,"width"))),i}}function Vp(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let n=0,s=0;for(;t.offsetParent&&t!==Xe[kv.fullscreenElement];)n+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;return{left:n,top:s,width:e,height:i}}function qb(t,e){const i={x:0,y:0};if(Es){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const A=Lh(c,"transform");if(/^matrix/.test(A)){const h=A.slice(7,-1).split(/,\s/).map(Number);i.x+=h[4],i.y+=h[5]}else if(/^matrix3d/.test(A)){const h=A.slice(9,-1).split(/,\s/).map(Number);i.x+=h[12],i.y+=h[13]}c=c.parentNode}}const n={},s=Vp(e.target),r=Vp(t),o=r.width,a=r.height;let l=e.offsetY-(r.top-s.top),u=e.offsetX-(r.left-s.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,l=e.changedTouches[0].pageY+r.top,Es&&(u-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function f5(t){return Xo(t)&&t.nodeType===3}function Yb(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function p5(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Wh(e)||f5(e))return e;if(typeof e=="string"&&/\S/.test(e))return Xe.createTextNode(e)}).filter(e=>e)}function dE(t,e){return p5(e).forEach(i=>t.appendChild(i)),t}function g5(t,e){return dE(Yb(t),e)}function zp(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const ou=l5("querySelector"),m5=l5("querySelectorAll");function Lh(t,e){if(!t||!e)return"";if(typeof me.getComputedStyle=="function"){let i;try{i=me.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function v5(t){[...Xe.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(s=>s.cssText).join(""),n=Xe.createElement("style");n.textContent=i,t.document.head.appendChild(n)}catch{const n=Xe.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var b5=Object.freeze({__proto__:null,isReal:Kh,isEl:Wh,isInFrame:a5,createEl:Nt,textContent:Au,prependTo:P_,hasClass:up,addClass:kc,removeClass:Kb,toggleClass:u5,setAttributes:c5,getAttributes:Pl,getAttribute:A5,setAttribute:Fh,removeAttribute:Wb,blockTextSelection:h5,unblockTextSelection:d5,getBoundingClientRect:Ih,findPosition:Vp,getPointerPosition:qb,isTextNode:f5,emptyEl:Yb,normalizeContent:p5,appendContent:dE,insertContent:g5,isSingleLeftClick:zp,$:ou,$$:m5,computedStyle:Lh,copyStyleSheetsToWindow:v5});let y5=!1,M_;const DG=function(){if(M_.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Xe.getElementsByTagName("video")),e=Array.prototype.slice.call(Xe.getElementsByTagName("audio")),i=Array.prototype.slice.call(Xe.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(let s=0,r=n.length;s<r;s++){const o=n[s];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&M_(o);else{R_(1);break}}else y5||R_(1)};function R_(t,e){Kh()&&(e&&(M_=e),me.setTimeout(DG,t))}function O_(){y5=!0,me.removeEventListener("load",O_)}Kh()&&(Xe.readyState==="complete"?O_():me.addEventListener("load",O_));const w5=function(t){const e=Xe.createElement("style");return e.className=t,e},_5=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var _s=new WeakMap;const FG=3;let IG=FG;function ea(){return IG++}function cS(t,e){if(!_s.has(t))return;const i=_s.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&_s.delete(t)}function fE(t,e,i,n){i.forEach(function(s){t(e,s,n)})}function Xb(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||me.event;t={};for(const s in n)s!=="layerX"&&s!=="layerY"&&s!=="keyLocation"&&s!=="webkitMovementX"&&s!=="webkitMovementY"&&s!=="path"&&(s==="returnValue"&&n.preventDefault||(t[s]=n[s]));if(t.target||(t.target=t.srcElement||Xe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const s=Xe.documentElement,r=Xe.body;t.pageX=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Rm;const LG=function(){if(typeof Rm!="boolean"){Rm=!1;try{const t=Object.defineProperty({},"passive",{get(){Rm=!0}});me.addEventListener("test",null,t),me.removeEventListener("test",null,t)}catch{}}return Rm},PG=["touchstart","touchmove"];function yr(t,e,i){if(Array.isArray(e))return fE(yr,t,e,i);_s.has(t)||_s.set(t,{});const n=_s.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=ea()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(s,r){if(n.disabled)return;s=Xb(s);const o=n.handlers[s.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!s.isImmediatePropagationStopped();l++)try{a[l].call(t,s,r)}catch(c){Xt.error(c)}}}),n.handlers[e].length===1)if(t.addEventListener){let s=!1;LG()&&PG.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,n.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function ls(t,e,i){if(!_s.has(t))return;const n=_s.get(t);if(!n.handlers)return;if(Array.isArray(e))return fE(ls,t,e,i);const s=function(o,a){n.handlers[a]=[],cS(o,a)};if(e===void 0){for(const o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&s(t,o);return}const r=n.handlers[e];if(r){if(!i){s(t,e);return}if(i.guid)for(let o=0;o<r.length;o++)r[o].guid===i.guid&&r.splice(o--,1);cS(t,e)}}function qh(t,e,i){const n=_s.has(t)?_s.get(t):{},s=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Xb(e),n.dispatcher&&n.dispatcher.call(t,e,i),s&&!e.isPropagationStopped()&&e.bubbles===!0)qh.call(null,s,e,i);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){_s.has(e.target)||_s.set(e.target,{});const r=_s.get(e.target);e.target[e.type]&&(r.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function Jb(t,e,i){if(Array.isArray(e))return fE(Jb,t,e,i);const n=function(){ls(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||ea(),yr(t,e,n)}function pE(t,e,i){const n=function(){ls(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||ea(),yr(t,e,n)}var MG=Object.freeze({__proto__:null,fixEvent:Xb,on:yr,off:ls,trigger:qh,one:Jb,any:pE});const Kr=30,Ii=function(t,e,i){e.guid||(e.guid=ea());const n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},ta=function(t,e){let i=me.performance.now();return function(...s){const r=me.performance.now();r-i>=e&&(t(...s),i=r)}},C5=function(t,e,i,n=me){let s;const r=()=>{n.clearTimeout(s),s=null},o=function(){const a=this,l=arguments;let u=function(){s=null,u=null,i||t.apply(a,l)};!s&&i&&t.apply(a,l),n.clearTimeout(s),s=n.setTimeout(u,e)};return o.cancel=r,o};var RG=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Kr,bind_:Ii,throttle:ta,debounce:C5});let Td;class Wr{on(e,i){const n=this.addEventListener;this.addEventListener=()=>{},yr(this,e,i),this.addEventListener=n}off(e,i){ls(this,e,i)}one(e,i){const n=this.addEventListener;this.addEventListener=()=>{},Jb(this,e,i),this.addEventListener=n}any(e,i){const n=this.addEventListener;this.addEventListener=()=>{},pE(this,e,i),this.addEventListener=n}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=Xb(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),qh(this,e)}queueTrigger(e){Td||(Td=new Map);const i=e.type||e;let n=Td.get(this);n||(n=new Map,Td.set(this,n));const s=n.get(i);n.delete(i),me.clearTimeout(s);const r=me.setTimeout(()=>{n.delete(i),n.size===0&&(n=null,Td.delete(this)),this.trigger(e)},0);n.set(i,r)}}Wr.prototype.allowedEvents_={};Wr.prototype.addEventListener=Wr.prototype.on;Wr.prototype.removeEventListener=Wr.prototype.off;Wr.prototype.dispatchEvent=Wr.prototype.trigger;const Zb=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,za=t=>t instanceof Wr||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),OG=(t,e)=>{za(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},U_=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Iv=(t,e,i)=>{if(!t||!t.nodeName&&!za(t))throw new Error("Invalid target for ".concat(Zb(e),"#").concat(i,"; must be a DOM node or evented object."))},E5=(t,e,i)=>{if(!U_(t))throw new Error("Invalid event type for ".concat(Zb(e),"#").concat(i,"; must be a non-empty string or array."))},T5=(t,e,i)=>{if(typeof t!="function")throw new Error("Invalid listener for ".concat(Zb(e),"#").concat(i,"; must be a function."))},P1=(t,e,i)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let s,r,o;return n?(s=t.eventBusEl_,e.length>=3&&e.shift(),[r,o]=e):[s,r,o]=e,Iv(s,t,i),E5(r,t,i),T5(o,t,i),o=Ii(t,o),{isTargetingSelf:n,target:s,type:r,listener:o}},ec=(t,e,i,n)=>{Iv(t,t,e),t.nodeName?MG[e](t,i,n):t[e](i,n)},UG={on(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=P1(this,t,"on");if(ec(i,"on",n,s),!e){const r=()=>this.off(i,n,s);r.guid=s.guid;const o=()=>this.off("dispose",r);o.guid=s.guid,ec(this,"on","dispose",r),ec(i,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=P1(this,t,"one");if(e)ec(i,"one",n,s);else{const r=(...o)=>{this.off(i,n,r),s.apply(null,o)};r.guid=s.guid,ec(i,"one",n,r)}},any(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=P1(this,t,"any");if(e)ec(i,"any",n,s);else{const r=(...o)=>{this.off(i,n,r),s.apply(null,o)};r.guid=s.guid,ec(i,"any",n,r)}},off(t,e,i){if(!t||U_(t))ls(this.eventBusEl_,t,e);else{const n=t,s=e;Iv(n,this,"off"),E5(s,this,"off"),T5(i,this,"off"),i=Ii(this,i),this.off("dispose",i),n.nodeName?(ls(n,s,i),ls(n,"dispose",i)):za(n)&&(n.off(s,i),n.off("dispose",i))}},trigger(t,e){Iv(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!U_(i))throw new Error("Invalid event type for ".concat(Zb(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.");return qh(this.eventBusEl_,t,e)}};function gE(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'.concat(i,'" does not refer to an element.'));t.eventBusEl_=t[i]}else t.eventBusEl_=Nt("span",{className:"vjs-event-bus"});return Object.assign(t,UG),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&_s.has(n)&&_s.delete(n)}),me.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const NG={state:{},setState(t){typeof t=="function"&&(t=t());let e;return sh(t,(i,n)=>{this.state[n]!==i&&(e=e||{},e[n]={from:this.state[n],to:i}),this.state[n]=i}),e&&za(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function x5(t,e){return Object.assign(t,NG),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&za(t)&&t.on("statechanged",t.handleStateChanged),t}const cp=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},rn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},S5=function(t,e){return rn(t)===rn(e)};var HG=Object.freeze({__proto__:null,toLowerCase:cp,toTitleCase:rn,titleCaseEquals:S5});class Qe{constructor(e,i,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Di({},this.options_),i=this.options_=Di(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_="".concat(s,"_component_").concat(ea())}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),i.evented!==!1&&(gE(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),x5(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,i){}off(e,i){}one(e,i){}any(e,i){}trigger(e,i){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Di(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,n){return Nt(e,i,n)}localize(e,i,n=e){const s=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[s],a=s&&s.split("-")[0],l=r&&r[a];let u=n;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),i&&(u=u.replace(/\{(\d+)\}/g,function(c,A){const h=i[A-1];let g=h;return typeof h>"u"&&(g=c),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,s)=>n.concat(s),[]);let i=this;for(let n=0;n<e.length;n++)if(i=i.getChild(e[n]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",s=Nt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=Xe.createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const o=Xe.createElementNS(n,"use");return r.appendChild(o),o.setAttributeNS(null,"href","#vjs-icon-".concat(e)),s.appendChild(r),this.iconIsSet_?i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")):i.appendChild(s),this.iconIsSet_=!0,s}addChild(e,i={},n=this.children_.length){let s,r;if(typeof e=="string"){r=rn(e);const o=i.componentClass||r;i.name=r;const a=Qe.getComponent(o);if(!a)throw new Error("Component ".concat(o," does not exist"));if(typeof a!="function")return null;s=new a(this.player_||this,i)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(n,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),r=r||s.name&&rn(s.name()),r&&(this.childNameIndex_[r]=s,this.childNameIndex_[cp(r)]=s),typeof s.el=="function"&&s.el()){let o=null;this.children_[n+1]&&(this.children_[n+1].el_?o=this.children_[n+1].el_:Wh(this.children_[n+1])&&(o=this.children_[n+1])),this.contentEl().insertBefore(s.el(),o)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){i=!0,this.children_.splice(s,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[rn(e.name())]=null,this.childNameIndex_[cp(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,n=o=>{const a=o.name;let l=o.opts;if(i[a]!==void 0&&(l=i[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let s;const r=Qe.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(o){return!s.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=Qe.getComponent(o.opts.componentClass||rn(o.name));return a&&!r.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return ou(e,i||this.contentEl())}$$(e,i){return m5(e,i||this.contentEl())}hasClass(e){return up(this.el_,e)}addClass(...e){kc(this.el_,...e)}removeClass(...e){Kb(this.el_,...e)}toggleClass(e,i){u5(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return A5(this.el_,e)}setAttribute(e,i){Fh(this.el_,e,i)}removeAttribute(e){Wb(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,n){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],r=s.indexOf("px");return parseInt(r!==-1?s.slice(0,r):this.el_["offset"+rn(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Lh(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const n="offset".concat(rn(e));i=this.el_[n]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(Pt.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const n=10,s=200;let r;this.on("touchstart",function(a){a.touches.length===1&&(i={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=me.performance.now(),r=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)r=!1;else if(i){const l=a.touches[0].pageX-i.pageX,u=a.touches[0].pageY-i.pageY;Math.sqrt(l*l+u*u)>n&&(r=!1)}});const o=function(){r=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){i=null,r===!0&&me.performance.now()-e<s&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Ii(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const n=function(s){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,i){var n;return e=Ii(this,e),this.clearTimersOnDispose_(),n=me.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},i),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),me.clearTimeout(e)),e}setInterval(e,i){e=Ii(this,e),this.clearTimersOnDispose_();const n=me.setInterval(e,i);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),me.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=Ii(this,e),i=me.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),i=Ii(this,i);const n=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),me.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((n,s)=>this[i](s))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error('Illegal component name, "'.concat(e,'"; must be a non-empty string.'));const n=Qe.getComponent("Tech"),s=n&&n.isTech(i),r=Qe===i||Qe.prototype.isPrototypeOf(i.prototype);if(s||!r){let a;throw s?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error('Illegal component, "'.concat(e,'"; ').concat(a,"."))}e=rn(e),Qe.components_||(Qe.components_={});const o=Qe.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Qe.components_[e]=i,Qe.components_[cp(e)]=i,i}static getComponent(e){if(!(!e||!Qe.components_))return Qe.components_[e]}}Qe.registerComponent("Component",Qe);function QG(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(e,") is non-numeric or out of bounds (0-").concat(i,")."))}function AS(t,e,i,n){return QG(t,n,i.length-1),i[n][e]}function M1(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:AS.bind(null,"start",0,t),end:AS.bind(null,"end",1,t)},me.Symbol&&me.Symbol.iterator&&(e[me.Symbol.iterator]=()=>(t||[]).values()),e}function Go(t,e){return Array.isArray(t)?M1(t):t===void 0||e===void 0?M1():M1([[t,e]])}const B5=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),n=Math.floor(t/60%60),s=Math.floor(t/3600);const r=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=n=i="-"),s=s>0||o>0?s+":":"",n=((s||r>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,s+n+i};let mE=B5;function k5(t){mE=t}function D5(){mE=B5}function Hc(t,e=t){return mE(t,e)}var $G=Object.freeze({__proto__:null,createTimeRanges:Go,createTimeRange:Go,setFormatTime:k5,resetFormatTime:D5,formatTime:Hc});function F5(t,e){let i=0,n,s;if(!e)return 0;(!t||!t.length)&&(t=Go(0,0));for(let r=0;r<t.length;r++)n=t.start(r),s=t.end(r),s>e&&(s=e),i+=s-n;return i/e}function Cs(t){if(t instanceof Cs)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Xo(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Cs.defaultMessages[this.code]||"")}Cs.prototype.code=0;Cs.prototype.message="";Cs.prototype.status=null;Cs.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Cs.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<Cs.errorTypes.length;t++)Cs[Cs.errorTypes[t]]=t,Cs.prototype[Cs.errorTypes[t]]=t;function Ap(t){return t!=null&&typeof t.then=="function"}function Oo(t){Ap(t)&&t.then(null,e=>{})}const N_=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,n,s)=>(t[n]&&(i[n]=t[n]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},jG=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const r=N_(s.track);return s.src&&(r.src=s.src),r}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return i.indexOf(s)===-1}).map(N_))},VG=function(t,e){return t.forEach(function(i){const n=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(s=>n.addCue(s))}),e.textTracks()};var hS={textTracksToJson:jG,jsonToTextTracks:VG,trackToJson_:N_};const R1="vjs-modal-dialog";class Yh extends Qe{constructor(e,i){super(e,i),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Nt("div",{className:"".concat(R1,"-content")},{role:"document"}),this.descEl_=Nt("p",{className:"".concat(R1,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),Au(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(R1," vjs-hidden ").concat(super.buildCSSClass())}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let n=this.getChild("closeButton");if(i&&!n){const s=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(n,"close",this.close_)}!i&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),n=i.parentNode,s=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(i),this.empty(),g5(i,e),this.trigger("modalfill"),s?n.insertBefore(i,s):n.appendChild(i);const r=this.getChild("closeButton");r&&n.appendChild(r.el_)}empty(){this.trigger("beforemodalempty"),Yb(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Xe.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),Pt.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!Pt.isEventKey(e,"Tab"))return;const i=this.focusableEls_(),n=this.el_.querySelector(":focus");let s;for(let r=0;r<i.length;r++)if(n===i[r]){s=r;break}Xe.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof me.HTMLAnchorElement||i instanceof me.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof me.HTMLInputElement||i instanceof me.HTMLSelectElement||i instanceof me.HTMLTextAreaElement||i instanceof me.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof me.HTMLIFrameElement||i instanceof me.HTMLObjectElement||i instanceof me.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}Yh.prototype.options_={pauseOnOpen:!0,temporary:!0};Qe.registerComponent("ModalDialog",Yh);class Ph extends Wr{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},za(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let n=0,s=this.length;n<s;n++)if(this[n]===e){i=this[n],i.off&&i.off(),this.tracks_.splice(n,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let n=0,s=this.length;n<s;n++){const r=this[n];if(r.id===e){i=r;break}}return i}}Ph.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ph.prototype.allowedEvents_)Ph.prototype["on"+t]=null;const O1=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class zG extends Ph{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){O1(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&O1(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,O1(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const U1=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class GG extends Ph{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){U1(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&U1(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,U1(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class I5 extends Ph{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class KG{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,n=e.length;i<n;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let n=0,s=this.trackElements_.length;n<s;n++)if(e===this.trackElements_[n].track){i=this.trackElements_[n];break}return i}removeTrackElement_(e){for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class Lv{constructor(e){Lv.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let n=0;const s=e.length;this.cues_=e,this.length_=e.length;const r=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(i<s)for(n=i;n<s;n++)r.call(this,n)}getCueById(e){let i=null;for(let n=0,s=this.length;n<s;n++){const r=this[n];if(r.id===e){i=r;break}}return i}}const WG={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},qG={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},YG={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},dS={disabled:"disabled",hidden:"hidden",showing:"showing"};class vE extends Wr{constructor(e={}){super();const i={id:e.id||"vjs_track_"+ea(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const s in i)Object.defineProperty(this,s,{get(){return i[s]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(s){s!==n&&(n=s,this.trigger("labelchange"))}})}}const bE=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],i=Xe.createElement("a");i.href=t;const n={};for(let s=0;s<e.length;s++)n[e[s]]=i[e[s]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=me.location.protocol),n.host||(n.host=me.location.host),n},L5=function(t){if(!t.match(/^https?:\/\//)){const e=Xe.createElement("a");e.href=t,t=e.href}return t},yE=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},ey=function(t,e=me.location){const i=bE(t);return(i.protocol===":"?e.protocol:i.protocol)+i.host!==e.protocol+e.host};var XG=Object.freeze({__proto__:null,parseUrl:bE,getAbsoluteURL:L5,getFileExtension:yE,isCrossOrigin:ey});const fS=function(t,e){const i=new me.WebVTT.Parser(me,me.vttjs,me.WebVTT.StringDecoder()),n=[];i.oncue=function(s){e.addCue(s)},i.onparsingerror=function(s){n.push(s)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(me.console&&me.console.groupCollapsed&&me.console.groupCollapsed("Text Track parsing errors for ".concat(e.src)),n.forEach(s=>Xt.error(s)),me.console&&me.console.groupEnd&&me.console.groupEnd()),i.flush()},pS=function(t,e){const i={uri:t},n=ey(t);n&&(i.cors=n);const s=e.tech_.crossOrigin()==="use-credentials";s&&(i.withCredentials=s),tI(i,Ii(this,function(r,o,a){if(r)return Xt.error(r,o);e.loaded_=!0,typeof me.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Xt.error("vttjs failed to load, stopping trying to process ".concat(e.src));return}return fS(a,e)}):fS(a,e)}))};class gg extends vE{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=Di(e,{kind:YG[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=dS[i.mode]||"disabled";const s=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(n="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const r=new Lv(this.cues_),o=new Lv(this.activeCues_);let a=!1;this.timeupdateHandler=Ii(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return n},set(u){dS[u]&&n!==u&&(n=u,!this.preload_&&n!=="disabled"&&this.cues.length===0&&pS(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),c=[];for(let A=0,h=this.cues.length;A<h;A++){const g=this.cues[A];g.startTime<=u&&g.endTime>=u&&c.push(g)}if(a=!1,c.length!==this.activeCues_.length)a=!0;else for(let A=0;A<c.length;A++)this.activeCues_.indexOf(c[A])===-1&&(a=!0);return this.activeCues_=c,o.setCues_(this.activeCues_),o},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&pS(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new me.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in i||(i[s]=e[s]);i.id=e.id,i.originalCue_=e}const n=this.tech_.textTracks();for(let s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const n=this.cues_[i];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}gg.prototype.allowedEvents_={cuechange:"cuechange"};class P5 extends vE{constructor(e={}){const i=Di(e,{kind:qG[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(s){typeof s!="boolean"||s===n||(n=s,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class M5 extends vE{constructor(e={}){const i=Di(e,{kind:WG[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(s){typeof s!="boolean"||s===n||(n=s,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class el extends Wr{constructor(e={}){super();let i;const n=new gg(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return n}}}),i=el.NONE,n.addEventListener("loadeddata",()=>{i=el.LOADED,this.trigger({type:"load",target:this})})}}el.prototype.allowedEvents_={load:"load"};el.NONE=0;el.LOADING=1;el.LOADED=2;el.ERROR=3;const Gr={audio:{ListClass:zG,TrackClass:P5,capitalName:"Audio"},video:{ListClass:GG,TrackClass:M5,capitalName:"Video"},text:{ListClass:I5,TrackClass:gg,capitalName:"Text"}};Object.keys(Gr).forEach(function(t){Gr[t].getterName="".concat(t,"Tracks"),Gr[t].privateName="".concat(t,"Tracks_")});const Mh={remoteText:{ListClass:I5,TrackClass:gg,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:KG,TrackClass:el,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},bs=Object.assign({},Gr,Mh);Mh.names=Object.keys(Mh);Gr.names=Object.keys(Gr);bs.names=[].concat(Mh.names).concat(Gr.names);function JG(t,e,i,n,s={}){const r=t.textTracks();s.kind=e,i&&(s.label=i),n&&(s.language=n),s.tech=t;const o=new bs.text.TrackClass(s);return r.addTrack(o),o}class Mt extends Qe{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),bs.names.forEach(n=>{const s=bs[n];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e["native".concat(n,"Tracks")]===!1&&(this["featuresNative".concat(n,"Tracks")]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new bs.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ii(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Go(0,0)}bufferedPercent(){return F5(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Gr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const n=this["".concat(i,"Tracks")]()||[];let s=n.length;for(;s--;){const r=n[s];i==="text"&&this.removeRemoteTextTrack(r),n.removeTrack(r)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const n=e[i];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Cs(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Go(0,0):Go()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Gr.names.forEach(e=>{const i=Gr[e],n=()=>{this.trigger("".concat(e,"trackchange"))},s=this[i.getterName]();s.addEventListener("removetrack",n),s.addEventListener("addtrack",n),this.on("dispose",()=>{s.removeEventListener("removetrack",n),s.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!me.WebVTT)if(Xe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Dh(Ix)&&Object.keys(Ix).length>0){this.trigger("vttjsloaded");return}const e=Xe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),me.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),n=a=>e.addTrack(a.track),s=a=>e.removeTrack(a.track);i.on("addtrack",n),i.on("removetrack",s),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),o=()=>{r();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",r),l.mode==="showing"&&l.addEventListener("cuechange",r)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",s),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",r)})}addTextTrack(e,i,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return JG(this,e,i,n)}createRemoteTextTrack(e){const i=Di(e,{tech:this});return new Mh.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const n=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=ea();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return Mt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Mt||e instanceof Mt||e===Mt}static registerTech(e,i){if(Mt.techs_||(Mt.techs_={}),!Mt.isTech(i))throw new Error("Tech ".concat(e," must be a Tech"));if(!Mt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Mt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=rn(e),Mt.techs_[e]=i,Mt.techs_[cp(e)]=i,e!=="Tech"&&Mt.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(Mt.techs_&&Mt.techs_[e])return Mt.techs_[e];if(e=rn(e),me&&me.videojs&&me.videojs[e])return Xt.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),me.videojs[e]}}}bs.names.forEach(function(t){const e=bs[t];Mt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Mt.prototype.featuresVolumeControl=!0;Mt.prototype.featuresMuteControl=!0;Mt.prototype.featuresFullscreenResize=!1;Mt.prototype.featuresPlaybackRate=!1;Mt.prototype.featuresProgressEvents=!1;Mt.prototype.featuresSourceset=!1;Mt.prototype.featuresTimeupdateEvents=!1;Mt.prototype.featuresNativeTextTracks=!1;Mt.prototype.featuresVideoFrameCallback=!1;Mt.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){let s=t.sourceHandlers;s||(s=t.sourceHandlers=[]),n===void 0&&(n=s.length),s.splice(n,0,i)},t.canPlayType=function(i){const n=t.sourceHandlers||[];let s;for(let r=0;r<n.length;r++)if(s=n[r].canPlayType(i),s)return s;return""},t.selectSourceHandler=function(i,n){const s=t.sourceHandlers||[];let r;for(let o=0;o<s.length;o++)if(r=s[o].canHandleSource(i,n),r)return s[o];return null},t.canPlaySource=function(i,n){const s=t.selectSourceHandler(i,n);return s?s.canHandleSource(i,n):""},["seekable","seeking","duration"].forEach(function(i){const n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:Xt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Qe.registerComponent("Tech",Mt);Mt.registerTech("Tech",Mt);Mt.defaultTechOrder_=[];const Dc={},H_={},Pv={};function ZG(t,e){Dc[t]=Dc[t]||[],Dc[t].push(e)}function eK(t,e,i){t.setTimeout(()=>lc(e,Dc[e.type],i,t),1)}function tK(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function iK(t,e,i){return t.reduceRight(wE(i),e[i]())}function nK(t,e,i,n){return e[i](t.reduce(wE(i),n))}function gS(t,e,i,n=null){const s="call"+rn(i),r=t.reduce(wE(s),n),o=r===Pv,a=o?null:e[i](r);return oK(t,i,a,o),a}const sK={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},rK={setCurrentTime:1,setMuted:1,setVolume:1},mS={play:1,pause:1};function wE(t){return(e,i)=>e===Pv?Pv:i[t]?i[t](e):e}function oK(t,e,i,n){for(let s=t.length-1;s>=0;s--){const r=t[s];r[e]&&r[e](n,i)}}function aK(t){H_[t.id()]=null}function lK(t,e){const i=H_[t.id()];let n=null;if(i==null)return n=e(t),H_[t.id()]=[[e,n]],n;for(let s=0;s<i.length;s++){const[r,o]=i[s];r===e&&(n=o)}return n===null&&(n=e(t),i.push([e,n])),n}function lc(t={},e=[],i,n,s=[],r=!1){const[o,...a]=e;if(typeof o=="string")lc(t,Dc[o],i,n,s,r);else if(o){const l=lK(n,o);if(!l.setSource)return s.push(l),lc(t,a,i,n,s,r);l.setSource(Object.assign({},t),function(u,c){if(u)return lc(t,a,i,n,s,r);s.push(l),lc(c,t.type===c.type?a:Dc[c.type],i,n,s,r)})}else a.length?lc(t,a,i,n,s,r):r?i(t,s):lc(t,Dc["*"],i,n,s,!0)}const uK={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Mv=function(t=""){const e=yE(t);return uK[e.toLowerCase()]||""},cK=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(s=>s.src===e);if(i.length)return i[0].type;const n=t.$$("source");for(let s=0;s<n.length;s++){const r=n[s];if(r.type&&r.src&&r.src===e)return r.type}return Mv(e)},R5=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=R5(i),Array.isArray(i)?e=e.concat(i):Xo(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[vS({src:t})]:Xo(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[vS(t)]:t=[];return t};function vS(t){if(!t.type){const e=Mv(t.src);e&&(t.type=e)}return t}var AK='<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">\n      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>';class hK extends Qe{constructor(e,i,n){const s=Di({createEl:!1},i);if(super(e,s,n),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let r=0,o=i.playerOptions.techOrder;r<o.length;r++){const a=rn(o[r]);let l=Mt.getTech(a);if(a||(l=Qe.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(i.playerOptions.sources)}}Qe.registerComponent("MediaLoader",hK);class ty extends Qe{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",i={},n={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&Xt.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),n=Object.assign({role:"button"},n),this.tabIndex_=i.tabIndex;const s=Nt(e,i,n);return this.player_.options_.experimentalSvgIcons||s.appendChild(Nt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Nt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Au(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",n)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSClass())}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Qe.registerComponent("ClickableComponent",ty);class Q_ extends ty{constructor(e,i){super(e,i),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Nt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Nt("picture",{className:"vjs-poster",tabIndex:-1},{},Nt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Oo(this.player_.play()):this.player_.pause())}}Q_.prototype.crossorigin=Q_.prototype.crossOrigin;Qe.registerComponent("PosterImage",Q_);const Lr="#222",bS="#ccc",dK={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function N1(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function xd(t,e,i){try{t.style[e]=i}catch{return}}function yS(t){return t?"".concat(t,"px"):""}class fK extends Qe{constructor(e,i,n){super(e,i,n);const s=o=>this.updateDisplay(o),r=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",s),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Ii(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",r),e.on("playerresize",r);const o=me.screen.orientation||me,a=me.screen.orientation?"change":"orientationchange";o.addEventListener(a,r),e.on("dispose",()=>o.removeEventListener(a,r));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let s,r,o;for(let a=0;a<i.length;a++){const l=i[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?o=l:o||(o=l):n&&!n.enabled?(o=null,s=null,r=null):l.default&&(l.kind==="descriptions"&&!s?s=l:l.kind in e&&!r&&(r=l))}o?o.mode="showing":r?r.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof me.WebVTT=="function"&&me.WebVTT.processCues(me,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let n=null,s=null,r=e.length;for(;r--;){const o=e[r];o.mode==="showing"&&(o.kind==="descriptions"?n=o:s=o)}s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!me.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),n=e/i,s=this.player_.videoWidth()/this.player_.videoHeight();let r=0,o=0;Math.abs(n-s)>.1&&(n>s?r=Math.round((e-i*s)/2):o=Math.round((i-e/s)/2)),xd(this.el_,"insetInline",yS(r)),xd(this.el_,"insetBlock",yS(o))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),n=e.activeCues;let s=n.length;for(;s--;){const r=n[s];if(!r)continue;const o=r.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&xd(o.firstChild,"color",N1(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&xd(o.firstChild,"backgroundColor",N1(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?xd(o,"backgroundColor",N1(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?o.firstChild.style.textShadow="2px 2px 3px ".concat(Lr,", 2px 2px 4px ").concat(Lr,", 2px 2px 5px ").concat(Lr):i.edgeStyle==="raised"?o.firstChild.style.textShadow="1px 1px ".concat(Lr,", 2px 2px ").concat(Lr,", 3px 3px ").concat(Lr):i.edgeStyle==="depressed"?o.firstChild.style.textShadow="1px 1px ".concat(bS,", 0 1px ").concat(bS,", -1px -1px ").concat(Lr,", 0 -1px ").concat(Lr):i.edgeStyle==="uniform"&&(o.firstChild.style.textShadow="0 0 4px ".concat(Lr,", 0 0 4px ").concat(Lr,", 0 0 4px ").concat(Lr,", 0 0 4px ").concat(Lr))),i.fontPercent&&i.fontPercent!==1){const a=me.parseFloat(o.style.fontSize);o.style.fontSize=a*i.fontPercent+"px",o.style.height="auto",o.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=dK[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof me.WebVTT!="function"||e.every(n=>!n.activeCues))return;const i=[];for(let n=0;n<e.length;++n){const s=e[n];for(let r=0;r<s.activeCues.length;++r)i.push(s.activeCues[r])}me.WebVTT.processCues(me,i,this.el_);for(let n=0;n<e.length;++n){const s=e[n];for(let r=0;r<s.activeCues.length;++r){const o=s.activeCues[r].displayState;kc(o,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:n)),s.language&&Fh(o,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}Qe.registerComponent("TextTrackDisplay",fK);class pK extends Qe{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=Nt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(n),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Qe.registerComponent("LoadingSpinner",pK);class br extends ty{createEl(e,i={},n={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),n=Object.assign({type:"button"},n);const s=Nt(e,i,n);return this.player_.options_.experimentalSvgIcons||s.appendChild(Nt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,i={}){const n=this.constructor.name;return Xt.warn("Adding an actionable (user controllable) child to a Button (".concat(n,") is not supported; use a ClickableComponent instead.")),Qe.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}Qe.registerComponent("Button",br);class O5 extends br{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Oo(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),s=n&&n.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const r=()=>s.focus();Ap(i)?i.then(r,()=>{}):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}O5.prototype.controlText_="Play Video";Qe.registerComponent("BigPlayButton",O5);class gK extends br{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSClass())}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){Pt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Qe.registerComponent("CloseButton",gK);class U5 extends br{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),i.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSClass())}handleClick(e){this.player_.paused()?Oo(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}U5.prototype.controlText_="Play";Qe.registerComponent("PlayToggle",U5);class Xh extends Qe{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended"],n=>this.updateContent(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:"".concat(e," vjs-time-control vjs-control")}),n=Nt("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_)," ")},{role:"presentation"});return i.appendChild(n),this.contentEl_=Nt("span",{className:"".concat(e,"-display")},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Hc(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,Xt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Xe.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Xh.prototype.labelText_="Time";Xh.prototype.controlText_="Time";Qe.registerComponent("TimeDisplay",Xh);class _E extends Xh{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}_E.prototype.labelText_="Current Time";_E.prototype.controlText_="Current Time";Qe.registerComponent("CurrentTimeDisplay",_E);class CE extends Xh{constructor(e,i){super(e,i);const n=s=>this.updateContent(s);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}CE.prototype.labelText_="Duration";CE.prototype.controlText_="Duration";Qe.registerComponent("DurationDisplay",CE);class mK extends Qe{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return i.appendChild(n),e.appendChild(i),e}}Qe.registerComponent("TimeDivider",mK);class EE extends Xh{constructor(e,i){super(e,i),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Nt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}EE.prototype.labelText_="Remaining Time";EE.prototype.controlText_="Remaining Time";Qe.registerComponent("RemainingTimeDisplay",EE);class vK extends Qe{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Nt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Nt("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type")," ")})),this.contentEl_.appendChild(Xe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Qe.registerComponent("LiveDisplay",vK);class N5 extends br{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Nt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}N5.prototype.controlText_="Seek to live, currently playing live";Qe.registerComponent("SeekToLive",N5);function mg(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var bK=Object.freeze({__proto__:null,clamp:mg});class TE extends Qe{constructor(e,i){super(e,i),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},n={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,i,n)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Zo&&e.preventDefault(),h5(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;d5(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(mg(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=qb(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){Pt.isEventKey(e,"Left")||Pt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Pt.isEventKey(e,"Right")||Pt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Qe.registerComponent("Slider",TE);const H1=(t,e)=>mg(t/e*100,0,100).toFixed(2)+"%";class yK extends Qe{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=Nt("span",{className:"vjs-control-text"}),n=Nt("span",{textContent:this.localize("Loaded")}),s=Xe.createTextNode(": ");return this.percentageEl_=Nt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(s),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,n=this.player_.buffered(),s=i&&i.isLive()?i.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),o=this.partEls_,a=H1(r,s);this.percent_!==a&&(this.el_.style.width=a,Au(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const u=n.start(l),c=n.end(l);let A=o[l];A||(A=this.el_.appendChild(Nt()),o[l]=A),!(A.dataset.start===u&&A.dataset.end===c)&&(A.dataset.start=u,A.dataset.end=c,A.style.left=H1(u,r),A.style.width=H1(c-u,r))}for(let l=o.length;l>n.length;l--)this.el_.removeChild(o[l-1]);o.length=n.length})}}Qe.registerComponent("LoadProgressBar",yK);class wK extends Qe{constructor(e,i){super(e,i),this.update=ta(Ii(this,this.update),Kr)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,n){const s=Vp(this.el_),r=Ih(this.player_.el()),o=e.width*i;if(!r||!s)return;const a=e.left-r.left+o,l=e.width-o+(r.right-e.right);let u=s.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>s.width&&(u=s.width),u=Math.round(u),this.el_.style.right="-".concat(u,"px"),this.write(n)}write(e){Au(this.el_,e)}updateTime(e,i,n,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let r;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-i*a;r=(l<1?"":"-")+Hc(l,a)}else r=Hc(n,o);this.update(e,i,r),s&&s()})}}Qe.registerComponent("TimeTooltip",wK);class xE extends Qe{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=ta(Ii(this,this.update),Kr)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const n=this.getChild("timeTooltip");if(!n)return;const s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,i,s)}}xE.prototype.options_={children:[]};!Es&&!Jo&&xE.prototype.options_.children.push("timeTooltip");Qe.registerComponent("PlayProgressBar",xE);class H5 extends Qe{constructor(e,i){super(e,i),this.update=ta(Ii(this,this.update),Kr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const n=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,n,()=>{this.el_.style.left="".concat(e.width*i,"px")})}}H5.prototype.options_={children:["timeTooltip"]};Qe.registerComponent("MouseTimeDisplay",H5);const Om=5,wS=12;class SE extends TE{constructor(e,i){super(e,i),this.setEventHandlers_()}setEventHandlers_(){this.update_=Ii(this,this.update),this.update=ta(this.update_,Kr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Xe&&"visibilityState"in Xe&&this.on(Xe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Xe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Kr))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Xe.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let r=this.player_.duration();s&&s.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==n||this.duration_!==r)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Hc(n,r),Hc(r,r)],"{1} of {2}")),this.currentTime_=n,this.duration_=r),this.bar&&this.bar.update(Ih(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let i;const n=this.player_.liveTracker;return n&&n.isLive()?(i=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){zp(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!zp(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const s=this.calculateDistance(e),r=this.player_.liveTracker;if(!r||!r.isLive())n=s*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(s>=.99){r.seekToLiveEdge();return}const o=r.seekableStart(),a=r.liveCurrentTime();if(n=o+s*r.liveWindow(),n>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}this.userSeek_(n)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Oo(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Om)}stepBack(){this.userSeek_(this.player_.currentTime()-Om)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(Pt.isEventKey(e,"Space")||Pt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Pt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Pt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Pt(e))){e.preventDefault(),e.stopPropagation();const n=(Pt.codes[Pt(e)]-Pt.codes[0])*10/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else Pt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Om*wS)):Pt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Om*wS)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Xe&&"visibilityState"in Xe&&this.off(Xe,"visibilitychange",this.toggleVisibility_),super.dispose()}}SE.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Es&&!Jo&&SE.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Qe.registerComponent("SeekBar",SE);class Q5 extends Qe{constructor(e,i){super(e,i),this.handleMouseMove=ta(Ii(this,this.handleMouseMove),Kr),this.throttledHandleMouseSeek=ta(Ii(this,this.handleMouseSeek),Kr),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const n=i.getChild("playProgressBar"),s=i.getChild("mouseTimeDisplay");if(!n&&!s)return;const r=i.el(),o=Vp(r);let a=qb(r,e).x;a=mg(a,0,1),s&&s.update(o,a),n&&n.update(o,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Oo(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Q5.prototype.options_={children:["seekBar"]};Qe.registerComponent("ProgressControl",Q5);class $5 extends br{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return"vjs-picture-in-picture-control vjs-hidden ".concat(super.buildCSSClass())}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Xe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in me?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Xe.exitPictureInPicture=="function"&&super.show()}}$5.prototype.controlText_="Picture-in-Picture";Qe.registerComponent("PictureInPictureToggle",$5);class j5 extends br{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Xe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCSSClass())}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}j5.prototype.controlText_="Fullscreen";Qe.registerComponent("FullscreenToggle",j5);const _K=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class CK extends Qe{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Qe.registerComponent("VolumeLevel",CK);class EK extends Qe{constructor(e,i){super(e,i),this.update=ta(Ii(this,this.update),Kr)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,n,s){if(!n){const r=Ih(this.el_),o=Ih(this.player_.el()),a=e.width*i;if(!o||!r)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let c=r.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-".concat(c,"px")}this.write("".concat(s,"%"))}write(e){Au(this.el_,e)}updateVolume(e,i,n,s,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,n,s.toFixed(0)),r&&r()})}}Qe.registerComponent("VolumeLevelTooltip",EK);class V5 extends Qe{constructor(e,i){super(e,i),this.update=ta(Ii(this,this.update),Kr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,n){const s=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,n,s,()=>{n?this.el_.style.bottom="".concat(e.height*i,"px"):this.el_.style.left="".concat(e.width*i,"px")})}}V5.prototype.options_={children:["volumeLevelTooltip"]};Qe.registerComponent("MouseVolumeLevelDisplay",V5);class iy extends TE{constructor(e,i){super(e,i),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){zp(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const n=this.el(),s=Ih(n),r=this.vertical();let o=qb(n,e);o=r?o.y:o.x,o=mg(o,0,1),i.update(s,o,r)}zp(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}iy.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Es&&!Jo&&iy.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");iy.prototype.playerEvent="volumechange";Qe.registerComponent("VolumeBar",iy);class z5 extends Qe{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||Dh(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),_K(this,e),this.throttledHandleMouseMove=ta(Ii(this,this.handleMouseMove),Kr),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(e)})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}z5.prototype.options_={children:["volumeBar"]};Qe.registerComponent("VolumeControl",z5);const TK=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class G5 extends br{constructor(e,i){super(e,i),TK(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return"vjs-mute-control ".concat(super.buildCSSClass())}handleClick(e){const i=this.player_.volume(),n=this.player_.lastVolume_();if(i===0){const s=n<.1?.1:n;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),Es&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),Kb(this.el_,[0,1,2,3].reduce((n,s)=>n+"".concat(s?" ":"","vjs-vol-").concat(s),"")),kc(this.el_,"vjs-vol-".concat(i))}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}G5.prototype.controlText_="Mute";Qe.registerComponent("MuteToggle",G5);class K5 extends Qe{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||Dh(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(e)})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){Pt.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),yr(Xe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ls(Xe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){Pt.isEventKey(e,"Esc")&&this.handleMouseOut()}}K5.prototype.options_={children:["muteToggle","volumeControl"]};Qe.registerComponent("VolumePanel",K5);class xK extends br{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("forward-".concat(this.skipTime)),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCSSClass())}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),n=this.player_.liveTracker,s=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;i+this.skipTime<=s?r=i+this.skipTime:r=s,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}Qe.registerComponent("SkipForward",xK);class W5 extends br{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("replay-".concat(this.skipTime)),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSSClass())}handleClick(e){const i=this.player_.currentTime(),n=this.player_.liveTracker,s=n&&n.isLive()&&n.seekableStart();let r;s&&i-this.skipTime<=s?r=s:i>=this.skipTime?r=i-this.skipTime:r=0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}W5.prototype.controlText_="Skip Backward";Qe.registerComponent("SkipBackward",W5);class q5 extends Qe{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof Qe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Qe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Nt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),yr(i,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||Xe.activeElement;if(!this.children().some(n=>n.el()===i)){const n=this.menuButton_;n&&n.buttonPressed_&&i!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const n=i.filter(s=>s.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){Pt.isEventKey(e,"Left")||Pt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Pt.isEventKey(e,"Right")||Pt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}Qe.registerComponent("Menu",q5);class BE extends Qe{constructor(e,i={}){super(e,i),this.menuButton_=new br(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=br.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=r=>this.handleClick(r);this.handleMenuKeyUp_=r=>this.handleMenuKeyUp(r),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",r=>this.handleKeyDown(r)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),yr(Xe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",r=>this.handleMouseLeave(r)),this.on("keydown",r=>this.handleSubmenuKeyDown(r))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new q5(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=Nt("li",{className:"vjs-menu-title",textContent:rn(this.options_.title),tabIndex:-1}),n=new Qe(this.player_,{el:i});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=br.prototype.buildCSSClass();return"vjs-menu-button ".concat(e," ").concat(i," ").concat(super.buildCSSClass())}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(super.buildCSSClass())}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ls(Xe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Pt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Pt.isEventKey(e,"Up")||Pt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(Pt.isEventKey(e,"Esc")||Pt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Pt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Es&&a5())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Qe.registerComponent("MenuButton",BE);class kE extends BE{constructor(e,i){const n=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!n)return;const s=Ii(this,this.update);n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)})}}Qe.registerComponent("TrackButton",kE);const SK=["Tab","Esc","Up","Down","Right","Left"];class vg extends ty{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,n){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),n),r=Nt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(r):s.replaceChild(r,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){SK.some(i=>Pt.isEventKey(e,i))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Qe.registerComponent("MenuItem",vg);class bg extends vg{constructor(e,i){const n=i.track,s=e.textTracks();i.label=n.label||n.language||"Unknown",i.selected=n.mode==="showing",super(e,i),this.track=n,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const r=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],r),s.addEventListener("change",r),s.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),s.removeEventListener("change",r),s.removeEventListener("selectedlanguagechange",o)}),s.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof me.Event!="object")try{a=new me.Event("change")}catch{}a||(a=Xe.createEvent("Event"),a.initEvent("change",!0,!0)),s.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const i=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let s=0;s<n.length;s++){const r=n[s];this.kinds.indexOf(r.kind)!==-1&&(r===i?r.mode!=="showing"&&(r.mode="showing"):r.mode!=="disabled"&&(r.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Qe.registerComponent("TextTrackMenuItem",bg);class Y5 extends bg{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let n=!0;for(let s=0,r=i.length;s<r;s++){const o=i[s];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let n=!0;for(let s=0,r=i.length;s<r;s++){const o=i[s];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Qe.registerComponent("OffTextTrackMenuItem",Y5);class Jh extends kE{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=bg){let n;this.label_&&(n="".concat(this.label_," off")),e.push(new Y5(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<s.length;r++){const o=s[r];if(this.kinds_.indexOf(o.kind)>-1){const a=new i(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-".concat(o.kind,"-menu-item")),e.push(a)}}return e}}Qe.registerComponent("TextTrackButton",Jh);class X5 extends vg{constructor(e,i){const n=i.track,s=i.cue,r=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=r&&r<s.endTime,super(e,i),this.track=n,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Qe.registerComponent("ChaptersTrackMenuItem",X5);class DE extends Jh{constructor(e,i,n){super(e,i,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSSClass())}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(rn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let n=0,s=i.length;n<s;n++){const r=i[n],o=new X5(this.player_,{track:this.track_,cue:r});e.push(o)}return e}}DE.prototype.kind_="chapters";DE.prototype.controlText_="Chapters";Qe.registerComponent("ChaptersButton",DE);class FE extends Jh{constructor(e,i,n){super(e,i,n),this.setIcon("audio-description");const s=e.textTracks(),r=Ii(this,this.handleTracksChange);s.addEventListener("change",r),this.on("dispose",function(){s.removeEventListener("change",r)})}handleTracksChange(e){const i=this.player().textTracks();let n=!1;for(let s=0,r=i.length;s<r;s++){const o=i[s];if(o.kind!==this.kind_&&o.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}}FE.prototype.kind_="descriptions";FE.prototype.controlText_="Descriptions";Qe.registerComponent("DescriptionsButton",FE);class IE extends Jh{constructor(e,i,n){super(e,i,n),this.setIcon("subtitles")}buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}}IE.prototype.kind_="subtitles";IE.prototype.controlText_="Subtitles";Qe.registerComponent("SubtitlesButton",IE);class LE extends bg{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Qe.registerComponent("CaptionSettingsMenuItem",LE);class PE extends Jh{constructor(e,i,n){super(e,i,n),this.setIcon("captions")}buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSSClass())}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new LE(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}PE.prototype.kind_="captions";PE.prototype.controlText_="Captions";Qe.registerComponent("CaptionsButton",PE);class J5 extends bg{createEl(e,i,n){const s=super.createEl(e,i,n),r=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):r.appendChild(Nt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Nt("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),s}}Qe.registerComponent("SubsCapsMenuItem",J5);class ME extends Jh{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(rn(this.label_))}buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new LE(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,J5),e}}ME.prototype.kinds_=["captions","subtitles"];ME.prototype.controlText_="Subtitles";Qe.registerComponent("SubsCapsButton",ME);class Z5 extends vg{constructor(e,i){const n=i.track,s=e.audioTracks();i.label=n.label||n.language||"Unknown",i.selected=n.enabled,super(e,i),this.track=n,this.addClass("vjs-".concat(n.kind,"-menu-item"));const r=(...o)=>{this.handleTracksChange.apply(this,o)};s.addEventListener("change",r),this.on("dispose",()=>{s.removeEventListener("change",r)})}createEl(e,i,n){const s=super.createEl(e,i,n),r=s.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(Nt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Nt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const s=i[n];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Qe.registerComponent("AudioTrackMenuItem",Z5);class eL extends kE{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSSClass())}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const s=i[n];e.push(new Z5(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}eL.prototype.controlText_="Audio Track";Qe.registerComponent("AudioTrackButton",eL);class RE extends vg{constructor(e,i){const n=i.rate,s=parseFloat(n,10);i.label=n,i.selected=s===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=n,this.rate=s,this.on(e,"ratechange",r=>this.update(r))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}RE.prototype.contentElType="button";Qe.registerComponent("PlaybackRateMenuItem",RE);class tL extends BE{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Nt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSSClass())}createItems(){const e=this.playbackRates(),i=[];for(let n=e.length-1;n>=0;n--)i.push(new RE(this.player(),{rate:e[n]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}tL.prototype.controlText_="Playback Rate";Qe.registerComponent("PlaybackRateMenuButton",tL);class iL extends Qe{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSSClass())}createEl(e="div",i={},n={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,n)}}Qe.registerComponent("Spacer",iL);class BK extends iL{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSSClass())}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Qe.registerComponent("CustomControlSpacer",BK);class nL extends Qe{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}nL.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Qe.registerComponent("ControlBar",nL);class sL extends Yh{constructor(e,i){super(e,i),this.on(e,"error",n=>this.open(n))}buildCSSClass(){return"vjs-error-display ".concat(super.buildCSSClass())}content(){const e=this.player().error();return e?this.localize(e.message):""}}sL.prototype.options_=Object.assign({},Yh.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Qe.registerComponent("ErrorDisplay",sL);const Q1="vjs-text-track-settings",_S=["#000","Black"],CS=["#00F","Blue"],ES=["#0FF","Cyan"],TS=["#0F0","Green"],xS=["#F0F","Magenta"],SS=["#F00","Red"],BS=["#FFF","White"],kS=["#FF0","Yellow"],$1=["1","Opaque"],j1=["0.5","Semi-Transparent"],DS=["0","Transparent"],pc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[_S,BS,SS,TS,CS,kS,xS,ES]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[$1,j1,DS]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[BS,_S,SS,TS,CS,kS,xS,ES]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[$1,j1]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[DS,j1,$1]}};pc.windowColor.options=pc.backgroundColor.options;function rL(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function kK(t,e){const i=t.options[t.options.selectedIndex].value;return rL(i,e)}function DK(t,e,i){if(e){for(let n=0;n<t.options.length;n++)if(rL(t.options[n].value,i)===e){t.selectedIndex=n;break}}}class FK extends Yh{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=Nt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),sh(pc,n=>{this.on(this.$(n.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,i="",n="label"){const s=pc[e],r=s.id.replace("%s",this.id_),o=[i,r].join(" ").trim();return["<".concat(n,' id="').concat(r,'" class="').concat(n==="label"?"vjs-label":"",'">'),this.localize(s.label),"</".concat(n,">"),'<select aria-labelledby="'.concat(o,'">')].concat(s.options.map(a=>{const l=r+"-"+a[1].replace(/\W+/g,"");return['<option id="'.concat(l,'" value="').concat(a[0],'" '),'aria-labelledby="'.concat(o," ").concat(l,'">'),this.localize(a[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e="captions-text-legend-".concat(this.id_);return['<fieldset class="vjs-fg vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e="captions-background-".concat(this.id_);return['<fieldset class="vjs-bg vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e="captions-window-".concat(this.id_);return['<fieldset class="vjs-window vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return Nt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return Nt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return Nt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'.concat(e,'">'),this.localize("Reset"),'<span class="vjs-control-text"> '.concat(e,"</span>"),"</button>",'<button type="button" class="vjs-done-button">'.concat(this.localize("Done"),"</button>")].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return t5(pc,(e,i,n)=>{const s=kK(this.$(i.selector),i.parser);return s!==void 0&&(e[n]=s),e},{})}setValues(e){sh(pc,(i,n)=>{DK(this.$(i.selector),e[n],i.parser)})}setDefaults(){sh(pc,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(me.localStorage.getItem(Q1))}catch(i){Xt.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?me.localStorage.setItem(Q1,JSON.stringify(e)):me.localStorage.removeItem(Q1)}catch(i){Xt.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,i=e&&e.subsCapsButton,n=e&&e.captionsButton;i?i.focus():n&&n.focus()}handleLanguagechange(){this.fill()}}Qe.registerComponent("TextTrackSettings",FK);class IK extends Qe{constructor(e,i){let n=i.ResizeObserver||me.ResizeObserver;i.ResizeObserver===null&&(n=!1);const s=Di({createEl:!n,reportTouchActivity:!1},i);super(e,s),this.ResizeObserver=i.ResizeObserver||me.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=C5(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const r=this.debouncedHandler_;let o=this.unloadListener_=function(){ls(this,"resize",r),ls(this,"unload",o),o=null};yr(this.el_.contentWindow,"unload",o),yr(this.el_.contentWindow,"resize",r)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Qe.registerComponent("ResizeManager",IK);const LK={trackingThreshold:20,liveTolerance:15};class PK extends Qe{constructor(e,i){const n=Di(LK,i,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(me.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+n;const s=this.liveCurrentTime(),r=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-r)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Kr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.end(n));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.start(n));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Qe.registerComponent("LiveTracker",PK);class MK extends Qe{constructor(e,i){super(e,i),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Nt("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(ea())}),description:Nt("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(ea())})},Nt("div",{className:"vjs-title-bar"},{},i5(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const r=this.state[s],o=this.els[s],a=n[s];Yb(o),r&&Au(o,r),i&&(i.removeAttribute(a),r&&i.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Qe.registerComponent("TitleBar",MK);const $_=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),n=[];let s="";if(!i.length)return!1;for(let r=0;r<i.length;r++){const o=i[r].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(s=n[0]),t.triggerSourceset(s),!0):!1},RK=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Xe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=Xe.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",me.Element.prototype.appendChild.call(this,i),this.innerHTML}}),oL=(t,e)=>{let i={};for(let n=0;n<t.length&&(i=Object.getOwnPropertyDescriptor(t[n],e),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},OK=t=>oL([t.el(),me.HTMLMediaElement.prototype,me.Element.prototype,RK],"innerHTML"),FS=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},n=OK(t),s=r=>(...o)=>{const a=r.apply(e,o);return $_(t),a};["append","appendChild","insertAdjacentHTML"].forEach(r=>{e[r]&&(i[r]=e[r],e[r]=s(i[r]))}),Object.defineProperty(e,"innerHTML",Di(n,{set:s(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(r=>{e[r]=i[r]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},UK=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?L5(me.Element.prototype.getAttribute.call(this,"src")):""},set(t){return me.Element.prototype.setAttribute.call(this,"src",t),t}}),NK=t=>oL([t.el(),me.HTMLMediaElement.prototype,UK],"src"),HK=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=NK(t),n=e.setAttribute,s=e.load;Object.defineProperty(e,"src",Di(i,{set:r=>{const o=i.set.call(e,r);return t.triggerSourceset(e.src),o}})),e.setAttribute=(r,o)=>{const a=n.call(e,r,o);return/src/i.test(r)&&t.triggerSourceset(e.src),a},e.load=()=>{const r=s.call(e);return $_(t)||(t.triggerSourceset(""),FS(t)),r},e.currentSrc?t.triggerSourceset(e.currentSrc):$_(t)||FS(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class lt extends Mt{constructor(e,i){super(e,i);const n=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const r=this.el_.childNodes;let o=r.length;const a=[];for(;o--;){const l=r[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!s&&!this.el_.hasAttribute("crossorigin")&&ey(l.src)&&(s=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&Xt.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(jp||zb)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),lt.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){HK(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const n=()=>{i=[];for(let r=0;r<e.length;r++){const o=e[r];o.kind==="metadata"&&i.push({track:o,storedMode:o.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const s=()=>{for(let r=0;r<i.length;r++){const o=i[r];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",s)})}overrideNative_(e,i){if(i!==this["featuresNative".concat(e,"Tracks")])return;const n=e.toLowerCase();this["".concat(n,"TracksListeners_")]&&Object.keys(this["".concat(n,"TracksListeners_")]).forEach(s=>{this.el()["".concat(n,"Tracks")].removeEventListener(s,this["".concat(n,"TracksListeners_")][s])}),this["featuresNative".concat(e,"Tracks")]=!i,this["".concat(n,"TracksListeners_")]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=Gr[e],n=this.el()[i.getterName],s=this[i.getterName]();if(!this["featuresNative".concat(i.capitalName,"Tracks")]||!n||!n.addEventListener)return;const r={change:a=>{const l={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(l),e==="text"&&this[Mh.remoteText.getterName]().trigger(l)},addtrack(a){s.addTrack(a.track)},removetrack(a){s.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<s.length;l++){let u=!1;for(let c=0;c<n.length;c++)if(n[c]===s[l]){u=!0;break}u||a.push(s[l])}for(;a.length;)s.removeTrack(a.shift())};this[i.getterName+"Listeners_"]=r,Object.keys(r).forEach(a=>{const l=r[a];n.addEventListener(a,l),this.on("dispose",u=>n.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){Gr.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),lt.disposeMediaElement(e),e=n}else{e=Xe.createElement("video");const n=this.options_.tag&&Pl(this.options_.tag),s=Di({},n);(!jp||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,c5(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Fh(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let n=0;n<i.length;n++){const s=i[n],r=this.options_[s];typeof r<"u"&&(r?Fh(e,s,s):Wb(e,s),e[s]=r)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const s=function(){n=!0};this.on("loadstart",s);const r=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",r),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",r),n||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Gb?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){Xt(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Jo&&Zo&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Oo(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){lt.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):super.addTextTrack(e,i,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=Xe.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const n=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let n=i.length;for(;n--;)(e===i[n]||e===i[n].track)&&this.el().removeChild(i[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),me.performance&&(e.creationTime=me.performance.now()),e}}$b(lt,"TEST_VID",function(){if(!Kh())return;const t=Xe.createElement("video"),e=Xe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});lt.isSupported=function(){try{lt.TEST_VID.volume=.5}catch{return!1}return!!(lt.TEST_VID&&lt.TEST_VID.canPlayType)};lt.canPlayType=function(t){return lt.TEST_VID.canPlayType(t)};lt.canPlaySource=function(t,e){return lt.canPlayType(t.type)};lt.canControlVolume=function(){try{const t=lt.TEST_VID.volume;lt.TEST_VID.volume=t/2+.1;const e=t!==lt.TEST_VID.volume;return e&&Es?(me.setTimeout(()=>{lt&&lt.prototype&&(lt.prototype.featuresVolumeControl=t!==lt.TEST_VID.volume)}),!1):e}catch{return!1}};lt.canMuteVolume=function(){try{const t=lt.TEST_VID.muted;return lt.TEST_VID.muted=!t,lt.TEST_VID.muted?Fh(lt.TEST_VID,"muted","muted"):Wb(lt.TEST_VID,"muted","muted"),t!==lt.TEST_VID.muted}catch{return!1}};lt.canControlPlaybackRate=function(){if(Jo&&Zo&&jb<58)return!1;try{const t=lt.TEST_VID.playbackRate;return lt.TEST_VID.playbackRate=t/2+.1,t!==lt.TEST_VID.playbackRate}catch{return!1}};lt.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Xe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Xe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Xe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Xe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};lt.supportsNativeTextTracks=function(){return Gb||Es&&Zo};lt.supportsNativeVideoTracks=function(){return!!(lt.TEST_VID&&lt.TEST_VID.videoTracks)};lt.supportsNativeAudioTracks=function(){return!!(lt.TEST_VID&&lt.TEST_VID.audioTracks)};lt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){$b(lt.prototype,t,()=>lt[e](),!0)});lt.prototype.featuresVolumeControl=lt.canControlVolume();lt.prototype.movingMediaElementInDOM=!Es;lt.prototype.featuresFullscreenResize=!0;lt.prototype.featuresProgressEvents=!0;lt.prototype.featuresTimeupdateEvents=!0;lt.prototype.featuresVideoFrameCallback=!!(lt.TEST_VID&&lt.TEST_VID.requestVideoFrameCallback);lt.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};lt.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){lt.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){lt.prototype["set"+rn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){lt.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){lt.prototype["set"+rn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){lt.prototype[t]=function(){return this.el_[t]()}});Mt.withSourceHandlers(lt);lt.nativeSourceHandler={};lt.nativeSourceHandler.canPlayType=function(t){try{return lt.TEST_VID.canPlayType(t)}catch{return""}};lt.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return lt.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=yE(t.src);return lt.nativeSourceHandler.canPlayType("video/".concat(i))}return""};lt.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};lt.nativeSourceHandler.dispose=function(){};lt.registerSourceHandler(lt.nativeSourceHandler);Mt.registerTech("Html5",lt);const aL=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],V1={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},j_=["tiny","xsmall","small","medium","large","xlarge","huge"],k0={};j_.forEach(t=>{const e=t.charAt(0)==="x"?"x-".concat(t.substring(1)):t;k0[t]="vjs-layout-".concat(e)});const QK={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Li extends Qe{constructor(e,i,n){if(e.id=e.id||i.id||"vjs_video_".concat(ea()),i=Object.assign(Li.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const o=e.closest("[lang]");o&&(i.language=o.getAttribute("lang"))}if(super(null,i,n),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.isFullscreen_=!1,this.log=ZI(this.id_),this.fsApi_=kv,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Pl(e),this.language(this.options_.language),i.languages){const o={};Object.getOwnPropertyNames(i.languages).forEach(function(a){o[a.toLowerCase()]=i.languages[a]}),this.languages_=o}else this.languages_=Li.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error('plugin "'.concat(o,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),gE(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(yr(Xe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=Di(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(o=>{this[o](i.plugins[o])}),i.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const a=new me.DOMParser().parseFromString(AK,"image/svg+xml");if(a.querySelector("parsererror"))Xt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),jp&&this.addClass("vjs-touch-enabled"),Es||this.addClass("vjs-workinghover"),Li.players[this.id_]=this;const r=XI.split(".")[0];this.addClass("vjs-v".concat(r)),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),ls(Xe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ls(Xe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Li.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),aK(this),bs.names.forEach(e=>{const i=bs[e],n=this[i.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";n?i=this.el_=e.parentNode:s||(i=this.el_=super.createEl("div"));const r=Pl(e);if(s){for(i=this.el_=e,e=this.tag=Xe.createElement("video");i.children.length;)e.appendChild(i.firstChild);up(i,"video-js")||kc(i,"video-js"),i.appendChild(e),n=this.playerElIngest_=i,Object.keys(i).forEach(a=>{try{e[a]=i[a]}catch{}})}if(e.setAttribute("tabindex","-1"),r.tabindex="-1",Zo&&Vb&&(e.setAttribute("role","application"),r.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(a){s&&a==="class"||i.setAttribute(a,r[a]),s&&e.setAttribute(a,r[a])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),me.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=w5("vjs-styles-dimensions");const a=ou(".vjs-styles-defaults"),l=ou("head");l.insertBefore(this.styleEl_,a?a.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let a=0;a<o.length;a++){const l=o.item(a);kc(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),P_(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Xt.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const n=e+"_";if(i===void 0)return this[n]||0;if(i===""||i==="auto"){this[n]=void 0,this.updateStyleEl_();return}const s=parseFloat(i);if(isNaN(s)){Xt.error('Improper value "'.concat(i,'" supplied for for ').concat(e));return}this[n]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,za(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),OG(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(me.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,i,n,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const r=n.split(":"),o=r[1]/r[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*o,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),_5(this.styleEl_,"\n      .".concat(s," {\n        width: ").concat(e,"px;\n        height: ").concat(i,"px;\n      }\n\n      .").concat(s,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(o*100,"%;\n      }\n    "))}loadTech_(e,i){this.tech_&&this.unloadTech_();const n=rn(e),s=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(Mt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(r=!1);const o={source:i,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(s,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};bs.names.forEach(l=>{const u=bs[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[s]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=Mt.getTech(e);if(!a)throw new Error("No Tech named '".concat(n,"' exists! '").concat(n,"' should be registered using videojs.registerTech()'"));this.tech_=new a(o),this.tech_.ready(Ii(this,this.handleTechReady_),!0),hS.jsonToTextTracks(this.textTracksJson_||[],this.tech_),aL.forEach(l=>{this.on(this.tech_,l,u=>this["handleTech".concat(rn(l),"_")](u))}),Object.keys(V1).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this["handleTech".concat(V1[l],"_")].bind(this),event:u});return}this["handleTech".concat(V1[l],"_")](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&P_(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){bs.names.forEach(e=>{const i=bs[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=hS.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Xt.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const s=this.muted();this.muted(!0);const r=()=>{this.muted(s)};this.playTerminatedQueue_.push(r);const o=this.play();if(Ap(o))return o.catch(a=>{throw r(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(a||""))})};let n;if(e==="any"&&!this.muted()?(n=this.play(),Ap(n)&&(n=n.catch(i))):e==="muted"&&!this.muted()?n=i():n=this.play(),!!Ap(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,n="";typeof i!="string"&&(i=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!n&&(n=cK(this,i)),this.cache_.source=Di({},e,{src:i,type:n});const s=this.cache_.sources.filter(l=>l.src&&l.src===i),r=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=Pl(o[l]);r.push(u),u.src&&u.src===i&&a.push(u.src)}a.length&&!s.length?this.cache_.sources=r:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=r=>this.updateSourceCaches_(r);const n=this.currentSource().src,s=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==n)&&(i=()=>{}),i(s),e.src||this.tech_.any(["sourceset","loadstart"],r=>{if(r.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Oo(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const n=this.el();let s=Xe[this.fsApi_.fullscreenElement]===n;!s&&n.matches&&(s=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in rK)return nK(this.middleware_,this.tech_,e,i);if(e in mS)return gS(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(n){throw Xt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in sK)return iK(this.middleware_,this.tech_,e);if(e in mS)return gS(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(Xt("Video.js: ".concat(e," method not defined for ").concat(this.techName_," playback technology."),i),i):i.name==="TypeError"?(Xt("Video.js: ".concat(e," unavailable on ").concat(this.techName_," playback technology element."),i),this.tech_.isReady_=!1,i):(Xt(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Oo){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(Gb||Es);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&n&&this.load();return}const s=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Go(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Go(0,0)),e}bufferedPercent(){return F5(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let n=e.end(e.length-1);return n>i&&(n=i),n}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((n,s)=>{function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),n()}function a(u,c){r(),s(c)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);const l=i.requestFullscreenHelper_(e);l&&(l.then(r,r),l.then(n,s))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](i);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,n)=>{function s(){e.off("fullscreenerror",o),e.off("fullscreenchange",r)}function r(){s(),i()}function o(l,u){s(),n(u)}e.one("fullscreenchange",r),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(s,s),a.then(i,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Xe[this.fsApi_.exitFullscreen]();return e&&Oo(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Xe.documentElement.style.overflow,yr(Xe,"keydown",this.boundFullWindowOnEscKey_),Xe.documentElement.style.overflow="hidden",kc(Xe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){Pt.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ls(Xe,"keydown",this.boundFullWindowOnEscKey_),Xe.documentElement.style.overflow=this.docOrigOverflow,Kb(Xe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&me.documentPictureInPicture){const e=Xe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Nt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),me.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(v5(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),i.addEventListener("pagehide",n=>{const s=n.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in Xe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(me.documentPictureInPicture&&me.documentPictureInPicture.window)return me.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Xe)return Xe.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(s=>{const r=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return r==="input"?o.indexOf(s.type)===-1:["textarea"].indexOf(r)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=o=>Pt.isEventKey(o,"f"),muteKey:s=o=>Pt.isEventKey(o,"m"),playPauseKey:r=o=>Pt.isEventKey(o,"k")||Pt.isEventKey(o,"Space")}=i;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const o=Qe.getComponent("FullscreenToggle");Xe[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),Qe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):r.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Qe.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let n=0,s=this.options_.techOrder;n<s.length;n++){const r=s[n];let o=Mt.getTech(r);if(o||(o=Qe.getComponent(r)),!o){Xt.error('The "'.concat(r,'" tech is undefined. Skipped browser support check for that tech.'));continue}if(o.isSupported()&&(i=o.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(a=>[a,Mt.getTech(a)]).filter(([a,l])=>l?l.isSupported():(Xt.error('The "'.concat(a,'" tech is undefined. Skipped browser support check for that tech.')),!1)),n=function(a,l,u){let c;return a.some(A=>l.some(h=>{if(c=u(A,h),c)return!0})),c};let s;const r=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?s=n(e,i,r(o)):s=n(i,e,o),s||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=R5(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),eK(this,n[0],(s,r)=>{if(this.middleware_=r,i||(this.cache_.sources=n),this.updateSourceCaches_(s),this.src_(s)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}tK(r,this.tech_)}),n.length>1){const s=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},r=()=>{this.off("error",s)};this.one("error",s),this.one("playing",r),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",r)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?S5(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Oo(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),za(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:n,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),i&&i.updateContent(),s&&s.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ru("beforeerror").forEach(i=>{const n=i(this,e);if(!(Xo(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Cs(e),this.addClass("vjs-error"),Xt.error("(CODE:".concat(this.error_.code," ").concat(Cs.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),ru("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,n;const s=Ii(this,this.reportUserActivity),r=function(A){(A.screenX!==i||A.screenY!==n)&&(i=A.screenX,n=A.screenY,s())},o=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},a=function(A){s(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",r),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Es&&!Jo&&(l.on("mouseenter",function(A){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(A){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const A=this.options_.inactivityTimeout;A<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},A))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),n=i&&i.currentHeight();e.forEach(s=>{s!==i&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,n){if(this.tech_)return this.tech_.addTextTrack(e,i,n)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),za(this)&&this.trigger("languagechange"))}languages(){return Di(Li.prototype.options_.languages,this.languages_)}toJSON(){const e=Di(this.options_),i=e.tracks;e.tracks=[];for(let n=0;n<i.length;n++){let s=i[n];s=Di(s),s.player=void 0,e.tracks[n]=s}return e}createModal(e,i){i=i||{},i.content=e||"";const n=new Yh(this,i);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let n=0;n<j_.length;n++){const s=j_[n],r=this.breakpoints_[s];if(i<=r){if(e===s)return;e&&this.removeClass(k0[e]),this.addClass(k0[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},QK,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return k0[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Di(e);const{artist:s,artwork:r,description:o,poster:a,src:l,textTracks:u,title:c}=this.cache_.media;!r&&a&&(this.cache_.media.artwork=[{src:a,type:Mv(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(A=>this.addRemoteTextTrack(A,!1)),this.titleBar&&this.titleBar.update({title:c,description:o||s||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),r=>({kind:r.kind,label:r.label,language:r.language,src:r.src})),s={src:i,textTracks:n};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:Mv(s.poster)}]),s}return Di(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},n=Pl(e),s=n["data-setup"];if(up(e,"vjs-fill")&&(n.fill=!0),up(e,"vjs-fluid")&&(n.fluid=!0),s!==null){const[r,o]=_j(s||"{}");r&&Xt.error(r),Object.assign(n,o)}if(Object.assign(i,n),e.hasChildNodes()){const r=e.childNodes;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=l.nodeName.toLowerCase();u==="source"?i.sources.push(Pl(l)):u==="track"&&i.tracks.push(Pl(l))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}bs.names.forEach(function(t){const e=bs[t];Li.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Li.prototype.crossorigin=Li.prototype.crossOrigin;Li.players={};const Sd=me.navigator;Li.prototype.options_={techOrder:Mt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Sd&&(Sd.languages&&Sd.languages[0]||Sd.userLanguage||Sd.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Li.prototype[t]=function(){return this.techGet_(t)}});aL.forEach(function(t){Li.prototype["handleTech".concat(rn(t),"_")]=function(){return this.trigger(t)}});Qe.registerComponent("Player",Li);const Rv="plugin",ah="activePlugins_",zA={},Ov=t=>zA.hasOwnProperty(t),D0=t=>Ov(t)?zA[t]:void 0,lL=(t,e)=>{t[ah]=t[ah]||{},t[ah][e]=!0},Uv=(t,e,i)=>{const n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},$K=function(t,e){const i=function(){Uv(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return lL(this,t),Uv(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){i[n]=e[n]}),i},IS=(t,e)=>(e.prototype.name=t,function(...i){Uv(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...i);return this[t]=()=>n,Uv(this,n.getEventHash()),n});class zs{constructor(e){if(this.constructor===zs)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),gE(this),delete this.trigger,x5(this,this.constructor.defaultState),lL(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return qh(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[ah][e]=!1,this.player=this.state=null,i[e]=IS(e,zA[e])}static isBasic(e){const i=typeof e=="string"?D0(e):e;return typeof i=="function"&&!zs.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat(typeof e,"."));if(Ov(e))Xt.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'));else if(Li.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'.concat(e,'", cannot share a name with an existing player method!'));if(typeof i!="function")throw new Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat(typeof i,"."));return zA[e]=i,e!==Rv&&(zs.isBasic(i)?Li.prototype[e]=$K(e,i):Li.prototype[e]=IS(e,i)),i}static deregisterPlugin(e){if(e===Rv)throw new Error("Cannot de-register base plugin.");Ov(e)&&(delete zA[e],delete Li.prototype[e])}static getPlugins(e=Object.keys(zA)){let i;return e.forEach(n=>{const s=D0(n);s&&(i=i||{},i[n]=s)}),i}static getPluginVersion(e){const i=D0(e);return i&&i.VERSION||""}}zs.getPlugin=D0;zs.BASE_PLUGIN_NAME=Rv;zs.registerPlugin(Rv,zs);Li.prototype.usingPlugin=function(t){return!!this[ah]&&this[ah][t]===!0};Li.prototype.hasPlugin=function(t){return!!Ov(t)};function jK(t,e){let i=!1;return function(...n){return i||Xt.warn(t),i=!0,e.apply(this,n)}}function ho(t,e,i,n){return jK("".concat(e," is deprecated and will be removed in ").concat(t,".0; please use ").concat(i," instead."),n)}const uL=t=>t.indexOf("#")===0?t.slice(1):t;function Oe(t,e,i){let n=Oe.getPlayer(t);if(n)return e&&Xt.warn('Player "'.concat(t,'" is already initialised. Options will not be applied.')),i&&n.ready(i),n;const s=typeof t=="string"?ou("#"+uL(t)):t;if(!Wh(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in s?s.getRootNode()instanceof me.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!o.contains(s))&&Xt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),ru("beforesetup").forEach(l=>{const u=l(s,Di(e));if(!Xo(u)||Array.isArray(u)){Xt.error("please return an object in beforesetup hooks");return}e=Di(e,u)});const a=Qe.getComponent("Player");return n=new a(s,e,i),ru("setup").forEach(l=>l(n)),n}Oe.hooks_=Ua;Oe.hooks=ru;Oe.hook=CG;Oe.hookOnce=EG;Oe.removeHook=JI;if(me.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Kh()){let t=ou(".vjs-styles-defaults");if(!t){t=w5("vjs-styles-defaults");const e=ou("head");e&&e.insertBefore(t,e.firstChild),_5(t,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}R_(1,Oe);Oe.VERSION=XI;Oe.options=Li.prototype.options_;Oe.getPlayers=()=>Li.players;Oe.getPlayer=t=>{const e=Li.players;let i;if(typeof t=="string"){const n=uL(t),s=e[n];if(s)return s;i=ou("#"+n)}else i=t;if(Wh(i)){const{player:n,playerId:s}=i;if(n||e[s])return n||e[s]}};Oe.getAllPlayers=()=>Object.keys(Li.players).map(t=>Li.players[t]).filter(Boolean);Oe.players=Li.players;Oe.getComponent=Qe.getComponent;Oe.registerComponent=(t,e)=>(Mt.isTech(e)&&Xt.warn("The ".concat(t," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),Qe.registerComponent.call(Qe,t,e));Oe.getTech=Mt.getTech;Oe.registerTech=Mt.registerTech;Oe.use=ZG;Object.defineProperty(Oe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Oe.middleware,"TERMINATOR",{value:Pv,writeable:!1,enumerable:!0});Oe.browser=BG;Oe.obj=SG;Oe.mergeOptions=ho(9,"videojs.mergeOptions","videojs.obj.merge",Di);Oe.defineLazyProperty=ho(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",$b);Oe.bind=ho(9,"videojs.bind","native Function.prototype.bind",Ii);Oe.registerPlugin=zs.registerPlugin;Oe.deregisterPlugin=zs.deregisterPlugin;Oe.plugin=(t,e)=>(Xt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),zs.registerPlugin(t,e));Oe.getPlugins=zs.getPlugins;Oe.getPlugin=zs.getPlugin;Oe.getPluginVersion=zs.getPluginVersion;Oe.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Oe.options.languages=Di(Oe.options.languages,{[t]:e}),Oe.options.languages[t]};Oe.log=Xt;Oe.createLogger=ZI;Oe.time=$G;Oe.createTimeRange=ho(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Go);Oe.createTimeRanges=ho(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Go);Oe.formatTime=ho(9,"videojs.formatTime","videojs.time.formatTime",Hc);Oe.setFormatTime=ho(9,"videojs.setFormatTime","videojs.time.setFormatTime",k5);Oe.resetFormatTime=ho(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",D5);Oe.parseUrl=ho(9,"videojs.parseUrl","videojs.url.parseUrl",bE);Oe.isCrossOrigin=ho(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",ey);Oe.EventTarget=Wr;Oe.any=pE;Oe.on=yr;Oe.one=Jb;Oe.off=ls;Oe.trigger=qh;Oe.xhr=tI;Oe.TextTrack=gg;Oe.AudioTrack=P5;Oe.VideoTrack=M5;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Oe[t]=function(){return Xt.warn("videojs.".concat(t,"() is deprecated; use videojs.dom.").concat(t,"() instead")),b5[t].apply(null,arguments)}});Oe.computedStyle=ho(9,"videojs.computedStyle","videojs.dom.computedStyle",Lh);Oe.dom=b5;Oe.fn=RG;Oe.num=bK;Oe.str=HG;Oe.url=XG;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class VK{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(n){i.enabled_(n)}}),i}}class Nv extends Oe.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const n=this.levels_.length;return i=new VK(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let n=0,s=this.length;n<s;n++)if(this[n]===e){i=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,n=this.length;i<n;i++){const s=this[i];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Nv.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Nv.prototype.allowedEvents_)Nv.prototype["on"+t]=null;var cL="4.0.0";const zK=function(t,e){const i=t.qualityLevels,n=new Nv,s=function(){n.dispose(),t.qualityLevels=i,t.off("dispose",s)};return t.on("dispose",s),t.qualityLevels=()=>n,t.qualityLevels.VERSION=cL,n},AL=function(t){return zK(this,Oe.obj.merge({},t))};Oe.registerPlugin("qualityLevels",AL);AL.VERSION=cL;/*! @name @videojs/http-streaming @version 3.7.0 @license Apache-2.0 */const fr=hV,Hv=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,qr=t=>Oe.log.debug?Oe.log.debug.bind(Oe,"VHS:","".concat(t," >")):function(){};function wi(...t){const e=Oe.obj||Oe;return(e.merge||e.mergeOptions).apply(e,t)}function os(...t){const e=Oe.time||Oe;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function GK(t){let e="";for(let i=0;i<t.length;i++){const n=t.start(i),s=t.end(i),r=s-n;e.length&&(e+="\n"),e+="[".concat(r,"](").concat(n," -> ").concat(s,")")}return e||"empty"}const au=1/30,Uo=au*3,hL=function(t,e){const i=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return os(i)},GA=function(t,e){return hL(t,function(i,n){return i-Uo<=e&&n+Uo>=e})},Um=function(t,e){return hL(t,function(i){return i-au>=e})},KK=function(t){if(t.length<2)return os();const e=[];for(let i=1;i<t.length;i++){const n=t.end(i-1),s=t.start(i);e.push([n,s])}return os(e)},WK=function(t,e){let i=null,n=null,s=0;const r=[],o=[];if(!t||!t.length||!e||!e.length)return os();let a=t.length;for(;a--;)r.push({time:t.start(a),type:"start"}),r.push({time:t.end(a),type:"end"});for(a=e.length;a--;)r.push({time:e.start(a),type:"start"}),r.push({time:e.end(a),type:"end"});for(r.sort(function(l,u){return l.time-u.time}),a=0;a<r.length;a++)r[a].type==="start"?(s++,s===2&&(i=r[a].time)):r[a].type==="end"&&(s--,s===1&&(n=r[a].time)),i!==null&&n!==null&&(o.push([i,n]),i=null,n=null);return os(o)},dL=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},qK=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},bc=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},YK=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},LS=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},OE=function(t,e){let i=0;if(!t||!t.length)return i;for(let n=0;n<t.length;n++){const s=t.start(n),r=t.end(n);if(!(e>r)){if(e>s&&e<=r){i+=r-e;continue}i+=r-s}}return i},UE=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(n){i+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=t.partTargetDuration)}),i},V_=t=>(t.segments||[]).reduce((e,i,n)=>(i.parts?i.parts.forEach(function(s,r){e.push({duration:s.duration,segmentIndex:n,partIndex:r,part:s,segment:i})}):e.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),e),[]),fL=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},pL=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let n=(i||[]).reduce((s,r)=>s+(r.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},gL=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=fL(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},XK=function(t,e){let i=0,n=e-t.mediaSequence,s=t.segments[n];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;n--;){if(s=t.segments[n],typeof s.end<"u")return{result:i+s.end,precise:!0};if(i+=UE(t,s),typeof s.start<"u")return{result:i+s.start,precise:!0}}return{result:i,precise:!1}},JK=function(t,e){let i=0,n,s=e-t.mediaSequence;for(;s<t.segments.length;s++){if(n=t.segments[s],typeof n.start<"u")return{result:n.start-i,precise:!0};if(i+=UE(t,n),typeof n.end<"u")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},mL=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=XK(t,e);if(n.precise)return n.result;const s=JK(t,e);return s.precise?s.result:n.result+i},vL=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return me.Infinity}return mL(t,e,i)},hp=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:n}){let s=0;if(i>n&&([i,n]=[n,i]),i<0){for(let r=i;r<Math.min(0,n);r++)s+=t;i=0}for(let r=i;r<n;r++)s+=e[r].duration;return s},bL=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return vL(t);if(e===null)return null;e=e||0;let s=mL(t,t.mediaSequence+t.segments.length,e);return i&&(n=typeof n=="number"?n:gL(null,t),s-=n),Math.max(0,s)},ZK=function(t,e,i){const s=e||0;let r=bL(t,e,!0,i);return r===null?os():(r<s&&(r=s),os(s,r))},eW=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:n,startTime:s,exactManifestTimings:r}){let o=e-s;const a=V_(t);let l=0;for(let u=0;u<a.length;u++){const c=a[u];if(i===c.segmentIndex&&!(typeof n=="number"&&typeof c.partIndex=="number"&&n!==c.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const c=a[u];if(o+=c.duration,r){if(o<0)continue}else if(o+au<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:s-hp({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const c=a[u];if(o-=c.duration,r){if(o>0)continue}else if(o-au>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:s+hp({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},yL=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},NE=function(t){return t.excludeUntil&&t.excludeUntil===1/0},ny=function(t){const e=yL(t);return!t.disabled&&!e},tW=function(t){return t.disabled},iW=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},wL=function(t,e){return e.attributes&&e.attributes[t]},nW=function(t,e,i,n=0){return wL("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-n*8)/e:NaN},z_=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>ny(n)?(n.attributes.BANDWIDTH||0)<i:!1).length===0},HE=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),PS=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const s in i){for(const r in i[s])if(n=e(i[s][r]),n)break;if(n)break}return!!n},yg=t=>{if(!t||!t.playlists||!t.playlists.length)return PS(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],n=i.attributes&&i.attributes.CODECS;if(!(n&&n.split(",").every(r=>aI(r))||PS(t,r=>HE(i,r))))return!1}return!0};var $s={liveEdgeDelay:gL,duration:vL,seekable:ZK,getMediaInfoForTime:eW,isEnabled:ny,isDisabled:tW,isExcluded:yL,isIncompatible:NE,playlistEnd:bL,isAes:iW,hasAttribute:wL,estimateSegmentRequestTime:nW,isLowestEnabledRendition:z_,isAudioOnly:yg,playlistMatch:HE,segmentDurationWithParts:UE};const{log:_L}=Oe,QE=(t,e)=>"".concat(t,"-").concat(e),sW=(t,e,i)=>"placeholder-uri-".concat(t,"-").concat(e,"-").concat(i),rW=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:n=[],customTagMappers:s=[],llhls:r})=>{const o=new yV;t&&o.on("warn",t),e&&o.on("info",e),n.forEach(u=>o.addParser(u)),s.forEach(u=>o.addTagMapper(u)),o.push(i),o.end();const a=o.manifest;if(r||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((c,A)=>Math.max(c,A.duration),0)),t&&t("manifest has no targetDuration defaulting to ".concat(u)),a.targetDuration=u}const l=fL(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((c,A)=>Math.max(c,A.duration),0);t&&(t("manifest has no partTargetDuration defaulting to ".concat(u)),_L.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},Zh=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const n in t.mediaGroups[i])for(const s in t.mediaGroups[i][n]){const r=t.mediaGroups[i][n][s];e(r,i,n,s)}})},CL=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},oW=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];CL({playlist:i,id:QE(e,i.uri)}),i.resolvedUri=fr(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||_L.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},aW=t=>{Zh(t,e=>{e.uri&&(e.resolvedUri=fr(t.uri,e.uri))})},lW=(t,e)=>{const i=QE(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:me.location.href,resolvedUri:me.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n},EL=(t,e,i=sW)=>{t.uri=e;for(let s=0;s<t.playlists.length;s++)if(!t.playlists[s].uri){const r="placeholder-uri-".concat(s);t.playlists[s].uri=r}const n=yg(t);Zh(t,(s,r,o,a)=>{if(!s.playlists||!s.playlists.length){if(n&&r==="AUDIO"&&!s.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}s.playlists=[Ya({},s)]}s.playlists.forEach(function(l,u){const c=i(r,o,a,l),A=QE(u,c);l.uri?l.resolvedUri=l.resolvedUri||fr(t.uri,l.uri):(l.uri=u===0?c:A,l.resolvedUri=l.uri),l.id=l.id||A,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),oW(t),aW(t)};class MS{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,n=i.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((s,r)=>(s.set(r.id,r),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((n,s)=>{if(!this.processedDateRanges_.has(s)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),i.push(n),!!n.class))if(e[n.class]){const r=e[n.class].push(n);n.classListIndex=r-1}else e[n.class]=[n],n.classListIndex=0});for(const n of i){const s=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&s[n.classListIndex+1]?n.endTime=s[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,s)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const{EventTarget:uW}=Oe,cW=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let s=e.mediaSequence+e.segments.length;if(n){const r=n.parts||[],o=pL(e)-1;o>-1&&o!==r.length-1&&(i._HLS_part=o),(o>-1||r.length)&&s--}i._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const n=new me.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){i.hasOwnProperty(s)&&n.searchParams.set(s,i[s])}),t=n.toString()}return t},AW=(t,e)=>{if(!t)return e;const i=wi(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=wi(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},hW=(t,e,i)=>{const n=t.slice(),s=e.slice();i=i||0;const r=[];let o;for(let a=0;a<s.length;a++){const l=n[a+i],u=s[a];l?(o=l.map||o,r.push(AW(l,u))):(o&&!u.map&&(u.map=o),r.push(u))}return r},TL=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=fr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=fr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=fr(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=fr(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=fr(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=fr(e,i.uri))})},xL=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},SL=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,G_=(t,e,i=SL)=>{const n=wi(t,{}),s=n.playlists[e.id];if(!s||i(s,e))return null;e.segments=xL(e);const r=wi(s,e);if(r.preloadSegment&&!e.preloadSegment&&delete r.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}r.segments=hW(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}r.segments.forEach(o=>{TL(o,r.resolvedUri)});for(let o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,Zh(t,(o,a,l,u)=>{if(o.playlists)for(let c=0;c<o.playlists.length;c++)e.id===o.playlists[c].id&&(o.playlists[c]=r)}),n},K_=(t,e)=>{const i=t.segments||[],n=i[i.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],r=s&&s.duration||n&&n.duration;return e&&r?r*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class KA extends uW{constructor(e,i,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=qr("PlaylistLoader");const{withCredentials:s=!1}=n;this.src=e,this.vhs_=i,this.withCredentials=s,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=i.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new MS,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=fr(this.main.uri,e.uri);this.llhls&&(i=cW(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials},(n,s)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,n){const{uri:s,id:r}=i;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:"HLS playlist request error at URL: ".concat(s,"."),responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:i}){return rW({onwarn:({message:n})=>this.logger_("m3u8-parser warn for ".concat(e,": ").concat(n)),oninfo:({message:n})=>this.logger_("m3u8-parser info for ".concat(e,": ").concat(n)),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:i,url:n,id:s}){this.request=null,this.state="HAVE_METADATA";const r=i||this.parseManifest_({url:n,manifestString:e});r.lastRequest=Date.now(),CL({playlist:r,uri:n,id:s});const o=G_(this.main,r);this.targetDuration=r.partTargetDuration||r.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(K_(this.media(),!!o)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),me.clearTimeout(this.mediaUpdateTimeout),me.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new MS,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(me.clearTimeout(this.finalRenditionTimeout),i){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=me.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,s=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(K_(e,!0)),!!s){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(o,a)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Hv(e.resolvedUri,a),o)return this.playlistRequestError(this.request,e,n);this.haveMetadata({playlistString:a.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=me.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=me.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=me.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,i)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:i.status,message:"HLS playlist request error at URL: ".concat(this.src,"."),responseText:i.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=Hv(this.src,i);const n=this.parseManifest_({manifestString:i.responseText,url:this.src});this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,EL(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=xL(n),n.segments.forEach(s=>{TL(s,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||me.location.href;this.main=lW(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:dW}=Oe,W_=function(t,e,i,n){const s=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),n(e,t)},fW=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(n=>{i=n(i)}),i},pW=(t,e,i,n)=>{!t||!t.size||t.forEach(s=>{s(e,i,n)})},BL=function(){const t=function e(i,n){i=wi({timeout:45e3},i);const s=e.beforeRequest||Oe.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||Oe.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||Oe.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(Oe.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(s));const a=Oe.Vhs.xhr.original===!0?dW:Oe.Vhs.xhr,l=fW(r,i);r.delete(s);const u=a(l||i,function(A,h){return pW(o,u,A,h),W_(u,A,h,n)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return t.original=!0,t},gW=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=me.BigInt(t.offset)+me.BigInt(t.length)-me.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},q_=function(t){const e={};return t.byterange&&(e.Range=gW(t.byterange)),e},mW=function(t,e){return t.start(e)+"-"+t.end(e)},vW=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},bW=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},kL=function(t){const e={};return Object.keys(t).forEach(i=>{const n=t[i];uI(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n}),e},Qv=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},DL=function(t){return t.resolvedUri},FL=t=>{const e=Array.prototype.slice.call(t),i=16;let n="",s,r;for(let o=0;o<e.length/i;o++)s=e.slice(o*i,o*i+i).map(vW).join(""),r=e.slice(o*i,o*i+i).map(bW).join(""),n+=s+" "+r+"\n";return n},yW=({bytes:t})=>FL(t),wW=t=>{let e="",i;for(i=0;i<t.length;i++)e+=mW(t,i)+" ";return e};var _W=Object.freeze({__proto__:null,createTransferableMessage:kL,initSegmentId:Qv,segmentKeyId:DL,hexDump:FL,tagDump:yW,textRanges:wW});const IL=.25,CW=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+i,r=t-s;return new Date(e.dateTimeObject.getTime()+r*1e3)},EW=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,TW=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(i<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(i<u)break}const s=e.segments[e.segments.length-1],r=s.dateTimeObject,o=s.videoTimingInfo?EW(s.videoTimingInfo):s.duration+s.duration*IL,a=new Date(r.getTime()+o*1e3);return i>a?null:(i>new Date(r)&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:$s.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},xW=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,n;for(let r=0;r<e.segments.length&&(n=e.segments[r],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(t<=i));r++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+s.duration*IL)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},SW=(t,e)=>{let i,n;try{i=new Date(t),n=new Date(e)}catch{}const s=i.getTime();return(n.getTime()-s)/1e3},BW=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},kW=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const n=xW(e,t);if(!n)return i({message:"valid programTime was not found"});if(n.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const s={mediaSeconds:e},r=CW(e,n.segment);return r&&(s.programDateTime=r.toISOString()),i(null,s)},LL=({programTime:t,playlist:e,retryCount:i=2,seekTo:n,pauseAfterSeek:s=!0,tech:r,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!r.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!BW(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=TW(t,e);if(!a)return o({message:"".concat(t," was not found in the stream")});const l=a.segment,u=SW(l.dateTimeObject,t);if(a.type==="estimate"){if(i===0)return o({message:"".concat(t," is not buffered yet. Try again")});n(a.estimatedStart+u),r.one("seeked",()=>{LL({programTime:t,playlist:e,retryCount:i-1,seekTo:n,pauseAfterSeek:s,tech:r,callback:o})});return}const c=l.start+u,A=()=>o(null,r.currentTime());r.one("seeked",A),s&&r.pause(),n(c)},z1=(t,e)=>{if(t.readyState===4)return e()},DW=(t,e,i)=>{let n=[],s,r=!1;const o=function(c,A,h,g){return A.abort(),r=!0,i(c,A,h,g)},a=function(c,A){if(r)return;if(c)return o(c,A,"",n);const h=A.responseText.substring(n&&n.byteLength||0,A.responseText.length);if(n=IV(n,cI(h,!0)),s=s||If(n),n.length<10||s&&n.length<s+2)return z1(A,()=>o(c,A,"",n));const g=oE(n);return g==="ts"&&n.length<188?z1(A,()=>o(c,A,"",n)):!g&&n.length<376?z1(A,()=>o(c,A,"",n)):o(null,A,g,n)},u=e({uri:t,beforeSend(c){c.overrideMimeType("text/plain; charset=x-user-defined"),c.addEventListener("progress",function({total:A,loaded:h}){return W_(c,null,{statusCode:c.status},a)})}},function(c,A){return W_(u,c,A,a)});return u},{EventTarget:FW}=Oe,RS=function(t,e){if(!SL(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const n=t.segments[i],s=e.segments[i];if(n.uri!==s.uri)return!1;if(!n.byterange&&!s.byterange)continue;const r=n.byterange,o=s.byterange;if(r&&!o||!r&&o||r.offset!==o.offset||r.length!==o.length)return!1}return!0},IW=(t,e,i,n)=>{const s=n.attributes.NAME||i;return"placeholder-uri-".concat(t,"-").concat(e,"-").concat(s)},LW=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:n,previousManifest:s})=>{const r=tG(t,{manifestUri:e,clientOffset:i,sidxMapping:n,previousManifest:s});return EL(r,e,IW),r},PW=(t,e)=>{Zh(t,(i,n,s,r)=>{r in e.mediaGroups[n][s]||delete t.mediaGroups[n][s][r]})},MW=(t,e,i)=>{let n=!0,s=wi(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let r=0;r<e.playlists.length;r++){const o=e.playlists[r];if(o.sidx){const l=Nb(o.sidx);i&&i[l]&&i[l].sidx&&nE(o,i[l].sidx,o.sidx.resolvedUri)}const a=G_(s,o,RS);a&&(s=a,n=!1)}return Zh(e,(r,o,a,l)=>{if(r.playlists&&r.playlists.length){const u=r.playlists[0].id,c=G_(s,r.playlists[0],RS);c&&(s=c,l in s.mediaGroups[o][a]||(s.mediaGroups[o][a][l]=r),s.mediaGroups[o][a][l].playlists[0]=s.playlists[u],n=!1)}}),PW(s,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:s},RW=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,OS=(t,e)=>{const i={};for(const n in t){const r=t[n].sidx;if(r){const o=Nb(r);if(!e[o])break;const a=e[o].sidxInfo;RW(a,r)&&(i[o]=e[o])}}return i},OW=(t,e)=>{let n=OS(t.playlists,e);return Zh(t,(s,r,o,a)=>{if(s.playlists&&s.playlists.length){const l=s.playlists;n=wi(n,OS(l,e))}}),n};class Y_ extends FW{constructor(e,i,n={},s){super(),this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=i,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.media().attributes.serviceLocation||this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=qr("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,i,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,i,n){const s=e.sidx&&Nb(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){this.mediaRequest_=me.setTimeout(()=>n(!1),0);return}const r=Hv(e.sidx.resolvedUri),o=(a,l)=>{if(this.requestErrored_(a,l,i))return;const u=this.mainPlaylistLoader_.sidxMapping_;let c;try{c=aG(wt(l.response).subarray(8))}catch(A){this.requestErrored_(A,l,i);return}return u[s]={sidxInfo:e.sidx,sidx:c},nE(e,c,e.sidx.resolvedUri),n(!0)};this.request=DW(r,this.vhs_.xhr,(a,l,u,c)=>{if(a)return o(a,l);if(!u||u!=="mp4")return o({status:l.status,message:"Unsupported ".concat(u||"unknown"," container type for sidx segment at URL: ").concat(r),response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l);const{offset:A,length:h}=e.sidx.byterange;if(c.length>=h+A)return o(a,{response:c.subarray(A,A+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",headers:q_({byterange:e.sidx.byterange})},o)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},me.clearTimeout(this.minimumUpdatePeriodTimeout_),me.clearTimeout(this.mediaRequest_),me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,s=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(me.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){me.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=me.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=me.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(i,n)=>{if(this.requestErrored_(i,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const s=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Hv(this.mainPlaylistLoader_.srcUrl,n),s){this.handleMain_(),this.syncClientServerClock_(()=>e(n,s));return}return e(n,s)})}syncClientServerClock_(e){const i=iG(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:fr(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(n,s)=>{if(!this.request)return;if(n)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let r;i.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?r=this.mainLoaded_:r=Date.parse(s.responseHeaders.date):r=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let i=LW({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(i=MW(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(me.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(i,", not setting a timeout"));return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=me.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=OW(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==i[e];if(n?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=me.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},K_(this.media(),!!n)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}}var Pn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const UW=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},PL=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},NW=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},ML=function(t){return function(){const e=NW(t),i=PL(new Worker(e));i.objURL=e;const n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},i}},RL=function(t){return"var browserWorkerPolyFill = ".concat(PL.toString(),";\n")+"browserWorkerPolyFill(self);\n"+t},OL=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},HW=RL(OL(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var w={};this.on=function(F,P){w[F]||(w[F]=[]),w[F]=w[F].concat(P)},this.off=function(F,P){var I;return w[F]?(I=w[F].indexOf(P),w[F]=w[F].slice(),w[F].splice(I,1),I>-1):!1},this.trigger=function(F){var P,I,H,z;if(P=w[F],!!P)if(arguments.length===2)for(H=P.length,I=0;I<H;++I)P[I].call(this,arguments[1]);else{for(z=[],I=arguments.length,I=1;I<arguments.length;++I)z.push(arguments[I]);for(H=P.length,I=0;I<H;++I)P[I].apply(this,z)}},this.dispose=function(){w={}}}};e.prototype.pipe=function(w){return this.on("data",function(F){w.push(F)}),this.on("done",function(F){w.flush(F)}),this.on("partialdone",function(F){w.partialFlush(F)}),this.on("endedtimeline",function(F){w.endTimeline(F)}),this.on("reset",function(F){w.reset(F)}),w},e.prototype.push=function(w){this.trigger("data",w)},e.prototype.flush=function(w){this.trigger("done",w)},e.prototype.partialFlush=function(w){this.trigger("partialdone",w)},e.prototype.endTimeline=function(w){this.trigger("endedtimeline",w)},e.prototype.reset=function(w){this.trigger("reset",w)};var i=e,n=Math.pow(2,32),s=function(w){var F=new DataView(w.buffer,w.byteOffset,w.byteLength),P;return F.getBigUint64?(P=F.getBigUint64(0),P<Number.MAX_SAFE_INTEGER?Number(P):P):F.getUint32(0)*n+F.getUint32(4)},r={getUint64:s,MAX_UINT32:n},o=r.MAX_UINT32,a,l,u,c,A,h,g,f,y,E,C,m,b,_,B,L,j,O,Q,$,D,U,S,k,M,N,V,G,ee,se,ne,le,he,we,pe,ke;(function(){var w;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(w in S)S.hasOwnProperty(w)&&(S[w]=[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),N=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),M=new Uint8Array([0,0,0,1]),V=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),G=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ee={video:V,audio:G},le=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ne=new Uint8Array([0,0,0,0,0,0,0,0]),he=new Uint8Array([0,0,0,0,0,0,0,0]),we=he,pe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ke=he,se=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(w){var F=[],P=0,I,H,z;for(I=1;I<arguments.length;I++)F.push(arguments[I]);for(I=F.length;I--;)P+=F[I].byteLength;for(H=new Uint8Array(P+8),z=new DataView(H.buffer,H.byteOffset,H.byteLength),z.setUint32(0,H.byteLength),H.set(w,4),I=0,P=8;I<F.length;I++)H.set(F[I],P),P+=F[I].byteLength;return H},l=function(){return a(S.dinf,a(S.dref,le))},u=function(w){return a(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,w.audioobjecttype<<3|w.samplingfrequencyindex>>>1,w.samplingfrequencyindex<<7|w.channelcount<<3,6,1,2]))},c=function(){return a(S.ftyp,k,M,k,N)},L=function(w){return a(S.hdlr,ee[w])},A=function(w){return a(S.mdat,w)},B=function(w){var F=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,w.duration>>>24&255,w.duration>>>16&255,w.duration>>>8&255,w.duration&255,85,196,0,0]);return w.samplerate&&(F[12]=w.samplerate>>>24&255,F[13]=w.samplerate>>>16&255,F[14]=w.samplerate>>>8&255,F[15]=w.samplerate&255),a(S.mdhd,F)},_=function(w){return a(S.mdia,B(w),L(w.type),g(w))},h=function(w){return a(S.mfhd,new Uint8Array([0,0,0,0,(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255]))},g=function(w){return a(S.minf,w.type==="video"?a(S.vmhd,se):a(S.smhd,ne),l(),O(w))},f=function(w,F){for(var P=[],I=F.length;I--;)P[I]=$(F[I]);return a.apply(null,[S.moof,h(w)].concat(P))},y=function(w){for(var F=w.length,P=[];F--;)P[F]=m(w[F]);return a.apply(null,[S.moov,C(4294967295)].concat(P).concat(E(w)))},E=function(w){for(var F=w.length,P=[];F--;)P[F]=D(w[F]);return a.apply(null,[S.mvex].concat(P))},C=function(w){var F=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(S.mvhd,F)},j=function(w){var F=w.samples||[],P=new Uint8Array(4+F.length),I,H;for(H=0;H<F.length;H++)I=F[H].flags,P[H+4]=I.dependsOn<<4|I.isDependedOn<<2|I.hasRedundancy;return a(S.sdtp,P)},O=function(w){return a(S.stbl,Q(w),a(S.stts,ke),a(S.stsc,we),a(S.stsz,pe),a(S.stco,he))},function(){var w,F;Q=function(P){return a(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),P.type==="video"?w(P):F(P))},w=function(P){var I=P.sps||[],H=P.pps||[],z=[],ue=[],Ae,fe;for(Ae=0;Ae<I.length;Ae++)z.push((I[Ae].byteLength&65280)>>>8),z.push(I[Ae].byteLength&255),z=z.concat(Array.prototype.slice.call(I[Ae]));for(Ae=0;Ae<H.length;Ae++)ue.push((H[Ae].byteLength&65280)>>>8),ue.push(H[Ae].byteLength&255),ue=ue.concat(Array.prototype.slice.call(H[Ae]));if(fe=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(P.width&65280)>>8,P.width&255,(P.height&65280)>>8,P.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(S.avcC,new Uint8Array([1,P.profileIdc,P.profileCompatibility,P.levelIdc,255].concat([I.length],z,[H.length],ue))),a(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],P.sarRatio){var be=P.sarRatio[0],Ee=P.sarRatio[1];fe.push(a(S.pasp,new Uint8Array([(be&4278190080)>>24,(be&16711680)>>16,(be&65280)>>8,be&255,(Ee&4278190080)>>24,(Ee&16711680)>>16,(Ee&65280)>>8,Ee&255])))}return a.apply(null,fe)},F=function(P){return a(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(P.channelcount&65280)>>8,P.channelcount&255,(P.samplesize&65280)>>8,P.samplesize&255,0,0,0,0,(P.samplerate&65280)>>8,P.samplerate&255,0,0]),u(P))}}(),b=function(w){var F=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,0,(w.duration&4278190080)>>24,(w.duration&16711680)>>16,(w.duration&65280)>>8,w.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(w.width&65280)>>8,w.width&255,0,0,(w.height&65280)>>8,w.height&255,0,0]);return a(S.tkhd,F)},$=function(w){var F,P,I,H,z,ue,Ae;return F=a(S.tfhd,new Uint8Array([0,0,0,58,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ue=Math.floor(w.baseMediaDecodeTime/o),Ae=Math.floor(w.baseMediaDecodeTime%o),P=a(S.tfdt,new Uint8Array([1,0,0,0,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,Ae>>>24&255,Ae>>>16&255,Ae>>>8&255,Ae&255])),z=32+20+8+16+8+8,w.type==="audio"?(I=U(w,z),a(S.traf,F,P,I)):(H=j(w),I=U(w,H.length+z),a(S.traf,F,P,I,H))},m=function(w){return w.duration=w.duration||4294967295,a(S.trak,b(w),_(w))},D=function(w){var F=new Uint8Array([0,0,0,0,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return w.type!=="video"&&(F[F.length-1]=0),a(S.trex,F)},function(){var w,F,P;P=function(I,H){var z=0,ue=0,Ae=0,fe=0;return I.length&&(I[0].duration!==void 0&&(z=1),I[0].size!==void 0&&(ue=2),I[0].flags!==void 0&&(Ae=4),I[0].compositionTimeOffset!==void 0&&(fe=8)),[0,0,z|ue|Ae|fe,1,(I.length&4278190080)>>>24,(I.length&16711680)>>>16,(I.length&65280)>>>8,I.length&255,(H&4278190080)>>>24,(H&16711680)>>>16,(H&65280)>>>8,H&255]},F=function(I,H){var z,ue,Ae,fe,be,Ee;for(fe=I.samples||[],H+=8+12+16*fe.length,Ae=P(fe,H),ue=new Uint8Array(Ae.length+fe.length*16),ue.set(Ae),z=Ae.length,Ee=0;Ee<fe.length;Ee++)be=fe[Ee],ue[z++]=(be.duration&4278190080)>>>24,ue[z++]=(be.duration&16711680)>>>16,ue[z++]=(be.duration&65280)>>>8,ue[z++]=be.duration&255,ue[z++]=(be.size&4278190080)>>>24,ue[z++]=(be.size&16711680)>>>16,ue[z++]=(be.size&65280)>>>8,ue[z++]=be.size&255,ue[z++]=be.flags.isLeading<<2|be.flags.dependsOn,ue[z++]=be.flags.isDependedOn<<6|be.flags.hasRedundancy<<4|be.flags.paddingValue<<1|be.flags.isNonSyncSample,ue[z++]=be.flags.degradationPriority&61440,ue[z++]=be.flags.degradationPriority&15,ue[z++]=(be.compositionTimeOffset&4278190080)>>>24,ue[z++]=(be.compositionTimeOffset&16711680)>>>16,ue[z++]=(be.compositionTimeOffset&65280)>>>8,ue[z++]=be.compositionTimeOffset&255;return a(S.trun,ue)},w=function(I,H){var z,ue,Ae,fe,be,Ee;for(fe=I.samples||[],H+=8+12+8*fe.length,Ae=P(fe,H),z=new Uint8Array(Ae.length+fe.length*8),z.set(Ae),ue=Ae.length,Ee=0;Ee<fe.length;Ee++)be=fe[Ee],z[ue++]=(be.duration&4278190080)>>>24,z[ue++]=(be.duration&16711680)>>>16,z[ue++]=(be.duration&65280)>>>8,z[ue++]=be.duration&255,z[ue++]=(be.size&4278190080)>>>24,z[ue++]=(be.size&16711680)>>>16,z[ue++]=(be.size&65280)>>>8,z[ue++]=be.size&255;return a(S.trun,z)},U=function(I,H){return I.type==="audio"?w(I,H):F(I,H)}}();var ce={ftyp:c,mdat:A,moof:f,moov:y,initSegment:function(w){var F=c(),P=y(w),I;return I=new Uint8Array(F.byteLength+P.byteLength),I.set(F),I.set(P,F.byteLength),I}},ye=function(w){var F,P,I=[],H=[];for(H.byteLength=0,H.nalCount=0,H.duration=0,I.byteLength=0,F=0;F<w.length;F++)P=w[F],P.nalUnitType==="access_unit_delimiter_rbsp"?(I.length&&(I.duration=P.dts-I.dts,H.byteLength+=I.byteLength,H.nalCount+=I.length,H.duration+=I.duration,H.push(I)),I=[P],I.byteLength=P.data.byteLength,I.pts=P.pts,I.dts=P.dts):(P.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(I.keyFrame=!0),I.duration=P.dts-I.dts,I.byteLength+=P.data.byteLength,I.push(P));return H.length&&(!I.duration||I.duration<=0)&&(I.duration=H[H.length-1].duration),H.byteLength+=I.byteLength,H.nalCount+=I.length,H.duration+=I.duration,H.push(I),H},ie=function(w){var F,P,I=[],H=[];for(I.byteLength=0,I.nalCount=0,I.duration=0,I.pts=w[0].pts,I.dts=w[0].dts,H.byteLength=0,H.nalCount=0,H.duration=0,H.pts=w[0].pts,H.dts=w[0].dts,F=0;F<w.length;F++)P=w[F],P.keyFrame?(I.length&&(H.push(I),H.byteLength+=I.byteLength,H.nalCount+=I.nalCount,H.duration+=I.duration),I=[P],I.nalCount=P.length,I.byteLength=P.byteLength,I.pts=P.pts,I.dts=P.dts,I.duration=P.duration):(I.duration+=P.duration,I.nalCount+=P.length,I.byteLength+=P.byteLength,I.push(P));return H.length&&I.duration<=0&&(I.duration=H[H.length-1].duration),H.byteLength+=I.byteLength,H.nalCount+=I.nalCount,H.duration+=I.duration,H.push(I),H},He=function(w){var F;return!w[0][0].keyFrame&&w.length>1&&(F=w.shift(),w.byteLength-=F.byteLength,w.nalCount-=F.nalCount,w[0][0].dts=F.dts,w[0][0].pts=F.pts,w[0][0].duration+=F.duration),w},$e=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ae=function(w,F){var P=$e();return P.dataOffset=F,P.compositionTimeOffset=w.pts-w.dts,P.duration=w.duration,P.size=4*w.length,P.size+=w.byteLength,w.keyFrame&&(P.flags.dependsOn=2,P.flags.isNonSyncSample=0),P},W=function(w,F){var P,I,H,z,ue,Ae=F||0,fe=[];for(P=0;P<w.length;P++)for(z=w[P],I=0;I<z.length;I++)ue=z[I],H=ae(ue,Ae),Ae+=H.size,fe.push(H);return fe},X=function(w){var F,P,I,H,z,ue,Ae=0,fe=w.byteLength,be=w.nalCount,Ee=fe+4*be,Pe=new Uint8Array(Ee),it=new DataView(Pe.buffer);for(F=0;F<w.length;F++)for(H=w[F],P=0;P<H.length;P++)for(z=H[P],I=0;I<z.length;I++)ue=z[I],it.setUint32(Ae,ue.data.byteLength),Ae+=4,Pe.set(ue.data,Ae),Ae+=ue.data.byteLength;return Pe},re=function(w,F){var P,I=F||0,H=[];return P=ae(w,I),H.push(P),H},ve=function(w){var F,P,I=0,H=w.byteLength,z=w.length,ue=H+4*z,Ae=new Uint8Array(ue),fe=new DataView(Ae.buffer);for(F=0;F<w.length;F++)P=w[F],fe.setUint32(I,P.data.byteLength),I+=4,Ae.set(P.data,I),I+=P.data.byteLength;return Ae},xe={groupNalsIntoFrames:ye,groupFramesIntoGops:ie,extendFirstKeyFrame:He,generateSampleTable:W,concatenateNalData:X,generateSampleTableForFrame:re,concatenateNalDataForFrame:ve},Me=[33,16,5,32,164,27],Fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ie=function(w){for(var F=[];w--;)F.push(0);return F},Le=function(w){return Object.keys(w).reduce(function(F,P){return F[P]=new Uint8Array(w[P].reduce(function(I,H){return I.concat(H)},[])),F},{})},Ge,ze=function(){if(!Ge){var w={96e3:[Me,[227,64],Ie(154),[56]],88200:[Me,[231],Ie(170),[56]],64e3:[Me,[248,192],Ie(240),[56]],48e3:[Me,[255,192],Ie(268),[55,148,128],Ie(54),[112]],44100:[Me,[255,192],Ie(268),[55,163,128],Ie(84),[112]],32e3:[Me,[255,192],Ie(268),[55,234],Ie(226),[112]],24e3:[Me,[255,192],Ie(268),[55,255,128],Ie(268),[111,112],Ie(126),[224]],16e3:[Me,[255,192],Ie(268),[55,255,128],Ie(268),[111,255],Ie(269),[223,108],Ie(195),[1,192]],12e3:[Fe,Ie(268),[3,127,248],Ie(268),[6,255,240],Ie(268),[13,255,224],Ie(268),[27,253,128],Ie(259),[56]],11025:[Fe,Ie(268),[3,127,248],Ie(268),[6,255,240],Ie(268),[13,255,224],Ie(268),[27,255,192],Ie(268),[55,175,128],Ie(108),[112]],8e3:[Fe,Ie(268),[3,121,16],Ie(47),[7]]};Ge=Le(w)}return Ge},_e=9e4,Te,je,nt,st,bt,ct,$t;Te=function(w){return w*_e},je=function(w,F){return w*F},nt=function(w){return w/_e},st=function(w,F){return w/F},bt=function(w,F){return Te(st(w,F))},ct=function(w,F){return je(nt(w),F)},$t=function(w,F,P){return nt(P?w:w-F)};var _t={ONE_SECOND_IN_TS:_e,secondsToVideoTs:Te,secondsToAudioTs:je,videoTsToSeconds:nt,audioTsToSeconds:st,audioTsToVideoTs:bt,videoTsToAudioTs:ct,metadataTsToSeconds:$t},gt=ze,si=_t,It=function(w){var F,P,I=0;for(F=0;F<w.length;F++)P=w[F],I+=P.data.byteLength;return I},ri=function(w,F,P,I){var H,z=0,ue=0,Ae=0,fe=0,be,Ee,Pe;if(F.length&&(H=si.audioTsToVideoTs(w.baseMediaDecodeTime,w.samplerate),z=Math.ceil(si.ONE_SECOND_IN_TS/(w.samplerate/1024)),P&&I&&(ue=H-Math.max(P,I),Ae=Math.floor(ue/z),fe=Ae*z),!(Ae<1||fe>si.ONE_SECOND_IN_TS/2))){for(be=gt()[w.samplerate],be||(be=F[0].data),Ee=0;Ee<Ae;Ee++)Pe=F[0],F.splice(0,0,{data:be,dts:Pe.dts-z,pts:Pe.pts-z});return w.baseMediaDecodeTime-=Math.floor(si.videoTsToAudioTs(fe,w.samplerate)),fe}},Ki=function(w,F,P){return F.minSegmentDts>=P?w:(F.minSegmentDts=1/0,w.filter(function(I){return I.dts>=P?(F.minSegmentDts=Math.min(F.minSegmentDts,I.dts),F.minSegmentPts=F.minSegmentDts,!0):!1}))},Bn=function(w){var F,P,I=[];for(F=0;F<w.length;F++)P=w[F],I.push({size:P.data.byteLength,duration:1024});return I},kn=function(w){var F,P,I=0,H=new Uint8Array(It(w));for(F=0;F<w.length;F++)P=w[F],H.set(P.data,I),I+=P.data.byteLength;return H},Xs={prefixWithSilence:ri,trimAdtsFramesByEarliestDts:Ki,generateSampleTable:Bn,concatenateFrameData:kn},Wn=_t.ONE_SECOND_IN_TS,Zi=function(w,F){typeof F.pts=="number"&&(w.timelineStartInfo.pts===void 0&&(w.timelineStartInfo.pts=F.pts),w.minSegmentPts===void 0?w.minSegmentPts=F.pts:w.minSegmentPts=Math.min(w.minSegmentPts,F.pts),w.maxSegmentPts===void 0?w.maxSegmentPts=F.pts:w.maxSegmentPts=Math.max(w.maxSegmentPts,F.pts)),typeof F.dts=="number"&&(w.timelineStartInfo.dts===void 0&&(w.timelineStartInfo.dts=F.dts),w.minSegmentDts===void 0?w.minSegmentDts=F.dts:w.minSegmentDts=Math.min(w.minSegmentDts,F.dts),w.maxSegmentDts===void 0?w.maxSegmentDts=F.dts:w.maxSegmentDts=Math.max(w.maxSegmentDts,F.dts))},Js=function(w){delete w.minSegmentDts,delete w.maxSegmentDts,delete w.minSegmentPts,delete w.maxSegmentPts},tt=function(w,F){var P,I,H=w.minSegmentDts;return F||(H-=w.timelineStartInfo.dts),P=w.timelineStartInfo.baseMediaDecodeTime,P+=H,P=Math.max(0,P),w.type==="audio"&&(I=w.samplerate/Wn,P*=I,P=Math.floor(P)),P},jt={clearDtsInfo:Js,calculateTrackBaseMediaDecodeTime:tt,collectDtsInfo:Zi},pt=4,bi=128,Jt=function(w){for(var F=0,P={payloadType:-1,payloadSize:0},I=0,H=0;F<w.byteLength&&w[F]!==bi;){for(;w[F]===255;)I+=255,F++;for(I+=w[F++];w[F]===255;)H+=255,F++;if(H+=w[F++],!P.payload&&I===pt){var z=String.fromCharCode(w[F+3],w[F+4],w[F+5],w[F+6]);if(z==="GA94"){P.payloadType=I,P.payloadSize=H,P.payload=w.subarray(F,F+H);break}else P.payload=void 0}F+=H,I=0,H=0}return P},an=function(w){return w.payload[0]!==181||(w.payload[1]<<8|w.payload[2])!==49||String.fromCharCode(w.payload[3],w.payload[4],w.payload[5],w.payload[6])!=="GA94"||w.payload[7]!==3?null:w.payload.subarray(8,w.payload.length-1)},Ts=function(w,F){var P=[],I,H,z,ue;if(!(F[0]&64))return P;for(H=F[0]&31,I=0;I<H;I++)z=I*3,ue={type:F[z+2]&3,pts:w},F[z+2]&4&&(ue.ccData=F[z+3]<<8|F[z+4],P.push(ue));return P},pu=function(w){for(var F=w.byteLength,P=[],I=1,H,z;I<F-2;)w[I]===0&&w[I+1]===0&&w[I+2]===3?(P.push(I+2),I+=2):I++;if(P.length===0)return w;H=F-P.length,z=new Uint8Array(H);var ue=0;for(I=0;I<H;ue++,I++)ue===P[0]&&(ue++,P.shift()),z[I]=w[ue];return z},gu={parseSei:Jt,parseUserData:an,parseCaptionPackets:Ts,discardEmulationPreventionBytes:pu,USER_DATA_REGISTERED_ITU_T_T35:pt},qn=i,mt=gu,en=function(w){w=w||{},en.prototype.init.call(this),this.parse708captions_=typeof w.parse708captions=="boolean"?w.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new fi(0,0),new fi(0,1),new fi(1,0),new fi(1,1)],this.parse708captions_&&(this.cc708Stream_=new ui({captionServices:w.captionServices})),this.reset(),this.ccStreams_.forEach(function(F){F.on("data",this.trigger.bind(this,"data")),F.on("partialdone",this.trigger.bind(this,"partialdone")),F.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};en.prototype=new qn,en.prototype.push=function(w){var F,P,I;if(w.nalUnitType==="sei_rbsp"&&(F=mt.parseSei(w.escapedRBSP),!!F.payload&&F.payloadType===mt.USER_DATA_REGISTERED_ITU_T_T35&&(P=mt.parseUserData(F),!!P))){if(w.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(w.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}I=mt.parseCaptionPackets(w.pts,P),this.captionPackets_=this.captionPackets_.concat(I),this.latestDts_!==w.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=w.dts}},en.prototype.flushCCStreams=function(w){this.ccStreams_.forEach(function(F){return w==="flush"?F.flush():F.partialFlush()},this)},en.prototype.flushStream=function(w){if(!this.captionPackets_.length){this.flushCCStreams(w);return}this.captionPackets_.forEach(function(F,P){F.presortIndex=P}),this.captionPackets_.sort(function(F,P){return F.pts===P.pts?F.presortIndex-P.presortIndex:F.pts-P.pts}),this.captionPackets_.forEach(function(F){F.type<2?this.dispatchCea608Packet(F):this.dispatchCea708Packet(F)},this),this.captionPackets_.length=0,this.flushCCStreams(w)},en.prototype.flush=function(){return this.flushStream("flush")},en.prototype.partialFlush=function(){return this.flushStream("partialFlush")},en.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(w){w.reset()})},en.prototype.dispatchCea608Packet=function(w){this.setsTextOrXDSActive(w)?this.activeCea608Channel_[w.type]=null:this.setsChannel1Active(w)?this.activeCea608Channel_[w.type]=0:this.setsChannel2Active(w)&&(this.activeCea608Channel_[w.type]=1),this.activeCea608Channel_[w.type]!==null&&this.ccStreams_[(w.type<<1)+this.activeCea608Channel_[w.type]].push(w)},en.prototype.setsChannel1Active=function(w){return(w.ccData&30720)===4096},en.prototype.setsChannel2Active=function(w){return(w.ccData&30720)===6144},en.prototype.setsTextOrXDSActive=function(w){return(w.ccData&28928)===256||(w.ccData&30974)===4138||(w.ccData&30974)===6186},en.prototype.dispatchCea708Packet=function(w){this.parse708captions_&&this.cc708Stream_.push(w)};var po={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Gc=function(w){var F=po[w]||w;return w&4096&&w===F?"":String.fromCharCode(F)},ra=function(w){return 32<=w&&w<=127||160<=w&&w<=255},xi=function(w){this.windowNum=w,this.reset()};xi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},xi.prototype.getText=function(){return this.rows.join("\n")},xi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},xi.prototype.newLine=function(w){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(w),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},xi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},xi.prototype.addText=function(w){this.rows[this.rowIdx]+=w},xi.prototype.backspace=function(){if(!this.isEmpty()){var w=this.rows[this.rowIdx];this.rows[this.rowIdx]=w.substr(0,w.length-1)}};var wr=function(w,F,P){this.serviceNum=w,this.text="",this.currentWindow=new xi(-1),this.windows=[],this.stream=P,typeof F=="string"&&this.createTextDecoder(F)};wr.prototype.init=function(w,F){this.startPts=w;for(var P=0;P<8;P++)this.windows[P]=new xi(P),typeof F=="function"&&(this.windows[P].beforeRowOverflow=F)},wr.prototype.setCurrentWindow=function(w){this.currentWindow=this.windows[w]},wr.prototype.createTextDecoder=function(w){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(w)}catch(F){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+w+" encoding. "+F})}};var ui=function(w){w=w||{},ui.prototype.init.call(this);var F=this,P=w.captionServices||{},I={},H;Object.keys(P).forEach(z=>{H=P[z],/^SERVICE/.test(z)&&(I[z]=H.encoding)}),this.serviceEncodings=I,this.current708Packet=null,this.services={},this.push=function(z){z.type===3?(F.new708Packet(),F.add708Bytes(z)):(F.current708Packet===null&&F.new708Packet(),F.add708Bytes(z))}};ui.prototype=new qn,ui.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ui.prototype.add708Bytes=function(w){var F=w.ccData,P=F>>>8,I=F&255;this.current708Packet.ptsVals.push(w.pts),this.current708Packet.data.push(P),this.current708Packet.data.push(I)},ui.prototype.push708Packet=function(){var w=this.current708Packet,F=w.data,P=null,I=null,H=0,z=F[H++];for(w.seq=z>>6,w.sizeCode=z&63;H<F.length;H++)z=F[H++],P=z>>5,I=z&31,P===7&&I>0&&(z=F[H++],P=z),this.pushServiceBlock(P,H,I),I>0&&(H+=I-1)},ui.prototype.pushServiceBlock=function(w,F,P){var I,H=F,z=this.current708Packet.data,ue=this.services[w];for(ue||(ue=this.initService(w,H));H<F+P&&H<z.length;H++)I=z[H],ra(I)?H=this.handleText(H,ue):I===24?H=this.multiByteCharacter(H,ue):I===16?H=this.extendedCommands(H,ue):128<=I&&I<=135?H=this.setCurrentWindow(H,ue):152<=I&&I<=159?H=this.defineWindow(H,ue):I===136?H=this.clearWindows(H,ue):I===140?H=this.deleteWindows(H,ue):I===137?H=this.displayWindows(H,ue):I===138?H=this.hideWindows(H,ue):I===139?H=this.toggleWindows(H,ue):I===151?H=this.setWindowAttributes(H,ue):I===144?H=this.setPenAttributes(H,ue):I===145?H=this.setPenColor(H,ue):I===146?H=this.setPenLocation(H,ue):I===143?ue=this.reset(H,ue):I===8?ue.currentWindow.backspace():I===12?ue.currentWindow.clearText():I===13?ue.currentWindow.pendingNewLine=!0:I===14?ue.currentWindow.clearText():I===141&&H++},ui.prototype.extendedCommands=function(w,F){var P=this.current708Packet.data,I=P[++w];return ra(I)&&(w=this.handleText(w,F,{isExtended:!0})),w},ui.prototype.getPts=function(w){return this.current708Packet.ptsVals[Math.floor(w/2)]},ui.prototype.initService=function(w,F){var I="SERVICE"+w,P=this,I,H;return I in this.serviceEncodings&&(H=this.serviceEncodings[I]),this.services[w]=new wr(w,H,P),this.services[w].init(this.getPts(F),function(z){P.flushDisplayed(z,P.services[w])}),this.services[w]},ui.prototype.handleText=function(w,F,P){var I=P&&P.isExtended,H=P&&P.isMultiByte,z=this.current708Packet.data,ue=I?4096:0,Ae=z[w],fe=z[w+1],be=F.currentWindow,Ee,Pe;function it(Ve){return Ve.map(vt=>("0"+(vt&255).toString(16)).slice(-2)).join("")}if(H?(Pe=[Ae,fe],w++):Pe=[Ae],F.textDecoder_&&!I)Ee=F.textDecoder_.decode(new Uint8Array(Pe));else if(H){const Ve=it(Pe);Ee=String.fromCharCode(parseInt(Ve,16))}else Ee=Gc(ue|Ae);return be.pendingNewLine&&!be.isEmpty()&&be.newLine(this.getPts(w)),be.pendingNewLine=!1,be.addText(Ee),w},ui.prototype.multiByteCharacter=function(w,F){var P=this.current708Packet.data,I=P[w+1],H=P[w+2];return ra(I)&&ra(H)&&(w=this.handleText(++w,F,{isMultiByte:!0})),w},ui.prototype.setCurrentWindow=function(w,F){var P=this.current708Packet.data,I=P[w],H=I&7;return F.setCurrentWindow(H),w},ui.prototype.defineWindow=function(w,F){var P=this.current708Packet.data,I=P[w],H=I&7;F.setCurrentWindow(H);var z=F.currentWindow;return I=P[++w],z.visible=(I&32)>>5,z.rowLock=(I&16)>>4,z.columnLock=(I&8)>>3,z.priority=I&7,I=P[++w],z.relativePositioning=(I&128)>>7,z.anchorVertical=I&127,I=P[++w],z.anchorHorizontal=I,I=P[++w],z.anchorPoint=(I&240)>>4,z.rowCount=I&15,I=P[++w],z.columnCount=I&63,I=P[++w],z.windowStyle=(I&56)>>3,z.penStyle=I&7,z.virtualRowCount=z.rowCount+1,w},ui.prototype.setWindowAttributes=function(w,F){var P=this.current708Packet.data,I=P[w],H=F.currentWindow.winAttr;return I=P[++w],H.fillOpacity=(I&192)>>6,H.fillRed=(I&48)>>4,H.fillGreen=(I&12)>>2,H.fillBlue=I&3,I=P[++w],H.borderType=(I&192)>>6,H.borderRed=(I&48)>>4,H.borderGreen=(I&12)>>2,H.borderBlue=I&3,I=P[++w],H.borderType+=(I&128)>>5,H.wordWrap=(I&64)>>6,H.printDirection=(I&48)>>4,H.scrollDirection=(I&12)>>2,H.justify=I&3,I=P[++w],H.effectSpeed=(I&240)>>4,H.effectDirection=(I&12)>>2,H.displayEffect=I&3,w},ui.prototype.flushDisplayed=function(w,F){for(var P=[],I=0;I<8;I++)F.windows[I].visible&&!F.windows[I].isEmpty()&&P.push(F.windows[I].getText());F.endPts=w,F.text=P.join("\n\n"),this.pushCaption(F),F.startPts=w},ui.prototype.pushCaption=function(w){w.text!==""&&(this.trigger("data",{startPts:w.startPts,endPts:w.endPts,text:w.text,stream:"cc708_"+w.serviceNum}),w.text="",w.startPts=w.endPts)},ui.prototype.displayWindows=function(w,F){var P=this.current708Packet.data,I=P[++w],H=this.getPts(w);this.flushDisplayed(H,F);for(var z=0;z<8;z++)I&1<<z&&(F.windows[z].visible=1);return w},ui.prototype.hideWindows=function(w,F){var P=this.current708Packet.data,I=P[++w],H=this.getPts(w);this.flushDisplayed(H,F);for(var z=0;z<8;z++)I&1<<z&&(F.windows[z].visible=0);return w},ui.prototype.toggleWindows=function(w,F){var P=this.current708Packet.data,I=P[++w],H=this.getPts(w);this.flushDisplayed(H,F);for(var z=0;z<8;z++)I&1<<z&&(F.windows[z].visible^=1);return w},ui.prototype.clearWindows=function(w,F){var P=this.current708Packet.data,I=P[++w],H=this.getPts(w);this.flushDisplayed(H,F);for(var z=0;z<8;z++)I&1<<z&&F.windows[z].clearText();return w},ui.prototype.deleteWindows=function(w,F){var P=this.current708Packet.data,I=P[++w],H=this.getPts(w);this.flushDisplayed(H,F);for(var z=0;z<8;z++)I&1<<z&&F.windows[z].reset();return w},ui.prototype.setPenAttributes=function(w,F){var P=this.current708Packet.data,I=P[w],H=F.currentWindow.penAttr;return I=P[++w],H.textTag=(I&240)>>4,H.offset=(I&12)>>2,H.penSize=I&3,I=P[++w],H.italics=(I&128)>>7,H.underline=(I&64)>>6,H.edgeType=(I&56)>>3,H.fontStyle=I&7,w},ui.prototype.setPenColor=function(w,F){var P=this.current708Packet.data,I=P[w],H=F.currentWindow.penColor;return I=P[++w],H.fgOpacity=(I&192)>>6,H.fgRed=(I&48)>>4,H.fgGreen=(I&12)>>2,H.fgBlue=I&3,I=P[++w],H.bgOpacity=(I&192)>>6,H.bgRed=(I&48)>>4,H.bgGreen=(I&12)>>2,H.bgBlue=I&3,I=P[++w],H.edgeRed=(I&48)>>4,H.edgeGreen=(I&12)>>2,H.edgeBlue=I&3,w},ui.prototype.setPenLocation=function(w,F){var P=this.current708Packet.data,I=P[w],H=F.currentWindow.penLoc;return F.currentWindow.pendingNewLine=!0,I=P[++w],H.row=I&15,I=P[++w],H.column=I&63,w},ui.prototype.reset=function(w,F){var P=this.getPts(w);return this.flushDisplayed(P,F),this.initService(F.serviceNum,w)};var Kc={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},oa=function(w){return w===null?"":(w=Kc[w]||w,String.fromCharCode(w))},xs=14,mu=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_r=function(){for(var w=[],F=xs+1;F--;)w.push({text:"",indent:0,offset:0});return w},fi=function(w,F){fi.prototype.init.call(this),this.field_=w||0,this.dataChannel_=F||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(P){var I,H,z,ue,Ae;if(I=P.ccData&32639,I===this.lastControlCode_){this.lastControlCode_=null;return}if((I&61440)===4096?this.lastControlCode_=I:I!==this.PADDING_&&(this.lastControlCode_=null),z=I>>>8,ue=I&255,I!==this.PADDING_)if(I===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(I===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(P.pts),this.flushDisplayed(P.pts),H=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=H,this.startPts_=P.pts;else if(I===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(P.pts);else if(I===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(P.pts);else if(I===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(P.pts);else if(I===this.CARRIAGE_RETURN_)this.clearFormatting(P.pts),this.flushDisplayed(P.pts),this.shiftRowsUp_(),this.startPts_=P.pts;else if(I===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(I===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(P.pts),this.displayed_=_r();else if(I===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_r();else if(I===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(P.pts),this.displayed_=_r()),this.mode_="paintOn",this.startPts_=P.pts;else if(this.isSpecialCharacter(z,ue))z=(z&3)<<8,Ae=oa(z|ue),this[this.mode_](P.pts,Ae),this.column_++;else if(this.isExtCharacter(z,ue))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),z=(z&3)<<8,Ae=oa(z|ue),this[this.mode_](P.pts,Ae),this.column_++;else if(this.isMidRowCode(z,ue))this.clearFormatting(P.pts),this[this.mode_](P.pts," "),this.column_++,(ue&14)===14&&this.addFormatting(P.pts,["i"]),(ue&1)===1&&this.addFormatting(P.pts,["u"]);else if(this.isOffsetControlCode(z,ue)){const be=ue&3;this.nonDisplayed_[this.row_].offset=be,this.column_+=be}else if(this.isPAC(z,ue)){var fe=mu.indexOf(I&7968);if(this.mode_==="rollUp"&&(fe-this.rollUpRows_+1<0&&(fe=this.rollUpRows_-1),this.setRollUp(P.pts,fe)),fe!==this.row_&&(this.clearFormatting(P.pts),this.row_=fe),ue&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(P.pts,["u"]),(I&16)===16){const be=(I&14)>>1;this.column_=be*4,this.nonDisplayed_[this.row_].indent+=be}this.isColorPAC(ue)&&(ue&14)===14&&this.addFormatting(P.pts,["i"])}else this.isNormalChar(z)&&(ue===0&&(ue=null),Ae=oa(z),Ae+=oa(ue),this[this.mode_](P.pts,Ae),this.column_+=Ae.length)}};fi.prototype=new qn,fi.prototype.flushDisplayed=function(w){const F=I=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+I+"."})},P=[];this.displayed_.forEach((I,H)=>{if(I&&I.text&&I.text.length){try{I.text=I.text.trim()}catch{F(H)}I.text.length&&P.push({text:I.text,line:H+1,position:10+Math.min(70,I.indent*10)+I.offset*2.5})}else I==null&&F(H)}),P.length&&this.trigger("data",{startPts:this.startPts_,endPts:w,content:P,stream:this.name_})},fi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_r(),this.nonDisplayed_=_r(),this.lastControlCode_=null,this.column_=0,this.row_=xs,this.rollUpRows_=2,this.formatting_=[]},fi.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},fi.prototype.isSpecialCharacter=function(w,F){return w===this.EXT_&&F>=48&&F<=63},fi.prototype.isExtCharacter=function(w,F){return(w===this.EXT_+1||w===this.EXT_+2)&&F>=32&&F<=63},fi.prototype.isMidRowCode=function(w,F){return w===this.EXT_&&F>=32&&F<=47},fi.prototype.isOffsetControlCode=function(w,F){return w===this.OFFSET_&&F>=33&&F<=35},fi.prototype.isPAC=function(w,F){return w>=this.BASE_&&w<this.BASE_+8&&F>=64&&F<=127},fi.prototype.isColorPAC=function(w){return w>=64&&w<=79||w>=96&&w<=127},fi.prototype.isNormalChar=function(w){return w>=32&&w<=127},fi.prototype.setRollUp=function(w,F){if(this.mode_!=="rollUp"&&(this.row_=xs,this.mode_="rollUp",this.flushDisplayed(w),this.nonDisplayed_=_r(),this.displayed_=_r()),F!==void 0&&F!==this.row_)for(var P=0;P<this.rollUpRows_;P++)this.displayed_[F-P]=this.displayed_[this.row_-P],this.displayed_[this.row_-P]={text:"",indent:0,offset:0};F===void 0&&(F=this.row_),this.topRow_=F-this.rollUpRows_+1},fi.prototype.addFormatting=function(w,F){this.formatting_=this.formatting_.concat(F);var P=F.reduce(function(I,H){return I+"<"+H+">"},"");this[this.mode_](w,P)},fi.prototype.clearFormatting=function(w){if(this.formatting_.length){var F=this.formatting_.reverse().reduce(function(P,I){return P+"</"+I+">"},"");this.formatting_=[],this[this.mode_](w,F)}},fi.prototype.popOn=function(w,F){var P=this.nonDisplayed_[this.row_].text;P+=F,this.nonDisplayed_[this.row_].text=P},fi.prototype.rollUp=function(w,F){var P=this.displayed_[this.row_].text;P+=F,this.displayed_[this.row_].text=P},fi.prototype.shiftRowsUp_=function(){var w;for(w=0;w<this.topRow_;w++)this.displayed_[w]={text:"",indent:0,offset:0};for(w=this.row_+1;w<xs+1;w++)this.displayed_[w]={text:"",indent:0,offset:0};for(w=this.topRow_;w<this.row_;w++)this.displayed_[w]=this.displayed_[w+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},fi.prototype.paintOn=function(w,F){var P=this.displayed_[this.row_].text;P+=F,this.displayed_[this.row_].text=P};var al={CaptionStream:en,Cea608Stream:fi,Cea708Stream:ui},Cr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},vu=i,ll=8589934592,bu=4294967296,yu="shared",ul=function(w,F){var P=1;for(w>F&&(P=-1);Math.abs(F-w)>bu;)w+=P*ll;return w},Yr=function(w){var F,P;Yr.prototype.init.call(this),this.type_=w||yu,this.push=function(I){this.type_!==yu&&I.type!==this.type_||(P===void 0&&(P=I.dts),I.dts=ul(I.dts,P),I.pts=ul(I.pts,P),F=I.dts,this.trigger("data",I))},this.flush=function(){P=F,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){P=void 0,F=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Yr.prototype=new vu;var wu={TimestampRolloverStream:Yr,handleRollover:ul},aa=(w,F,P)=>{if(!w)return-1;for(var I=P;I<w.length;I++)if(w[I]===F)return I;return-1},cl={typedArrayIndexOf:aa},la=cl.typedArrayIndexOf,ua={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Xr=function(w,F,P){var I,H="";for(I=F;I<P;I++)H+="%"+("00"+w[I].toString(16)).slice(-2);return H},go=function(w,F,P){return decodeURIComponent(Xr(w,F,P))},Yn=function(w,F,P){return unescape(Xr(w,F,P))},mo=function(w){return w[0]<<21|w[1]<<14|w[2]<<7|w[3]},vo={APIC:function(w){var F=1,P,I,H="-->";w.data[0]===ua.Utf8&&(P=la(w.data,0,F),!(P<0)&&(w.mimeType=Yn(w.data,F,P),F=P+1,w.pictureType=w.data[F],F++,I=la(w.data,0,F),!(I<0)&&(w.description=go(w.data,F,I),F=I+1,w.mimeType===H?w.url=Yn(w.data,F,w.data.length):w.pictureData=w.data.subarray(F,w.data.length))))},"T*":function(w){w.data[0]===ua.Utf8&&(w.value=go(w.data,1,w.data.length).replace(/\0*$/,""),w.values=w.value.split("\0"))},TXXX:function(w){var F;w.data[0]===ua.Utf8&&(F=la(w.data,0,1),F!==-1&&(w.description=go(w.data,1,F),w.value=go(w.data,F+1,w.data.length).replace(/\0*$/,""),w.data=w.value))},"W*":function(w){w.url=Yn(w.data,0,w.data.length).replace(/\0.*$/,"")},WXXX:function(w){var F;w.data[0]===ua.Utf8&&(F=la(w.data,0,1),F!==-1&&(w.description=go(w.data,1,F),w.url=Yn(w.data,F+1,w.data.length).replace(/\0.*$/,"")))},PRIV:function(w){var F;for(F=0;F<w.data.length;F++)if(w.data[F]===0){w.owner=Yn(w.data,0,F);break}w.privateData=w.data.subarray(F+1),w.data=w.privateData}},_u=function(w){var F,P,I=10,H=0,z=[];if(!(w.length<10||w[0]!=="I".charCodeAt(0)||w[1]!=="D".charCodeAt(0)||w[2]!=="3".charCodeAt(0))){H=mo(w.subarray(6,10)),H+=10;var ue=w[5]&64;ue&&(I+=4,I+=mo(w.subarray(10,14)),H-=mo(w.subarray(16,20)));do{if(F=mo(w.subarray(I+4,I+8)),F<1)break;P=String.fromCharCode(w[I],w[I+1],w[I+2],w[I+3]);var Ae={id:P,data:w.subarray(I+10,I+F+10)};Ae.key=Ae.id,vo[Ae.id]?vo[Ae.id](Ae):Ae.id[0]==="T"?vo["T*"](Ae):Ae.id[0]==="W"&&vo["W*"](Ae),z.push(Ae),I+=10,I+=F}while(I<H);return z}},Cu={parseId3Frames:_u,parseSyncSafeInteger:mo,frameParsers:vo},Al=i,bo=Cr,Xn=Cu,ca;ca=function(w){var F={descriptor:w&&w.descriptor},P=0,I=[],H=0,z;if(ca.prototype.init.call(this),this.dispatchType=bo.METADATA_STREAM_TYPE.toString(16),F.descriptor)for(z=0;z<F.descriptor.length;z++)this.dispatchType+=("00"+F.descriptor[z].toString(16)).slice(-2);this.push=function(ue){var Ae,fe,be,Ee,Pe,it;if(ue.type==="timed-metadata"){if(ue.dataAlignmentIndicator&&(H=0,I.length=0),I.length===0&&(ue.data.length<10||ue.data[0]!=="I".charCodeAt(0)||ue.data[1]!=="D".charCodeAt(0)||ue.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(I.push(ue),H+=ue.data.byteLength,I.length===1&&(P=Xn.parseSyncSafeInteger(ue.data.subarray(6,10)),P+=10),!(H<P)){for(Ae={data:new Uint8Array(P),frames:[],pts:I[0].pts,dts:I[0].dts},Pe=0;Pe<P;)Ae.data.set(I[0].data.subarray(0,P-Pe),Pe),Pe+=I[0].data.byteLength,H-=I[0].data.byteLength,I.shift();fe=10,Ae.data[5]&64&&(fe+=4,fe+=Xn.parseSyncSafeInteger(Ae.data.subarray(10,14)),P-=Xn.parseSyncSafeInteger(Ae.data.subarray(16,20)));do{if(be=Xn.parseSyncSafeInteger(Ae.data.subarray(fe+4,fe+8)),be<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(it=String.fromCharCode(Ae.data[fe],Ae.data[fe+1],Ae.data[fe+2],Ae.data[fe+3]),Ee={id:it,data:Ae.data.subarray(fe+10,fe+be+10)},Ee.key=Ee.id,Xn.frameParsers[Ee.id]?Xn.frameParsers[Ee.id](Ee):Ee.id[0]==="T"?Xn.frameParsers["T*"](Ee):Ee.id[0]==="W"&&Xn.frameParsers["W*"](Ee),Ee.owner==="com.apple.streaming.transportStreamTimestamp"){var Ve=Ee.data,vt=(Ve[3]&1)<<30|Ve[4]<<22|Ve[5]<<14|Ve[6]<<6|Ve[7]>>>2;vt*=4,vt+=Ve[7]&3,Ee.timeStamp=vt,Ae.pts===void 0&&Ae.dts===void 0&&(Ae.pts=Ee.timeStamp,Ae.dts=Ee.timeStamp),this.trigger("timestamp",Ee)}Ae.frames.push(Ee),fe+=10,fe+=be}while(fe<P);this.trigger("data",Ae)}}}},ca.prototype=new Al;var Er=ca,Ss=i,yo=al,dn=Cr,Wc=wu.TimestampRolloverStream,Zs,Eu,Aa,ha=188,ln=71;Zs=function(){var w=new Uint8Array(ha),F=0;Zs.prototype.init.call(this),this.push=function(P){var I=0,H=ha,z;for(F?(z=new Uint8Array(P.byteLength+F),z.set(w.subarray(0,F)),z.set(P,F),F=0):z=P;H<z.byteLength;){if(z[I]===ln&&z[H]===ln){this.trigger("data",z.subarray(I,H)),I+=ha,H+=ha;continue}I++,H++}I<z.byteLength&&(w.set(z.subarray(I),0),F=z.byteLength-I)},this.flush=function(){F===ha&&w[0]===ln&&(this.trigger("data",w),F=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){F=0,this.trigger("reset")}},Zs.prototype=new Ss,Eu=function(){var w,F,P,I;Eu.prototype.init.call(this),I=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,w=function(H,z){var ue=0;z.payloadUnitStartIndicator&&(ue+=H[ue]+1),z.type==="pat"?F(H.subarray(ue),z):P(H.subarray(ue),z)},F=function(H,z){z.section_number=H[7],z.last_section_number=H[8],I.pmtPid=(H[10]&31)<<8|H[11],z.pmtPid=I.pmtPid},P=function(H,z){var ue,Ae,fe,be;if(H[5]&1){for(I.programMapTable={video:null,audio:null,"timed-metadata":{}},ue=(H[1]&15)<<8|H[2],Ae=3+ue-4,fe=(H[10]&15)<<8|H[11],be=12+fe;be<Ae;){var Ee=H[be],Pe=(H[be+1]&31)<<8|H[be+2];Ee===dn.H264_STREAM_TYPE&&I.programMapTable.video===null?I.programMapTable.video=Pe:Ee===dn.ADTS_STREAM_TYPE&&I.programMapTable.audio===null?I.programMapTable.audio=Pe:Ee===dn.METADATA_STREAM_TYPE&&(I.programMapTable["timed-metadata"][Pe]=Ee),be+=((H[be+3]&15)<<8|H[be+4])+5}z.programMapTable=I.programMapTable}},this.push=function(H){var z={},ue=4;if(z.payloadUnitStartIndicator=!!(H[1]&64),z.pid=H[1]&31,z.pid<<=8,z.pid|=H[2],(H[3]&48)>>>4>1&&(ue+=H[ue]+1),z.pid===0)z.type="pat",w(H.subarray(ue),z),this.trigger("data",z);else if(z.pid===this.pmtPid)for(z.type="pmt",w(H.subarray(ue),z),this.trigger("data",z);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([H,ue,z]):this.processPes_(H,ue,z)},this.processPes_=function(H,z,ue){ue.pid===this.programMapTable.video?ue.streamType=dn.H264_STREAM_TYPE:ue.pid===this.programMapTable.audio?ue.streamType=dn.ADTS_STREAM_TYPE:ue.streamType=this.programMapTable["timed-metadata"][ue.pid],ue.type="pes",ue.data=H.subarray(z),this.trigger("data",ue)}},Eu.prototype=new Ss,Eu.STREAM_TYPES={h264:27,adts:15},Aa=function(){var w=this,F=!1,P={data:[],size:0},I={data:[],size:0},H={data:[],size:0},z,ue=function(fe,be){var Ee;const Pe=fe[0]<<16|fe[1]<<8|fe[2];be.data=new Uint8Array,Pe===1&&(be.packetLength=6+(fe[4]<<8|fe[5]),be.dataAlignmentIndicator=(fe[6]&4)!==0,Ee=fe[7],Ee&192&&(be.pts=(fe[9]&14)<<27|(fe[10]&255)<<20|(fe[11]&254)<<12|(fe[12]&255)<<5|(fe[13]&254)>>>3,be.pts*=4,be.pts+=(fe[13]&6)>>>1,be.dts=be.pts,Ee&64&&(be.dts=(fe[14]&14)<<27|(fe[15]&255)<<20|(fe[16]&254)<<12|(fe[17]&255)<<5|(fe[18]&254)>>>3,be.dts*=4,be.dts+=(fe[18]&6)>>>1)),be.data=fe.subarray(9+fe[8]))},Ae=function(fe,be,Ee){var Pe=new Uint8Array(fe.size),it={type:be},Ve=0,vt=0,Tt=!1,Ui;if(!(!fe.data.length||fe.size<9)){for(it.trackId=fe.data[0].pid,Ve=0;Ve<fe.data.length;Ve++)Ui=fe.data[Ve],Pe.set(Ui.data,vt),vt+=Ui.data.byteLength;ue(Pe,it),Tt=be==="video"||it.packetLength<=fe.size,(Ee||Tt)&&(fe.size=0,fe.data.length=0),Tt&&w.trigger("data",it)}};Aa.prototype.init.call(this),this.push=function(fe){({pat:function(){},pes:function(){var be,Ee;switch(fe.streamType){case dn.H264_STREAM_TYPE:be=P,Ee="video";break;case dn.ADTS_STREAM_TYPE:be=I,Ee="audio";break;case dn.METADATA_STREAM_TYPE:be=H,Ee="timed-metadata";break;default:return}fe.payloadUnitStartIndicator&&Ae(be,Ee,!0),be.data.push(fe),be.size+=fe.data.byteLength},pmt:function(){var be={type:"metadata",tracks:[]};z=fe.programMapTable,z.video!==null&&be.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+z.video,codec:"avc",type:"video"}),z.audio!==null&&be.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+z.audio,codec:"adts",type:"audio"}),F=!0,w.trigger("data",be)}})[fe.type]()},this.reset=function(){P.size=0,P.data.length=0,I.size=0,I.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ae(P,"video"),Ae(I,"audio"),Ae(H,"timed-metadata")},this.flush=function(){if(!F&&z){var fe={type:"metadata",tracks:[]};z.video!==null&&fe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+z.video,codec:"avc",type:"video"}),z.audio!==null&&fe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+z.audio,codec:"adts",type:"audio"}),w.trigger("data",fe)}F=!1,this.flushStreams_(),this.trigger("done")}},Aa.prototype=new Ss;var Tu={PAT_PID:0,MP2T_PACKET_LENGTH:ha,TransportPacketStream:Zs,TransportParseStream:Eu,ElementaryStream:Aa,TimestampRolloverStream:Wc,CaptionStream:yo.CaptionStream,Cea608Stream:yo.Cea608Stream,Cea708Stream:yo.Cea708Stream,MetadataStream:Er};for(var id in dn)dn.hasOwnProperty(id)&&(Tu[id]=dn[id]);var Cy=Tu,xu=i,Su=_t.ONE_SECOND_IN_TS,hl,Tg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];hl=function(w){var F,P=0;hl.prototype.init.call(this),this.skipWarn_=function(I,H){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(I," to ").concat(H," in frame ").concat(P," outside syncword")})},this.push=function(I){var H=0,z,ue,Ae,fe,be;if(w||(P=0),I.type==="audio"){F&&F.length?(Ae=F,F=new Uint8Array(Ae.byteLength+I.data.byteLength),F.set(Ae),F.set(I.data,Ae.byteLength)):F=I.data;for(var Ee;H+7<F.length;){if(F[H]!==255||(F[H+1]&246)!==240){typeof Ee!="number"&&(Ee=H),H++;continue}if(typeof Ee=="number"&&(this.skipWarn_(Ee,H),Ee=null),ue=(~F[H+1]&1)*2,z=(F[H+3]&3)<<11|F[H+4]<<3|(F[H+5]&224)>>5,fe=((F[H+6]&3)+1)*1024,be=fe*Su/Tg[(F[H+2]&60)>>>2],F.byteLength-H<z)break;this.trigger("data",{pts:I.pts+P*be,dts:I.dts+P*be,sampleCount:fe,audioobjecttype:(F[H+2]>>>6&3)+1,channelcount:(F[H+2]&1)<<2|(F[H+3]&192)>>>6,samplerate:Tg[(F[H+2]&60)>>>2],samplingfrequencyindex:(F[H+2]&60)>>>2,samplesize:16,data:F.subarray(H+7+ue,H+z)}),P++,H+=z}typeof Ee=="number"&&(this.skipWarn_(Ee,H),Ee=null),F=F.subarray(H)}},this.flush=function(){P=0,this.trigger("done")},this.reset=function(){F=void 0,this.trigger("reset")},this.endTimeline=function(){F=void 0,this.trigger("endedtimeline")}},hl.prototype=new xu;var nd=hl,xg;xg=function(w){var F=w.byteLength,P=0,I=0;this.length=function(){return 8*F},this.bitsAvailable=function(){return 8*F+I},this.loadWord=function(){var H=w.byteLength-F,z=new Uint8Array(4),ue=Math.min(4,F);if(ue===0)throw new Error("no bytes available");z.set(w.subarray(H,H+ue)),P=new DataView(z.buffer).getUint32(0),I=ue*8,F-=ue},this.skipBits=function(H){var z;I>H?(P<<=H,I-=H):(H-=I,z=Math.floor(H/8),H-=z*8,F-=z,this.loadWord(),P<<=H,I-=H)},this.readBits=function(H){var z=Math.min(I,H),ue=P>>>32-z;return I-=z,I>0?P<<=z:F>0&&this.loadWord(),z=H-z,z>0?ue<<z|this.readBits(z):ue},this.skipLeadingZeros=function(){var H;for(H=0;H<I;++H)if(P&2147483648>>>H)return P<<=H,I-=H,H;return this.loadWord(),H+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var H=this.skipLeadingZeros();return this.readBits(H+1)-1},this.readExpGolomb=function(){var H=this.readUnsignedExpGolomb();return 1&H?1+H>>>1:-1*(H>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var gi=xg,Bu=i,Ei=gi,ku,Jr,sd;Jr=function(){var w=0,F,P;Jr.prototype.init.call(this),this.push=function(I){var H;P?(H=new Uint8Array(P.byteLength+I.data.byteLength),H.set(P),H.set(I.data,P.byteLength),P=H):P=I.data;for(var z=P.byteLength;w<z-3;w++)if(P[w+2]===1){F=w+5;break}for(;F<z;)switch(P[F]){case 0:if(P[F-1]!==0){F+=2;break}else if(P[F-2]!==0){F++;break}w+3!==F-2&&this.trigger("data",P.subarray(w+3,F-2));do F++;while(P[F]!==1&&F<z);w=F-2,F+=3;break;case 1:if(P[F-1]!==0||P[F-2]!==0){F+=3;break}this.trigger("data",P.subarray(w+3,F-2)),w=F-2,F+=3;break;default:F+=3;break}P=P.subarray(w),F-=w,w=0},this.reset=function(){P=null,w=0,this.trigger("reset")},this.flush=function(){P&&P.byteLength>3&&this.trigger("data",P.subarray(w+3)),P=null,w=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Jr.prototype=new Bu,sd={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ku=function(){var w=new Jr,F,P,I,H,z,ue,Ae;ku.prototype.init.call(this),F=this,this.push=function(fe){fe.type==="video"&&(P=fe.trackId,I=fe.pts,H=fe.dts,w.push(fe))},w.on("data",function(fe){var be={trackId:P,pts:I,dts:H,data:fe,nalUnitTypeCode:fe[0]&31};switch(be.nalUnitTypeCode){case 5:be.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:be.nalUnitType="sei_rbsp",be.escapedRBSP=z(fe.subarray(1));break;case 7:be.nalUnitType="seq_parameter_set_rbsp",be.escapedRBSP=z(fe.subarray(1)),be.config=ue(be.escapedRBSP);break;case 8:be.nalUnitType="pic_parameter_set_rbsp";break;case 9:be.nalUnitType="access_unit_delimiter_rbsp";break}F.trigger("data",be)}),w.on("done",function(){F.trigger("done")}),w.on("partialdone",function(){F.trigger("partialdone")}),w.on("reset",function(){F.trigger("reset")}),w.on("endedtimeline",function(){F.trigger("endedtimeline")}),this.flush=function(){w.flush()},this.partialFlush=function(){w.partialFlush()},this.reset=function(){w.reset()},this.endTimeline=function(){w.endTimeline()},Ae=function(fe,be){var Ee=8,Pe=8,it,Ve;for(it=0;it<fe;it++)Pe!==0&&(Ve=be.readExpGolomb(),Pe=(Ee+Ve+256)%256),Ee=Pe===0?Ee:Pe},z=function(fe){for(var be=fe.byteLength,Ee=[],Pe=1,it,Ve;Pe<be-2;)fe[Pe]===0&&fe[Pe+1]===0&&fe[Pe+2]===3?(Ee.push(Pe+2),Pe+=2):Pe++;if(Ee.length===0)return fe;it=be-Ee.length,Ve=new Uint8Array(it);var vt=0;for(Pe=0;Pe<it;vt++,Pe++)vt===Ee[0]&&(vt++,Ee.shift()),Ve[Pe]=fe[vt];return Ve},ue=function(fe){var be=0,Ee=0,Pe=0,it=0,Ve,vt,Tt,Ui,Fs,er,Vu,to,md,zu,rm,Si=[1,1],om,_a;if(Ve=new Ei(fe),vt=Ve.readUnsignedByte(),Ui=Ve.readUnsignedByte(),Tt=Ve.readUnsignedByte(),Ve.skipUnsignedExpGolomb(),sd[vt]&&(Fs=Ve.readUnsignedExpGolomb(),Fs===3&&Ve.skipBits(1),Ve.skipUnsignedExpGolomb(),Ve.skipUnsignedExpGolomb(),Ve.skipBits(1),Ve.readBoolean()))for(rm=Fs!==3?8:12,_a=0;_a<rm;_a++)Ve.readBoolean()&&(_a<6?Ae(16,Ve):Ae(64,Ve));if(Ve.skipUnsignedExpGolomb(),er=Ve.readUnsignedExpGolomb(),er===0)Ve.readUnsignedExpGolomb();else if(er===1)for(Ve.skipBits(1),Ve.skipExpGolomb(),Ve.skipExpGolomb(),Vu=Ve.readUnsignedExpGolomb(),_a=0;_a<Vu;_a++)Ve.skipExpGolomb();if(Ve.skipUnsignedExpGolomb(),Ve.skipBits(1),to=Ve.readUnsignedExpGolomb(),md=Ve.readUnsignedExpGolomb(),zu=Ve.readBits(1),zu===0&&Ve.skipBits(1),Ve.skipBits(1),Ve.readBoolean()&&(be=Ve.readUnsignedExpGolomb(),Ee=Ve.readUnsignedExpGolomb(),Pe=Ve.readUnsignedExpGolomb(),it=Ve.readUnsignedExpGolomb()),Ve.readBoolean()&&Ve.readBoolean()){switch(om=Ve.readUnsignedByte(),om){case 1:Si=[1,1];break;case 2:Si=[12,11];break;case 3:Si=[10,11];break;case 4:Si=[16,11];break;case 5:Si=[40,33];break;case 6:Si=[24,11];break;case 7:Si=[20,11];break;case 8:Si=[32,11];break;case 9:Si=[80,33];break;case 10:Si=[18,11];break;case 11:Si=[15,11];break;case 12:Si=[64,33];break;case 13:Si=[160,99];break;case 14:Si=[4,3];break;case 15:Si=[3,2];break;case 16:Si=[2,1];break;case 255:{Si=[Ve.readUnsignedByte()<<8|Ve.readUnsignedByte(),Ve.readUnsignedByte()<<8|Ve.readUnsignedByte()];break}}Si&&Si[0]/Si[1]}return{profileIdc:vt,levelIdc:Tt,profileCompatibility:Ui,width:(to+1)*16-be*2-Ee*2,height:(2-zu)*(md+1)*16-Pe*2-it*2,sarRatio:Si}}},ku.prototype=new Bu;var Ey={H264Stream:ku,NalByteStream:Jr},Du=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Sg=function(w,F){var P=w[F+6]<<21|w[F+7]<<14|w[F+8]<<7|w[F+9],I=w[F+5],H=(I&16)>>4;return P=P>=0?P:0,H?P+20:P+10},Fu=function(w,F){return w.length-F<10||w[F]!=="I".charCodeAt(0)||w[F+1]!=="D".charCodeAt(0)||w[F+2]!=="3".charCodeAt(0)?F:(F+=Sg(w,F),Fu(w,F))},qc=function(w){var F=Fu(w,0);return w.length>=F+2&&(w[F]&255)===255&&(w[F+1]&240)===240&&(w[F+1]&22)===16},Nn=function(w){return w[0]<<21|w[1]<<14|w[2]<<7|w[3]},Ty=function(w,F,P){var I,H="";for(I=F;I<P;I++)H+="%"+("00"+w[I].toString(16)).slice(-2);return H},Pi=function(w,F,P){return unescape(Ty(w,F,P))},xy=function(w,F){var P=(w[F+5]&224)>>5,I=w[F+4]<<3,H=w[F+3]&6144;return H|I|P},Bg=function(w,F){return w[F]==="I".charCodeAt(0)&&w[F+1]==="D".charCodeAt(0)&&w[F+2]==="3".charCodeAt(0)?"timed-metadata":w[F]&!0&&(w[F+1]&240)===240?"audio":null},Sy=function(w){for(var F=0;F+5<w.length;){if(w[F]!==255||(w[F+1]&246)!==240){F++;continue}return Du[(w[F+2]&60)>>>2]}return null},wo=function(w){var F,P,I,H;F=10,w[5]&64&&(F+=4,F+=Nn(w.subarray(10,14)));do{if(P=Nn(w.subarray(F+4,F+8)),P<1)return null;if(H=String.fromCharCode(w[F],w[F+1],w[F+2],w[F+3]),H==="PRIV"){I=w.subarray(F+10,F+P+10);for(var z=0;z<I.byteLength;z++)if(I[z]===0){var ue=Pi(I,0,z);if(ue==="com.apple.streaming.transportStreamTimestamp"){var Ae=I.subarray(z+1),fe=(Ae[3]&1)<<30|Ae[4]<<22|Ae[5]<<14|Ae[6]<<6|Ae[7]>>>2;return fe*=4,fe+=Ae[7]&3,fe}break}}F+=10,F+=P}while(F<w.byteLength);return null},Yc={isLikelyAacData:qc,parseId3TagSize:Sg,parseAdtsSize:xy,parseType:Bg,parseSampleRate:Sy,parseAacTimestamp:wo},kg=i,Xc=Yc,Jc;Jc=function(){var w=new Uint8Array,F=0;Jc.prototype.init.call(this),this.setTimestamp=function(P){F=P},this.push=function(P){var I=0,H=0,z,ue,Ae,fe;for(w.length?(fe=w.length,w=new Uint8Array(P.byteLength+fe),w.set(w.subarray(0,fe)),w.set(P,fe)):w=P;w.length-H>=3;){if(w[H]==="I".charCodeAt(0)&&w[H+1]==="D".charCodeAt(0)&&w[H+2]==="3".charCodeAt(0)){if(w.length-H<10||(I=Xc.parseId3TagSize(w,H),H+I>w.length))break;ue={type:"timed-metadata",data:w.subarray(H,H+I)},this.trigger("data",ue),H+=I;continue}else if((w[H]&255)===255&&(w[H+1]&240)===240){if(w.length-H<7||(I=Xc.parseAdtsSize(w,H),H+I>w.length))break;Ae={type:"audio",data:w.subarray(H,H+I),pts:F,dts:F},this.trigger("data",Ae),H+=I;continue}H++}z=w.length-H,z>0?w=w.subarray(H):w=new Uint8Array},this.reset=function(){w=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){w=new Uint8Array,this.trigger("endedtimeline")}},Jc.prototype=new kg;var rd=Jc,By=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ky=By,da=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Dy=da,Wi=i,dl=ce,_o=xe,Zc=Xs,Bs=jt,Tr=Cy,eA=_t,fl=nd,Fy=Ey.H264Stream,Iu=rd,Dg=Yc.isLikelyAacData,Iy=_t.ONE_SECOND_IN_TS,fa=ky,Lu=Dy,Co,pl,ks,pa,tA=function(w,F){F.stream=w,this.trigger("log",F)},Fg=function(w,F){for(var P=Object.keys(F),I=0;I<P.length;I++){var H=P[I];H==="headOfPipeline"||!F[H].on||F[H].on("log",tA.bind(w,H))}},iA=function(w,F){var P;if(w.length!==F.length)return!1;for(P=0;P<w.length;P++)if(w[P]!==F[P])return!1;return!0},od=function(w,F,P,I,H,z){var ue=P-F,Ae=I-F,fe=H-P;return{start:{dts:w,pts:w+ue},end:{dts:w+Ae,pts:w+fe},prependedContentDuration:z,baseMediaDecodeTime:w}};pl=function(w,F){var P=[],I,H=0,z=0,ue=1/0;F=F||{},I=F.firstSequenceNumber||0,pl.prototype.init.call(this),this.push=function(Ae){Bs.collectDtsInfo(w,Ae),w&&fa.forEach(function(fe){w[fe]=Ae[fe]}),P.push(Ae)},this.setEarliestDts=function(Ae){H=Ae},this.setVideoBaseMediaDecodeTime=function(Ae){ue=Ae},this.setAudioAppendStart=function(Ae){z=Ae},this.flush=function(){var Ae,fe,be,Ee,Pe,it,Ve;if(P.length===0){this.trigger("done","AudioSegmentStream");return}Ae=Zc.trimAdtsFramesByEarliestDts(P,w,H),w.baseMediaDecodeTime=Bs.calculateTrackBaseMediaDecodeTime(w,F.keepOriginalTimestamps),Ve=Zc.prefixWithSilence(w,Ae,z,ue),w.samples=Zc.generateSampleTable(Ae),be=dl.mdat(Zc.concatenateFrameData(Ae)),P=[],fe=dl.moof(I,[w]),Ee=new Uint8Array(fe.byteLength+be.byteLength),I++,Ee.set(fe),Ee.set(be,fe.byteLength),Bs.clearDtsInfo(w),Pe=Math.ceil(Iy*1024/w.samplerate),Ae.length&&(it=Ae.length*Pe,this.trigger("segmentTimingInfo",od(eA.audioTsToVideoTs(w.baseMediaDecodeTime,w.samplerate),Ae[0].dts,Ae[0].pts,Ae[0].dts+it,Ae[0].pts+it,Ve||0)),this.trigger("timingInfo",{start:Ae[0].pts,end:Ae[0].pts+it})),this.trigger("data",{track:w,boxes:Ee}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Bs.clearDtsInfo(w),P=[],this.trigger("reset")}},pl.prototype=new Wi,Co=function(w,F){var P,I=[],H=[],z,ue;F=F||{},P=F.firstSequenceNumber||0,Co.prototype.init.call(this),delete w.minPTS,this.gopCache_=[],this.push=function(Ae){Bs.collectDtsInfo(w,Ae),Ae.nalUnitType==="seq_parameter_set_rbsp"&&!z&&(z=Ae.config,w.sps=[Ae.data],Lu.forEach(function(fe){w[fe]=z[fe]},this)),Ae.nalUnitType==="pic_parameter_set_rbsp"&&!ue&&(ue=Ae.data,w.pps=[Ae.data]),I.push(Ae)},this.flush=function(){for(var Ae,fe,be,Ee,Pe,it,Ve=0,vt,Tt;I.length&&I[0].nalUnitType!=="access_unit_delimiter_rbsp";)I.shift();if(I.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Ae=_o.groupNalsIntoFrames(I),be=_o.groupFramesIntoGops(Ae),be[0][0].keyFrame||(fe=this.getGopForFusion_(I[0],w),fe?(Ve=fe.duration,be.unshift(fe),be.byteLength+=fe.byteLength,be.nalCount+=fe.nalCount,be.pts=fe.pts,be.dts=fe.dts,be.duration+=fe.duration):be=_o.extendFirstKeyFrame(be)),H.length){var Ui;if(F.alignGopsAtEnd?Ui=this.alignGopsAtEnd_(be):Ui=this.alignGopsAtStart_(be),!Ui){this.gopCache_.unshift({gop:be.pop(),pps:w.pps,sps:w.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Bs.clearDtsInfo(w),be=Ui}Bs.collectDtsInfo(w,be),w.samples=_o.generateSampleTable(be),Pe=dl.mdat(_o.concatenateNalData(be)),w.baseMediaDecodeTime=Bs.calculateTrackBaseMediaDecodeTime(w,F.keepOriginalTimestamps),this.trigger("processedGopsInfo",be.map(function(Fs){return{pts:Fs.pts,dts:Fs.dts,byteLength:Fs.byteLength}})),vt=be[0],Tt=be[be.length-1],this.trigger("segmentTimingInfo",od(w.baseMediaDecodeTime,vt.dts,vt.pts,Tt.dts+Tt.duration,Tt.pts+Tt.duration,Ve)),this.trigger("timingInfo",{start:be[0].pts,end:be[be.length-1].pts+be[be.length-1].duration}),this.gopCache_.unshift({gop:be.pop(),pps:w.pps,sps:w.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.trigger("baseMediaDecodeTime",w.baseMediaDecodeTime),this.trigger("timelineStartInfo",w.timelineStartInfo),Ee=dl.moof(P,[w]),it=new Uint8Array(Ee.byteLength+Pe.byteLength),P++,it.set(Ee),it.set(Pe,Ee.byteLength),this.trigger("data",{track:w,boxes:it}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),I=[],this.gopCache_.length=0,H.length=0,this.trigger("reset")},this.resetStream_=function(){Bs.clearDtsInfo(w),z=void 0,ue=void 0},this.getGopForFusion_=function(Ae){var fe=45e3,be=1e4,Ee=1/0,Pe,it,Ve,vt,Tt;for(Tt=0;Tt<this.gopCache_.length;Tt++)vt=this.gopCache_[Tt],Ve=vt.gop,!(!(w.pps&&iA(w.pps[0],vt.pps[0]))||!(w.sps&&iA(w.sps[0],vt.sps[0])))&&(Ve.dts<w.timelineStartInfo.dts||(Pe=Ae.dts-Ve.dts-Ve.duration,Pe>=-be&&Pe<=fe&&(!it||Ee>Pe)&&(it=vt,Ee=Pe)));return it?it.gop:null},this.alignGopsAtStart_=function(Ae){var fe,be,Ee,Pe,it,Ve,vt,Tt;for(it=Ae.byteLength,Ve=Ae.nalCount,vt=Ae.duration,fe=be=0;fe<H.length&&be<Ae.length&&(Ee=H[fe],Pe=Ae[be],Ee.pts!==Pe.pts);){if(Pe.pts>Ee.pts){fe++;continue}be++,it-=Pe.byteLength,Ve-=Pe.nalCount,vt-=Pe.duration}return be===0?Ae:be===Ae.length?null:(Tt=Ae.slice(be),Tt.byteLength=it,Tt.duration=vt,Tt.nalCount=Ve,Tt.pts=Tt[0].pts,Tt.dts=Tt[0].dts,Tt)},this.alignGopsAtEnd_=function(Ae){var fe,be,Ee,Pe,it,Ve;for(fe=H.length-1,be=Ae.length-1,it=null,Ve=!1;fe>=0&&be>=0;){if(Ee=H[fe],Pe=Ae[be],Ee.pts===Pe.pts){Ve=!0;break}if(Ee.pts>Pe.pts){fe--;continue}fe===H.length-1&&(it=be),be--}if(!Ve&&it===null)return null;var vt;if(Ve?vt=be:vt=it,vt===0)return Ae;var Tt=Ae.slice(vt),Ui=Tt.reduce(function(Fs,er){return Fs.byteLength+=er.byteLength,Fs.duration+=er.duration,Fs.nalCount+=er.nalCount,Fs},{byteLength:0,duration:0,nalCount:0});return Tt.byteLength=Ui.byteLength,Tt.duration=Ui.duration,Tt.nalCount=Ui.nalCount,Tt.pts=Tt[0].pts,Tt.dts=Tt[0].dts,Tt},this.alignGopsWith=function(Ae){H=Ae}},Co.prototype=new Wi,pa=function(w,F){this.numberOfTracks=0,this.metadataStream=F,w=w||{},typeof w.remux<"u"?this.remuxTracks=!!w.remux:this.remuxTracks=!0,typeof w.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=w.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,pa.prototype.init.call(this),this.push=function(P){if(P.content||P.text)return this.pendingCaptions.push(P);if(P.frames)return this.pendingMetadata.push(P);this.pendingTracks.push(P.track),this.pendingBytes+=P.boxes.byteLength,P.track.type==="video"&&(this.videoTrack=P.track,this.pendingBoxes.push(P.boxes)),P.track.type==="audio"&&(this.audioTrack=P.track,this.pendingBoxes.unshift(P.boxes))}},pa.prototype=new Wi,pa.prototype.flush=function(w){var F=0,P={captions:[],captionStreams:{},metadata:[],info:{}},I,H,z,ue=0,Ae;if(this.pendingTracks.length<this.numberOfTracks){if(w!=="VideoSegmentStream"&&w!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(ue=this.videoTrack.timelineStartInfo.pts,Lu.forEach(function(fe){P.info[fe]=this.videoTrack[fe]},this)):this.audioTrack&&(ue=this.audioTrack.timelineStartInfo.pts,fa.forEach(function(fe){P.info[fe]=this.audioTrack[fe]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?P.type=this.pendingTracks[0].type:P.type="combined",this.emittedTracks+=this.pendingTracks.length,z=dl.initSegment(this.pendingTracks),P.initSegment=new Uint8Array(z.byteLength),P.initSegment.set(z),P.data=new Uint8Array(this.pendingBytes),Ae=0;Ae<this.pendingBoxes.length;Ae++)P.data.set(this.pendingBoxes[Ae],F),F+=this.pendingBoxes[Ae].byteLength;for(Ae=0;Ae<this.pendingCaptions.length;Ae++)I=this.pendingCaptions[Ae],I.startTime=eA.metadataTsToSeconds(I.startPts,ue,this.keepOriginalTimestamps),I.endTime=eA.metadataTsToSeconds(I.endPts,ue,this.keepOriginalTimestamps),P.captionStreams[I.stream]=!0,P.captions.push(I);for(Ae=0;Ae<this.pendingMetadata.length;Ae++)H=this.pendingMetadata[Ae],H.cueTime=eA.metadataTsToSeconds(H.pts,ue,this.keepOriginalTimestamps),P.metadata.push(H);for(P.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",P),Ae=0;Ae<P.captions.length;Ae++)I=P.captions[Ae],this.trigger("caption",I);for(Ae=0;Ae<P.metadata.length;Ae++)H=P.metadata[Ae],this.trigger("id3Frame",H)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},pa.prototype.setRemux=function(w){this.remuxTracks=w},ks=function(w){var F=this,P=!0,I,H;ks.prototype.init.call(this),w=w||{},this.baseMediaDecodeTime=w.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var z={};this.transmuxPipeline_=z,z.type="aac",z.metadataStream=new Tr.MetadataStream,z.aacStream=new Iu,z.audioTimestampRolloverStream=new Tr.TimestampRolloverStream("audio"),z.timedMetadataTimestampRolloverStream=new Tr.TimestampRolloverStream("timed-metadata"),z.adtsStream=new fl,z.coalesceStream=new pa(w,z.metadataStream),z.headOfPipeline=z.aacStream,z.aacStream.pipe(z.audioTimestampRolloverStream).pipe(z.adtsStream),z.aacStream.pipe(z.timedMetadataTimestampRolloverStream).pipe(z.metadataStream).pipe(z.coalesceStream),z.metadataStream.on("timestamp",function(ue){z.aacStream.setTimestamp(ue.timeStamp)}),z.aacStream.on("data",function(ue){ue.type!=="timed-metadata"&&ue.type!=="audio"||z.audioSegmentStream||(H=H||{timelineStartInfo:{baseMediaDecodeTime:F.baseMediaDecodeTime},codec:"adts",type:"audio"},z.coalesceStream.numberOfTracks++,z.audioSegmentStream=new pl(H,w),z.audioSegmentStream.on("log",F.getLogTrigger_("audioSegmentStream")),z.audioSegmentStream.on("timingInfo",F.trigger.bind(F,"audioTimingInfo")),z.adtsStream.pipe(z.audioSegmentStream).pipe(z.coalesceStream),F.trigger("trackinfo",{hasAudio:!!H,hasVideo:!!I}))}),z.coalesceStream.on("data",this.trigger.bind(this,"data")),z.coalesceStream.on("done",this.trigger.bind(this,"done")),Fg(this,z)},this.setupTsPipeline=function(){var z={};this.transmuxPipeline_=z,z.type="ts",z.metadataStream=new Tr.MetadataStream,z.packetStream=new Tr.TransportPacketStream,z.parseStream=new Tr.TransportParseStream,z.elementaryStream=new Tr.ElementaryStream,z.timestampRolloverStream=new Tr.TimestampRolloverStream,z.adtsStream=new fl,z.h264Stream=new Fy,z.captionStream=new Tr.CaptionStream(w),z.coalesceStream=new pa(w,z.metadataStream),z.headOfPipeline=z.packetStream,z.packetStream.pipe(z.parseStream).pipe(z.elementaryStream).pipe(z.timestampRolloverStream),z.timestampRolloverStream.pipe(z.h264Stream),z.timestampRolloverStream.pipe(z.adtsStream),z.timestampRolloverStream.pipe(z.metadataStream).pipe(z.coalesceStream),z.h264Stream.pipe(z.captionStream).pipe(z.coalesceStream),z.elementaryStream.on("data",function(ue){var Ae;if(ue.type==="metadata"){for(Ae=ue.tracks.length;Ae--;)!I&&ue.tracks[Ae].type==="video"?(I=ue.tracks[Ae],I.timelineStartInfo.baseMediaDecodeTime=F.baseMediaDecodeTime):!H&&ue.tracks[Ae].type==="audio"&&(H=ue.tracks[Ae],H.timelineStartInfo.baseMediaDecodeTime=F.baseMediaDecodeTime);I&&!z.videoSegmentStream&&(z.coalesceStream.numberOfTracks++,z.videoSegmentStream=new Co(I,w),z.videoSegmentStream.on("log",F.getLogTrigger_("videoSegmentStream")),z.videoSegmentStream.on("timelineStartInfo",function(fe){H&&!w.keepOriginalTimestamps&&(H.timelineStartInfo=fe,z.audioSegmentStream.setEarliestDts(fe.dts-F.baseMediaDecodeTime))}),z.videoSegmentStream.on("processedGopsInfo",F.trigger.bind(F,"gopInfo")),z.videoSegmentStream.on("segmentTimingInfo",F.trigger.bind(F,"videoSegmentTimingInfo")),z.videoSegmentStream.on("baseMediaDecodeTime",function(fe){H&&z.audioSegmentStream.setVideoBaseMediaDecodeTime(fe)}),z.videoSegmentStream.on("timingInfo",F.trigger.bind(F,"videoTimingInfo")),z.h264Stream.pipe(z.videoSegmentStream).pipe(z.coalesceStream)),H&&!z.audioSegmentStream&&(z.coalesceStream.numberOfTracks++,z.audioSegmentStream=new pl(H,w),z.audioSegmentStream.on("log",F.getLogTrigger_("audioSegmentStream")),z.audioSegmentStream.on("timingInfo",F.trigger.bind(F,"audioTimingInfo")),z.audioSegmentStream.on("segmentTimingInfo",F.trigger.bind(F,"audioSegmentTimingInfo")),z.adtsStream.pipe(z.audioSegmentStream).pipe(z.coalesceStream)),F.trigger("trackinfo",{hasAudio:!!H,hasVideo:!!I})}}),z.coalesceStream.on("data",this.trigger.bind(this,"data")),z.coalesceStream.on("id3Frame",function(ue){ue.dispatchType=z.metadataStream.dispatchType,F.trigger("id3Frame",ue)}),z.coalesceStream.on("caption",this.trigger.bind(this,"caption")),z.coalesceStream.on("done",this.trigger.bind(this,"done")),Fg(this,z)},this.setBaseMediaDecodeTime=function(z){var ue=this.transmuxPipeline_;w.keepOriginalTimestamps||(this.baseMediaDecodeTime=z),H&&(H.timelineStartInfo.dts=void 0,H.timelineStartInfo.pts=void 0,Bs.clearDtsInfo(H),ue.audioTimestampRolloverStream&&ue.audioTimestampRolloverStream.discontinuity()),I&&(ue.videoSegmentStream&&(ue.videoSegmentStream.gopCache_=[]),I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,Bs.clearDtsInfo(I),ue.captionStream.reset()),ue.timestampRolloverStream&&ue.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(z){H&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(z)},this.setRemux=function(z){var ue=this.transmuxPipeline_;w.remux=z,ue&&ue.coalesceStream&&ue.coalesceStream.setRemux(z)},this.alignGopsWith=function(z){I&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(z)},this.getLogTrigger_=function(z){var ue=this;return function(Ae){Ae.stream=z,ue.trigger("log",Ae)}},this.push=function(z){if(P){var ue=Dg(z);ue&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!ue&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),P=!1}this.transmuxPipeline_.headOfPipeline.push(z)},this.flush=function(){P=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ks.prototype=new Wi;var nA={Transmuxer:ks,VideoSegmentStream:Co,AudioSegmentStream:pl,AUDIO_PROPERTIES:fa,VIDEO_PROPERTIES:Lu,generateSegmentTimingInfo:od},Ly=function(w){return w>>>0},ad=function(w){return("00"+w.toString(16)).slice(-2)},gl={toUnsigned:Ly,toHexString:ad},Ig=function(w){var F="";return F+=String.fromCharCode(w[0]),F+=String.fromCharCode(w[1]),F+=String.fromCharCode(w[2]),F+=String.fromCharCode(w[3]),F},Lg=Ig,Pu=gl.toUnsigned,Py=Lg,Mu=function(w,F){var P=[],I,H,z,ue,Ae;if(!F.length)return null;for(I=0;I<w.byteLength;)H=Pu(w[I]<<24|w[I+1]<<16|w[I+2]<<8|w[I+3]),z=Py(w.subarray(I+4,I+8)),ue=H>1?I+H:w.byteLength,z===F[0]&&(F.length===1?P.push(w.subarray(I+8,ue)):(Ae=Mu(w.subarray(I+8,ue),F.slice(1)),Ae.length&&(P=P.concat(Ae)))),I=ue;return P},Ru=Mu,Pg=gl.toUnsigned,My=r.getUint64,sA=function(w){var F={version:w[0],flags:new Uint8Array(w.subarray(1,4))};return F.version===1?F.baseMediaDecodeTime=My(w.subarray(4)):F.baseMediaDecodeTime=Pg(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),F},rA=sA,Mg=function(w){return{isLeading:(w[0]&12)>>>2,dependsOn:w[0]&3,isDependedOn:(w[1]&192)>>>6,hasRedundancy:(w[1]&48)>>>4,paddingValue:(w[1]&14)>>>1,isNonSyncSample:w[1]&1,degradationPriority:w[2]<<8|w[3]}},Rg=Mg,Og=Rg,Ry=function(w){var F={version:w[0],flags:new Uint8Array(w.subarray(1,4)),samples:[]},P=new DataView(w.buffer,w.byteOffset,w.byteLength),I=F.flags[2]&1,H=F.flags[2]&4,z=F.flags[1]&1,ue=F.flags[1]&2,Ae=F.flags[1]&4,fe=F.flags[1]&8,be=P.getUint32(4),Ee=8,Pe;for(I&&(F.dataOffset=P.getInt32(Ee),Ee+=4),H&&be&&(Pe={flags:Og(w.subarray(Ee,Ee+4))},Ee+=4,z&&(Pe.duration=P.getUint32(Ee),Ee+=4),ue&&(Pe.size=P.getUint32(Ee),Ee+=4),fe&&(F.version===1?Pe.compositionTimeOffset=P.getInt32(Ee):Pe.compositionTimeOffset=P.getUint32(Ee),Ee+=4),F.samples.push(Pe),be--);be--;)Pe={},z&&(Pe.duration=P.getUint32(Ee),Ee+=4),ue&&(Pe.size=P.getUint32(Ee),Ee+=4),Ae&&(Pe.flags=Og(w.subarray(Ee,Ee+4)),Ee+=4),fe&&(F.version===1?Pe.compositionTimeOffset=P.getInt32(Ee):Pe.compositionTimeOffset=P.getUint32(Ee),Ee+=4),F.samples.push(Pe);return F},oA=Ry,Oy=function(w){var F=new DataView(w.buffer,w.byteOffset,w.byteLength),P={version:w[0],flags:new Uint8Array(w.subarray(1,4)),trackId:F.getUint32(4)},I=P.flags[2]&1,H=P.flags[2]&2,z=P.flags[2]&8,ue=P.flags[2]&16,Ae=P.flags[2]&32,fe=P.flags[0]&65536,be=P.flags[0]&131072,Ee;return Ee=8,I&&(Ee+=4,P.baseDataOffset=F.getUint32(12),Ee+=4),H&&(P.sampleDescriptionIndex=F.getUint32(Ee),Ee+=4),z&&(P.defaultSampleDuration=F.getUint32(Ee),Ee+=4),ue&&(P.defaultSampleSize=F.getUint32(Ee),Ee+=4),Ae&&(P.defaultSampleFlags=F.getUint32(Ee)),fe&&(P.durationIsEmpty=!0),!I&&be&&(P.baseDataOffsetIsMoof=!0),P},Ou=Oy,ga;typeof window<"u"?ga=window:typeof t<"u"?ga=t:typeof self<"u"?ga=self:ga={};var ld=ga,Ug=gu.discardEmulationPreventionBytes,ud=al.CaptionStream,Uu=Ru,Uy=rA,Nu=oA,cd=Ou,Hu=ld,Ny=function(w,F){for(var P=w,I=0;I<F.length;I++){var H=F[I];if(P<H.size)return H;P-=H.size}return null},Ad=function(w,F,P){var I=new DataView(w.buffer,w.byteOffset,w.byteLength),H={logs:[],seiNals:[]},z,ue,Ae,fe;for(ue=0;ue+4<w.length;ue+=Ae)if(Ae=I.getUint32(ue),ue+=4,!(Ae<=0))switch(w[ue]&31){case 6:var be=w.subarray(ue+1,ue+1+Ae),Ee=Ny(ue,F);if(z={nalUnitType:"sei_rbsp",size:Ae,data:be,escapedRBSP:Ug(be),trackId:P},Ee)z.pts=Ee.pts,z.dts=Ee.dts,fe=Ee;else if(fe)z.pts=fe.pts,z.dts=fe.dts;else{H.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ue+" for trackId "+P+". See mux.js#223."});break}H.seiNals.push(z);break}return H},Hy=function(w,F,P){var I=F,H=P.defaultSampleDuration||0,z=P.defaultSampleSize||0,ue=P.trackId,Ae=[];return w.forEach(function(fe){var be=Nu(fe),Ee=be.samples;Ee.forEach(function(Pe){Pe.duration===void 0&&(Pe.duration=H),Pe.size===void 0&&(Pe.size=z),Pe.trackId=ue,Pe.dts=I,Pe.compositionTimeOffset===void 0&&(Pe.compositionTimeOffset=0),typeof I=="bigint"?(Pe.pts=I+Hu.BigInt(Pe.compositionTimeOffset),I+=Hu.BigInt(Pe.duration)):(Pe.pts=I+Pe.compositionTimeOffset,I+=Pe.duration)}),Ae=Ae.concat(Ee)}),Ae},ma=function(w,F){var P=Uu(w,["moof","traf"]),I=Uu(w,["mdat"]),H={},z=[];return I.forEach(function(ue,Ae){var fe=P[Ae];z.push({mdat:ue,traf:fe})}),z.forEach(function(ue){var Ae=ue.mdat,fe=ue.traf,be=Uu(fe,["tfhd"]),Ee=cd(be[0]),Pe=Ee.trackId,it=Uu(fe,["tfdt"]),Ve=it.length>0?Uy(it[0]).baseMediaDecodeTime:0,vt=Uu(fe,["trun"]),Tt,Ui;F===Pe&&vt.length>0&&(Tt=Hy(vt,Ve,Ee),Ui=Ad(Ae,Tt,Pe),H[Pe]||(H[Pe]={seiNals:[],logs:[]}),H[Pe].seiNals=H[Pe].seiNals.concat(Ui.seiNals),H[Pe].logs=H[Pe].logs.concat(Ui.logs))}),H},Ng=function(w,F,P){var I;if(F===null)return null;I=ma(w,F);var H=I[F]||{};return{seiNals:H.seiNals,logs:H.logs,timescale:P}},Hg=function(){var w=!1,F,P,I,H,z,ue;this.isInitialized=function(){return w},this.init=function(Ae){F=new ud,w=!0,ue=Ae?Ae.isPartial:!1,F.on("data",function(fe){fe.startTime=fe.startPts/H,fe.endTime=fe.endPts/H,z.captions.push(fe),z.captionStreams[fe.stream]=!0}),F.on("log",function(fe){z.logs.push(fe)})},this.isNewInit=function(Ae,fe){return Ae&&Ae.length===0||fe&&typeof fe=="object"&&Object.keys(fe).length===0?!1:I!==Ae[0]||H!==fe[I]},this.parse=function(Ae,fe,be){var Ee;if(this.isInitialized()){if(!fe||!be)return null;if(this.isNewInit(fe,be))I=fe[0],H=be[I];else if(I===null||!H)return P.push(Ae),null}else return null;for(;P.length>0;){var Pe=P.shift();this.parse(Pe,fe,be)}return Ee=Ng(Ae,I,H),Ee&&Ee.logs&&(z.logs=z.logs.concat(Ee.logs)),Ee===null||!Ee.seiNals?z.logs.length?{logs:z.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Ee.seiNals),this.flushStream(),z)},this.pushNals=function(Ae){if(!this.isInitialized()||!Ae||Ae.length===0)return null;Ae.forEach(function(fe){F.push(fe)})},this.flushStream=function(){if(!this.isInitialized())return null;ue?F.partialFlush():F.flush()},this.clearParsedCaptions=function(){z.captions=[],z.captionStreams={},z.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;F.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){P=[],I=null,H=null,z?this.clearParsedCaptions():z={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Qg=Hg,wn=function(w){for(var F=0,P=String.fromCharCode(w[F]),I="";P!=="\0";)I+=P,F++,P=String.fromCharCode(w[F]);return I+=P,I},Qy={uint8ToCString:wn},Qu=Qy.uint8ToCString,$g=r.getUint64,Dn=function(w){var F=4,P=w[0],I,H,z,ue,Ae,fe,be,Ee;if(P===0){I=Qu(w.subarray(F)),F+=I.length,H=Qu(w.subarray(F)),F+=H.length;var Pe=new DataView(w.buffer);z=Pe.getUint32(F),F+=4,Ae=Pe.getUint32(F),F+=4,fe=Pe.getUint32(F),F+=4,be=Pe.getUint32(F),F+=4}else if(P===1){var Pe=new DataView(w.buffer);z=Pe.getUint32(F),F+=4,ue=$g(w.subarray(F)),F+=8,fe=Pe.getUint32(F),F+=4,be=Pe.getUint32(F),F+=4,I=Qu(w.subarray(F)),F+=I.length,H=Qu(w.subarray(F)),F+=H.length}Ee=new Uint8Array(w.subarray(F,w.byteLength));var it={scheme_id_uri:I,value:H,timescale:z||1,presentation_time:ue,presentation_time_delta:Ae,event_duration:fe,id:be,message_data:Ee};return $y(P,it)?it:void 0},jg=function(w,F,P,I){return w||w===0?w/F:I+P/F},$y=function(w,F){var P=F.scheme_id_uri!=="\0",I=w===0&&Vg(F.presentation_time_delta)&&P,H=w===1&&Vg(F.presentation_time)&&P;return!(w>1)&&I||H},Vg=function(w){return w!==void 0||w!==null},aA={parseEmsgBox:Dn,scaleTime:jg},va=gl.toUnsigned,Eo=gl.toHexString,Oi=Ru,ba=Lg,ya=aA,lA=Ou,jy=oA,Vy=rA,ml=r.getUint64,hd,uA,zg,dd,Gg,fd,Kg,Zr=ld,Wg=Cu.parseId3Frames;hd=function(w){var F={},P=Oi(w,["moov","trak"]);return P.reduce(function(I,H){var z,ue,Ae,fe,be;return z=Oi(H,["tkhd"])[0],!z||(ue=z[0],Ae=ue===0?12:20,fe=va(z[Ae]<<24|z[Ae+1]<<16|z[Ae+2]<<8|z[Ae+3]),be=Oi(H,["mdia","mdhd"])[0],!be)?null:(ue=be[0],Ae=ue===0?12:20,I[fe]=va(be[Ae]<<24|be[Ae+1]<<16|be[Ae+2]<<8|be[Ae+3]),I)},F)},uA=function(w,F){var P;P=Oi(F,["moof","traf"]);var I=P.reduce(function(H,z){var ue=Oi(z,["tfhd"])[0],Ae=va(ue[4]<<24|ue[5]<<16|ue[6]<<8|ue[7]),fe=w[Ae]||9e4,be=Oi(z,["tfdt"])[0],Ee=new DataView(be.buffer,be.byteOffset,be.byteLength),Pe;be[0]===1?Pe=ml(be.subarray(4,12)):Pe=Ee.getUint32(4);let it;return typeof Pe=="bigint"?it=Pe/Zr.BigInt(fe):typeof Pe=="number"&&!isNaN(Pe)&&(it=Pe/fe),it<Number.MAX_SAFE_INTEGER&&(it=Number(it)),it<H&&(H=it),H},1/0);return typeof I=="bigint"||isFinite(I)?I:0},zg=function(w,F){var P=Oi(F,["moof","traf"]),I=0,H=0,z;if(P&&P.length){var ue=Oi(P[0],["tfhd"])[0],Ae=Oi(P[0],["trun"])[0],fe=Oi(P[0],["tfdt"])[0];if(ue){var be=lA(ue);z=be.trackId}if(fe){var Ee=Vy(fe);I=Ee.baseMediaDecodeTime}if(Ae){var Pe=jy(Ae);Pe.samples&&Pe.samples.length&&(H=Pe.samples[0].compositionTimeOffset||0)}}var it=w[z]||9e4;typeof I=="bigint"&&(H=Zr.BigInt(H),it=Zr.BigInt(it));var Ve=(I+H)/it;return typeof Ve=="bigint"&&Ve<Number.MAX_SAFE_INTEGER&&(Ve=Number(Ve)),Ve},dd=function(w){var F=Oi(w,["moov","trak"]),P=[];return F.forEach(function(I){var H=Oi(I,["mdia","hdlr"]),z=Oi(I,["tkhd"]);H.forEach(function(ue,Ae){var fe=ba(ue.subarray(8,12)),be=z[Ae],Ee,Pe,it;fe==="vide"&&(Ee=new DataView(be.buffer,be.byteOffset,be.byteLength),Pe=Ee.getUint8(0),it=Pe===0?Ee.getUint32(12):Ee.getUint32(20),P.push(it))})}),P},fd=function(w){var F=w[0],P=F===0?12:20;return va(w[P]<<24|w[P+1]<<16|w[P+2]<<8|w[P+3])},Gg=function(w){var F=Oi(w,["moov","trak"]),P=[];return F.forEach(function(I){var H={},z=Oi(I,["tkhd"])[0],ue,Ae;z&&(ue=new DataView(z.buffer,z.byteOffset,z.byteLength),Ae=ue.getUint8(0),H.id=Ae===0?ue.getUint32(12):ue.getUint32(20));var fe=Oi(I,["mdia","hdlr"])[0];if(fe){var be=ba(fe.subarray(8,12));be==="vide"?H.type="video":be==="soun"?H.type="audio":H.type=be}var Ee=Oi(I,["mdia","minf","stbl","stsd"])[0];if(Ee){var Pe=Ee.subarray(8);H.codec=ba(Pe.subarray(4,8));var it=Oi(Pe,[H.codec])[0],Ve,vt;it&&(/^[asm]vc[1-9]$/i.test(H.codec)?(Ve=it.subarray(78),vt=ba(Ve.subarray(4,8)),vt==="avcC"&&Ve.length>11?(H.codec+=".",H.codec+=Eo(Ve[9]),H.codec+=Eo(Ve[10]),H.codec+=Eo(Ve[11])):H.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(H.codec)?(Ve=it.subarray(28),vt=ba(Ve.subarray(4,8)),vt==="esds"&&Ve.length>20&&Ve[19]!==0?(H.codec+="."+Eo(Ve[19]),H.codec+="."+Eo(Ve[20]>>>2&63).replace(/^0/,"")):H.codec="mp4a.40.2"):H.codec=H.codec.toLowerCase())}var Tt=Oi(I,["mdia","mdhd"])[0];Tt&&(H.timescale=fd(Tt)),P.push(H)}),P},Kg=function(w,F=0){var P=Oi(w,["emsg"]);return P.map(I=>{var H=ya.parseEmsgBox(new Uint8Array(I)),z=Wg(H.message_data);return{cueTime:ya.scaleTime(H.presentation_time,H.timescale,H.presentation_time_delta,F),duration:ya.scaleTime(H.event_duration,H.timescale),frames:z}})};var pd={findBox:Oi,parseType:ba,timescale:hd,startTime:uA,compositionStartTime:zg,videoTrackIds:dd,tracks:Gg,getTimescaleFromMediaHeader:fd,getEmsgID3:Kg},$u=Cr,Fn=function(w){var F=w[1]&31;return F<<=8,F|=w[2],F},vl=function(w){return!!(w[1]&64)},ju=function(w){var F=0;return(w[3]&48)>>>4>1&&(F+=w[4]+1),F},zy=function(w,F){var P=Fn(w);return P===0?"pat":P===F?"pmt":F?"pes":null},xr=function(w){var F=vl(w),P=4+ju(w);return F&&(P+=w[P]+1),(w[P+10]&31)<<8|w[P+11]},qg=function(w){var F={},P=vl(w),I=4+ju(w);if(P&&(I+=w[I]+1),!!(w[I+5]&1)){var H,z,ue;H=(w[I+1]&15)<<8|w[I+2],z=3+H-4,ue=(w[I+10]&15)<<8|w[I+11];for(var Ae=12+ue;Ae<z;){var fe=I+Ae;F[(w[fe+1]&31)<<8|w[fe+2]]=w[fe],Ae+=((w[fe+3]&15)<<8|w[fe+4])+5}return F}},Yg=function(w,F){var P=Fn(w),I=F[P];switch(I){case $u.H264_STREAM_TYPE:return"video";case $u.ADTS_STREAM_TYPE:return"audio";case $u.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Xg=function(w){var F=vl(w);if(!F)return null;var P=4+ju(w);if(P>=w.byteLength)return null;var I=null,H;return H=w[P+7],H&192&&(I={},I.pts=(w[P+9]&14)<<27|(w[P+10]&255)<<20|(w[P+11]&254)<<12|(w[P+12]&255)<<5|(w[P+13]&254)>>>3,I.pts*=4,I.pts+=(w[P+13]&6)>>>1,I.dts=I.pts,H&64&&(I.dts=(w[P+14]&14)<<27|(w[P+15]&255)<<20|(w[P+16]&254)<<12|(w[P+17]&255)<<5|(w[P+18]&254)>>>3,I.dts*=4,I.dts+=(w[P+18]&6)>>>1)),I},cA=function(w){switch(w){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Gy=function(w){for(var F=4+ju(w),P=w.subarray(F),I=0,H=0,z=!1,ue;H<P.byteLength-3;H++)if(P[H+2]===1){I=H+5;break}for(;I<P.byteLength;)switch(P[I]){case 0:if(P[I-1]!==0){I+=2;break}else if(P[I-2]!==0){I++;break}H+3!==I-2&&(ue=cA(P[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(z=!0));do I++;while(P[I]!==1&&I<P.length);H=I-2,I+=3;break;case 1:if(P[I-1]!==0||P[I-2]!==0){I+=3;break}ue=cA(P[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(z=!0),H=I-2,I+=3;break;default:I+=3;break}return P=P.subarray(H),I-=H,H=0,P&&P.byteLength>3&&(ue=cA(P[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(z=!0)),z},bl={parseType:zy,parsePat:xr,parsePmt:qg,parsePayloadUnitStartIndicator:vl,parsePesType:Yg,parsePesTime:Xg,videoPacketContainsKeyFrame:Gy},Jg=Cr,wa=wu.handleRollover,ci={};ci.ts=bl,ci.aac=Yc;var Ds=_t.ONE_SECOND_IN_TS,Hn=188,Sr=71,Zg=function(w,F){for(var P=0,I=Hn,H,z;I<w.byteLength;){if(w[P]===Sr&&w[I]===Sr){switch(H=w.subarray(P,I),z=ci.ts.parseType(H,F.pid),z){case"pat":F.pid=ci.ts.parsePat(H);break;case"pmt":var ue=ci.ts.parsePmt(H);F.table=F.table||{},Object.keys(ue).forEach(function(Ae){F.table[Ae]=ue[Ae]});break}P+=Hn,I+=Hn;continue}P++,I++}},em=function(w,F,P){for(var I=0,H=Hn,z,ue,Ae,fe,be,Ee=!1;H<=w.byteLength;){if(w[I]===Sr&&(w[H]===Sr||H===w.byteLength)){switch(z=w.subarray(I,H),ue=ci.ts.parseType(z,F.pid),ue){case"pes":Ae=ci.ts.parsePesType(z,F.table),fe=ci.ts.parsePayloadUnitStartIndicator(z),Ae==="audio"&&fe&&(be=ci.ts.parsePesTime(z),be&&(be.type="audio",P.audio.push(be),Ee=!0));break}if(Ee)break;I+=Hn,H+=Hn;continue}I++,H++}for(H=w.byteLength,I=H-Hn,Ee=!1;I>=0;){if(w[I]===Sr&&(w[H]===Sr||H===w.byteLength)){switch(z=w.subarray(I,H),ue=ci.ts.parseType(z,F.pid),ue){case"pes":Ae=ci.ts.parsePesType(z,F.table),fe=ci.ts.parsePayloadUnitStartIndicator(z),Ae==="audio"&&fe&&(be=ci.ts.parsePesTime(z),be&&(be.type="audio",P.audio.push(be),Ee=!0));break}if(Ee)break;I-=Hn,H-=Hn;continue}I--,H--}},gd=function(w,F,P){for(var I=0,H=Hn,z,ue,Ae,fe,be,Ee,Pe,it,Ve=!1,vt={data:[],size:0};H<w.byteLength;){if(w[I]===Sr&&w[H]===Sr){switch(z=w.subarray(I,H),ue=ci.ts.parseType(z,F.pid),ue){case"pes":if(Ae=ci.ts.parsePesType(z,F.table),fe=ci.ts.parsePayloadUnitStartIndicator(z),Ae==="video"&&(fe&&!Ve&&(be=ci.ts.parsePesTime(z),be&&(be.type="video",P.video.push(be),Ve=!0)),!P.firstKeyFrame)){if(fe&&vt.size!==0){for(Ee=new Uint8Array(vt.size),Pe=0;vt.data.length;)it=vt.data.shift(),Ee.set(it,Pe),Pe+=it.byteLength;if(ci.ts.videoPacketContainsKeyFrame(Ee)){var Tt=ci.ts.parsePesTime(Ee);Tt?(P.firstKeyFrame=Tt,P.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}vt.size=0}vt.data.push(z),vt.size+=z.byteLength}break}if(Ve&&P.firstKeyFrame)break;I+=Hn,H+=Hn;continue}I++,H++}for(H=w.byteLength,I=H-Hn,Ve=!1;I>=0;){if(w[I]===Sr&&w[H]===Sr){switch(z=w.subarray(I,H),ue=ci.ts.parseType(z,F.pid),ue){case"pes":Ae=ci.ts.parsePesType(z,F.table),fe=ci.ts.parsePayloadUnitStartIndicator(z),Ae==="video"&&fe&&(be=ci.ts.parsePesTime(z),be&&(be.type="video",P.video.push(be),Ve=!0));break}if(Ve)break;I-=Hn,H-=Hn;continue}I--,H--}},To=function(w,F){if(w.audio&&w.audio.length){var P=F;(typeof P>"u"||isNaN(P))&&(P=w.audio[0].dts),w.audio.forEach(function(z){z.dts=wa(z.dts,P),z.pts=wa(z.pts,P),z.dtsTime=z.dts/Ds,z.ptsTime=z.pts/Ds})}if(w.video&&w.video.length){var I=F;if((typeof I>"u"||isNaN(I))&&(I=w.video[0].dts),w.video.forEach(function(z){z.dts=wa(z.dts,I),z.pts=wa(z.pts,I),z.dtsTime=z.dts/Ds,z.ptsTime=z.pts/Ds}),w.firstKeyFrame){var H=w.firstKeyFrame;H.dts=wa(H.dts,I),H.pts=wa(H.pts,I),H.dtsTime=H.dts/Ds,H.ptsTime=H.pts/Ds}}},tm=function(w){for(var F=!1,P=0,I=null,H=null,z=0,ue=0,Ae;w.length-ue>=3;){var fe=ci.aac.parseType(w,ue);switch(fe){case"timed-metadata":if(w.length-ue<10){F=!0;break}if(z=ci.aac.parseId3TagSize(w,ue),z>w.length){F=!0;break}H===null&&(Ae=w.subarray(ue,ue+z),H=ci.aac.parseAacTimestamp(Ae)),ue+=z;break;case"audio":if(w.length-ue<7){F=!0;break}if(z=ci.aac.parseAdtsSize(w,ue),z>w.length){F=!0;break}I===null&&(Ae=w.subarray(ue,ue+z),I=ci.aac.parseSampleRate(Ae)),P++,ue+=z;break;default:ue++;break}if(F)return null}if(I===null||H===null)return null;var be=Ds/I,Ee={audio:[{type:"audio",dts:H,pts:H},{type:"audio",dts:H+P*1024*be,pts:H+P*1024*be}]};return Ee},Ky=function(w){var F={pid:null,table:null},P={};Zg(w,F);for(var I in F.table)if(F.table.hasOwnProperty(I)){var H=F.table[I];switch(H){case Jg.H264_STREAM_TYPE:P.video=[],gd(w,F,P),P.video.length===0&&delete P.video;break;case Jg.ADTS_STREAM_TYPE:P.audio=[],em(w,F,P),P.audio.length===0&&delete P.audio;break}}return P},eo=function(w,F){var P=ci.aac.isLikelyAacData(w),I;return P?I=tm(w):I=Ky(w),!I||!I.audio&&!I.video?null:(To(I,F),I)},im={inspect:eo,parseAudioPes_:em};const nm=function(w,F){F.on("data",function(P){const I=P.initSegment;P.initSegment={data:I.buffer,byteOffset:I.byteOffset,byteLength:I.byteLength};const H=P.data;P.data=H.buffer,w.postMessage({action:"data",segment:P,byteOffset:H.byteOffset,byteLength:H.byteLength},[P.data])}),F.on("done",function(P){w.postMessage({action:"done"})}),F.on("gopInfo",function(P){w.postMessage({action:"gopInfo",gopInfo:P})}),F.on("videoSegmentTimingInfo",function(P){const I={start:{decode:_t.videoTsToSeconds(P.start.dts),presentation:_t.videoTsToSeconds(P.start.pts)},end:{decode:_t.videoTsToSeconds(P.end.dts),presentation:_t.videoTsToSeconds(P.end.pts)},baseMediaDecodeTime:_t.videoTsToSeconds(P.baseMediaDecodeTime)};P.prependedContentDuration&&(I.prependedContentDuration=_t.videoTsToSeconds(P.prependedContentDuration)),w.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:I})}),F.on("audioSegmentTimingInfo",function(P){const I={start:{decode:_t.videoTsToSeconds(P.start.dts),presentation:_t.videoTsToSeconds(P.start.pts)},end:{decode:_t.videoTsToSeconds(P.end.dts),presentation:_t.videoTsToSeconds(P.end.pts)},baseMediaDecodeTime:_t.videoTsToSeconds(P.baseMediaDecodeTime)};P.prependedContentDuration&&(I.prependedContentDuration=_t.videoTsToSeconds(P.prependedContentDuration)),w.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:I})}),F.on("id3Frame",function(P){w.postMessage({action:"id3Frame",id3Frame:P})}),F.on("caption",function(P){w.postMessage({action:"caption",caption:P})}),F.on("trackinfo",function(P){w.postMessage({action:"trackinfo",trackInfo:P})}),F.on("audioTimingInfo",function(P){w.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_t.videoTsToSeconds(P.start),end:_t.videoTsToSeconds(P.end)}})}),F.on("videoTimingInfo",function(P){w.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_t.videoTsToSeconds(P.start),end:_t.videoTsToSeconds(P.end)}})}),F.on("log",function(P){w.postMessage({action:"log",log:P})})};class sm{constructor(F,P){this.options=P||{},this.self=F,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new nA.Transmuxer(this.options),nm(this.self,this.transmuxer)}pushMp4Captions(F){this.captionParser||(this.captionParser=new Qg,this.captionParser.init());const P=new Uint8Array(F.data,F.byteOffset,F.byteLength),I=this.captionParser.parse(P,F.trackIds,F.timescales);this.self.postMessage({action:"mp4Captions",captions:I&&I.captions||[],logs:I&&I.logs||[],data:P.buffer},[P.buffer])}probeMp4StartTime({timescales:F,data:P}){const I=pd.startTime(F,P);this.self.postMessage({action:"probeMp4StartTime",startTime:I,data:P},[P.buffer])}probeMp4Tracks({data:F}){const P=pd.tracks(F);this.self.postMessage({action:"probeMp4Tracks",tracks:P,data:F},[F.buffer])}probeEmsgID3({data:F,offset:P}){const I=pd.getEmsgID3(F,P);this.self.postMessage({action:"probeEmsgID3",id3Frames:I,emsgData:F},[F.buffer])}probeTs({data:F,baseStartTime:P}){const I=typeof P=="number"&&!isNaN(P)?P*_t.ONE_SECOND_IN_TS:void 0,H=im.inspect(F,I);let z=null;H&&(z={hasVideo:H.video&&H.video.length===2||!1,hasAudio:H.audio&&H.audio.length===2||!1},z.hasVideo&&(z.videoStart=H.video[0].ptsTime),z.hasAudio&&(z.audioStart=H.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:z,data:F},[F.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(F){const P=new Uint8Array(F.data,F.byteOffset,F.byteLength);this.transmuxer.push(P)}reset(){this.transmuxer.reset()}setTimestampOffset(F){const P=F.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(_t.secondsToVideoTs(P)))}setAudioAppendStart(F){this.transmuxer.setAudioAppendStart(Math.ceil(_t.secondsToVideoTs(F.appendStart)))}setRemux(F){this.transmuxer.setRemux(F.remux)}flush(F){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(F){this.transmuxer.alignGopsWith(F.gopsToAlignWith.slice())}}self.onmessage=function(w){if(w.data.action==="init"&&w.data.options){this.messageHandlers=new sm(self,w.data.options);return}this.messageHandlers||(this.messageHandlers=new sm(self)),w.data&&w.data.action&&w.data.action!=="init"&&this.messageHandlers[w.data.action]&&this.messageHandlers[w.data.action](w.data)}}));var QW=ML(HW);const $W=(t,e,i)=>{const{type:n,initSegment:s,captions:r,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:r,captionStreams:o,metadata:a});const c=t.data.segment.boxes||{data:t.data.segment.data},A={type:n,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof l<"u"&&(A.videoFrameDtsTime=l),typeof u<"u"&&(A.videoFramePtsTime=u),i(A)},jW=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},VW=(t,e)=>{e.gopInfo=t.data.gopInfo},UL=t=>{const{transmuxer:e,bytes:i,audioAppendStart:n,gopsToAlignWith:s,remux:r,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:A,onId3:h,onCaptions:g,onDone:f,onEndedTimeline:y,onTransmuxerLog:E,isEndOfTimeline:C}=t,m={buffer:[]};let b=C;const _=B=>{e.currentTransmux===t&&(B.data.action==="data"&&$W(B,m,o),B.data.action==="trackinfo"&&a(B.data.trackInfo),B.data.action==="gopInfo"&&VW(B,m),B.data.action==="audioTimingInfo"&&l(B.data.audioTimingInfo),B.data.action==="videoTimingInfo"&&u(B.data.videoTimingInfo),B.data.action==="videoSegmentTimingInfo"&&c(B.data.videoSegmentTimingInfo),B.data.action==="audioSegmentTimingInfo"&&A(B.data.audioSegmentTimingInfo),B.data.action==="id3Frame"&&h([B.data.id3Frame],B.data.id3Frame.dispatchType),B.data.action==="caption"&&g(B.data.caption),B.data.action==="endedtimeline"&&(b=!1,y()),B.data.action==="log"&&E(B.data.log),B.data.type==="transmuxed"&&(b||(e.onmessage=null,jW({transmuxedData:m,callback:f}),NL(e))))};if(e.onmessage=_,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof r<"u"&&e.postMessage({action:"setRemux",remux:r}),i.byteLength){const B=i instanceof ArrayBuffer?i:i.buffer,L=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:B,byteOffset:L,byteLength:i.byteLength},[B])}C&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},NL=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():UL(t.currentTransmux))},US=(t,e)=>{t.postMessage({action:e}),NL(t)},HL=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,US(e,t);return}e.transmuxQueue.push(US.bind(null,e,t))},zW=t=>{HL("reset",t)},GW=t=>{HL("endTimeline",t)},QL=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,UL(t);return}t.transmuxer.transmuxQueue.push(t)},KW=t=>{const e=new QW;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var G1={reset:zW,endTimeline:GW,transmux:QL,createTransmuxer:KW};const dp=function(t){const e=t.transmuxer,i=t.endAction||t.action,n=t.callback,s=Ya({},t,{endAction:null,transmuxer:null,callback:null}),r=o=>{o.data.action===i&&(e.removeEventListener("message",r),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),n(o.data))};if(e.addEventListener("message",r),t.data){const o=t.data instanceof ArrayBuffer;s.byteOffset=o?0:t.data.byteOffset,s.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(s,a)}else e.postMessage(s)},No={FAILURE:2,TIMEOUT:-101,ABORTED:-102},X_=t=>{t.forEach(e=>{e.abort()})},WW=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),qW=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},$E=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:No.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:No.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:No.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:No.FAILURE,xhr:e}:null,NS=(t,e,i)=>(n,s)=>{const r=s.response,o=$E(n,s);if(o)return i(o,t);if(r.byteLength!==16)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:No.FAILURE,xhr:s},t);const a=new DataView(r),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=l;return i(null,t)},$L=(t,e)=>{const i=oE(t.map.bytes);if(i!=="mp4"){const n=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:"Found unsupported ".concat(i||"unknown"," container for initialization segment at URL: ").concat(n),code:No.FAILURE})}dp({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:s})=>(t.map.bytes=s,n.forEach(function(r){t.map.tracks=t.map.tracks||{},!t.map.tracks[r.type]&&(t.map.tracks[r.type]=r,typeof r.id=="number"&&r.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[r.id]=r.timescale))}),e(null))})},YW=({segment:t,finishProcessingFn:e})=>(i,n)=>{const s=$E(i,n);if(s)return e(s,t);const r=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=r,e(null,t);t.map.bytes=r,$L(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},XW=({segment:t,finishProcessingFn:e,responseType:i})=>(n,s)=>{const r=$E(n,s);if(r)return e(r,t);const o=i==="arraybuffer"||!s.responseText?s.response:UW(s.responseText.substring(t.lastReachedChar||0));return t.stats=WW(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},JW=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})=>{const g=t.map&&t.map.tracks||{},f=!!(g.audio&&g.video);let y=n.bind(null,t,"audio","start");const E=n.bind(null,t,"audio","end");let C=n.bind(null,t,"video","start");const m=n.bind(null,t,"video","end"),b=()=>QL({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:f,onData:_=>{_.type=_.type==="combined"?"video":_.type,c(t,_)},onTrackInfo:_=>{i&&(f&&(_.isMuxed=!0),i(t,_))},onAudioTimingInfo:_=>{y&&typeof _.start<"u"&&(y(_.start),y=null),E&&typeof _.end<"u"&&E(_.end)},onVideoTimingInfo:_=>{C&&typeof _.start<"u"&&(C(_.start),C=null),m&&typeof _.end<"u"&&m(_.end)},onVideoSegmentTimingInfo:_=>{s(_)},onAudioSegmentTimingInfo:_=>{r(_)},onId3:(_,B)=>{o(t,_,B)},onCaptions:_=>{a(t,[_])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:_=>{A&&(_.type=_.type==="combined"?"video":_.type,A(null,t,_))}});dp({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:_=>{t.bytes=e=_.data;const B=_.result;B&&(i(t,{hasAudio:B.hasAudio,hasVideo:B.hasVideo,isMuxed:f}),i=null),b()}})},jL=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})=>{let g=new Uint8Array(e);if(_G(g)){t.isFmp4=!0;const{tracks:f}=t.map,y={isFmp4:!0,hasVideo:!!f.video,hasAudio:!!f.audio};f.audio&&f.audio.codec&&f.audio.codec!=="enca"&&(y.audioCodec=f.audio.codec),f.video&&f.video.codec&&f.video.codec!=="encv"&&(y.videoCodec=f.video.codec),f.video&&f.audio&&(y.isMuxed=!0),i(t,y);const E=(C,m)=>{c(t,{data:g,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),m&&m.length&&o(t,m),C&&C.length&&a(t,C),A(null,t,{})};dp({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:C,startTime:m})=>{e=C.buffer,t.bytes=g=C,y.hasAudio&&!y.isMuxed&&n(t,"audio","start",m),y.hasVideo&&n(t,"video","start",m),dp({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:m,callback:({emsgData:b,id3Frames:_})=>{if(e=b.buffer,t.bytes=g=b,!f.video||!b.byteLength||!t.transmuxer){E(void 0,_);return}dp({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[f.video.id],callback:B=>{e=B.data.buffer,t.bytes=g=B.data,B.logs.forEach(function(L){h(wi(L,{stream:"mp4CaptionParser"}))}),E(B.captions,_)}})}})}});return}if(!t.transmuxer){A(null,t,{});return}if(typeof t.container>"u"&&(t.container=oE(g)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),A(null,t,{});return}JW({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})},VL=function({id:t,key:e,encryptedBytes:i,decryptionWorker:n},s){const r=a=>{if(a.data.source===t){n.removeEventListener("message",r);const l=a.data.decrypted;s(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};n.addEventListener("message",r);let o;e.bytes.slice?o=e.bytes.slice():o=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(kL({source:t,encrypted:i,key:o,iv:e.iv}),[i.buffer,o.buffer])},ZW=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})=>{VL({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},g=>{e.bytes=g,jL({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})})},eq=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})=>{let g=0,f=!1;return(y,E)=>{if(!f){if(y)return f=!0,X_(t),A(y,E);if(g+=1,g===t.length){const C=function(){if(E.encryptedBytes)return ZW({decryptionWorker:e,segment:E,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h});jL({segment:E,bytes:E.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:h})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return VL({decryptionWorker:e,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key},m=>{E.map.bytes=m,$L(E,b=>{if(b)return X_(t),A(b,E);C()})});C()}}}},tq=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},iq=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>A=>{if(!A.target.aborted)return t.stats=wi(t.stats,qW(A)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(A,t)},nq=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:n,abortFn:s,progressFn:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:g,dataFn:f,doneFn:y,onTransmuxerLog:E})=>{const C=[],m=eq({activeXhrs:C,decryptionWorker:i,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:g,dataFn:f,doneFn:y,onTransmuxerLog:E});if(n.key&&!n.key.bytes){const j=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&j.push(n.map.key);const O=wi(e,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),Q=NS(n,j,m),$=t(O,Q);C.push($)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const D=wi(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),U=NS(n,[n.map.key],m),S=t(D,U);C.push(S)}const O=wi(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:q_(n.map)}),Q=YW({segment:n,finishProcessingFn:m}),$=t(O,Q);C.push($)}const b=wi(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:q_(n)}),_=XW({segment:n,finishProcessingFn:m,responseType:b.responseType}),B=t(b,_);B.addEventListener("progress",iq({segment:n,progressFn:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:g,dataFn:f})),C.push(B);const L={};return C.forEach(j=>{j.addEventListener("loadend",tq({loadendState:L,abortFn:s}))}),()=>X_(C)},sq=qr("CodecUtils"),rq=function(t){const e=t.attributes||{};if(e.CODECS)return Lo(e.CODECS)},zL=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},oq=(t,e)=>{if(!zL(t,e))return!0;const i=e.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(const s in n)if(!n[s].uri&&!n[s].playlists)return!0;return!1},$v=function(t){const e={};return t.forEach(({mediaType:i,type:n,details:s})=>{e[i]=e[i]||[],e[i].push(oI("".concat(n).concat(s)))}),Object.keys(e).forEach(function(i){if(e[i].length>1){sq("multiple ".concat(i," codecs found as attributes: ").concat(e[i].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),e[i]=null;return}e[i]=e[i][0]}),e},HS=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},fp=function(t,e){const i=e.attributes||{},n=$v(rq(e)||[]);if(zL(t,e)&&!n.audio&&!oq(t,e)){const s=$v(_V(t,i.AUDIO)||[]);s.audio&&(n.audio=s.audio)}return n},Nm=qr("PlaylistSelector"),QS=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},jv=function(t,e){if(!t)return"";const i=me.getComputedStyle(t);return i?i[e]:""},lh=function(t,e){const i=t.slice();t.sort(function(n,s){const r=e(n,s);return r===0?i.indexOf(n)-i.indexOf(s):r})},jE=function(t,e){let i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||me.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||me.Number.MAX_VALUE,i-n},aq=function(t,e){let i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||me.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||me.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n};let GL=function(t,e,i,n,s,r){if(!t)return;const o={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:s};let a=t.playlists;$s.isAudioOnly(t)&&(a=r.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(B=>{let L;const j=B.attributes&&B.attributes.RESOLUTION&&B.attributes.RESOLUTION.width,O=B.attributes&&B.attributes.RESOLUTION&&B.attributes.RESOLUTION.height;return L=B.attributes&&B.attributes.BANDWIDTH,L=L||me.Number.MAX_VALUE,{bandwidth:L,width:j,height:O,playlist:B}});lh(l,(B,L)=>B.bandwidth-L.bandwidth),l=l.filter(B=>!$s.isIncompatible(B.playlist));let u=l.filter(B=>$s.isEnabled(B.playlist));u.length||(u=l.filter(B=>!$s.isDisabled(B.playlist)));const c=u.filter(B=>B.bandwidth*Pn.BANDWIDTH_VARIANCE<e);let A=c[c.length-1];const h=c.filter(B=>B.bandwidth===A.bandwidth)[0];if(s===!1){const B=h||u[0]||l[0];if(B&&B.playlist){let L="sortedPlaylistReps";return h&&(L="bandwidthBestRep"),u[0]&&(L="enabledPlaylistReps"),Nm("choosing ".concat(QS(B)," using ").concat(L," with options"),o),B.playlist}return Nm("could not choose a playlist with options",o),null}const g=c.filter(B=>B.width&&B.height);lh(g,(B,L)=>B.width-L.width);const f=g.filter(B=>B.width===i&&B.height===n);A=f[f.length-1];const y=f.filter(B=>B.bandwidth===A.bandwidth)[0];let E,C,m;y||(E=g.filter(B=>B.width>i||B.height>n),C=E.filter(B=>B.width===E[0].width&&B.height===E[0].height),A=C[C.length-1],m=C.filter(B=>B.bandwidth===A.bandwidth)[0]);let b;if(r.leastPixelDiffSelector){const B=g.map(L=>(L.pixelDiff=Math.abs(L.width-i)+Math.abs(L.height-n),L));lh(B,(L,j)=>L.pixelDiff===j.pixelDiff?j.bandwidth-L.bandwidth:L.pixelDiff-j.pixelDiff),b=B[0]}const _=b||m||y||h||u[0]||l[0];if(_&&_.playlist){let B="sortedPlaylistReps";return b?B="leastPixelDiffRep":m?B="resolutionPlusOneRep":y?B="resolutionBestRep":h?B="bandwidthBestRep":u[0]&&(B="enabledPlaylistReps"),Nm("choosing ".concat(QS(_)," using ").concat(B," with options"),o),_.playlist}return Nm("could not choose a playlist with options",o),null};const $S=function(){const t=this.useDevicePixelRatio&&me.devicePixelRatio||1;return GL(this.playlists.main,this.systemBandwidth,parseInt(jv(this.tech_.el(),"width"),10)*t,parseInt(jv(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},lq=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const n=this.useDevicePixelRatio&&me.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),GL(this.playlists.main,e,parseInt(jv(this.tech_.el(),"width"),10)*n,parseInt(jv(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},uq=function(t){const{main:e,currentTime:i,bandwidth:n,duration:s,segmentDuration:r,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(f=>!$s.isIncompatible(f));let c=u.filter($s.isEnabled);c.length||(c=u.filter(f=>!$s.isDisabled(f)));const h=c.filter($s.hasAttribute.bind(null,"BANDWIDTH")).map(f=>{const E=l.getSyncPoint(f,s,a,i)?1:2,m=$s.estimateSegmentRequestTime(r,n,f)*E-o;return{playlist:f,rebufferingImpact:m}}),g=h.filter(f=>f.rebufferingImpact<=0);return lh(g,(f,y)=>jE(y.playlist,f.playlist)),g.length?g[0]:(lh(h,(f,y)=>f.rebufferingImpact-y.rebufferingImpact),h[0]||null)},cq=function(){const t=this.playlists.main.playlists.filter($s.isEnabled);return lh(t,(i,n)=>jE(i,n)),t.filter(i=>!!fp(this.playlists.main,i).video)[0]||null},Aq=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(n=>{i.set(n,e),e+=n.byteLength})),i},hq=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);const s=e.textTracks().getTrackById(n);if(s)t[i]=s;else{const r=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=i,a=i,l=!1;const u=r[n];u&&(o=u.label,a=u.language,l=u.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:o,language:a},!1).track}}},dq=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const n=me.WebKitDataCue||me.VTTCue;e.forEach(s=>{const r=s.stream;s.content?s.content.forEach(o=>{const a=new n(s.startTime+i,s.endTime+i,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[r].addCue(a)}):t[r].addCue(new n(s.startTime+i,s.endTime+i,s.text))})},fq=function(t){Object.defineProperties(t.frame,{id:{get(){return Oe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Oe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Oe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},pq=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:n})=>{if(!e)return;const s=me.WebKitDataCue||me.VTTCue,r=t.metadataTrack_;if(!r||(e.forEach(c=>{const A=c.cueTime+i;typeof A!="number"||me.isNaN(A)||A<0||!(A<1/0)||!c.frames||!c.frames.length||c.frames.forEach(h=>{const g=new s(A,A,h.value||h.url||h.data||"");g.frame=h,g.value=h,fq(g),r.addCue(g)})}),!r.cues||!r.cues.length))return;const o=r.cues,a=[];for(let c=0;c<o.length;c++)o[c]&&a.push(o[c]);const l=a.reduce((c,A)=>{const h=c[A.startTime]||[];return h.push(A),c[A.startTime]=h,c},{}),u=Object.keys(l).sort((c,A)=>Number(c)-Number(A));u.forEach((c,A)=>{const h=l[c],g=isFinite(n)?n:0,f=Number(u[A+1])||g;h.forEach(y=>{y.endTime=f})})},gq={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},mq=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),vq=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const n=me.WebKitDataCue||me.VTTCue;e.forEach(s=>{for(const r of Object.keys(s)){if(mq.has(r))continue;const o=new n(s.startTime,s.endTime,"");o.id=s.id,o.type="com.apple.quicktime.HLS",o.value={key:gq[r],data:s[r]},(r==="scte35Out"||r==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(o)}s.processDateRange()})},jS=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Oe.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Pf=function(t,e,i){let n,s;if(i&&i.cues)for(n=i.cues.length;n--;)s=i.cues[n],s.startTime>=t&&s.endTime<=e&&i.removeCue(s)},bq=function(t){const e=t.cues;if(!e)return;const i={};for(let n=e.length-1;n>=0;n--){const s=e[n],r="".concat(s.startTime,"-").concat(s.endTime,"-").concat(s.text);i[r]?t.removeCue(s):i[r]=s}},yq=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-i+3)*Bv.ONE_SECOND_IN_TS);let s;for(s=0;s<t.length&&!(t[s].pts>n);s++);return t.slice(s)},wq=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const n=e[0].pts;let s=0;for(s;s<t.length&&!(t[s].pts>=n);s++);return t.slice(0,s).concat(e)},_q=(t,e,i,n)=>{const s=Math.ceil((e-n)*Bv.ONE_SECOND_IN_TS),r=Math.ceil((i-n)*Bv.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=r););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=s););return l=Math.max(l,0),o.splice(l,a-l+1),o},Cq=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(let s=0;s<i.length;s++){const r=i[s];if(r!==n[s]||t[r]!==e[r])return!1}return!0},KL=22,Eq=function(t,e,i){e=e||[];const n=[];let s=0;for(let r=0;r<e.length;r++){const o=e[r];if(t===o.timeline&&(n.push(r),s+=o.duration,s>i))return r}return n.length===0?0:n[n.length-1]},Bd=1,Tq=500,VS=t=>typeof t=="number"&&isFinite(t),Hm=1/60,xq=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,Sq=(t,e,i)=>{let n=e-Pn.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const s=e-i;return Math.min(s,n)},_A=t=>{const{startOfSegment:e,duration:i,segment:n,part:s,playlist:{mediaSequence:r,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:c}=t,A=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h="getMediaInfoForTime (".concat(t.getMediaInfoForTime,")"):t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=" with independent ".concat(t.independent));const g=typeof u=="number",f=t.segment.uri?"segment":"pre-segment",y=g?pL({preloadSegment:n})-1:0;return"".concat(f," [").concat(r+l,"/").concat(r+A,"]")+(g?" part [".concat(u,"/").concat(y,"]"):"")+" segment start/end [".concat(n.start," => ").concat(n.end,"]")+(g?" part start/end [".concat(s.start," => ").concat(s.end,"]"):"")+" startOfSegment [".concat(e,"]")+" duration [".concat(i,"]")+" timeline [".concat(c,"]")+" selected by [".concat(h,"]")+" playlist [".concat(o,"]")},zS=t=>"".concat(t,"TimingInfo"),GS=(t,e)=>t.length?t.end(t.length-1):e,Bq=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:n,calculateTimestampOffsetForEachSegment:s,overrideCheck:r})=>s?GS(n,i):!r&&t===e?null:t<e?i:GS(n,i),KS=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:n,audioDisabled:s})=>{if(e===i)return!1;if(n==="audio"){const r=t.lastTimelineChange({type:"main"});return!r||r.to!==i}if(n==="main"&&s){const r=t.pendingTimelineChange({type:"audio"});return!(r&&r.to===i)}return!1},kq=t=>{let e=0;return["video","audio"].forEach(function(i){const n=t["".concat(i,"TimingInfo")];if(!n)return;const{start:s,end:r}=n;let o;typeof s=="bigint"||typeof r=="bigint"?o=me.BigInt(r)-me.BigInt(s):typeof s=="number"&&typeof r=="number"&&(o=r-s),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},WS=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+au:!1,Dq=(t,e)=>{if(e!=="hls")return null;const i=kq({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const n=t.playlist.targetDuration,s=WS({segmentDuration:i,maxDuration:n*2}),r=WS({segmentDuration:i,maxDuration:n}),o="Segment with index ".concat(t.mediaIndex," ")+"from playlist ".concat(t.playlist.id," ")+"has a duration of ".concat(i," ")+"when the reported duration is ".concat(t.duration," ")+"and the target duration is ".concat(n,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||r?{severity:s?"warn":"info",message:o}:null};class J_ extends Oe.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.calculateTimestampOffsetForEachSegment_=e.calculateTimestampOffsetForEachSegment,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=qr("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(n)),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return G1.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,me.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&G1.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return os();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:n,isMuxed:s}=e;if(n&&i&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const n=Qv(e);let s=this.initSegments_[n];return i&&!s&&e.bytes&&(this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,i=!1){if(!e)return null;const n=DL(e);let s=this.keyCache_[n];this.cacheEncryptionKeys_&&i&&!s&&e.bytes&&(this.keyCache_[n]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(s||e).resolvedUri};return s&&(r.bytes=s.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e)return;const n=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update [".concat(r," => ").concat(e.id||e.uri,"]")),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift [".concat(o,"]")),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=l}}s&&(s.mediaIndex-=o,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&G1.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,n=()=>{},s=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let r=1;const o=()=>{r--,r===0&&n()};(s||!this.audioDisabled_)&&(r++,this.sourceUpdater_.removeAudio(e,i,o)),(s||this.loaderType_==="main")&&(this.gopBuffer_=_q(this.gopBuffer_,e,i,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,i,o));for(const a in this.inbandTextTracks_)Pf(e,i,this.inbandTextTracks_[a]);Pf(e,i,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=me.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&me.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=me.setTimeout(this.monitorBufferTick_.bind(this),Tq)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,n=this.partIndex){if(!i||!this.mediaSource_)return!1;const s=typeof e=="number"&&i.segments[e],r=e+1===i.segments.length,o=!s||!s.parts||n+1===s.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&r&&o}chooseNextRequest_(){const e=this.buffered_(),i=LS(e)||0,n=OE(e,this.currentTime_()),s=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||s||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=Eq(this.currentTimeline_,o,i);else if(this.mediaIndex!==null){const h=o[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:i,h.parts&&h.parts[g+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=g+1):a.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:h,startTime:g,partIndex:f}=$s.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?i:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(i):"currentTime ".concat(this.currentTime_()),a.mediaIndex=h,a.startOfSegment=g,a.partIndex=f}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!c&&!u.independent)if(a.partIndex===0){const h=o[a.mediaIndex-1],g=h.parts&&h.parts.length&&h.parts[h.parts.length-1];g&&g.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const A=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&A&&!this.seeking_()?null:this.generateSegmentInfo_(a)}generateSegmentInfo_(e){const{independent:i,playlist:n,mediaIndex:s,startOfSegment:r,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=n.segments[s],A=typeof a=="number"&&c.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:A&&A.resolvedUri||c.resolvedUri,mediaIndex:s,partIndex:A?a:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:A&&A.duration||c.duration,segment:c,part:A,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:i},g=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),calculateTimestampOffsetForEachSegment:this.calculateTimestampOffsetForEachSegment_,overrideCheck:g});const f=LS(this.sourceUpdater_.audioBuffered());return typeof f=="number"&&(h.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=yq(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return Bq(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),n=e.bandwidth,s=this.pendingSegment_.duration,r=$s.estimateSegmentRequestTime(s,n,this.playlist_,e.bytesReceived),o=qK(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(r<=o)return;const a=uq({main:this.vhs_.playlists.main,currentTime:i,bandwidth:n,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=r-o-a.rebufferingImpact;let c=.5;o<=au&&(c=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Pn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_("Aborting ".concat(_A(e))),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},Cq(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,i,n,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,o=zS(i);r[o]=r[o]||{},r[o][n]=s,this.logger_("timinginfo: ".concat(i," - ").concat(n," - ").concat(s)),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};i.forEach(o=>{r[o.stream]=r[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=r[o.stream];a.startTime=Math.min(a.startTime,o.startTime+s),a.endTime=Math.max(a.endTime,o.endTime+s),a.captions.push(o)}),Object.keys(r).forEach(o=>{const{startTime:a,endTime:l,captions:u}=r[o],c=this.inbandTextTracks_;this.logger_("adding cues from ".concat(a," -> ").concat(l," for ").concat(o)),hq(c,this.vhs_.tech_,o),Pf(a,l,c[o]),dq({captionArray:u,inbandTextTracks:c,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,n));return}this.addMetadataToTextTrack(n,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!KS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:n,hasVideo:s,isMuxed:r}=i;return!(s&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||KS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,i));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[zS(i.type)].start;else{const s=this.getCurrentMediaInfo_(),r=this.loaderType_==="main"&&s&&s.hasVideo;let o;r&&(o=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:o,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,i.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==n.mediaIndex||s.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:n,playlist:s}){if(n){const r=Qv(n);if(this.activeInitSegmentId_===r)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=r}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n},s){const r=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+bc(r).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+bc(o).join(", "));const a=r.length?r.start(0):0,l=r.length?r.end(r.length-1):0,u=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(l-a<=Bd&&c-u<=Bd){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(n.byteLength,", ")+"audio buffer: ".concat(bc(r).join(", "),", ")+"video buffer: ".concat(bc(o).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:n}));const h=this.currentTime_()-Bd;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(h)),this.remove(0,h,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(Bd,"s")),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=me.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Bd*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:n},s){if(s){if(s.code===KL){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error("".concat(i," append of ").concat(n.length,"b failed for segment ")+"#".concat(e.mediaIndex," in playlist ").concat(e.playlist.id)),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:s,bytes:r}){if(!r){const o=[s];let a=s.byteLength;n&&(o.unshift(n),a+=n.byteLength),r=Aq({bytes:a,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:r}))}handleSegmentTimingInfo_(e,i,n){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,r="".concat(e,"TimingInfo");s[r]||(s[r]={}),s[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,s[r].transmuxedPresentationStart=n.start.presentation,s[r].transmuxedDecodeStart=n.start.decode,s[r].transmuxedPresentationEnd=n.end.presentation,s[r].transmuxedDecodeEnd=n.end.decode,s[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,i){const{type:n,data:s}=i;if(!s||!s.byteLength||n==="audio"&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const i=Ya({},e,{forceTimestampOffset:!0});Ya(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,r=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||s&&r;this.logger_("Requesting ".concat(_A(e))),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=nq({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_("".concat(_A(e)," logged from transmuxer stream ").concat(u," as a ").concat(l,": ").concat(a))}})}trimBackBuffer_(e){const i=Sq(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,n=e.part,s={resolvedUri:n?n.resolvedUri:i.resolvedUri,byterange:n?n.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===i.timeline&&(r.videoTimingInfo?s.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(s.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),i.key){const o=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(i.key),s.key.iv=o}return i.map&&(s.map=this.initSegmentForMap(i.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<Hm){this.logger_("Ignoring segment's bandwidth because its duration of ".concat(e)+" is less than the min to record ".concat(Hm));return}this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,n));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===No.ABORTED)return;if(this.pause(),e.code===No.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,i.stats),s.endOfAllRequests=i.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=wq(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:n,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:r,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=i.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==s+r?s:a.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:s,isMuxed:r}=i,o=this.loaderType_==="main"&&s,a=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=xq(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=Dq(e,this.sourceType_);if(i&&(i.severity==="warn"?Oe.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_("Throwing away un-appended sync request ".concat(_A(e)));return}this.logger_("Appended ".concat(_A(e))),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,s=e.part,r=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,o=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(r||o){this.logger_("bad ".concat(r?"segment":"part"," ").concat(_A(e))),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Hm){this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration)+" is less than the min to record ".concat(Hm));return}const i=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(s-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,n=i.start,s=i.end;if(!VS(n)||!VS(s))return;Pf(n,s,this.segmentMetadataTrack_);const r=me.WebKitDataCue||me.VTTCue,o={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:s},a=JSON.stringify(o),l=new r(n,s,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}set replaceSegmentsUntil(e){this.logger_("Replacing currently buffered segments until ".concat(e)),this.replaceSegmentsUntil_=e}}function Na(){}const WL=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Fq=["video","audio"],Z_=(t,e)=>{const i=e["".concat(t,"Buffer")];return i&&i.updating||e.queuePending[t]},Iq=(t,e)=>{for(let i=0;i<e.length;i++){const n=e[i];if(n.type==="mediaSource")return null;if(n.type===t)return i}return null},uh=(t,e)=>{if(e.queue.length===0)return;let i=0,n=e.queue[i];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),uh("audio",e),uh("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Z_(t,e))){if(n.type!==t){if(i=Iq(t,e.queue),i===null)return;n=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,uh(t,e);return}}},qL=(t,e)=>{const i=e["".concat(t,"Buffer")],n=WL(t);i&&(i.removeEventListener("updateend",e["on".concat(n,"UpdateEnd_")]),i.removeEventListener("error",e["on".concat(n,"Error_")]),e.codecs[t]=null,e["".concat(t,"Buffer")]=null)},Mo=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,tr={appendBuffer:(t,e,i)=>(n,s)=>{const r=s["".concat(n,"Buffer")];if(Mo(s.mediaSource,r)){s.logger_("Appending segment ".concat(e.mediaIndex,"'s ").concat(t.length," bytes to ").concat(n,"Buffer"));try{r.appendBuffer(t)}catch(o){s.logger_("Error with code ".concat(o.code," ")+(o.code===KL?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(e.mediaIndex," to ").concat(n,"Buffer")),s.queuePending[n]=null,i(o)}}},remove:(t,e)=>(i,n)=>{const s=n["".concat(i,"Buffer")];if(Mo(n.mediaSource,s)){n.logger_("Removing ".concat(t," to ").concat(e," from ").concat(i,"Buffer"));try{s.remove(t,e)}catch{n.logger_("Remove ".concat(t," to ").concat(e," from ").concat(i,"Buffer failed"))}}},timestampOffset:t=>(e,i)=>{const n=i["".concat(e,"Buffer")];Mo(i.mediaSource,n)&&(i.logger_("Setting ".concat(e,"timestampOffset to ").concat(t)),n.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_("Calling mediaSource endOfStream(".concat(t||"",")"));try{e.mediaSource.endOfStream(t)}catch(i){Oe.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_("Setting mediaSource duration to ".concat(t));try{e.mediaSource.duration=t}catch(i){Oe.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e["".concat(t,"Buffer")];if(Mo(e.mediaSource,i)){e.logger_("calling abort on ".concat(t,"Buffer"));try{i.abort()}catch(n){Oe.log.warn("Failed to abort on ".concat(t,"Buffer"),n)}}},addSourceBuffer:(t,e)=>i=>{const n=WL(t),s=Up(e);i.logger_("Adding ".concat(t,"Buffer with codec ").concat(e," to mediaSource"));const r=i.mediaSource.addSourceBuffer(s);r.addEventListener("updateend",i["on".concat(n,"UpdateEnd_")]),r.addEventListener("error",i["on".concat(n,"Error_")]),i.codecs[t]=e,i["".concat(t,"Buffer")]=r},removeSourceBuffer:t=>e=>{const i=e["".concat(t,"Buffer")];if(qL(t,e),!!Mo(e.mediaSource,i)){e.logger_("Removing ".concat(t,"Buffer with codec ").concat(e.codecs[t]," from mediaSource"));try{e.mediaSource.removeSourceBuffer(i)}catch(n){Oe.log.warn("Failed to removeSourceBuffer ".concat(t,"Buffer"),n)}}},changeType:t=>(e,i)=>{const n=i["".concat(e,"Buffer")],s=Up(t);Mo(i.mediaSource,n)&&i.codecs[e]!==t&&(i.logger_("changing ".concat(e,"Buffer codec from ").concat(i.codecs[e]," to ").concat(t)),n.changeType(s),i.codecs[e]=t)}},ir=({type:t,sourceUpdater:e,action:i,doneFn:n,name:s})=>{e.queue.push({type:t,action:i,doneFn:n,name:s}),uh(t,e)},qS=(t,e)=>i=>{const n=e["".concat(t,"Buffered")](),s=GK(n);if(e.logger_("".concat(t," source buffer update end. Buffered: \n"),s),e.queuePending[t]){const r=e.queuePending[t].doneFn;e.queuePending[t]=null,r&&r(e["".concat(t,"Error_")])}uh(t,e)};class YL extends Oe.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>uh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=qr("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=qS("video",this),this.onAudioUpdateEnd_=qS("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){ir({type:"mediaSource",sourceUpdater:this,action:tr.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){ir({type:e,sourceUpdater:this,action:tr.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Oe.log.error("removeSourceBuffer is not supported!");return}ir({type:"mediaSource",sourceUpdater:this,action:tr.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Oe.browser.IS_FIREFOX&&me.MediaSource&&me.MediaSource.prototype&&typeof me.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return me.SourceBuffer&&me.SourceBuffer.prototype&&typeof me.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){Oe.log.error("changeType is not supported!");return}ir({type:e,sourceUpdater:this,action:tr.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const n=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,n);this.canChangeType()&&this.changeType(i,n)})}appendBuffer(e,i){const{segmentInfo:n,type:s,bytes:r}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_("delayed audio append of ".concat(r.length," until video append"));return}const o=i;if(ir({type:s,sourceUpdater:this,action:tr.appendBuffer(r,n||{mediaIndex:-1},o),doneFn:i,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(a.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Mo(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:os()}videoBuffered(){return Mo(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:os()}buffered(){const e=Mo(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=Mo(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():WK(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=Na){ir({type:"mediaSource",sourceUpdater:this,action:tr.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=Na){typeof e!="string"&&(e=void 0),ir({type:"mediaSource",sourceUpdater:this,action:tr.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,n=Na){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}ir({type:"audio",sourceUpdater:this,action:tr.remove(e,i),doneFn:n,name:"remove"})}removeVideo(e,i,n=Na){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}ir({type:"video",sourceUpdater:this,action:tr.remove(e,i),doneFn:n,name:"remove"})}updating(){return!!(Z_("audio",this)||Z_("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ir({type:"audio",sourceUpdater:this,action:tr.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(ir({type:"video",sourceUpdater:this,action:tr.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&ir({type:"audio",sourceUpdater:this,action:tr.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&ir({type:"video",sourceUpdater:this,action:tr.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Fq.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this["".concat(e,"QueueCallback")](()=>qL(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const YS=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),XS=new Uint8Array("\n\n".split("").map(t=>t.charCodeAt(0)));class Lq extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Pq extends J_{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return os();const e=this.subtitlesTrack_.cues,i=e[0].startTime,n=e[e.length-1].startTime;return os([[i,n]])}initSegmentForMap(e,i=!1){if(!e)return null;const n=Qv(e);let s=this.initSegments_[n];if(i&&!s&&e.bytes){const r=XS.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set(XS,e.bytes.byteLength),this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){Pf(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===No.TIMEOUT&&this.handleTimeout_(),e.code===No.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const r=s.segment;if(r.map&&(r.map.bytes=i.map.bytes),s.bytes=i.bytes,typeof me.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}r.requested=!0;try{this.parseVTTCues_(s)}catch(o){this.stopForError({message:o.message});return}if(this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,s.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new me.VTTCue(o.startTime,o.endTime,o.text):o)}),bq(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let i,n=!1;if(typeof me.WebVTT!="function")throw new Lq;typeof me.TextDecoder=="function"?i=new me.TextDecoder("utf8"):(i=me.WebVTT.StringDecoder(),n=!0);const s=new me.WebVTT.Parser(me,me.vttjs,i);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=o=>{e.timestampmap=o},s.onparsingerror=o=>{Oe.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;n&&(o=YS(o)),s.parse(o)}let r=e.bytes;n&&(r=YS(r)),s.parse(r),s.flush()}updateTimeMapping_(e,i,n){const s=e.segment;if(!i)return;if(!e.cues.length){s.empty=!0;return}const r=e.timestampmap,o=r.MPEGTS/Bv.ONE_SECOND_IN_TS-r.LOCAL+i.mapping;if(e.cues.forEach(a=>{a.startTime+=o,a.endTime+=o}),!n.syncInfo){const a=e.cues[0].startTime,l=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,l-s.duration)}}}}const Mq=function(t,e){const i=t.cues;for(let n=0;n<i.length;n++){const s=i[n];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},Rq=function(t,e,i=0){if(!t.segments)return;let n=i,s;for(let r=0;r<t.segments.length;r++){const o=t.segments[r];if(s||(s=Mq(e,n+o.duration/2)),s){if("cueIn"in o){s.endTime=n,s.adEndTime=n,n+=o.duration,s=null;continue}if(n<s.endTime){n+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&(s=new me.VTTCue(n,n+o.duration,o.cueOut),s.adStartTime=n,s.adEndTime=n+parseFloat(o.cueOut),e.addCue(s)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);s=new me.VTTCue(n,n+o.duration,""),s.adStartTime=n-a,s.adEndTime=s.adStartTime+l,e.addCue(s)}n+=o.duration}},Oq=86400,JS=[{name:"VOD",run:(t,e,i,n,s)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(t,e,i,n,s)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let r=null,o=null;const a=V_(e);s=s||0;for(let l=0;l<a.length;l++){const u=e.endList||s===0?l:a.length-(l+1),c=a[u],A=c.segment,h=t.timelineToDatetimeMappings[A.timeline];if(!h||!A.dateTimeObject)continue;let f=A.dateTimeObject.getTime()/1e3+h;if(A.parts&&typeof c.partIndex=="number")for(let E=0;E<c.partIndex;E++)f+=A.parts[E].duration;const y=Math.abs(s-f);if(o!==null&&(y===0||o<y))break;o=y,r={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return r}},{name:"Segment",run:(t,e,i,n,s)=>{let r=null,o=null;s=s||0;const a=V_(e);for(let l=0;l<a.length;l++){const u=e.endList||s===0?l:a.length-(l+1),c=a[u],A=c.segment,h=c.part&&c.part.start||A&&A.start;if(A.timeline===n&&typeof h<"u"){const g=Math.abs(s-h);if(o!==null&&o<g)break;(!r||o===null||o>=g)&&(o=g,r={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return r}},{name:"Discontinuity",run:(t,e,i,n,s)=>{let r=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){const A=Math.abs(s-c.time);if(o!==null&&o<A)break;(!r||o===null||o>=A)&&(o=A,r={time:c.time,segmentIndex:l,partIndex:null})}}}return r}},{name:"Playlist",run:(t,e,i,n,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Uq extends Oe.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=qr("SyncController")}getSyncPoint(e,i,n,s){const r=this.runStrategies_(e,i,n,s);return r.length?this.selectSyncPoint_(r,{key:"time",value:s}):null}getExpiredTime(e,i){if(!e||!e.segments)return null;const n=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!n.length)return null;const s=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+hp({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,i,n,s){const r=[];for(let o=0;o<JS.length;o++){const a=JS[o],l=a.run(this,e,i,n,s);l&&(l.strategy=a.name,r.push({strategy:a.name,syncPoint:l}))}return r}selectSyncPoint_(e,i){let n=e[0].syncPoint,s=Math.abs(e[0].syncPoint[i.key]-i.value),r=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[i.key]-i.value);a<s&&(s=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for [".concat(i.key,": ").concat(i.value,"] chosen with strategy")+" [".concat(r,"]: [time:").concat(n.time,",")+" segmentIndex:".concat(n.segmentIndex)+(typeof n.partIndex=="number"?",partIndex:".concat(n.partIndex):"")+"]"),n}saveExpiredSegmentInfo(e,i){const n=i.mediaSequence-e.mediaSequence;if(n>Oq){Oe.log.warn("Not saving expired segment info. Media sequence gap ".concat(n," is too large."));return}for(let s=n-1;s>=0;s--){const r=e.segments[s];if(r&&typeof r.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+s,time:r.start},this.logger_("playlist refresh sync: [time:".concat(i.syncInfo.time,",")+" mediaSequence: ".concat(i.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],n=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),s=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const r=s.dateTimeObject;s.discontinuity&&i&&r&&(this.timelineToDatetimeMappings[s.timeline]=-(r.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,n){const s=e.segment,r=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-i.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(e.timeline,": ")+"[time: ".concat(o.time,"] [mapping: ").concat(o.mapping,"]"))),a=e.startOfSegment,l=i.end+o.mapping;else if(o)a=i.start+o.mapping,l=i.end+o.mapping;else return!1;return r&&(r.start=a,r.end=l),(!s.start||a<s.start)&&(s.start=a),s.end=l,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let s=0;s<i.discontinuityStarts.length;s++){const r=i.discontinuityStarts[s],o=i.discontinuitySequence+s+1,a=r-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=n.start-hp({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:r}):u=n.end+hp({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Nq extends Oe.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:n}){return typeof i=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:n}){return typeof i=="number"&&typeof n=="number"&&(this.lastTimelineChanges_[e]={type:e,from:i,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Hq=RL(OL(function(){var t=function(){function y(){this.listeners={}}var E=y.prototype;return E.on=function(m,b){this.listeners[m]||(this.listeners[m]=[]),this.listeners[m].push(b)},E.off=function(m,b){if(!this.listeners[m])return!1;var _=this.listeners[m].indexOf(b);return this.listeners[m]=this.listeners[m].slice(0),this.listeners[m].splice(_,1),_>-1},E.trigger=function(m){var b=this.listeners[m];if(b)if(arguments.length===2)for(var _=b.length,B=0;B<_;++B)b[B].call(this,arguments[1]);else for(var L=Array.prototype.slice.call(arguments,1),j=b.length,O=0;O<j;++O)b[O].apply(this,L)},E.dispose=function(){this.listeners={}},E.pipe=function(m){this.on("data",function(b){m.push(b)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const i=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],E=y[0],C=y[1],m=E[4],b=C[4];let _,B,L;const j=[],O=[];let Q,$,D,U,S,k;for(_=0;_<256;_++)O[(j[_]=_<<1^(_>>7)*283)^_]=_;for(B=L=0;!m[B];B^=Q||1,L=O[L]||1)for(U=L^L<<1^L<<2^L<<3^L<<4,U=U>>8^U&255^99,m[B]=U,b[U]=B,D=j[$=j[Q=j[B]]],k=D*16843009^$*65537^Q*257^B*16843008,S=j[U]*257^U*16843008,_=0;_<4;_++)E[_][B]=S=S<<24^S>>>8,C[_][U]=k=k<<24^k>>>8;for(_=0;_<5;_++)E[_]=E[_].slice(0),C[_]=C[_].slice(0);return y};let n=null;class s{constructor(E){n||(n=i()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let C,m,b;const _=this._tables[0][4],B=this._tables[1],L=E.length;let j=1;if(L!==4&&L!==6&&L!==8)throw new Error("Invalid aes key size");const O=E.slice(0),Q=[];for(this._key=[O,Q],C=L;C<4*L+28;C++)b=O[C-1],(C%L===0||L===8&&C%L===4)&&(b=_[b>>>24]<<24^_[b>>16&255]<<16^_[b>>8&255]<<8^_[b&255],C%L===0&&(b=b<<8^b>>>24^j<<24,j=j<<1^(j>>7)*283)),O[C]=O[C-L]^b;for(m=0;C;m++,C--)b=O[m&3?C:C-4],C<=4||m<4?Q[m]=b:Q[m]=B[0][_[b>>>24]]^B[1][_[b>>16&255]]^B[2][_[b>>8&255]]^B[3][_[b&255]]}decrypt(E,C,m,b,_,B){const L=this._key[1];let j=E^L[0],O=b^L[1],Q=m^L[2],$=C^L[3],D,U,S;const k=L.length/4-2;let M,N=4;const V=this._tables[1],G=V[0],ee=V[1],se=V[2],ne=V[3],le=V[4];for(M=0;M<k;M++)D=G[j>>>24]^ee[O>>16&255]^se[Q>>8&255]^ne[$&255]^L[N],U=G[O>>>24]^ee[Q>>16&255]^se[$>>8&255]^ne[j&255]^L[N+1],S=G[Q>>>24]^ee[$>>16&255]^se[j>>8&255]^ne[O&255]^L[N+2],$=G[$>>>24]^ee[j>>16&255]^se[O>>8&255]^ne[Q&255]^L[N+3],N+=4,j=D,O=U,Q=S;for(M=0;M<4;M++)_[(3&-M)+B]=le[j>>>24]<<24^le[O>>16&255]<<16^le[Q>>8&255]<<8^le[$&255]^L[N++],D=j,j=O,O=Q,Q=$,$=D}}class r extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(E){this.jobs.push(E),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},a=function(y,E,C){const m=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),b=new s(Array.prototype.slice.call(E)),_=new Uint8Array(y.byteLength),B=new Int32Array(_.buffer);let L,j,O,Q,$,D,U,S,k;for(L=C[0],j=C[1],O=C[2],Q=C[3],k=0;k<m.length;k+=4)$=o(m[k]),D=o(m[k+1]),U=o(m[k+2]),S=o(m[k+3]),b.decrypt($,D,U,S,B,k),B[k]=o(B[k]^L),B[k+1]=o(B[k+1]^j),B[k+2]=o(B[k+2]^O),B[k+3]=o(B[k+3]^Q),L=$,j=D,O=U,Q=S;return _};class l{constructor(E,C,m,b){const _=l.STEP,B=new Int32Array(E.buffer),L=new Uint8Array(E.byteLength);let j=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(B.subarray(j,j+_),C,m,L)),j=_;j<B.length;j+=_)m=new Uint32Array([o(B[j-4]),o(B[j-3]),o(B[j-2]),o(B[j-1])]),this.asyncStream_.push(this.decryptChunk_(B.subarray(j,j+_),C,m,L));this.asyncStream_.push(function(){b(null,e(L))})}static get STEP(){return 32e3}decryptChunk_(E,C,m,b){return function(){const _=a(E,C,m);b.set(_,E.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var A=c,h=function(E){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(E):E&&E.buffer instanceof ArrayBuffer},g=A.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var y=new Uint16Array([65484]),E=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return E[0]===255?"big":E[0]===204?"little":"unknown"}();const f=function(y){const E={};return Object.keys(y).forEach(C=>{const m=y[C];h(m)?E[C]={bytes:m.buffer,byteOffset:m.byteOffset,byteLength:m.byteLength}:E[C]=m}),E};self.onmessage=function(y){const E=y.data,C=new Uint8Array(E.encrypted.bytes,E.encrypted.byteOffset,E.encrypted.byteLength),m=new Uint32Array(E.key.bytes,E.key.byteOffset,E.key.byteLength/4),b=new Uint32Array(E.iv.bytes,E.iv.byteOffset,E.iv.byteLength/4);new l(C,m,b,function(_,B){self.postMessage(f({source:E.source,decrypted:B}),[B.buffer])})}}));var Qq=ML(Hq);const $q=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},XL=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},eC=(t,e)=>{e.activePlaylistLoader=t,t.load()},jq=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:n},mediaTypes:{[t]:s}}=e,r=s.activeTrack(),o=s.getActiveGroup(),a=s.activePlaylistLoader,l=s.lastGroup_;if(!(o&&l&&o.id===l.id)&&(s.lastGroup_=o,s.lastTrack_=r,XL(i,s),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&n.resetEverything();return}i.resyncLoader(),eC(o.playlistLoader,s)}},Vq=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,i.abort(),i.pause()},zq=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:n,main:s},mediaTypes:{[t]:r}}=e,o=r.activeTrack(),a=r.getActiveGroup(),l=r.activePlaylistLoader,u=r.lastTrack_;if(!(u&&o&&u.id===o.id)&&(r.lastGroup_=a,r.lastTrack_=o,XL(n,r),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const c=e.vhs.playlistController_,A=c.selectPlaylist();if(c.media()===A)return;r.logger_("track change. Switching main audio from ".concat(u.id," to ").concat(o.id)),i.pause(),s.resetEverything(),c.fastQualityChange_(A);return}if(t==="AUDIO"){if(!a.playlistLoader){s.setAudio(!0),s.resetEverything();return}n.setAudio(!0),s.setAudio(!1)}if(l===a.playlistLoader){eC(a.playlistLoader,r);return}n.track&&n.track(o),n.resetEverything(),eC(a.playlistLoader,r)}},Vv={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:i},excludePlaylist:n}=e,s=i.activeTrack(),r=i.activeGroup(),o=(r.filter(l=>l.default)[0]||r[0]).id,a=i.tracks[o];if(s===a){n({error:{message:"Problem encountered loading the default audio track."}});return}Oe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in i.tracks)i.tracks[l].enabled=i.tracks[l]===a;i.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:i}}=e;Oe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=i.activeTrack();n&&(n.mode="disabled"),i.onTrackChanged()}},ZS={AUDIO:(t,e,i)=>{if(!e)return;const{tech:n,requestOptions:s,segmentLoaders:{[t]:r}}=i;e.on("loadedmetadata",()=>{const o=e.media();r.playlist(o,s),(!n.paused()||o.endList&&n.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",Vv[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:n,requestOptions:s,segmentLoaders:{[t]:r},mediaTypes:{[t]:o}}=i;e.on("loadedmetadata",()=>{const a=e.media();r.playlist(a,s),r.track(o.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",Vv[t](t,i))}},Gq={AUDIO:(t,e)=>{const{vhs:i,sourceType:n,segmentLoaders:{[t]:s},requestOptions:r,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,A=yg(c.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},A&&(o[t].main.default.playlists=c.main.playlists));for(const h in o[t]){a[h]||(a[h]=[]);for(const g in o[t][h]){let f=o[t][h][g],y;if(A?(u("AUDIO group '".concat(h,"' label '").concat(g,"' is a main playlist")),f.isMainPlaylist=!0,y=null):n==="vhs-json"&&f.playlists?y=new KA(f.playlists[0],i,r):f.resolvedUri?y=new KA(f.resolvedUri,i,r):f.playlists&&n==="dash"?y=new Y_(f.playlists[0],i,r,c):y=null,f=wi({id:g,playlistLoader:y},f),ZS[t](t,f.playlistLoader,e),a[h].push(f),typeof l[g]>"u"){const E=new Oe.AudioTrack({id:g,kind:$q(f),enabled:!1,language:f.language,default:f.default,label:g});l[g]=E}}}s.on("error",Vv[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:n,sourceType:s,segmentLoaders:{[t]:r},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const A in a[t]){l[A]||(l[A]=[]);for(const h in a[t][A]){if(!n.options_.useForcedSubtitles&&a[t][A][h].forced)continue;let g=a[t][A][h],f;if(s==="hls")f=new KA(g.resolvedUri,n,o);else if(s==="dash"){if(!g.playlists.filter(E=>E.excludeUntil!==1/0).length)return;f=new Y_(g.playlists[0],n,o,c)}else s==="vhs-json"&&(f=new KA(g.playlists?g.playlists[0]:g.resolvedUri,n,o));if(g=wi({id:h,playlistLoader:f},g),ZS[t](t,g.playlistLoader,e),l[A].push(g),typeof u[h]>"u"){const y=i.addRemoteTextTrack({id:h,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:h},!1).track;u[h]=y}}}r.on("error",Vv[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:n},mediaTypes:{[t]:{groups:s,tracks:r}}}=e;for(const o in n[t]){s[o]||(s[o]=[]);for(const a in n[t][o]){const l=n[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=wi(c,u[c.instreamId])),c.default===void 0&&delete c.default,s[o].push(wi({id:a},l)),typeof r[a]>"u"){const A=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;r[a]=A}}}}},JL=(t,e)=>{for(let i=0;i<t.length;i++)if(HE(e,t[i])||t[i].playlists&&JL(t[i].playlists,e))return!0;return!1},Kq=(t,e)=>i=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:s}}}=e,r=n.media();if(!r)return null;let o=null;r.attributes[t]&&(o=s[r.attributes[t]]);const a=Object.keys(s);if(!o)if(t==="AUDIO"&&a.length>1&&yg(e.main))for(let l=0;l<a.length;l++){const u=s[a[l]];if(JL(u,r)){o=u;break}}else s.main?o=s.main:a.length===1&&(o=s[a[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(l=>l.id===i.id)[0]||null},Wq={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].enabled)return i[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}},qq=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},Yq=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Gq[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:n,vhs:s,segmentLoaders:{["AUDIO"]:r,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=Kq(u,t),e[u].activeTrack=Wq[u](u,t),e[u].onGroupChanged=jq(u,t),e[u].onGroupChanging=Vq(u,t),e[u].onTrackChanged=zq(u,t),e[u].getActiveGroup=qq(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(A=>A.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),r.setAudio(!0)):o.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},Xq=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Na,activeTrack:Na,getActiveGroup:Na,onGroupChanged:Na,onTrackChanged:Na,lastTrack_:null,logger_:qr("MediaGroups[".concat(e,"]"))}}),t};class eB{constructor(){this.priority_=[]}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=fr(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}}class Jq extends Oe.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new eB,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.logger_=qr("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const n=i.serverUri||i.serverURL;if(!n){this.logger_("steering manifest URL is ".concat(n,", cannot request steering manifest.")),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=this.queryBeforeStart?n:fr(e,n),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart||!1,this.proxyServerUrl_=i.proxyServerURL||null,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"),this.queryBeforeStart&&this.requestSteeringManifest(this.steeringManifest.reloadUri)}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!e&&!i)return;const n=e||this.getRequestURI(i);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:n},(s,r)=>{if(s){if(r.status===410){this.logger_("manifest request 410 ".concat(s,".")),this.logger_("There will be no more content steering requests to ".concat(n," this session.")),this.excludedSteeringManifestURLs.add(n);return}if(r.status===429){const a=r.responseHeaders["retry-after"];this.logger_("manifest request 429 ".concat(s,".")),this.logger_("content steering will retry in ".concat(a," seconds.")),this.startTTLTimeout_(parseInt(a,10));return}this.logger_("manifest failed to load ".concat(s,".")),this.startTTLTimeout_();return}const o=JSON.parse(this.request_.responseText);this.startTTLTimeout_(),this.assignSteeringProperties_(o)})}setProxyServerUrl_(e){const i=new me.URL(e),n=new me.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const i=JSON.parse(me.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new me.URL(e),n=this.getPathway(),s=this.getBandwidth_();if(n){const r="_".concat(this.manifestType_,"_pathway");i.searchParams.set(r,n)}if(s){const r="_".concat(this.manifestType_,"_throughput");i.searchParams.set(r,s)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_("manifest version is ".concat(e.VERSION,", which is not supported.")),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(s=>{for(const r of s)if(this.availablePathways_.has(r))return r;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!i(s))return s}const n=this.setSteeringParams_(e);return i(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=me.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){me.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new eB}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}}const Zq=10;let Ea;const eY=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],tY=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},iY=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:n,bufferLowWaterLine:s,bufferHighWaterLine:r,duration:o,bufferBasedABR:a,log:l}){if(!n)return Oe.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u="allowing switch ".concat(t&&t.id||"null"," -> ").concat(n.id);if(!t)return l("".concat(u," as current playlist is not set")),!0;if(n.id===t.id)return!1;const c=!!GA(e,i).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l("not ".concat(u," as current playlist is live llhls, but currentTime isn't in buffered.")),!1):(l("".concat(u," as current playlist is live")),!0);const A=OE(e,i),h=a?Pn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Pn.MAX_BUFFER_LOW_WATER_LINE;if(o<h)return l("".concat(u," as duration < max low water line (").concat(o," < ").concat(h,")")),!0;const g=n.attributes.BANDWIDTH,f=t.attributes.BANDWIDTH;if(g<f&&(!a||A<r)){let y="".concat(u," as next bandwidth < current bandwidth (").concat(g," < ").concat(f,")");return a&&(y+=" and forwardBuffer < bufferHighWaterLine (".concat(A," < ").concat(r,")")),l(y),!0}if((!a||g>f)&&A>=s){let y="".concat(u," as forwardBuffer >= bufferLowWaterLine (").concat(A," >= ").concat(s,")");return a&&(y+=" and next bandwidth > current bandwidth (".concat(g," > ").concat(f,")")),l(y),!0}return l("not ".concat(u," as no switching criteria met")),!1};class nY extends Oe.EventTarget{constructor(e){super();const{src:i,withCredentials:n,tech:s,bandwidth:r,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:A,bufferBasedABR:h,leastPixelDiffSelector:g,captionServices:f}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),Ea=o,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!g,this.withCredentials=n,this.tech_=s,this.vhs_=s.vhs,this.sourceType_=c,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Xq(),this.mediaSource=new me.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=os(),this.hasPlayed_=!1,this.syncController_=new Uq(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Qq,this.sourceUpdater_=new YL(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Nq;const E={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,calculateTimestampOffsetForEachSegment:e.calculateTimestampOffsetForEachSegment,captionServices:f,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:A,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Y_(i,this.vhs_,wi(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new KA(i,this.vhs_,wi(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new J_(wi(E,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new J_(wi(E,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Pq(wi(E,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((b,_)=>{function B(){s.off("vttjserror",L),b()}function L(){s.off("vttjsloaded",B),_()}s.one("vttjsloaded",B),s.one("vttjserror",L),s.addWebVttScript_()})}),e);const C=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new Jq(this.vhs_.xhr,C),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),eY.forEach(b=>{this[b+"_"]=tY.bind(this,b)}),this.logger_=qr("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const m=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(m,()=>{const b=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-b,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,n){const s=this.media(),r=s&&(s.id||s.uri),o=e.id||e.uri;r&&r!==o&&(this.logger_("switch media ".concat(r," -> ").concat(o," from ").concat(i)),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(i)})),this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],n=i?i.activeGroup():null,s=this.contentSteeringController_.getPathway();if(n&&s){const o=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===s);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=me.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(me.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const n=e.mediaGroups.AUDIO,s=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||s.length&&n[s[0]];for(const l in a)if(a[l].default){r={label:l};break}}if(!r)return i;const o=[];for(const a in n)if(n[a][r.label]){const l=n[a][r.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a&&o.push(c)}}return o.length?o:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;z_(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),Yq({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;z_(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const n=e.mediaGroups||{};let s=!0;const r=Object.keys(n.AUDIO);for(const o in n.AUDIO)for(const a in n.AUDIO[o])n.AUDIO[o][a].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Ea.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),s=this.bufferLowWaterLine(),r=this.bufferHighWaterLine(),o=this.tech_.buffered();return iY({buffered:o,currentTime:n,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Zq}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),i=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=i,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const n=i.end(0);let s=n;if(e.start){const r=e.start.timeOffset;r<0?s=Math.max(n+r,i.start(0)):s=Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const s=Ea.Playlist.playlistEnd(e,n),r=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return s-r<=Uo;const a=o.end(o.length-1);return a-r<=Uo&&s-a<=Uo}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,r=s.filter(ny),o=r.length===1&&r[0]===e;if(s.length===1&&n!==1/0)return Oe.log.warn("Problem encountered with playlist ".concat(e.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const f=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(f),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(f)},y);return}let g=!1;s.forEach(f=>{if(f===e)return;const y=f.excludeUntil;typeof y<"u"&&y!==1/0&&(g=!0,delete f.excludeUntil)}),g&&(Oe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=i.internal?this.logger_:Oe.log.warn,c=i.message?" "+i.message:"";u("".concat(i.internal?"Internal problem":"Problem"," encountered with playlist ").concat(e.id,".")+"".concat(c," Switching to playlist ").concat(l.id,".")),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const A=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=A;return this.switchMedia_(l,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const n=[],s=e==="all";(s||e==="main")&&n.push(this.mainPlaylistLoader_);const r=[];(s||e==="audio")&&r.push("AUDIO"),(s||e==="subtitle")&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this["".concat(o,"SegmentLoader_")];a&&(e===o||e==="all")&&n.push(a)}),n.forEach(o=>i.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const i=GA(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Ea.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let i=this.mainPlaylistLoader_.media();if(!i)return;let n=this.syncController_.getExpiredTime(i,this.duration());if(n===null)return;const s=this.mainPlaylistLoader_.main,r=Ea.Playlist.seekable(i,n,Ea.Playlist.liveEdgeDelay(s,i));if(r.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(i,this.duration()),n===null||(e=Ea.Playlist.seekable(i,n,Ea.Playlist.liveEdgeDelay(s,i)),e.length===0)))return;let o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=os([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a)&&(this.logger_("seekable updated [".concat(dL(this.seekable_),"]")),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const i=this.tech_.buffered();let n=Ea.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const n in i)i[n].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=fp(this.main(),i),s={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=n.video||e.main.videoCodec||EV),e.main.isMuxed&&(s.video+=",".concat(n.audio||e.main.audioCodec||Mx)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(s.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||Mx,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,c)=>u?S0(c):F1(c),a={};let l;if(["video","audio"].forEach(function(u){if(s.hasOwnProperty(u)&&!o(e[u].isFmp4,s[u])){const c=e[u].isFmp4?"browser":"muxer";a[c]=a[c]||[],a[c].push(s[u]),u==="audio"&&(l=c)}}),r&&l&&i.attributes.AUDIO){const u=i.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==i&&(c.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(u," as ").concat(l,' does not support codec(s): "').concat(s.audio,'"'))}if(Object.keys(a).length){const u=Object.keys(a).reduce((c,A)=>(c&&(c+=", "),c+="".concat(A,' does not support codec(s): "').concat(a[A].join(","),'"'),c),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const A=(Lo(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,h=(Lo(s[c]||"")[0]||{}).type;A&&h&&A.toLowerCase()!==h.toLowerCase()&&u.push('"'.concat(this.sourceUpdater_.codecs[c],'" -> "').concat(s[c],'"'))}),u.length){this.excludePlaylist({playlistToExclude:i,error:{message:"Codec switching not supported: ".concat(u.join(", "),"."),internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(n=>{const s=e[n];if(i.indexOf(s.id)!==-1)return;i.push(s.id);const r=fp(this.main,s),o=[];r.audio&&!F1(r.audio)&&!S0(r.audio)&&o.push("audio codec ".concat(r.audio)),r.video&&!F1(r.video)&&!S0(r.video)&&o.push("video codec ".concat(r.video)),r.text&&r.text==="stpp.ttml.im1t"&&o.push("text codec ".concat(r.text)),o.length&&(s.excludeUntil=1/0,this.logger_("excluding ".concat(s.id," for unsupported: ").concat(o.join(", "))))})}excludeIncompatibleVariants_(e){const i=[],n=this.main().playlists,s=$v(Lo(e)),r=HS(s),o=s.video&&Lo(s.video)[0]||null,a=s.audio&&Lo(s.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(i.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;i.push(u.id);const c=[],A=fp(this.mainPlaylistLoader_.main,u),h=HS(A);if(!(!A.audio&&!A.video)){if(h!==r&&c.push('codec count "'.concat(h,'" !== "').concat(r,'"')),!this.sourceUpdater_.canChangeType()){const g=A.video&&Lo(A.video)[0]||null,f=A.audio&&Lo(A.audio)[0]||null;g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&c.push('video codec "'.concat(g.type,'" !== "').concat(o.type,'"')),f&&a&&f.type.toLowerCase()!==a.type.toLowerCase()&&c.push('audio codec "'.concat(f.type,'" !== "').concat(a.type,'"'))}c.length&&(u.excludeUntil=1/0,this.logger_("excluding ".concat(u.id,": ").concat(c.join(" && "))))}})}updateAdCues_(e){let i=0;const n=this.seekable();n.length&&(i=n.start(0)),Rq(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=Pn.GOAL_BUFFER_LENGTH,n=Pn.GOAL_BUFFER_LENGTH_RATE,s=Math.max(i,Pn.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*n,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=Pn.BUFFER_LOW_WATER_LINE,n=Pn.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(i,Pn.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(i,Pn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*n,this.bufferBasedABR?r:s)}bufferHighWaterLine(){return Pn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){jS(this.inbandTextTracks_,"com.apple.streaming",this.tech_),vq({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,n){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();jS(this.inbandTextTracks_,e,this.tech_),pq({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:s,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(!e.contentSteering)return;const i=n=>{for(const s of n.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(s));this.contentSteeringController_.assignTagProperties(n.uri,n.contentSteering)};i(e),this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("mediaupdatetimeout",()=>{this.mainPlaylistLoader_.refreshMedia_(this.mainPlaylistLoader_.media().id),this.contentSteeringController_.abort(),this.contentSteeringController_.clearTTLTimeout_(),this.contentSteeringController_.clearAvailablePathways(),i(this.main())}),this.contentSteeringController_.queryBeforeStart||this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;const n=this.main().playlists,s=new Set;let r=!1;Object.keys(n).forEach(o=>{const a=n[o],l=this.pathwayAttribute_(a),u=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,r=!0);const A=!a.excludeUntil&&a.excludeUntil!==1/0;!s.has(a.id)&&u&&A&&(s.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_("excluding ".concat(a.id," for ").concat(a.lastExcludeReason_)))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(r=!0)}}),r&&this.changeSegmentPathway_()}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}}const sY=(t,e,i)=>n=>{const s=t.main.playlists[e],r=NE(s),o=ny(s);return typeof n>"u"?o:(n?delete s.disabled:s.disabled=!0,n!==o&&!r&&(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)};class rY{constructor(e,i,n){const{playlistController_:s}=e,r=s.fastQualityChange_.bind(s);if(i.attributes){const o=i.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=fp(s.main(),i),this.playlist=i,this.id=n,this.enabled=sY(e.playlists,i.id,r)}}const oY=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=yg(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(n=>!NE(n)).map((n,s)=>new rY(t,n,n.id)):[]}},tB=["seeking","seeked","pause","playing","error"];class aY{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=qr("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},o["".concat(c,"SegmentLoader_")].on("appendsdone",l[c].updateend),o["".concat(c,"SegmentLoader_")].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(A=>{o["".concat(A,"SegmentLoader_")][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(tB,r),this.tech_.on("canplay",n),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(tB,r),this.tech_.off("canplay",n),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(c=>{o["".concat(c,"SegmentLoader_")].off("appendsdone",l[c].updateend),o["".concat(c,"SegmentLoader_")].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&me.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&me.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=me.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_["".concat(e,"SegmentLoader_")];this["".concat(e,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(e," loader")),this["".concat(e,"StalledDownloads_")]=0,this["".concat(e,"Buffered_")]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,n=i["".concat(e,"SegmentLoader_")],s=n.buffered_(),r=YK(this["".concat(e,"Buffered_")],s);if(this["".concat(e,"Buffered_")]=s,r){this.resetSegmentDownloads_(e);return}this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:n.playlist_&&n.playlist_.id,buffered:bc(s)}),!(this["".concat(e,"StalledDownloads_")]<10)&&(this.logger_("".concat(e," loader stalled download exclusion")),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-".concat(e,"-download-exclusion")}),e!=="subtitle"&&i.excludePlaylist({error:{message:"Excessive ".concat(e," segment downloading detected.")},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+Uo>=i.end(i.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),n=this.tech_.currentTime(),s=this.afterSeekableWindow_(i,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let r;if(s&&(r=i.end(i.length-1)),this.beforeSeekableWindow_(i,n)){const f=i.start(0);r=f+(f===i.end(0)?0:Uo)}if(typeof r<"u")return this.logger_("Trying to seek outside of seekable at time ".concat(n," with ")+"seekable range ".concat(dL(i),". Seeking to ")+"".concat(r,".")),this.tech_.setCurrentTime(r),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,c=this.media(),A=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-au)*2,h=[l,u];for(let f=0;f<h.length;f++){if(!h[f])continue;if(OE(h[f],n)<A)return!1}const g=Um(a,n);return g.length===0?!1:(r=g.start(0)+Uo,this.logger_("Buffered region starts (".concat(g.start(0),") ")+" just beyond seek point (".concat(n,"). Seeking to ").concat(r,".")),this.tech_.setCurrentTime(r),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),n=GA(i,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region ")+"[".concat(n.start(0)," -> ").concat(n.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const a=e.end(e.length-1);return this.logger_("Fell out of live window at time ".concat(i,". Seeking to ")+"live point (seekable end) ".concat(a)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=Um(s,i);return o.length>0?(this.logger_("Stopped at ".concat(i," and seeking to ").concat(o.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,n,s=!1){if(!e.length)return!1;let r=e.end(e.length-1)+Uo;const o=!n.endList,a=typeof n.partTargetDuration=="number";return o&&(a||s)&&(r=e.end(e.length-1)+n.targetDuration*3),i>r}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:n}){if(!e)return;let s;if(e.length&&i.length){const r=GA(e,n-3),o=GA(e,n),a=GA(i,n);a.length&&!o.length&&r.length&&(s={start:r.end(0),end:a.end(0)})}else Um(e,n).length||(s=this.gapFromVideoUnderflow_(e,n));return s?(this.logger_("Encountered a gap in video from ".concat(s.start," to ").concat(s.end,". ")+"Seeking to current time ".concat(n)),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),n=this.tech_.currentTime(),s=Um(i,n);this.resetTimeUpdate_(),!(s.length===0||n!==e)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+au),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,i){const n=KK(e);for(let s=0;s<n.length;s++){const r=n.start(s),o=n.end(s);if(i-r<4&&i-r>2)return{start:r,end:o}}return null}}const lY={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},ZL=function(t,e){let i=0,n=0;const s=wi(lY,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const r=function(){n&&t.currentTime(n)},o=function(c){c!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-i<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){Oe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),s.getSource.call(t,o)},l=function(){t.off("loadedmetadata",r),t.off("error",a),t.off("dispose",l)},u=function(c){l(),ZL(t,c)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},uY=function(t){ZL(this,t)};var eP="3.7.0",cY="7.0.1",AY="1.2.2",hY="7.1.0",dY="4.0.1";const Ji={PlaylistLoader:KA,Playlist:$s,utils:_W,STANDARD_PLAYLIST_SELECTOR:$S,INITIAL_PLAYLIST_SELECTOR:cq,lastBandwidthSelector:$S,movingAverageBandwidthSelector:lq,comparePlaylistBandwidth:jE,comparePlaylistResolution:aq,xhr:BL()};Object.keys(Pn).forEach(t=>{Object.defineProperty(Ji,t,{get(){return Oe.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),Pn[t]},set(e){if(Oe.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),typeof e!="number"||e<0){Oe.log.warn("value of Vhs.".concat(t," must be greater than or equal to 0"));return}Pn[t]=e}})});const tP="videojs-vhs",iP=function(t,e){const i=e.media();let n=-1;for(let s=0;s<t.length;s++)if(t[s].id===i.id){n=s;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},fY=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),iP(t,e.playlists)};Ji.canPlaySource=function(){return Oe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const pY=(t,e,i)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=$v(Lo(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);const s=Up(n.video),r=Up(n.audio),o={};for(const a in t)o[a]={},r&&(o[a].audioContentType=r),s&&(o[a].videoContentType=s),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return wi(t,o)},gY=(t,e)=>t.reduce((i,n)=>{if(!n.contentProtection)return i;const s=e.reduce((r,o)=>{const a=n.contentProtection[o];return a&&a.pssh&&(r[o]={pssh:a.pssh}),r},{});return Object.keys(s).length&&i.push(s),i},[]),mY=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const s=i?n.concat([i]):n,r=gY(s,Object.keys(e)),o=[],a=[];return r.forEach(l=>{a.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},A=>{if(A){c(A);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},vY=({player:t,sourceKeySystems:e,media:i,audioMedia:n})=>{const s=pY(e,i,n);return s?(t.currentSource().keySystems=s,s&&!t.eme?(Oe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},nP=()=>{if(!me.localStorage)return null;const t=me.localStorage.getItem(tP);if(!t)return null;try{return JSON.parse(t)}catch{return null}},bY=t=>{if(!me.localStorage)return!1;let e=nP();e=e?wi(e,t):t;try{me.localStorage.setItem(tP,JSON.stringify(e))}catch{return!1}return e},yY=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,sP=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},rP=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},oP=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},aP=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Ji.supportsNativeHls=function(){if(!Xe||!Xe.createElement)return!1;const t=Xe.createElement("video");return Oe.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();Ji.supportsNativeDash=function(){return!Xe||!Xe.createElement||!Oe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Xe.createElement("video").canPlayType("application/dash+xml"))}();Ji.supportsTypeNatively=t=>t==="hls"?Ji.supportsNativeHls:t==="dash"?Ji.supportsNativeDash:!1;Ji.isSupported=function(){return Oe.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Ji.xhr.onRequest=function(t){sP(Ji.xhr,t)};Ji.xhr.onResponse=function(t){rP(Ji.xhr,t)};Ji.xhr.offRequest=function(t){oP(Ji.xhr,t)};Ji.xhr.offResponse=function(t){aP(Ji.xhr,t)};const wY=Oe.getComponent("Component");class lP extends wY{constructor(e,i,n){if(super(i,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=qr("VhsHandler"),i.options_&&i.options_.playerId){const s=Oe.getPlayer(i.options_.playerId);this.player_=s}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Xe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const r=Xe.fullscreenElement||Xe.webkitFullscreenElement||Xe.mozFullScreenElement||Xe.msFullscreenElement;r&&r.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTimestampOffsetForEachSegment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=nP();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Pn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Pn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=yY(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Ji,this.options_.sourceType=lI(i),this.options_.seekTo=r=>{this.tech_.setCurrentTime(r)},this.playlistController_=new nY(this.options_);const n=wi({liveRangeSafeTimeDelta:Uo},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new aY(n),this.playlistController_.on("error",()=>{const r=Oe.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),r.error(o)});const s=this.options_.bufferBasedABR?Ji.movingAverageBandwidthSelector(.55):Ji.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=Ji.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(r){this.playlistController_.selectPlaylist=r.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(r){this.playlistController_.mainSegmentLoader_.throughput.rate=r,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let r=this.playlistController_.mainSegmentLoader_.bandwidth;const o=me.navigator.connection||me.navigator.mozConnection||me.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&r>=a?r=Math.max(r,l):r=l}return r},set(r){this.playlistController_.mainSegmentLoader_.bandwidth=r,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const r=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(r+o))},set(){Oe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>bc(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>bc(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&bY({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{oY(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=me.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),mY({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=vY({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{if(n.status!=="output-restricted")return;const s=this.playlistController_.main();if(!s||!s.playlists)return;const r=[];s.playlists.forEach(o=>{o&&o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.height>=720&&(!o.excludeUntil||o.excludeUntil<1/0)&&(o.excludeUntil=1/0,r.push(o))}),r.length&&(Oe.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...r),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Oe.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{fY(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{iP(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":eP,"mux.js":cY,"mpd-parser":AY,"m3u8-parser":hY,"aes-decrypter":dY}}version(){return this.constructor.version()}canChangeType(){return YL.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&me.URL.revokeObjectURL&&(me.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return kW({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,n=!0,s=2){return LL({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{sP(this.xhr,e)},this.xhr.onResponse=e=>{rP(this.xhr,e)},this.xhr.offRequest=e=>{oP(this.xhr,e)},this.xhr.offResponse=e=>{aP(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const zv={name:"videojs-http-streaming",VERSION:eP,canHandleSource(t,e={}){const i=wi(Oe.options,e);return zv.canPlayType(t.type,i)},handleSource(t,e,i={}){const n=wi(Oe.options,i);return e.vhs=new lP(t,e,n),e.vhs.xhr=BL(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=lI(t);if(!i)return"";const n=zv.getOverrideNative(e);return!Ji.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(Oe.browser.IS_ANY_SAFARI||Oe.browser.IS_IOS),{overrideNative:n=i}=e;return n}},_Y=()=>S0("avc1.4d400d,mp4a.40.2");_Y()&&Oe.getTech("Html5").registerSourceHandler(zv,0);Oe.VhsHandler=lP;Oe.VhsSourceHandler=zv;Oe.Vhs=Ji;Oe.use||Oe.registerComponent("Vhs",Ji);Oe.options.vhs=Oe.options.vhs||{};(!Oe.getPlugin||!Oe.getPlugin("reloadSourceOnError"))&&Oe.registerPlugin("reloadSourceOnError",uY);const CY="Lecture",EY="Pause",TY="Revoir",xY="Durée",SY="EN DIRECT",BY="Chargé",kY="Progression",DY="Plein écran",FY="Mettre en sourdine",IY="Activer le son",LY="Sous-titres",PY="Sous-titres transcrits",MY="Chapitres",RY="Descriptions",OY="Fermer",UY="Texte",NY="Blanc",HY="Noir",QY="Rouge",$Y="Vert",jY="Bleu",VY="Jaune",zY="Magenta",GY="Cyan",KY="Arrière-plan",WY="Fenêtre",qY="Transparent",YY="Opaque",XY="Aucun",JY="Élevé",ZY="Enfoncé",eX="Uniforme",tX="Manuscrite",iX="Scripte",nX="Réinitialiser",sX="Terminé",rX="Couleur",oX="Opacité",iB={"Audio Player":"Lecteur audio","Video Player":"Lecteur vidéo",Play:CY,Pause:EY,Replay:TY,"Current Time":"Temps actuel",Duration:xY,"Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:SY,"Seek to live, currently behind live":"Rechercher le direct, actuellement après le direct","Seek to live, currently playing live":"Rechercher le direct, le direct actuellement en cours de lecture",Loaded:BY,Progress:kY,"Progress Bar":"Barre de progression","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Fullscreen:DY,"Exit Fullscreen":"Fenêtré",Mute:FY,Unmute:IY,"Playback Rate":"Vitesse de lecture",Subtitles:LY,"subtitles off":"Sous-titres désactivés",Captions:PY,"captions off":"Sous-titres transcrits désactivés",Chapters:MY,Descriptions:RY,"descriptions off":"descriptions désactivées","Audio Track":"Piste audio","Volume Level":"Niveau de volume","You aborted the media playback":"Vous avez interrompu la lecture de la vidéo.","A network error caused the media download to fail part-way.":"Une erreur de réseau a interrompu le téléchargement de la vidéo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Cette vidéo n'a pas pu être chargée, soit parce que le serveur ou le réseau a échoué ou parce que le format n'est pas reconnu.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lecture de la vidéo a été interrompue à cause d'un problème de corruption ou parce que la vidéo utilise des fonctionnalités non prises en charge par votre navigateur.","No compatible source was found for this media.":"Aucune source compatible n'a été trouvée pour cette vidéo.","The media is encrypted and we do not have the keys to decrypt it.":"Le média est chiffré et nous n'avons pas les clés pour le déchiffrer.","Play Video":"Lire la vidéo",Close:OY,"Close Modal Dialog":"Fermer la boîte de dialogue modale","Modal Window":"Fenêtre modale","This is a modal window":"Ceci est une fenêtre modale","This modal can be closed by pressing the Escape key or activating the close button.":"Ce modal peut être fermé en appuyant sur la touche Échap ou activer le bouton de fermeture.",", opens captions settings dialog":", ouvrir les paramètres des sous-titres transcrits",", opens subtitles settings dialog":", ouvrir les paramètres des sous-titres",", opens descriptions settings dialog":", ouvrir les paramètres des descriptions",", selected":", sélectionné","captions settings":"Paramètres des sous-titres transcrits","subtitles settings":"Paramètres des sous-titres","descriptions settings":"Paramètres des descriptions",Text:UY,White:NY,Black:HY,Red:QY,Green:$Y,Blue:jY,Yellow:VY,Magenta:zY,Cyan:GY,Background:KY,Window:WY,Transparent:qY,"Semi-Transparent":"Semi-transparent",Opaque:YY,"Font Size":"Taille des caractères","Text Edge Style":"Style des contours du texte",None:XY,Raised:JY,Depressed:ZY,Uniform:eX,"Drop shadow":"Ombre portée","Font Family":"Famille de polices","Proportional Sans-Serif":"Polices à chasse variable sans empattement (Proportional Sans-Serif)","Monospace Sans-Serif":"Polices à chasse fixe sans empattement (Monospace Sans-Serif)","Proportional Serif":"Polices à chasse variable avec empattement (Proportional Serif)","Monospace Serif":"Polices à chasse fixe avec empattement (Monospace Serif)",Casual:tX,Script:iX,"Small Caps":"Petites capitales",Reset:nX,"restore all settings to the default values":"Restaurer tous les paramètres aux valeurs par défaut",Done:sX,"Caption Settings Dialog":"Boîte de dialogue des paramètres des sous-titres transcrits","Beginning of dialog window. Escape will cancel and close the window.":"Début de la fenêtre de dialogue. La touche d'échappement annulera et fermera la fenêtre.","End of dialog window.":"Fin de la fenêtre de dialogue.","Exit Picture-in-Picture":"Quitter le mode image dans l'image","Picture-in-Picture":"Image dans l'image","{1} is loading.":"{1} en cours de chargement.","No content":"Aucun contenu",Color:rX,Opacity:oX,"Text Background":"Arrière-plan du texte","Caption Area Background":"Arrière-plan de la zone de sous-titre","Skip backward {1} seconds":"Reculer de {1} secondes","Skip forward {1} seconds":"Avancer de {1} secondes"},aX="Reproducir",lX="Pausa",uX="Duración total",cX="DIRECTO",AX="Cargado",hX="Progreso",dX="Pantalla completa",fX="Desactivar el sonido",pX="Activar el sonido",gX="Subtítulos",mX="Subtítulos especiales",vX="Capítulos",bX="Volver a reproducir",yX="Descripciones",wX="Cerrar",_X="Texto",CX="Blanco",EX="Negro",TX="Rojo",xX="Verde",SX="Azul",BX="Amarillo",kX="Magenta",DX="Cian",FX="Fondo",IX="Ventana",LX="Transparente",PX="Opaca",MX="Ninguno",RX="En relieve",OX="Hundido",UX="Uniforme",NX="Informal",HX="Cursiva",QX="Restablecer",$X="Listo",jX="Color",VX="Opacidad",nB={Play:aX,"Play Video":"Reproducir Vídeo",Pause:lX,"Current Time":"Tiempo reproducido",Duration:uX,"Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:cX,Loaded:AX,Progress:hX,Fullscreen:dX,"Exit Fullscreen":"Pantalla no completa",Mute:fX,Unmute:pX,"Playback Rate":"Velocidad de reproducción",Subtitles:gX,"subtitles off":"Subtítulos desactivados",Captions:mX,"captions off":"Subtítulos especiales desactivados",Chapters:vX,"You aborted the media playback":"Ha interrumpido la reproducción del vídeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este vídeo.","Audio Player":"Reproductor de audio","Video Player":"Reproductor de video",Replay:bX,"Seek to live, currently behind live":"Buscar en vivo, actualmente demorado con respecto a la transmisión en vivo","Seek to live, currently playing live":"Buscar en vivo, actualmente reproduciendo en vivo","Progress Bar":"Barra de progreso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Descriptions:yX,"descriptions off":"descripciones desactivadas","Audio Track":"Pista de audio","Volume Level":"Nivel de volumen","The media is encrypted and we do not have the keys to decrypt it.":"El material audiovisual está cifrado y no tenemos las claves para descifrarlo.",Close:wX,"Modal Window":"Ventana modal","This is a modal window":"Esta es una ventana modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta ventana modal puede cerrarse presionando la tecla Escape o activando el botón de cierre.",", opens captions settings dialog":", abre el diálogo de configuración de leyendas",", opens subtitles settings dialog":", abre el diálogo de configuración de subtítulos",", selected":", seleccionado","Close Modal Dialog":"Cierra cuadro de diálogo modal",", opens descriptions settings dialog":", abre el diálogo de configuración de las descripciones","captions settings":"configuración de leyendas","subtitles settings":"configuración de subtítulos","descriptions settings":"configuración de descripciones",Text:_X,White:CX,Black:EX,Red:TX,Green:xX,Blue:SX,Yellow:BX,Magenta:kX,Cyan:DX,Background:FX,Window:IX,Transparent:LX,"Semi-Transparent":"Semitransparente",Opaque:PX,"Font Size":"Tamaño de fuente","Text Edge Style":"Estilo de borde del texto",None:MX,Raised:RX,Depressed:OX,Uniform:UX,"Drop shadow":"Sombra paralela","Font Family":"Familia de fuente","Proportional Sans-Serif":"Sans-Serif proporcional","Monospace Sans-Serif":"Sans-Serif monoespacio","Proportional Serif":"Serif proporcional","Monospace Serif":"Serif monoespacio",Casual:NX,Script:HX,"Small Caps":"Minúsculas",Reset:QX,"restore all settings to the default values":"restablece todas las configuraciones a los valores predeterminados",Done:$X,"Caption Settings Dialog":"Diálogo de configuración de leyendas","Beginning of dialog window. Escape will cancel and close the window.":"Comienzo de la ventana de diálogo. La tecla Escape cancelará la operación y cerrará la ventana.","End of dialog window.":"Final de la ventana de diálogo.","{1} is loading.":"{1} se está cargando.","Exit Picture-in-Picture":"Salir de imagen sobre imagen","Picture-in-Picture":"Imagen sobre imagen","No content":"Sin contenido",Color:jX,Opacity:VX,"Text Background":"Fondo del texto","Caption Area Background":"Fondo del área de subtítulos","Skip forward {1} seconds":"Avanza {1} segundos","Skip backward {1} seconds":"Retrocede {1} segundos"},zX="Play",GX="Pausa",KX="Replay",WX="Durata",qX="LIVE",YX="Caricato",XX="Stato",JX="Schermo intero",ZX="Disattivare l’audio",eJ="Attivare l’audio",tJ="Sottotitoli",iJ="Sottotitoli non udenti",nJ="Capitolo",sJ="Descrizioni",rJ="Chiudi",oJ="Testo",aJ="Bianco",lJ="Nero",uJ="Rosso",cJ="Verde",AJ="Blu",hJ="Giallo",dJ="Magenta",fJ="Ciano",pJ="Sfondo",gJ="Finestra",mJ="Trasparente",vJ="Opaco",bJ="Nessuno",yJ="Uniforme",wJ="Reinizializza",_J="Operazione completata",CJ="Colore",EJ="Opacità",sB={"Audio Player":"Lettore audio","Video Player":"Lettore video",Play:zX,Pause:GX,Replay:KX,"Current Time":"Orario attuale",Duration:WX,"Remaining Time":"Tempo rimanente","Stream Type":"Tipo del Streaming",LIVE:qX,Loaded:YX,Progress:XX,"Progress Bar":"Barra di avanzamento","progress bar timing: currentTime={1} duration={2}":"{1} di {2}",Fullscreen:JX,"Exit Fullscreen":"Chiudi Schermo intero",Mute:ZX,Unmute:eJ,"Playback Rate":"Tasso di riproduzione",Subtitles:tJ,"subtitles off":"Senza sottotitoli",Captions:iJ,"captions off":"Senza sottotitoli non udenti",Chapters:nJ,Descriptions:sJ,"descriptions off":"Descrizioni disattivate","Audio Track":"Traccia audio","Volume Level":"Livello del volume","You aborted the media playback":"La riproduzione del filmato è stata interrotta.","A network error caused the media download to fail part-way.":"Il download del filmato è stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il filmato non può essere caricato a causa di un errore nel server o nella rete o perché il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del filmato è stata interrotta a causa di un file danneggiato o per l’utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo filmato.","The media is encrypted and we do not have the keys to decrypt it.":"Il contenuto multimediale è criptato e non disponiamo delle chiavi per decifrarlo.","Play Video":"Riproduci il video",Close:rJ,"Close Modal Dialog":"Chiudi la finestra di dialogo","Modal Window":"Finestra di dialogo","This is a modal window":"Questa è una finestra di dialogo","This modal can be closed by pressing the Escape key or activating the close button.":"Questa finestra di dialogo può essere chiusa premendo sul tasto Esc o attivando il pulsante di chiusura.",", opens captions settings dialog":", aprire i parametri della trascrizione dei sottotitoli",", opens subtitles settings dialog":", aprire i parametri dei sottotitoli",", opens descriptions settings dialog":", aprire i parametri delle descrizioni",", selected":", selezionato","captions settings":"Parametri della trascrizione dei sottotitoli","subtitles settings":"Parametri dei sottotitoli","descriptions settings":"Parametri delle descrizioni",Text:oJ,White:aJ,Black:lJ,Red:uJ,Green:cJ,Blue:AJ,Yellow:hJ,Magenta:dJ,Cyan:fJ,Background:pJ,Window:gJ,Transparent:mJ,"Semi-Transparent":"Semi-Trasparente",Opaque:vJ,"Font Size":"Dimensione dei caratteri","Text Edge Style":"Stile dei bordi del testo",None:bJ,Uniform:yJ,"Drop shadow":"Ombreggiatura","Font Family":"Famiglia di caratteri","Proportional Sans-Serif":"Sans-Serif proporzionale","Monospace Sans-Serif":"Sans-Serif monospazio","Proportional Serif":"Serif proporzionale","Monospace Serif":"Serif monospazio","Small Caps":"Maiuscoletto",Reset:wJ,"restore all settings to the default values":"Ripristina i valori predefiniti per tutti i parametri",Done:_J,"Caption Settings Dialog":"Finestra di dialogo dei parametri della trascrizione dei sottotitoli","Beginning of dialog window. Escape will cancel and close the window.":"Inizio della finestra di dialogo. Il tasto Esc annullerà l’operazione e chiuderà la finestra.","End of dialog window.":"Fine della finestra di dialogo.","{1} is loading.":"{1} in fase di caricamento.","Exit Picture-in-Picture":"Esci dalla modalità Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture",Color:CJ,Opacity:EJ,"Text Background":"Sfondo del testo","Caption Area Background":"Sfondo dell'area dei sottotitoli","Skip forward {1} seconds":"Avanti di {1} secondi","Skip backward {1} seconds":"Indietro di {1} secondi"},TJ="Wiedergabe",xJ="Pause",SJ="Erneut abspielen",BJ="Dauer",kJ="LIVE",DJ="Geladen",FJ="Status",IJ="Vollbild",LJ="Stumm schalten",PJ="Ton einschalten",MJ="Untertitel",RJ="Untertitel",OJ="Kapitel",UJ="Schließen",NJ="Beschreibungen",HJ="Schrift",QJ="Weiß",$J="Schwarz",jJ="Rot",VJ="Grün",zJ="Blau",GJ="Gelb",KJ="Magenta",WJ="Türkis",qJ="Hintergrund",YJ="Fenster",XJ="Durchsichtig",JJ="Undurchsichtig",ZJ="Kein",eZ="Erhoben",tZ="Gedrückt",iZ="Uniform",nZ="Zwanglos",sZ="Schreibschrift",rZ="Zurücksetzen",oZ="Fertig",aZ="Farbe",lZ="Deckkraft",rB={Play:TJ,Pause:xJ,Replay:SJ,"Current Time":"Aktueller Zeitpunkt",Duration:BJ,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:kJ,Loaded:DJ,Progress:FJ,Fullscreen:IJ,"Exit Fullscreen":"Vollbildmodus beenden",Mute:LJ,Unmute:PJ,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:MJ,"subtitles off":"Untertitel aus",Captions:RJ,"captions off":"Untertitel aus",Chapters:OJ,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterstützt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem beschädigten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterstützt werden, abgebrochen.","No compatible source was found for this media.":"Für dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:UJ,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Drücken der Esc-Taste bzw. Betätigung der Schaltfläche "Schließen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", öffnet Einstellungen für Untertitel",", opens subtitles settings dialog":", öffnet Einstellungen für Untertitel",", selected":", ausgewählt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen für Beschreibungen","Close Modal Dialog":"Modales Fenster schließen",Descriptions:NJ,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschlüsselungsschlüssel für den verschlüsselten Medieninhalt sind nicht verfügbar.",", opens descriptions settings dialog":", öffnet Einstellungen für Beschreibungen","Audio Track":"Tonspur",Text:HJ,White:QJ,Black:$J,Red:jJ,Green:VJ,Blue:zJ,Yellow:GJ,Magenta:KJ,Cyan:WJ,Background:qJ,Window:YJ,Transparent:XJ,"Semi-Transparent":"Halbdurchsichtig",Opaque:JJ,"Font Size":"Schriftgröße","Text Edge Style":"Textkantenstil",None:ZJ,Raised:eZ,Depressed:tZ,Uniform:iZ,"Drop shadow":"Schlagschatten","Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:nZ,Script:sZ,"Small Caps":"Small-Caps",Reset:rZ,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zurücksetzen",Done:oZ,"Caption Settings Dialog":"Einstellungsdialog für Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schließt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautstärke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-Übertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-Übertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus","No content":"Kein Inhalt",Color:aZ,Opacity:lZ,"Text Background":"Texthintergrund","Caption Area Background":"Hintergrund des Untertitelbereichs","Playing in Picture-in-Picture":"Wird im Bild-im-Bild-Modus wiedergegeben","Skip forward {1} seconds":"{1} Sekunden vorwärts","Skip backward {1} seconds":"{1} Sekunden zurück"},uZ="Afspelen",cZ="Pauzeren",AZ="Opnieuw afspelen",hZ="Tijdsduur",dZ="LIVE",fZ="Geladen",pZ="Voortgang",gZ="Volledig scherm",mZ="Dempen",vZ="Dempen uit",bZ="Ondertiteling",yZ="Ondertiteling (CC)",wZ="Hoofdstukken",_Z="Beschrijvingen",CZ="Sluiten",EZ="Tekst",TZ="Wit",xZ="Zwart",SZ="Rood",BZ="Groen",kZ="Blauw",DZ="Geel",FZ="Magenta",IZ="Cyaan",LZ="Achtergrond",PZ="Venster",MZ="Transparant",RZ="Ondoorzichtig",OZ="Geen",UZ="Verhoogd",NZ="Ingedrukt",HZ="Uniform",QZ="Informeel",$Z="Script",jZ="Herstellen",VZ="Gereed",zZ="Kleur",GZ="Transparantie",oB={"Audio Player":"Audiospeler","Video Player":"Videospeler",Play:uZ,Pause:cZ,Replay:AZ,"Current Time":"Huidige tijd",Duration:hZ,"Remaining Time":"Resterende tijd","Stream Type":"Streamtype",LIVE:dZ,"Seek to live, currently behind live":"Zoek naar live, momenteel achter op live","Seek to live, currently playing live":"Zoek naar live, momenteel live",Loaded:fZ,Progress:pZ,"Progress Bar":"Voortgangsbalk","progress bar timing: currentTime={1} duration={2}":"{1} van {2}",Fullscreen:gZ,"Exit Fullscreen":"Volledig scherm uit",Mute:mZ,Unmute:vZ,"Playback Rate":"Afspeelsnelheid",Subtitles:bZ,"subtitles off":"ondertiteling uit",Captions:yZ,"captions off":"ondertiteling (CC) uit",Chapters:wZ,Descriptions:_Z,"descriptions off":"beschrijvingen uit","Audio Track":"Audiospoor","Volume Level":"Volume","You aborted the media playback":"U heeft het afspelen van de media afgebroken","A network error caused the media download to fail part-way.":"Een netwerkfout heeft ervoor gezorgd dat het downloaden van de media is mislukt.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"De media kon niet worden geladen, doordat de server of het netwerk faalde of doordat het formaat niet wordt ondersteund.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Het afspelen van de media werd afgebroken vanwege een corruptieprobleem of omdat de uw browser de gebruikte mediafuncties niet ondersteund.","No compatible source was found for this media.":"Er is geen geschikte bron gevonden voor dit medium.","The media is encrypted and we do not have the keys to decrypt it.":"De media is gecodeerd en we hebben niet de sleutels om het te decoderen.","Play Video":"Video afspelen",Close:CZ,"Close Modal Dialog":"Extra venster sluiten","Modal Window":"Extra venster","This is a modal window":"Dit is een extra venster","This modal can be closed by pressing the Escape key or activating the close button.":"Dit venster kan worden gesloten door op de Escape-toets te drukken of door de sluit-knop te activeren.",", opens captions settings dialog":", opent instellingen venster voor ondertitelingen",", opens subtitles settings dialog":", opent instellingen venster voor ondertitelingen",", opens descriptions settings dialog":", opent instellingen venster voor beschrijvingen",", selected":", geselecteerd","captions settings":"ondertiteling instellingen","subtitles settings":"ondertiteling instellingen","descriptions settings":"beschrijvingen instellingen",Text:EZ,White:TZ,Black:xZ,Red:SZ,Green:BZ,Blue:kZ,Yellow:DZ,Magenta:FZ,Cyan:IZ,Background:LZ,Window:PZ,Transparent:MZ,"Semi-Transparent":"Semi-transparant",Opaque:RZ,"Font Size":"Lettergrootte","Text Edge Style":"Stijl tekstrand",None:OZ,Raised:UZ,Depressed:NZ,Uniform:HZ,"Drop shadow":"Schaduw","Font Family":"Lettertype","Proportional Sans-Serif":"Proportioneel sans-serif","Monospace Sans-Serif":"Monospace sans-serif","Proportional Serif":"Proportioneel serif","Monospace Serif":"Monospace serif",Casual:QZ,Script:$Z,"Small Caps":"Kleine Hoofdletters",Reset:jZ,"restore all settings to the default values":"alle instellingen herstellen naar de standaardwaarden",Done:VZ,"Caption Settings Dialog":"Venster voor bijschriften-instellingen","Beginning of dialog window. Escape will cancel and close the window.":"Begin van dialoogvenster. Escape zal annuleren en het venster sluiten.","End of dialog window.":"Einde van dialoogvenster.","{1} is loading.":"{1} wordt geladen.","Exit Picture-in-Picture":"Picture-in-Picture uit","Picture-in-Picture":"Picture-in-Picture","No content":"Geen inhoud",Color:zZ,Opacity:GZ,"Text Background":"Tekst Achtergrond","Caption Area Background":"Achtergrond voor Ondertiteling","Skip forward {1} seconds":"{1} seconden vooruit","Skip backward {1} seconds":"{1} seconden terug"},KZ="Pusti",WZ="Pauza",qZ="Vrijeme trajanja",YZ="UŽIVO",XZ="Učitan",JZ="Progres",ZZ="Puni ekran",eee="Prigušen",tee="Ne-prigušen",iee="Podnaslov",nee="Titlovi",see="Poglavlja",aB={Play:KZ,Pause:WZ,"Current Time":"Trenutno vrijeme",Duration:qZ,"Remaining Time":"Preostalo vrijeme","Stream Type":"Način strimovanja",LIVE:YZ,Loaded:XZ,Progress:JZ,Fullscreen:ZZ,"Exit Fullscreen":"Mali ekran",Mute:eee,Unmute:tee,"Playback Rate":"Stopa reprodukcije",Subtitles:iee,"subtitles off":"Podnaslov deaktiviran",Captions:nee,"captions off":"Titlovi deaktivirani",Chapters:see,"You aborted the media playback":"Isključili ste reprodukciju videa.","A network error caused the media download to fail part-way.":"Video se prestao preuzimati zbog greške na mreži.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video se ne može reproducirati zbog servera, greške u mreži ili je format ne podržan.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Reprodukcija videa je zaustavljenja zbog greške u formatu ili zbog verzije vašeg pretraživača.","No compatible source was found for this media.":"Nije nađen nijedan kompatibilan izvor ovog videa."},ree="Play",oee="Pause",aee="Replay",lee="Duration",uee="LIVE",cee="Loaded",Aee="Progress",hee="Fullscreen",dee="Mute",fee="Unmute",pee="Subtitles",gee="Captions",mee="Chapters",vee="Descriptions",bee="Close",yee="Text",wee="White",_ee="Black",Cee="Red",Eee="Green",Tee="Blue",xee="Yellow",See="Magenta",Bee="Cyan",kee="Background",Dee="Window",Fee="Transparent",Iee="Opaque",Lee="None",Pee="Raised",Mee="Depressed",Ree="Uniform",Oee="Casual",Uee="Script",Nee="Reset",Hee="Done",Qee="Color",$ee="Opacity",lB={"Audio Player":"Audio Player","Video Player":"Video Player",Play:ree,Pause:oee,Replay:aee,"Current Time":"Current Time",Duration:lee,"Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:uee,"Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live",Loaded:cee,Progress:Aee,"Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:hee,"Exit Fullscreen":"Exit Fullscreen",Mute:dee,Unmute:fee,"Playback Rate":"Playback Rate",Subtitles:pee,"subtitles off":"subtitles off",Captions:gee,"captions off":"captions off",Chapters:mee,Descriptions:vee,"descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:bee,"Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings",Text:yee,White:wee,Black:_ee,Red:Cee,Green:Eee,Blue:Tee,Yellow:xee,Magenta:See,Cyan:Bee,Background:kee,Window:Dee,Transparent:Fee,"Semi-Transparent":"Semi-Transparent",Opaque:Iee,"Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:Lee,Raised:Pee,Depressed:Mee,Uniform:Ree,"Drop shadow":"Drop shadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:Oee,Script:Uee,"Small Caps":"Small Caps",Reset:Nee,"restore all settings to the default values":"restore all settings to the default values",Done:Hee,"Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading.","Exit Picture-in-Picture":"Exit Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture","No content":"No content",Color:Qee,Opacity:$ee,"Text Background":"Text Background","Caption Area Background":"Caption Area Background","Playing in Picture-in-Picture":"Playing in Picture-in-Picture","Skip backward {1} seconds":"Skip backward {1} seconds","Skip forward {1} seconds":"Skip forward {1} seconds"};const jee={name:"PVideo",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,ws:0,hs:0,x:0,y:0,minw:40,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lecteur:"",lien:"",video:"",dataURL:"",type:"video/mp4",googleAPIKey:"",videoId:"",debutMinutes:"",debutSecondes:"",finMinutes:"",finSecondes:"",debut:0,fin:0,chargementVideo:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,videoId:this.videoId,type:this.type,dataURL:this.dataURL,debutMinutes:this.debutMinutes,debutSecondes:this.debutSecondes,finMinutes:this.finMinutes,finSecondes:this.finSecondes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("video"),this.panneau.contenu!==""){if(this.panneau.contenu.hasOwnProperty("dataURL")&&(this.dataURL=this.panneau.contenu.dataURL),this.dataURL!==""){const t=this.convertirDataURL(this.dataURL);this.video=window.URL.createObjectURL(t)}else this.dataURL===""&&this.panneau.contenu.hasOwnProperty("video")?this.lien=this.panneau.contenu.video:this.lien=this.panneau.contenu.lien;this.videoId=this.panneau.contenu.videoId,this.panneau.contenu.hasOwnProperty("type")&&(this.type=this.panneau.contenu.type),this.debutMinutes=this.panneau.contenu.debutMinutes,this.debutSecondes=this.panneau.contenu.debutSecondes,this.finMinutes=this.panneau.contenu.finMinutes,this.finSecondes=this.panneau.contenu.finSecondes}this.mode==="lecture"?(this.videoId!==""&&this.definirTemps(),this.redimensionnement=!0):this.mode==="decoupage"&&this.editer(),this.genererOptions("video")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&this.video!==""?this.$nextTick((function(){this.lecteur=Oe("#"+this.id+" .video-js",{language:this.$parent.langue,languages:{fr:iB,es:nB,it:sB,de:rB,nl:oB,hr:aB,en:lB},playbackRates:[.6,.7,.8,.9,1,1.1,1.2,1.3,1.4]})}).bind(this)):this.mode==="edition"&&this.statut!=="min"&&this.lien===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this))},methods:{valider(){if(this.verifierURL(this.lien)===!0){const t=/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/,e=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;if(t.test(this.lien)&&this.lien.match(e)){if(this.videoId=this.lien.match(e)[2],this.googleAPIKey!==""){const i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200&&i.response&&Object.keys(i.response).length>0){const n=i.response.items[0].contentDetails.duration,s=this.convertirTemps(n);let r=0;s.h>0&&(r=s.h*60),this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=s.m+r,this.finSecondes=s.s}else this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=0,this.finSecondes=0}).bind(this),i.open("GET","https://www.googleapis.com/youtube/v3/videos?part=contentDetails&key="+this.googleAPIKey+"&id="+this.videoId,!0),i.responseType="json",i.send()}else this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=0,this.finSecondes=0;this.mode="decoupage",this.w=40,this.h=41,this.positionner()}else this.type="video/mp4",this.generer()}},decouper(){this.definirTemps()},generer(){this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=48,this.h=31.5),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.videoId!==""?this.definirTemps():this.video!==""&&this.$nextTick((function(){this.lecteur=Oe("#"+this.id+" .video-js",{language:this.$parent.langue,languages:{fr:iB,es:nB,it:sB,de:rB,nl:oB,hr:aB,en:lB},playbackRates:[.6,.7,.8,.9,1,1.1,1.2,1.3,1.4]},(function(){setTimeout((function(){const e=document.querySelector("#"+this.id+" .conteneur").scrollHeight;this.h=Math.ceil(this.convertirPixels(e))+3.5}).bind(this),100)}).bind(this))}).bind(this)),this.positionner()},editer(){this.mode="decoupage",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=41,this.positionner()},definirTemps(){let t=0,e=0;(this.debutMinutes!==""||this.debutSecondes!=="")&&this.finMinutes===""&&this.finSecondes===""?(this.debutMinutes!==""&&(t+=parseInt(this.debutMinutes)*60),this.debutSecondes!==""&&(t+=parseInt(this.debutSecondes))):this.debutMinutes===""&&this.debutSecondes===""&&(this.finMinutes!==""||this.finSecondes!=="")?(this.finMinutes!==""&&(e+=parseInt(this.finMinutes)*60),this.finSecondes!==""&&(e+=parseInt(this.finSecondes))):(this.debutMinutes!==""||this.debutSecondes!=="")&&(this.finMinutes!==""||this.finSecondes!=="")&&(this.debutMinutes!==""&&(t+=parseInt(this.debutMinutes)*60),this.debutSecondes!==""&&(t+=parseInt(this.debutSecondes)),this.finMinutes!==""&&(e+=parseInt(this.finMinutes)*60),this.finSecondes!==""&&(e+=parseInt(this.finSecondes))),this.debut=t,this.fin=e},convertirTemps(t){t=t.search(/PT/i)>-1?t.slice(2):t;let e,i,n,s=t.search(/h/i),r=t.search(/m/i),o=t.search(/s/i),a=s>-1,l=r>-1,u=o>-1;e=a?t.slice(0,s):"",i=l?t.slice(a?s+1:0,r):"0",n=u?t.slice(l?r+1:s+1,o):"0";let c=0;return e>0&&(c=c+e*60*60),i>0&&(c=c+i*60),n>0&&(c=c+n),{h:parseInt(e),m:parseInt(i),s:parseInt(n),total:c}},televerserVideo(t){const e=t.target.files[0];if(e){this.chargementVideo=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){this.chargementVideo=!1,this.dataURL=n.target.result,this.video=window.URL.createObjectURL(e),this.type=e.type,this.generer()}).bind(this)}},convertirPixels(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return t/parseFloat(e)}}},Vee=d("div",{class:"conteneur-gauche"},null,-1),zee={class:"conteneur panneau-video"},Gee={key:0,class:"contenu"},Kee={class:"valider"},Wee=["value"],qee=["title"],Yee=d("i",{class:"material-icons"},"search",-1),Xee=[Yee],Jee={class:"separateur"},Zee=["for"],ete=["id"],tte={key:1,class:"contenu"},ite=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),nte=[ite],ste={key:2,class:"contenu"},rte={class:"video"},ote=["src"],ate=["src"],lte=["src"],ute=["src"],cte={class:"temps"},Ate={class:"debut"},hte={class:"minutes-secondes"},dte={class:"minutes"},fte=["value"],pte={class:"secondes"},gte=["value"],mte={class:"fin"},vte={class:"minutes-secondes"},bte={class:"minutes"},yte=["value"],wte={class:"secondes"},_te=["value"],Cte={class:"actions"},Ete=["src"],Tte=["src"],xte=["src"],Ste=["src"],Bte=["src"],kte={key:5,class:"contenu videojs"},Dte={class:"video-js vjs-fill vjs-big-play-centered",controls:""},Fte=["src","type"],Ite=d("div",{class:"conteneur-droite"},null,-1),Lte=d("div",{class:"conteneur-bas"},null,-1);function Pte(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Vee,d("div",zee,[s.mode==="edition"&&!s.chargementVideo?(Y(),te("div",Gee,[d("label",null,oe(t.$t("lienVideo")),1),d("div",Kee,[d("input",{type:"search",value:s.lien,onInput:e[0]||(e[0]=a=>s.lien=a.target.value),onKeydown:e[1]||(e[1]=qo((...a)=>r.valider&&r.valider(...a),["enter"]))},null,40,Wee),d("span",{role:"button",tabindex:"0",title:t.$t("valider"),class:"bouton-secondaire",onClick:e[2]||(e[2]=(...a)=>r.valider&&r.valider(...a))},Xee,8,qee)]),d("div",Jee,[d("span",null,oe(t.$t("ou")),1)]),d("label",null,oe(t.$t("fichierAppareil")),1),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-video-"+s.id},oe(t.$t("selectionnerVideo")),9,Zee),d("input",{id:"selectionner-video-"+s.id,type:"file",onChange:e[3]||(e[3]=(...a)=>r.televerserVideo&&r.televerserVideo(...a)),style:{display:"none"},accept:".mp4, .m4v, .ogv"},null,40,ete)])):s.mode==="edition"&&s.chargementVideo?(Y(),te("div",tte,nte)):s.mode==="decoupage"?(Y(),te("div",ste,[d("div",rte,[s.debut===0&&s.fin===0?(Y(),te("iframe",{key:0,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,ote)):s.debut>0&&s.fin>0?(Y(),te("iframe",{key:1,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?start="+s.debut+"&end="+s.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,ate)):s.debut>0?(Y(),te("iframe",{key:2,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?start="+s.debut+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,lte)):(Y(),te("iframe",{key:3,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?end="+s.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,ute))]),d("div",cte,[d("div",Ate,[d("label",null,oe(t.$t("debut")),1),d("div",hte,[d("div",dte,[d("label",null,oe(t.$t("min")),1),d("input",{type:"number",value:s.debutMinutes,min:0,onInput:e[4]||(e[4]=a=>s.debutMinutes=a.target.value)},null,40,fte)]),d("div",pte,[d("label",null,oe(t.$t("sec")),1),d("input",{type:"number",value:s.debutSecondes,min:0,max:59,onInput:e[5]||(e[5]=a=>s.debutSecondes=a.target.value)},null,40,gte)])])]),d("div",mte,[d("label",null,oe(t.$t("fin")),1),d("div",vte,[d("div",bte,[d("label",null,oe(t.$t("min")),1),d("input",{type:"number",value:s.finMinutes,min:0,onInput:e[6]||(e[6]=a=>s.finMinutes=a.target.value)},null,40,yte)]),d("div",wte,[d("label",null,oe(t.$t("min")),1),d("input",{type:"number",value:s.finSecondes,min:0,max:59,onInput:e[7]||(e[7]=a=>s.finSecondes=a.target.value)},null,40,_te)])])])]),d("div",Cte,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.decouper&&r.decouper(...a))},oe(t.$t("apercu")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):s.mode==="lecture"&&s.videoId!==""?(Y(),te(dt,{key:3},[s.debut===0&&s.fin===0?(Y(),te("iframe",{key:0,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,Ete)):s.debut>0&&s.fin>0?(Y(),te("iframe",{key:1,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?start="+s.debut+"&end="+s.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,Tte)):s.debut>0?(Y(),te("iframe",{key:2,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?start="+s.debut+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,xte)):(Y(),te("iframe",{key:3,src:"https://www.youtube-nocookie.com/embed/"+s.videoId+"?end="+s.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allowfullscreen:"",frameborder:"0"},null,8,Ste))],64)):s.mode==="lecture"&&s.videoId===""&&s.lien.includes("https://vimeo.com")?(Y(),te("iframe",{key:4,src:"https://player.vimeo.com/video/"+s.lien.replace("https://vimeo.com/",""),allowfullscreen:"",frameborder:"0"},null,8,Bte)):s.mode==="lecture"&&s.videoId===""&&s.video!==""?(Y(),te("div",kte,[d("video",Dte,[d("source",{src:s.video,type:s.type},null,8,Fte)])])):De("",!0)]),Ite,Lte]),_:1},8,["visible","options"])}const Mte=Ht(jee,[["render",Pte]]);const Rte={name:"PWebcam",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,ws:0,hs:0,x:0,y:0,minw:40,minh:16,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},webcams:[],webcam:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{webcam:this.webcam},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("webcam"),this.panneau.contenu!==""&&(this.webcam=this.panneau.contenu.webcam),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("webcam")},mounted(){var t;if(this.initialiser(),this.positionner(),this.chargement=!1,!navigator.mediaDevices||!((t=navigator.mediaDevices)!=null&&t.enumerateDevices)?alert(this.$t("navigateurNonSupporte")):navigator.mediaDevices.enumerateDevices().then((function(e){for(const i of e)i.kind==="videoinput"&&this.webcams.push(i)}).bind(this)),this.webcam!==""){let e=!1;this.webcams.forEach((function(i){(i.label===this.webcam||i.deviceId===this.webcam)&&(e=!0)}).bind(this)),e===!1&&(this.webcam="",this.editer())}},methods:{generer(){var t;if(this.webcam!=="")if((t=navigator.mediaDevices)!=null&&t.getUserMedia)navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){this.$nextTick((function(){document.querySelector("#video-"+this.id).srcObject=e}).bind(this))}).bind(this));else return alert(this.$t("navigateurNonSupporte")),!1;else return alert(this.$t("aucuneEntreeVideo")),!1;this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=48,this.h=41),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=16,this.positionner()},definirWebcam(t){return t.label!==""?t.label:t.deviceId}}},Ote=d("div",{class:"conteneur-gauche"},null,-1),Ute={class:"conteneur panneau-webcam"},Nte={key:0,class:"contenu"},Hte={class:"webcam"},Qte=["selected"],$te=["selected","value"],jte={class:"actions"},Vte={key:1,class:"contenu"},zte=["id"],Gte=d("div",{class:"conteneur-droite"},null,-1),Kte=d("div",{class:"conteneur-bas"},null,-1);function Wte(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Ote,d("div",Ute,[s.mode==="edition"?(Y(),te("div",Nte,[d("label",null,oe(t.$t("webcam")),1),d("div",Hte,[d("select",{onChange:e[0]||(e[0]=a=>s.webcam=a.target.value)},[d("option",{selected:s.webcam==="",value:""},"--",8,Qte),(Y(!0),te(dt,null,ei(s.webcams,(a,l)=>(Y(),te("option",{selected:s.webcam===r.definirWebcam(a),value:r.definirWebcam(a),key:"webcam_"+l},oe(r.definirWebcam(a)),9,$te))),128))],32)]),d("div",jte,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):(Y(),te("div",Vte,[d("video",{id:"video-"+s.id,controls:"",autoplay:""},null,8,zte)]))]),Gte,Kte]),_:1},8,["visible","options"])}const qte=Ht(Rte,[["render",Wte]]);const Yte={name:"PLien",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:22,minh:18,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lien:"",titreLien:"",icone:"defaut",chargementIcone:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,titreLien:this.titreLien,icone:this.icone},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("lien"),this.panneau.contenu!==""&&(this.lien=this.panneau.contenu.lien,this.titreLien=this.panneau.contenu.titreLien,this.panneau.contenu.hasOwnProperty("icone")&&!this.panneau.contenu.icone.includes("ladigitale.dev/favicons")&&(this.icone=this.panneau.contenu.icone)),this.genererOptions("lien")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.lien===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this))},methods:{generer(){if(this.verifierURL(this.lien)===!0){this.chargementIcone=!0;const t=new URL(this.lien),e=t.hostname,i=t.pathname,n=t.protocol,s=new XMLHttpRequest;s.onload=(function(){if(s.readyState===s.DONE&&s.status===200){const r=s.responseText;r!==""&&this.verifierURL(r)===!0?this.icone=r:r!==""&&r.substring(0,2)==="./"?this.icone=n+"//"+e+i+r.substring(2):r!==""&&r.substring(0,1)==="/"?this.icone=n+"//"+e+i+r.substring(1):r!==""?this.icone=n+"//"+e+i+r:this.icone="defaut",this.titreLien!==""?this.titre=this.titreLien:this.titre=this.$t("lien"),this.mode="lecture",this.w=22,this.h=18,this.positionner()}this.chargementIcone=!1}).bind(this),s.open("POST",window.location.href.split("?")[0]+"inc/recuperer_icone.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send("lien="+e)}},editer(){this.mode="edition",this.w=40,this.h=28,this.positionner()}}},Xte=d("div",{class:"conteneur-gauche"},null,-1),Jte={key:0,class:"conteneur panneau-lien"},Zte={class:"contenu"},eie=["value"],tie=["value"],iie={class:"contenu"},nie=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),sie=[nie],rie={key:1,class:"conteneur panneau-lien"},oie={key:0},aie=["href"],lie=["href"],uie=d("i",{class:"material-icons"},"open_in_new",-1),cie=[uie],Aie=["href"],hie=["src","alt"],die=d("div",{class:"conteneur-droite"},null,-1),fie=d("div",{class:"conteneur-bas"},null,-1);function pie(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Xte,s.mode==="edition"?(Y(),te("div",Jte,[W0(d("div",Zte,[d("label",null,oe(t.$t("lien")),1),d("input",{type:"search",class:"lien",value:s.lien,onInput:e[0]||(e[0]=a=>s.lien=a.target.value),onKeydown:e[1]||(e[1]=qo((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,eie),d("label",null,oe(t.$t("titreLien")),1),d("input",{type:"search",class:"titre-lien",value:s.titreLien,onInput:e[2]||(e[2]=a=>s.titreLien=a.target.value),onKeydown:e[3]||(e[3]=qo((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,tie),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)],512),[[Pp,!s.chargementIcone]]),W0(d("div",iie,sie,512),[[Pp,s.chargementIcone]])])):(Y(),te("div",rie,[s.titreLien!==""?(Y(),te("label",oie,[d("a",{href:s.lien,target:"_blank",rel:"noreferrer"},oe(s.titreLien),9,aie)])):De("",!0),s.icone==="defaut"?(Y(),te("a",{key:1,class:"icone",href:s.lien,target:"_blank",rel:"noreferrer"},cie,8,lie)):(Y(),te("a",{key:2,class:"favicon",href:s.lien,target:"_blank",rel:"noreferrer"},[d("img",{src:s.icone,width:60,height:60,alt:s.titreLien,onerror:"this.onerror=null;this.src='./static/img/lien.png';"},null,8,hie)],8,Aie))])),die,fie]),_:1},8,["visible","options"])}const gie=Ht(Yte,[["render",pie]]);const mie={name:"PIframe",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:22,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lien:"",iframe:"",chargementIframe:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,iframe:this.iframe},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("contenuIntegre"),this.panneau.contenu!==""&&(this.lien=this.panneau.contenu.lien,this.iframe=this.panneau.contenu.iframe),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("iframe")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.lien===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this))},methods:{generer(){if(/<iframe(.+)<\/iframe>/g.test(this.lien)===!0&&(this.lien=this.lien.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(e=>e.replace(/.*src="([^"]*)".*/,"$1"))[0]),this.verifierURL(this.lien)===!0){this.chargementIframe=!0;const e=new XMLHttpRequest;e.onload=(function(){if(e.readyState===e.DONE&&e.status===200){const i=JSON.parse(e.responseText);i.hasOwnProperty("error")?this.iframe=this.lien:i.provider_name.toLowerCase()==="learningapps.org"?(i.html=i.html.replace("http://LearningApps.org","https://learningapps.org"),this.iframe=i.html.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(n=>n.replace(/.*src="([^"]*)".*/,"$1"))[0]):this.iframe=i.html.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(n=>n.replace(/.*src="([^"]*)".*/,"$1"))[0],this.mode="lecture",this.redimensionnement=!0,this.chargementIframe=!1,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()}else this.chargementIframe=!1,this.iframe=this.lien}).bind(this),e.onerror=function(){this.chargementIframe=!1,this.iframe=this.lien},e.open("GET","https://noembed.com/embed?url="+this.lien,!0),e.send()}}}},vie={key:0,class:"conteneur panneau-iframe"},bie={class:"contenu"},yie=["value"],wie={key:1,class:"contenu panneau-iframe chargement"},_ie=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),Cie=[_ie],Eie={key:2,class:"conteneur panneau-iframe large"},Tie=["src"];function xie(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[d("div",{class:Ne(["conteneur-gauche",{masque:s.mode==="lecture"}])},null,2),s.mode==="edition"&&!s.chargementIframe?(Y(),te("div",vie,[d("div",bie,[d("label",null,oe(t.$t("lienContenuLigne")),1),d("input",{type:"search",value:s.lien,onInput:e[0]||(e[0]=a=>s.lien=a.target.value),onKeydown:e[1]||(e[1]=qo((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,yie),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):s.mode==="edition"&&s.chargementIframe?(Y(),te("div",wie,Cie)):(Y(),te("div",Eie,[d("iframe",{src:s.iframe,allowfullscreen:""},null,8,Tie)])),d("div",{class:Ne(["conteneur-droite",{masque:s.mode==="lecture"}])},null,2),d("div",{class:Ne(["conteneur-bas",{masque:s.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const Sie=Ht(mie,[["render",xie]]);function uP(t){return typeof t=="function"}function uB(){}var F0=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};F0.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},F0.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach(function(t){try{t()}catch{}}))},F0.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch{}this.interruptHandlers.add(t)};function Gv(t){return function(){return t}}function cP(){return[]}var Bie={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:Gv({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:Gv({opacity:0})},loadFont:{type:Function,default:function(t,e,i,n){return document.fonts.load([e,i,"1px",t].join(" "),n)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:cP}},kie=Gv(null);function tC(t){if(t){var e=typeof t;return e==="object"||e==="function"}return!1}function iC(t){return typeof t=="string"}var Die={animationOptions:function(){var t,e,i,n=this.animationDuration,s=this.enterAnimation,r=this.leaveAnimation;if(tC(s)&&tC(r)){var o=(t=Object.assign({},s,r),e=kie,i={},Object.entries(t).forEach(function(u){var c=u[0],A=u[1];i[c]=e(A,c,t)}),i),a=function(u){Object.assign(u.style,s)},l=function(u,c){setTimeout(function(){Object.assign(u.style,o),setTimeout(c,n)},1)};return{props:{css:!1},on:{beforeAppear:a,appear:l,beforeEnter:a,enter:l,leave:function(u,c){Object.assign(u.style,r),setTimeout(c,n)}}}}return iC(s)&&iC(r)?{props:{duration:n,appear:!0,appearActiveClass:s,enterActiveClass:s,leaveActiveClass:r}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var e=this.animationDuration,i=this.normalizedAnimationOverlap;return e/Math.min(i,t.length)}return 0}},Fie=Array.isArray;function Ta(t){return uP(t)?t:Gv(t)}var AP=2*Math.PI,Iie=AP/360;function xa(t){return t===void 0}function tc(t,e){return t.postMessage(e),function(i){return new Promise(function(n,s){var r,o=function(l){var u=l.data;r(),n(u)},a=function(l){var u=l.error;r(),s(u)};r=function(){i.removeEventListener("message",o),i.removeEventListener("error",a)},i.addEventListener("message",o),i.addEventListener("error",a)})}(t)}function cB(t,e,i){return Math.ceil(t*Math.abs(Math.sin(i))+e*Math.abs(Math.cos(i)))}function AB(t,e,i){return Math.ceil(t*Math.abs(Math.cos(i))+e*Math.abs(Math.sin(i)))}function K1(t,e,i,n,s){return[t,e,i,n+"px",s].join(" ")}function hB(t,e){return Math.ceil(t/e)*e}function dB(t,e,i){var n=i().getContext("2d");return n.font=e,n.measureText(t).width}var hP=function(t,e,i,n,s,r,o){this.t=t,this.i=e,this.o=i,this.u=n,this.s=s,this.h=r,this.l=o,this.v=1,this.m=0,this.p=0,this.g=0},ki={M:{configurable:!0},S:{configurable:!0},F:{configurable:!0},j:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},N:{configurable:!0},k:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};ki.M.get=function(){return this.v},ki.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},ki.S.get=function(){return K1(this.h,this.s,this.u,this.M,this.o)},ki.F.get=function(){return this.q===void 0&&(this.q=dB(this.t,K1(this.h,this.s,this.u,1,this.o),this.l)),this.q},ki.j.get=function(){return this.F*this.M},ki.O.get=function(){return this.p*this.M},ki.O.set=function(t){this.p=t/this.M},ki.W.get=function(){return this.g*this.M},ki.W.set=function(t){this.g=t/this.M},ki.A.get=function(){return AB(this.j,this.M,this.i)},ki.B.get=function(){return cB(this.j,this.M,this.i)},ki.C.get=function(){return this.O-this.A/2},ki.L.get=function(){return this.W-this.B/2},ki._.get=function(){return this.m},ki._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},ki.P.get=function(){return this.V===void 0&&(this.V=function(t,e,i,n,s,r,o,a,l){var u=K1(e,i,n,s*=4,r),c=o*s*2,A=c+dB(t,u,l),h=c+s,g=l(),f=g.getContext("2d"),y=hB(AB(A,h,a),4),E=hB(cB(A,h,a),4);g.width=y,g.height=E,f.translate(y/2,E/2),f.rotate(a),f.font=u,f.textAlign="center",f.textBaseline="middle",f.fillText(t,0,0),c>0&&(f.miterLimit=1,f.lineWidth=c,f.strokeText(t,0,0));for(var C=f.getImageData(0,0,y,E).data,m=[],b=1/0,_=0,B=1/0,L=0,j=y/4,O=E/4,Q=0;Q<j;++Q)for(var $=0;$<O;++$)e:for(var D=0;D<4;++D)for(var U=0;U<4;++U)if(C[4*(y*(4*$+U)+(4*Q+D))+3]){m.push([Q,$]),b=Math.min(Q,b),_=Math.max(Q+1,_),B=Math.min($,B),L=Math.max($+1,L);break e}return m.length>0?[m.map(function(S){var k=S[0],M=S[1];return[k-b,M-B]}),_-b,L-B,Math.ceil(j/2)-b,Math.ceil(O/2)-B]:[m,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},ki.T.get=function(){return this.P[0]},ki.N.get=function(){return this.P[1]},ki.k.get=function(){return this.P[2]},ki.D.get=function(){return this.P[3]},ki.H.get=function(){return this.P[4]},ki.R.get=function(){return Math.ceil(this.O)-this.D},ki.R.set=function(t){this.O=t+this.D},ki.U.get=function(){return Math.ceil(this.W)-this.H},ki.U.set=function(t){this.W=t+this.H},Object.defineProperties(hP.prototype,ki);var Lie={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},Pie={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},fB={name:"VueWordCloud",mixins:[function(t){return{data:function(){var e={};return Object.keys(t).forEach(function(i){e["asyncComputed_trigger_"+i]={}}),e},computed:{},beforeCreate:function(){var e=this,i=new Set;Object.entries(t).forEach(function(n){var s=n[0],r=n[1],o=r.get,a=r.default,l=r.errorHandler;l===void 0&&(l=uB);var u,c=!0;e.$options.computed[s]=function(){return this["asyncComputed_trigger_"+s],this["asyncComputed_promise_"+s],a},e.$options.computed["asyncComputed_promise_"+s]=function(){var A=this;u&&(u.interrupt(),i.delete(u)),c&&(c=!1,uP(a)&&(a=a.call(this)));var h=new F0(a);u=h,i.add(u),new Promise(function(g){g(o.call(A,h))}).then(function(g){h.throwIfInterrupted(),a=g,A["asyncComputed_trigger_"+s]={}}).catch(l)}})}}}({cloudWords:{get:function(t){var e,i=this,n=this,s=n.elementWidth,r=n.elementHeight,o=n.words,a=n.text,l=n.weight,u=n.rotation,c=n.rotationUnit,A=n.fontFamily,h=n.fontWeight,g=n.fontVariant,f=n.fontStyle,y=n.color,E=n.spacing,C=n.fontSizeRatio,m=n.createCanvas,b=n.loadFont,_=n.createWorker;e=C,C=(e=Math.abs(e))>1?1/e:e;var B=function(M){var N=M[0],V=M[1];return N>V?[1,V/N]:V>N?[N/V,1]:[1,1]}([s,r]);if(s>0&&r>0){var L=Ta(a),j=Ta(l),O=Ta(u),Q=Ta(c),$=Ta(A),D=Ta(h),U=Ta(g),S=Ta(f),k=Ta(y);return o=o.map(function(M,N){var V,G,ee,se,ne,le,he,we,pe,ke,ce;M&&(iC(M)?ee=M:Fie(M)?(ee=(V=M)[0],se=V[1]):tC(M)&&(ee=(G=M).text,se=G.weight,ne=G.rotation,le=G.rotationUnit,he=G.fontFamily,we=G.fontWeight,pe=G.fontVariant,ke=G.fontStyle,ce=G.color)),xa(ee)&&(ee=L(M,N,o)),xa(se)&&(se=j(M,N,o)),xa(ne)&&(ne=O(M,N,o)),xa(le)&&(le=Q(M,N,o)),xa(he)&&(he=$(M,N,o)),xa(we)&&(we=D(M,N,o)),xa(pe)&&(pe=U(M,N,o)),xa(ke)&&(ke=S(M,N,o)),xa(ce)&&(ce=k(M,N,o));var ye=new hP(ee,function(){switch(le){case"turn":return ne*AP;case"deg":return function(ie){return ie*Iie}(ne)}return ne}(),he,we,pe,ke,m);return Object.assign(ye,{J:M,G:se,I:ce}),ye}),Promise.resolve().then(function(){return Promise.all(o.map(function(M){var N=M.o,V=M.h,G=M.u,ee=M.t;return b(N,V,G,ee)}))}).catch(uB).then(function(){if((o=o.filter(function(le){return le.j>0}).sort(function(le,he){return he.G-le.G})).length>0){var M=o[0],N=function(le){return le[he=le,he.length-1];var he}(o),V=M.G,G=N.G;if(G<V){var ee=C>0?1/C:G>0?V/G:V<0?G/V:1+V-G;o.forEach(function(le){var he,we,pe;le.M=(he=le.G,(pe=1)+(he-(we=G))*(ee-pe)/(V-we))})}o.reduceRight(function(le,he){return he.M<2*le?he.M/=le:(le=he.M,he.M=1),he.K=le},1),o.forEach(function(le){le.M*=4});var se=_('!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();\n'),ne={completedWords:0,totalWords:o.length};return Promise.resolve().then(function(){return t.throwIfInterrupted(),i.progress=ne,tc(se,B)}).then(function(){t.throwIfInterrupted(),ne.completedWords++;var le=Promise.resolve();return o.reduce(function(he,we,pe){return le=le.then(function(){return we.K<he.K?Promise.resolve().then(function(){return tc(se,{name:"clear"})}).then(function(){var ke=Promise.resolve(),ce=he.K/we.K;return o.slice(0,pe).forEach(function(ye){ke=ke.then(function(){return ye.M*=ce,tc(se,{name:"put",args:[ye.T,ye.R,ye.U]})})}),ke}):tc(se,{name:"put",args:[he.T,he.R,he.U]})}).then(function(){return we._=E,tc(se,{name:"findFit",args:[we.T,we.R,we.U]})}).then(function(ke){var ce=ke[0],ye=ke[1];t.throwIfInterrupted(),ne.completedWords++,we.R=ce,we.U=ye,we._=0}),we}),le}).then(function(){return tc(se,{name:"put",args:[N.T,N.R,N.U]})}).then(function(){return tc(se,{name:"getBounds"})}).then(function(le){var he=le.left,we=le.top,pe=le.width,ke=le.height;if(pe>0&&ke>0){var ce=Math.min(s/pe,r/ke);o.forEach(function(ie){ie.O-=he,ie.W-=we,ie.M*=ce})}var ye=new Set;return o.map(function(ie){for(var He=ie.J,$e=ie.t,ae=ie.G,W=ie.i,X=ie.o,re=ie.u,ve=ie.s,xe=ie.h,Me=ie.S,Fe=ie.O,Ie=ie.W,Le=ie.I,Ge=JSON.stringify([$e,X,re,ve,xe]);ye.has(Ge);)Ge+="!";return ye.add(Ge),{key:Ge,word:He,text:$e,weight:ae,rotation:W,font:Me,color:Le,left:Fe,top:Ie}})}).finally(function(){se.terminate()}).finally(function(){t.throwIfInterrupted(),i.progress=null})}return[]})}return[]},default:cP}})],props:Bie,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:Die,watch:Lie,mounted:function(){var t,e,i=this;t=function(){if(i._isDestroyed)return!1;i.updateElementSize()},e=1e3,function(n){var s=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return n.call.apply(n,[this,s].concat(r))};return s}(function(n){requestAnimationFrame(function(){t()!==!1&&setTimeout(n,e)})})()},methods:Pie,render:function(){var t=this.$slots,e=this.animationEasing,i=this.animationOptions,n=this.cloudWords,s=this.separateAnimationDelay,r=this.separateAnimationDuration;return t=Object.assign({},{default:function(o){return o.text}},t),lo("div",{style:{height:"100%",position:"relative",width:"100%"}},[lo("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},n.map(function(o,a){var l=o.color,u=o.font,c=o.left,A=o.rotation,h=o.text,g=o.top,f=o.weight,y=o.word;return lo("transition",Object.assign({},i),[lo("div",{key:a,style:Object.assign({},{left:c+"px",position:"absolute",top:g+"px"},r>0?{animation:[r+"ms",e,s*a+"ms"].join(" "),transition:["all",r+"ms",e,s*a+"ms"].join(" ")}:{})},[lo("div",{style:Object.assign({},{bottom:"50%",color:l,font:u,position:"absolute",right:"50%",transform:["translate(50%,50%)","rotate("+A+"rad)"].join(" "),whiteSpace:"nowrap"},r>0?{transition:["all",r+"ms",e,s*a+"ms"].join(" ")}:{})},[t.default({color:l,font:u,left:c,text:h,top:g,weight:f,word:y})])])])}))])}},dP={exports:{}};(function(t){(function(){function e(y,E){document.addEventListener?y.addEventListener("scroll",E,!1):y.attachEvent("scroll",E)}function i(y){document.body?y():document.addEventListener?document.addEventListener("DOMContentLoaded",function E(){document.removeEventListener("DOMContentLoaded",E),y()}):document.attachEvent("onreadystatechange",function E(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",E),y())})}function n(y){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(y)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function s(y,E){y.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+E+";"}function r(y){var E=y.g.offsetWidth,C=E+100;return y.j.style.width=C+"px",y.i.scrollLeft=C,y.h.scrollLeft=y.h.scrollWidth+100,y.l!==E?(y.l=E,!0):!1}function o(y,E){function C(){var b=m;r(b)&&b.g.parentNode!==null&&E(b.l)}var m=y;e(y.h,C),e(y.i,C),r(y)}function a(y,E,C){E=E||{},C=C||window,this.family=y,this.style=E.style||"normal",this.weight=E.weight||"normal",this.stretch=E.stretch||"normal",this.context=C}var l=null,u=null,c=null,A=null;function h(y){return u===null&&(g(y)&&/Apple/.test(window.navigator.vendor)?(y=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!y&&603>parseInt(y[1],10)):u=!1),u}function g(y){return A===null&&(A=!!y.document.fonts),A}function f(y,E){var C=y.style,m=y.weight;if(c===null){var b=document.createElement("div");try{b.style.font="condensed 100px sans-serif"}catch{}c=b.style.font!==""}return[C,m,c?y.stretch:"","100px",E].join(" ")}a.prototype.load=function(y,E){var C=this,m=y||"BESbswy",b=0,_=E||3e3,B=new Date().getTime();return new Promise(function(L,j){if(g(C.context)&&!h(C.context)){var O=new Promise(function($,D){function U(){new Date().getTime()-B>=_?D(Error(""+_+"ms timeout exceeded")):C.context.document.fonts.load(f(C,'"'+C.family+'"'),m).then(function(S){1<=S.length?$():setTimeout(U,25)},D)}U()}),Q=new Promise(function($,D){b=setTimeout(function(){D(Error(""+_+"ms timeout exceeded"))},_)});Promise.race([Q,O]).then(function(){clearTimeout(b),L(C)},j)}else i(function(){function $(){var le;(le=M!=-1&&N!=-1||M!=-1&&V!=-1||N!=-1&&V!=-1)&&((le=M!=N&&M!=V&&N!=V)||(l===null&&(le=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!le&&(536>parseInt(le[1],10)||parseInt(le[1],10)===536&&11>=parseInt(le[2],10))),le=l&&(M==G&&N==G&&V==G||M==ee&&N==ee&&V==ee||M==se&&N==se&&V==se)),le=!le),le&&(ne.parentNode!==null&&ne.parentNode.removeChild(ne),clearTimeout(b),L(C))}function D(){if(new Date().getTime()-B>=_)ne.parentNode!==null&&ne.parentNode.removeChild(ne),j(Error(""+_+"ms timeout exceeded"));else{var le=C.context.document.hidden;(le===!0||le===void 0)&&(M=U.g.offsetWidth,N=S.g.offsetWidth,V=k.g.offsetWidth,$()),b=setTimeout(D,50)}}var U=new n(m),S=new n(m),k=new n(m),M=-1,N=-1,V=-1,G=-1,ee=-1,se=-1,ne=document.createElement("div");ne.dir="ltr",s(U,f(C,"sans-serif")),s(S,f(C,"serif")),s(k,f(C,"monospace")),ne.appendChild(U.g),ne.appendChild(S.g),ne.appendChild(k.g),C.context.document.body.appendChild(ne),G=U.g.offsetWidth,ee=S.g.offsetWidth,se=k.g.offsetWidth,D(),o(U,function(le){M=le,$()}),s(U,f(C,'"'+C.family+'",sans-serif')),o(S,function(le){N=le,$()}),s(S,f(C,'"'+C.family+'",serif')),o(k,function(le){V=le,$()}),s(k,f(C,'"'+C.family+'",monospace'))})})},t.exports=a})()})(dP);var Mie=dP.exports;const Rie=us(Mie);const Oie={name:"PNuage",components:{JsPanel:ii,[fB.name]:fB},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:25,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},mots:[["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1]],nuage:[],modale:!1,liste:"",chargementNuage:!1,progression:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{mots:this.mots,nuage:this.nuage},w:this.w,h:this.h,x:this.x,y:this.y}))},progression:function(t){this.nuage.length>0&&(t===""||t===null)?(this.chargementNuage=!0,setTimeout((function(){this.chargementNuage=!1}).bind(this),200)):setTimeout((function(){this.chargementNuage=!1}).bind(this),200)}},created(){this.definirCaracteristiques("nuageMots"),this.panneau.contenu!==""&&(this.mots=this.panneau.contenu.mots,this.nuage=this.panneau.contenu.nuage,Array.isArray(this.nuage)||(this.nuage=[],this.visualiser())),this.genererOptions("nuage")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)):this.mode==="lecture"&&(this.redimensionnement=!0)},methods:{generer(){this.mots.filter(function(e){return e[0]!==""}).length>this.nuage.length&&this.visualiser(),this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()},visualiser(){this.$nextTick((function(){const t=this.mots.filter(function(s){return s[0]!==""}),e=["Abril Fatface","Baloo Bhaijaan"],i=e[Math.floor(Math.random()*e.length)],n=["#ffd077","#3bc4c7","#3a9eea","#ff4e69","#461e47"];if(t.length>0){const s=[];t.forEach(function(r){const o=n[Math.floor(Math.random()*n.length)];s.push({text:r[0],weight:r[1],number:1,rotation:0,fontFamily:i,color:o})}),this.nuage=s}}).bind(this))},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=80,this.h=59.5,this.positionner()},modifierProgression(t){this.progression=t},chargerPolice(t,e,i,n){return new Rie(t,{style:e,weight:i}).load(n)},ajouterMot(){this.mots.push(["",1]),this.$nextTick(function(){const t=document.querySelector("#"+this.id+" .mots");t.scrollTop=t.scrollHeight,t.lastChild.querySelector("input").focus()})},ajouterMots(){const t=this.liste.split(",");t.length>0&&t[0]!==""&&(t.forEach((function(e){if(e.trim()!==""){const i=this.mots.filter(function(n){return n[0]!==""});if(i.push([e,1]),this.mots=i,this.mots.length<11){const n=10-this.mots.length;for(let s=0;s<n;s++)this.mots.push(["",1])}this.$nextTick((function(){const n=document.querySelector("#"+this.id+" .mots");n.scrollTop=n.scrollHeight}).bind(this))}}).bind(this)),this.liste="",this.modale=!1)},afficherListe(){this.modale=!0},fermerListe(){this.modale=!1},zoomer(){this.zoom<15&&(this.zoom=this.zoom+.1)},dezoomer(){this.zoom>.5&&(this.zoom=this.zoom-.1)},recadrer(){this.zoom=1},modifierZoom(t){this.zoom=t.detail.scale}}},Uie=d("div",{class:"conteneur-gauche"},null,-1),Nie={class:"conteneur panneau-nuage"},Hie={key:0,class:"contenu"},Qie={class:"colonne gauche"},$ie={class:"mot"},jie={class:"taille"},Vie={class:"mots"},zie=["value","onInput"],Gie=["value","onInput"],Kie=["title"],Wie=d("i",{class:"material-icons"},"add_circle_outline",-1),qie=[Wie],Yie=["title"],Xie=d("i",{class:"material-icons"},"list_alt",-1),Jie=[Xie],Zie={class:"colonne droite"},ene={class:"nuage"},tne={key:0,class:"conteneur-chargement-nuage"},ine=d("div",{class:"chargement-nuage"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1),nne=[ine],sne={class:"actions"},rne={key:0,class:"liste"},one={class:"consigne"},ane=["placeholder"],lne={class:"actions"},une={key:1,class:"nuage lecture"},cne={key:0,class:"conteneur-chargement-nuage"},Ane=d("div",{class:"chargement-nuage"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1),hne=[Ane],dne=d("div",{class:"conteneur-droite"},null,-1),fne=d("div",{class:"conteneur-bas"},null,-1);function pne(t,e,i,n,s,r){const o=Ke("vue-word-cloud"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Uie,d("div",Nie,[s.mode==="edition"?(Y(),te("div",Hie,[d("div",Qie,[d("label",$ie,oe(t.$t("mots")),1),d("label",jie,oe(t.$t("taille")),1),d("div",Vie,[(Y(!0),te(dt,null,ei(s.mots,(l,u)=>(Y(),te("div",{class:"mot",key:"mot_"+u},[d("input",{type:"search",value:l[0],onInput:c=>s.mots[u][0]=c.target.value,maxlength:30},null,40,zie),d("input",{type:"number",value:l[1],onInput:c=>s.mots[u][1]=c.target.value,min:1,max:100},null,40,Gie)]))),128))]),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterMot"),onClick:e[0]||(e[0]=(...l)=>r.ajouterMot&&r.ajouterMot(...l))},qie,8,Kie),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterListe"),onClick:e[1]||(e[1]=(...l)=>r.afficherListe&&r.afficherListe(...l))},Jie,8,Yie)]),d("div",Zie,[d("label",null,oe(t.$t("apercu")),1),d("div",ene,[s.chargementNuage?(Y(),te("div",tne,nne)):De("",!0),Ct(o,{"animation-duration":200,"animation-easing":"ease-in-out","animation-overlap":1,color:"#00ced1","font-family":"Baloo Bhaijaan","load-font":r.chargerPolice,spacing:1/2,words:s.nuage,"onUpdate:progress":r.modifierProgression},null,8,["load-font","words","onUpdate:progress"])]),d("div",sne,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...l)=>r.visualiser&&r.visualiser(...l))},oe(t.$t("apercu")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])]),Ct(xb,{name:"fondu"},{default:Et(()=>[s.modale?(Y(),te("div",rne,[d("span",one,oe(t.$t("consigneListeMots")),1),d("textarea",{onInput:e[4]||(e[4]=l=>s.liste=l.target.value),placeholder:t.$t("exempleListe")},null,40,ane),d("div",lne,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...l)=>r.fermerListe&&r.fermerListe(...l))},oe(t.$t("annuler")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.ajouterMots&&r.ajouterMots(...l))},oe(t.$t("ajouter")),1)])])):De("",!0)]),_:1})])):(Y(),te("div",une,[s.chargementNuage?(Y(),te("div",cne,hne)):De("",!0),Ct(o,{"animation-duration":200,"animation-easing":"ease-in-out","animation-overlap":1,color:"#00ced1","font-family":"Baloo Bhaijaan","load-font":r.chargerPolice,spacing:1/2,words:s.nuage,"onUpdate:progress":r.modifierProgression},null,8,["load-font","words","onUpdate:progress"])]))]),dne,fne]),_:1},8,["visible","options"])}const gne=Ht(Oie,[["render",pne]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pB(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function ia(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(i),!0).forEach(function(n){mne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pB(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function I0(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I0=function(e){return typeof e}:I0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function mne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tl(){return tl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},tl.apply(this,arguments)}function vne(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function bne(t,e){if(t==null)return{};var i=vne(t,e),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var yne="1.15.0";function Ga(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ol=Ga(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wg=Ga(/Edge/i),gB=Ga(/firefox/i),pp=Ga(/safari/i)&&!Ga(/chrome/i)&&!Ga(/android/i),fP=Ga(/iP(ad|od|hone)/i),pP=Ga(/chrome/i)&&Ga(/android/i),gP={capture:!1,passive:!1};function di(t,e,i){t.addEventListener(e,i,!ol&&gP)}function ai(t,e,i){t.removeEventListener(e,i,!ol&&gP)}function Kv(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function wne(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Po(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Kv(t,e):Kv(t,e))||n&&t===i)return t;if(t===i)break}while(t=wne(t))}return null}var mB=/\s+/g;function rr(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(mB," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(mB," ")}}function Dt(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function ch(t,e){var i="";if(typeof t=="string")i=t;else do{var n=Dt(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function mP(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,r=n.length;if(i)for(;s<r;s++)i(n[s],s);return n}return[]}function Ko(){var t=document.scrollingElement;return t||document.documentElement}function En(t,e,i,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,l,u,c,A;if(t!==window&&t.parentNode&&t!==Ko()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,u=r.right,c=r.height,A=r.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,A=window.innerWidth),(e||i)&&t!==window&&(s=s||t.parentNode,!ol))do if(s&&s.getBoundingClientRect&&(Dt(s,"transform")!=="none"||i&&Dt(s,"position")!=="static")){var h=s.getBoundingClientRect();o-=h.top+parseInt(Dt(s,"border-top-width")),a-=h.left+parseInt(Dt(s,"border-left-width")),l=o+r.height,u=a+r.width;break}while(s=s.parentNode);if(n&&t!==window){var g=ch(s||t),f=g&&g.a,y=g&&g.d;g&&(o/=y,a/=f,A/=f,c/=y,l=o+c,u=a+A)}return{top:o,left:a,bottom:l,right:u,width:A,height:c}}}function vB(t,e,i){for(var n=$l(t,!0),s=En(t)[e];n;){var r=En(n)[i],o=void 0;if(i==="top"||i==="left"?o=s>=r:o=s<=r,!o)return n;if(n===Ko())break;n=$l(n,!1)}return!1}function Rh(t,e,i,n){for(var s=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==xt.ghost&&(n||o[r]!==xt.dragged)&&Po(o[r],i.draggable,t,!1)){if(s===e)return o[r];s++}r++}return null}function VE(t,e){for(var i=t.lastElementChild;i&&(i===xt.ghost||Dt(i,"display")==="none"||e&&!Kv(i,e));)i=i.previousElementSibling;return i||null}function Rr(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==xt.clone&&(!e||Kv(t,e))&&i++;return i}function bB(t){var e=0,i=0,n=Ko();if(t)do{var s=ch(t),r=s.a,o=s.d;e+=t.scrollLeft*r,i+=t.scrollTop*o}while(t!==n&&(t=t.parentNode));return[e,i]}function _ne(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function $l(t,e){if(!t||!t.getBoundingClientRect)return Ko();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=Dt(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Ko();if(n||e)return i;n=!0}}while(i=i.parentNode);return Ko()}function Cne(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function W1(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var gp;function vP(t,e){return function(){if(!gp){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),gp=setTimeout(function(){gp=void 0},e)}}}function Ene(){clearTimeout(gp),gp=void 0}function bP(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function yP(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}var mr="Sortable"+new Date().getTime();function Tne(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(Dt(s,"display")==="none"||s===xt.ghost)){t.push({target:s,rect:En(s)});var r=ia({},t[t.length-1].rect);if(s.thisAnimationDuration){var o=ch(s,!0);o&&(r.top-=o.f,r.left-=o.e)}s.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(_ne(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,A=En(u),h=u.prevFromRect,g=u.prevToRect,f=a.rect,y=ch(u,!0);y&&(A.top-=y.f,A.left-=y.e),u.toRect=A,u.thisAnimationDuration&&W1(h,A)&&!W1(c,A)&&(f.top-A.top)/(f.left-A.left)===(c.top-A.top)/(c.left-A.left)&&(l=Sne(f,h,g,s.options)),W1(A,c)||(u.prevFromRect=c,u.prevToRect=A,l||(l=s.options.animation),s.animate(u,f,A,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),t=[]},animate:function(n,s,r,o){if(o){Dt(n,"transition",""),Dt(n,"transform","");var a=ch(this.el),l=a&&a.a,u=a&&a.d,c=(s.left-r.left)/(l||1),A=(s.top-r.top)/(u||1);n.animatingX=!!c,n.animatingY=!!A,Dt(n,"transform","translate3d("+c+"px,"+A+"px,0)"),this.forRepaintDummy=xne(n),Dt(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Dt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Dt(n,"transition",""),Dt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function xne(t){return t.offsetWidth}function Sne(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var CA=[],q1={initializeByDefault:!0},_g={mount:function(e){for(var i in q1)q1.hasOwnProperty(i)&&!(i in e)&&(e[i]=q1[i]);CA.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),CA.push(e)},pluginEvent:function(e,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var r=e+"Global";CA.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][r]&&i[o.pluginName][r](ia({sortable:i},n)),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e](ia({sortable:i},n)))})},initializePlugins:function(e,i,n,s){CA.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,i,e.options);u.sortable=e,u.options=e.options,e[l]=u,tl(n,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,i){var n={};return CA.forEach(function(s){typeof s.eventProperties=="function"&&tl(n,s.eventProperties.call(i[s.pluginName],e))}),n},modifyOption:function(e,i,n){var s;return CA.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[i]=="function"&&(s=r.optionListeners[i].call(e[r.pluginName],n))}),s}};function Bne(t){var e=t.sortable,i=t.rootEl,n=t.name,s=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,A=t.newDraggableIndex,h=t.originalEvent,g=t.putSortable,f=t.extraEventProperties;if(e=e||i&&i[mr],!!e){var y,E=e.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ol&&!wg?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=o||i,y.from=a||i,y.item=s||i,y.clone=r,y.oldIndex=l,y.newIndex=u,y.oldDraggableIndex=c,y.newDraggableIndex=A,y.originalEvent=h,y.pullMode=g?g.lastPutMode:void 0;var m=ia(ia({},f),_g.getEventProperties(n,e));for(var b in m)y[b]=m[b];i&&i.dispatchEvent(y),E[C]&&E[C].call(e,y)}}var kne=["evt"],Ls=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,r=bne(n,kne);_g.pluginEvent.bind(xt)(e,i,ia({dragEl:Ze,parentEl:nn,ghostEl:Ot,rootEl:Qi,nextEl:uc,lastDownEl:L0,cloneEl:qi,cloneHidden:Nl,dragStarted:Mf,putSortable:$n,activeSortable:xt.active,originalEvent:s,oldIndex:WA,oldDraggableIndex:mp,newIndex:ur,newDraggableIndex:Ml,hideGhostForTarget:EP,unhideGhostForTarget:TP,cloneNowHidden:function(){Nl=!0},cloneNowShown:function(){Nl=!1},dispatchSortableEvent:function(a){fs({sortable:i,name:a,originalEvent:s})}},r))};function fs(t){Bne(ia({putSortable:$n,cloneEl:qi,targetEl:Ze,rootEl:Qi,oldIndex:WA,oldDraggableIndex:mp,newIndex:ur,newDraggableIndex:Ml},t))}var Ze,nn,Ot,Qi,uc,L0,qi,Nl,WA,ur,mp,Ml,Qm,$n,PA=!1,Wv=!1,qv=[],ic,no,Y1,X1,yB,wB,Mf,EA,vp,bp=!1,$m=!1,P0,es,J1=[],nC=!1,Yv=[],sy=typeof document<"u",jm=fP,_B=wg||ol?"cssFloat":"float",Dne=sy&&!pP&&!fP&&"draggable"in document.createElement("div"),wP=function(){if(sy){if(ol)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),_P=function(e,i){var n=Dt(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Rh(e,0,i),o=Rh(e,1,i),a=r&&Dt(r),l=o&&Dt(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+En(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+En(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var A=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===A)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=s&&n[_B]==="none"||o&&n[_B]==="none"&&u+c>s)?"vertical":"horizontal"},Fne=function(e,i,n){var s=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?i.left:i.top,l=n?i.right:i.bottom,u=n?i.width:i.height;return s===a||r===l||s+o/2===a+u/2},Ine=function(e,i){var n;return qv.some(function(s){var r=s[mr].options.emptyInsertThreshold;if(!(!r||VE(s))){var o=En(s),a=e>=o.left-r&&e<=o.right+r,l=i>=o.top-r&&i<=o.bottom+r;if(a&&l)return n=s}}),n},CP=function(e){function i(r,o){return function(a,l,u,c){var A=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||A))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return i(r(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var n={},s=e.group;(!s||I0(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,e.group=n},EP=function(){!wP&&Ot&&Dt(Ot,"display","none")},TP=function(){!wP&&Ot&&Dt(Ot,"display","")};sy&&!pP&&document.addEventListener("click",function(t){if(Wv)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Wv=!1,!1},!0);var nc=function(e){if(Ze){e=e.touches?e.touches[0]:e;var i=Ine(e.clientX,e.clientY);if(i){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[mr]._onDragOver(n)}}},Lne=function(e){Ze&&Ze.parentNode[mr]._isOutsideThisEl(e.target)};function xt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=tl({},e),t[mr]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _P(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:xt.supportPointer!==!1&&"PointerEvent"in window&&!pp,emptyInsertThreshold:5};_g.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);CP(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:Dne,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?di(t,"pointerdown",this._onTapStart):(di(t,"mousedown",this._onTapStart),di(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(di(t,"dragover",this),di(t,"dragenter",this)),qv.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),tl(this,Tne())}xt.prototype={constructor:xt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(EA=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,Ze):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,s=this.options,r=s.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=s.filter;if(Qne(n),!Ze&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||s.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&pp&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Po(l,s.draggable,n,!1),!(l&&l.animated)&&L0!==l)){if(WA=Rr(l),mp=Rr(l,s.draggable),typeof c=="function"){if(c.call(this,e,l,this)){fs({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ls("filter",i,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(A){if(A=Po(u,A.trim(),n,!1),A)return fs({sortable:i,rootEl:A,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ls("filter",i,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}s.handle&&!Po(u,s.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,n){var s=this,r=s.el,o=s.options,a=r.ownerDocument,l;if(n&&!Ze&&n.parentNode===r){var u=En(n);if(Qi=r,Ze=n,nn=Ze.parentNode,uc=Ze.nextSibling,L0=n,Qm=o.group,xt.dragged=Ze,ic={target:Ze,clientX:(i||e).clientX,clientY:(i||e).clientY},yB=ic.clientX-u.left,wB=ic.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,Ze.style["will-change"]="all",l=function(){if(Ls("delayEnded",s,{evt:e}),xt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!gB&&s.nativeDraggable&&(Ze.draggable=!0),s._triggerDragStart(e,i),fs({sortable:s,name:"choose",originalEvent:e}),rr(Ze,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){mP(Ze,c.trim(),Z1)}),di(a,"dragover",nc),di(a,"mousemove",nc),di(a,"touchmove",nc),di(a,"mouseup",s._onDrop),di(a,"touchend",s._onDrop),di(a,"touchcancel",s._onDrop),gB&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ze.draggable=!0),Ls("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(wg||ol))){if(xt.eventCanceled){this._onDrop();return}di(a,"mouseup",s._disableDelayedDrag),di(a,"touchend",s._disableDelayedDrag),di(a,"touchcancel",s._disableDelayedDrag),di(a,"mousemove",s._delayedDragTouchMoveHandler),di(a,"touchmove",s._delayedDragTouchMoveHandler),o.supportPointer&&di(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ze&&Z1(Ze),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ai(e,"mouseup",this._disableDelayedDrag),ai(e,"touchend",this._disableDelayedDrag),ai(e,"touchcancel",this._disableDelayedDrag),ai(e,"mousemove",this._delayedDragTouchMoveHandler),ai(e,"touchmove",this._delayedDragTouchMoveHandler),ai(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?di(document,"pointermove",this._onTouchMove):i?di(document,"touchmove",this._onTouchMove):di(document,"mousemove",this._onTouchMove):(di(Ze,"dragend",this),di(Qi,"dragstart",this._onDragStart));try{document.selection?M0(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(PA=!1,Qi&&Ze){Ls("dragStarted",this,{evt:i}),this.nativeDraggable&&di(document,"dragover",Lne);var n=this.options;!e&&rr(Ze,n.dragClass,!1),rr(Ze,n.ghostClass,!0),xt.active=this,e&&this._appendGhost(),fs({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(no){this._lastX=no.clientX,this._lastY=no.clientY,EP();for(var e=document.elementFromPoint(no.clientX,no.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(no.clientX,no.clientY),e!==i);)i=e;if(Ze.parentNode[mr]._isOutsideThisEl(e),i)do{if(i[mr]){var n=void 0;if(n=i[mr]._onDragOver({clientX:no.clientX,clientY:no.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);TP()}},_onTouchMove:function(e){if(ic){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,r=e.touches?e.touches[0]:e,o=Ot&&ch(Ot,!0),a=Ot&&o&&o.a,l=Ot&&o&&o.d,u=jm&&es&&bB(es),c=(r.clientX-ic.clientX+s.x)/(a||1)+(u?u[0]-J1[0]:0)/(a||1),A=(r.clientY-ic.clientY+s.y)/(l||1)+(u?u[1]-J1[1]:0)/(l||1);if(!xt.active&&!PA){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Ot){o?(o.e+=c-(Y1||0),o.f+=A-(X1||0)):o={a:1,b:0,c:0,d:1,e:c,f:A};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Dt(Ot,"webkitTransform",h),Dt(Ot,"mozTransform",h),Dt(Ot,"msTransform",h),Dt(Ot,"transform",h),Y1=c,X1=A,no=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ot){var e=this.options.fallbackOnBody?document.body:Qi,i=En(Ze,!0,jm,!0,e),n=this.options;if(jm){for(es=e;Dt(es,"position")==="static"&&Dt(es,"transform")==="none"&&es!==document;)es=es.parentNode;es!==document.body&&es!==document.documentElement?(es===document&&(es=Ko()),i.top+=es.scrollTop,i.left+=es.scrollLeft):es=Ko(),J1=bB(es)}Ot=Ze.cloneNode(!0),rr(Ot,n.ghostClass,!1),rr(Ot,n.fallbackClass,!0),rr(Ot,n.dragClass,!0),Dt(Ot,"transition",""),Dt(Ot,"transform",""),Dt(Ot,"box-sizing","border-box"),Dt(Ot,"margin",0),Dt(Ot,"top",i.top),Dt(Ot,"left",i.left),Dt(Ot,"width",i.width),Dt(Ot,"height",i.height),Dt(Ot,"opacity","0.8"),Dt(Ot,"position",jm?"absolute":"fixed"),Dt(Ot,"zIndex","100000"),Dt(Ot,"pointerEvents","none"),xt.ghost=Ot,e.appendChild(Ot),Dt(Ot,"transform-origin",yB/parseInt(Ot.style.width)*100+"% "+wB/parseInt(Ot.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,s=e.dataTransfer,r=n.options;if(Ls("dragStart",this,{evt:e}),xt.eventCanceled){this._onDrop();return}Ls("setupClone",this),xt.eventCanceled||(qi=yP(Ze),qi.removeAttribute("id"),qi.draggable=!1,qi.style["will-change"]="",this._hideClone(),rr(qi,this.options.chosenClass,!1),xt.clone=qi),n.cloneId=M0(function(){Ls("clone",n),!xt.eventCanceled&&(n.options.removeCloneOnHide||Qi.insertBefore(qi,Ze),n._hideClone(),fs({sortable:n,name:"clone"}))}),!i&&rr(Ze,r.dragClass,!0),i?(Wv=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ai(document,"mouseup",n._onDrop),ai(document,"touchend",n._onDrop),ai(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(n,s,Ze)),di(document,"drop",n),Dt(Ze,"transform","translateZ(0)")),PA=!0,n._dragStartId=M0(n._dragStarted.bind(n,i,e)),di(document,"selectstart",n),Mf=!0,pp&&Dt(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,s,r,o,a=this.options,l=a.group,u=xt.active,c=Qm===l,A=a.sort,h=$n||u,g,f=this,y=!1;if(nC)return;function E(G,ee){Ls(G,f,ia({evt:e,isOwner:c,axis:g?"vertical":"horizontal",revert:o,dragRect:s,targetRect:r,canSort:A,fromSortable:h,target:n,completed:m,onMove:function(ne,le){return Vm(Qi,i,Ze,s,ne,En(ne),e,le)},changed:b},ee))}function C(){E("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function m(G){return E("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(f),f!==h&&(rr(Ze,$n?$n.options.ghostClass:u.options.ghostClass,!1),rr(Ze,a.ghostClass,!0)),$n!==f&&f!==xt.active?$n=f:f===xt.active&&$n&&($n=null),h===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){E("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===Ze&&!Ze.animated||n===i&&!n.animated)&&(EA=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(Ze.parentNode[mr]._isOutsideThisEl(e.target),!G&&nc(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function b(){ur=Rr(Ze),Ml=Rr(Ze,a.draggable),fs({sortable:f,name:"change",toEl:i,newIndex:ur,newDraggableIndex:Ml,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Po(n,a.draggable,i,!0),E("dragOver"),xt.eventCanceled)return y;if(Ze.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return m(!1);if(Wv=!1,u&&!a.disabled&&(c?A||(o=nn!==Qi):$n===this||(this.lastPutMode=Qm.checkPull(this,u,Ze,e))&&l.checkPut(this,u,Ze,e))){if(g=this._getDirection(e,n)==="vertical",s=En(Ze),E("dragOverValid"),xt.eventCanceled)return y;if(o)return nn=Qi,C(),this._hideClone(),E("revert"),xt.eventCanceled||(uc?Qi.insertBefore(Ze,uc):Qi.appendChild(Ze)),m(!0);var _=VE(i,a.draggable);if(!_||One(e,g,this)&&!_.animated){if(_===Ze)return m(!1);if(_&&i===e.target&&(n=_),n&&(r=En(n)),Vm(Qi,i,Ze,s,n,r,e,!!n)!==!1)return C(),_&&_.nextSibling?i.insertBefore(Ze,_.nextSibling):i.appendChild(Ze),nn=i,b(),m(!0)}else if(_&&Rne(e,g,this)){var B=Rh(i,0,a,!0);if(B===Ze)return m(!1);if(n=B,r=En(n),Vm(Qi,i,Ze,s,n,r,e,!1)!==!1)return C(),i.insertBefore(Ze,B),nn=i,b(),m(!0)}else if(n.parentNode===i){r=En(n);var L=0,j,O=Ze.parentNode!==i,Q=!Fne(Ze.animated&&Ze.toRect||s,n.animated&&n.toRect||r,g),$=g?"top":"left",D=vB(n,"top","top")||vB(Ze,"top","top"),U=D?D.scrollTop:void 0;EA!==n&&(j=r[$],bp=!1,$m=!Q&&a.invertSwap||O),L=Une(e,n,r,g,Q?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,$m,EA===n);var S;if(L!==0){var k=Rr(Ze);do k-=L,S=nn.children[k];while(S&&(Dt(S,"display")==="none"||S===Ot))}if(L===0||S===n)return m(!1);EA=n,vp=L;var M=n.nextElementSibling,N=!1;N=L===1;var V=Vm(Qi,i,Ze,s,n,r,e,N);if(V!==!1)return(V===1||V===-1)&&(N=V===1),nC=!0,setTimeout(Mne,30),C(),N&&!M?i.appendChild(Ze):n.parentNode.insertBefore(Ze,N?M:n),D&&bP(D,0,U-D.scrollTop),nn=Ze.parentNode,j!==void 0&&!$m&&(P0=Math.abs(j-En(n)[$])),b(),m(!0)}if(i.contains(Ze))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ai(document,"mousemove",this._onTouchMove),ai(document,"touchmove",this._onTouchMove),ai(document,"pointermove",this._onTouchMove),ai(document,"dragover",nc),ai(document,"mousemove",nc),ai(document,"touchmove",nc)},_offUpEvents:function(){var e=this.el.ownerDocument;ai(e,"mouseup",this._onDrop),ai(e,"touchend",this._onDrop),ai(e,"pointerup",this._onDrop),ai(e,"touchcancel",this._onDrop),ai(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(ur=Rr(Ze),Ml=Rr(Ze,n.draggable),Ls("drop",this,{evt:e}),nn=Ze&&Ze.parentNode,ur=Rr(Ze),Ml=Rr(Ze,n.draggable),xt.eventCanceled){this._nulling();return}PA=!1,$m=!1,bp=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sC(this.cloneId),sC(this._dragStartId),this.nativeDraggable&&(ai(document,"drop",this),ai(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),pp&&Dt(document.body,"user-select",""),Dt(Ze,"transform",""),e&&(Mf&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Ot&&Ot.parentNode&&Ot.parentNode.removeChild(Ot),(Qi===nn||$n&&$n.lastPutMode!=="clone")&&qi&&qi.parentNode&&qi.parentNode.removeChild(qi),Ze&&(this.nativeDraggable&&ai(Ze,"dragend",this),Z1(Ze),Ze.style["will-change"]="",Mf&&!PA&&rr(Ze,$n?$n.options.ghostClass:this.options.ghostClass,!1),rr(Ze,this.options.chosenClass,!1),fs({sortable:this,name:"unchoose",toEl:nn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Qi!==nn?(ur>=0&&(fs({rootEl:nn,name:"add",toEl:nn,fromEl:Qi,originalEvent:e}),fs({sortable:this,name:"remove",toEl:nn,originalEvent:e}),fs({rootEl:nn,name:"sort",toEl:nn,fromEl:Qi,originalEvent:e}),fs({sortable:this,name:"sort",toEl:nn,originalEvent:e})),$n&&$n.save()):ur!==WA&&ur>=0&&(fs({sortable:this,name:"update",toEl:nn,originalEvent:e}),fs({sortable:this,name:"sort",toEl:nn,originalEvent:e})),xt.active&&((ur==null||ur===-1)&&(ur=WA,Ml=mp),fs({sortable:this,name:"end",toEl:nn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ls("nulling",this),Qi=Ze=nn=Ot=uc=qi=L0=Nl=ic=no=Mf=ur=Ml=WA=mp=EA=vp=$n=Qm=xt.dragged=xt.ghost=xt.clone=xt.active=null,Yv.forEach(function(e){e.checked=!0}),Yv.length=Y1=X1=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ze&&(this._onDragOver(e),Pne(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,s=0,r=n.length,o=this.options;s<r;s++)i=n[s],Po(i,o.draggable,this.el,!1)&&e.push(i.getAttribute(o.dataIdAttr)||Hne(i));return e},sort:function(e,i){var n={},s=this.el;this.toArray().forEach(function(r,o){var a=s.children[o];Po(a,this.options.draggable,s,!1)&&(n[r]=a)},this),i&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(s.removeChild(n[r]),s.appendChild(n[r]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Po(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var s=_g.modifyOption(this,e,i);typeof s<"u"?n[e]=s:n[e]=i,e==="group"&&CP(n)},destroy:function(){Ls("destroy",this);var e=this.el;e[mr]=null,ai(e,"mousedown",this._onTapStart),ai(e,"touchstart",this._onTapStart),ai(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ai(e,"dragover",this),ai(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qv.splice(qv.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Nl){if(Ls("hideClone",this),xt.eventCanceled)return;Dt(qi,"display","none"),this.options.removeCloneOnHide&&qi.parentNode&&qi.parentNode.removeChild(qi),Nl=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Nl){if(Ls("showClone",this),xt.eventCanceled)return;Ze.parentNode==Qi&&!this.options.group.revertClone?Qi.insertBefore(qi,Ze):uc?Qi.insertBefore(qi,uc):Qi.appendChild(qi),this.options.group.revertClone&&this.animate(Ze,qi),Dt(qi,"display",""),Nl=!1}}};function Pne(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Vm(t,e,i,n,s,r,o,a){var l,u=t[mr],c=u.options.onMove,A;return window.CustomEvent&&!ol&&!wg?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=s||e,l.relatedRect=r||En(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(A=c.call(u,l,o)),A}function Z1(t){t.draggable=!1}function Mne(){nC=!1}function Rne(t,e,i){var n=En(Rh(i.el,0,i.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function One(t,e,i){var n=En(VE(i.el,i.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function Une(t,e,i,n,s,r,o,a){var l=n?t.clientY:t.clientX,u=n?i.height:i.width,c=n?i.top:i.left,A=n?i.bottom:i.right,h=!1;if(!o){if(a&&P0<u*s){if(!bp&&(vp===1?l>c+u*r/2:l<A-u*r/2)&&(bp=!0),bp)h=!0;else if(vp===1?l<c+P0:l>A-P0)return-vp}else if(l>c+u*(1-s)/2&&l<A-u*(1-s)/2)return Nne(e)}return h=h||o,h&&(l<c+u*r/2||l>A-u*r/2)?l>c+u/2?1:-1:0}function Nne(t){return Rr(Ze)<Rr(t)?1:-1}function Hne(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Qne(t){Yv.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Yv.push(n)}}function M0(t){return setTimeout(t,0)}function sC(t){return clearTimeout(t)}sy&&di(document,"touchmove",function(t){(xt.active||PA)&&t.cancelable&&t.preventDefault()});xt.utils={on:di,off:ai,css:Dt,find:mP,is:function(e,i){return!!Po(e,i,e,!1)},extend:Cne,throttle:vP,closest:Po,toggleClass:rr,clone:yP,index:Rr,nextTick:M0,cancelNextTick:sC,detectDirection:_P,getChild:Rh};xt.get=function(t){return t[mr]};xt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(xt.utils=ia(ia({},xt.utils),n.utils)),_g.mount(n)})};xt.create=function(t,e){return new xt(t,e)};xt.version=yne;var pn=[],Rf,rC,oC=!1,ew,tw,Xv,Of;function $ne(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?di(document,"dragover",this._handleAutoScroll):this.options.supportPointer?di(document,"pointermove",this._handleFallbackAutoScroll):n.touches?di(document,"touchmove",this._handleFallbackAutoScroll):di(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ai(document,"dragover",this._handleAutoScroll):(ai(document,"pointermove",this._handleFallbackAutoScroll),ai(document,"touchmove",this._handleFallbackAutoScroll),ai(document,"mousemove",this._handleFallbackAutoScroll)),CB(),R0(),Ene()},nulling:function(){Xv=rC=Rf=oC=Of=ew=tw=null,pn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(r,o);if(Xv=i,n||this.options.forceAutoScrollFallback||wg||ol||pp){iw(i,this.options,a,n);var l=$l(a,!0);oC&&(!Of||r!==ew||o!==tw)&&(Of&&CB(),Of=setInterval(function(){var u=$l(document.elementFromPoint(r,o),!0);u!==l&&(l=u,R0()),iw(i,s.options,u,n)},10),ew=r,tw=o)}else{if(!this.options.bubbleScroll||$l(a,!0)===Ko()){R0();return}iw(i,this.options,$l(a,!1),!1)}}},tl(t,{pluginName:"scroll",initializeByDefault:!0})}function R0(){pn.forEach(function(t){clearInterval(t.pid)}),pn=[]}function CB(){clearInterval(Of)}var iw=vP(function(t,e,i,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ko(),u=!1,c;rC!==i&&(rC=i,R0(),Rf=e.scroll,c=e.scrollFn,Rf===!0&&(Rf=$l(i,!0)));var A=0,h=Rf;do{var g=h,f=En(g),y=f.top,E=f.bottom,C=f.left,m=f.right,b=f.width,_=f.height,B=void 0,L=void 0,j=g.scrollWidth,O=g.scrollHeight,Q=Dt(g),$=g.scrollLeft,D=g.scrollTop;g===l?(B=b<j&&(Q.overflowX==="auto"||Q.overflowX==="scroll"||Q.overflowX==="visible"),L=_<O&&(Q.overflowY==="auto"||Q.overflowY==="scroll"||Q.overflowY==="visible")):(B=b<j&&(Q.overflowX==="auto"||Q.overflowX==="scroll"),L=_<O&&(Q.overflowY==="auto"||Q.overflowY==="scroll"));var U=B&&(Math.abs(m-s)<=o&&$+b<j)-(Math.abs(C-s)<=o&&!!$),S=L&&(Math.abs(E-r)<=o&&D+_<O)-(Math.abs(y-r)<=o&&!!D);if(!pn[A])for(var k=0;k<=A;k++)pn[k]||(pn[k]={});(pn[A].vx!=U||pn[A].vy!=S||pn[A].el!==g)&&(pn[A].el=g,pn[A].vx=U,pn[A].vy=S,clearInterval(pn[A].pid),(U!=0||S!=0)&&(u=!0,pn[A].pid=setInterval((function(){n&&this.layer===0&&xt.active._onTouchMove(Xv);var M=pn[this.layer].vy?pn[this.layer].vy*a:0,N=pn[this.layer].vx?pn[this.layer].vx*a:0;typeof c=="function"&&c.call(xt.dragged.parentNode[mr],N,M,t,Xv,pn[this.layer].el)!=="continue"||bP(pn[this.layer].el,N,M)}).bind({layer:A}),24))),A++}while(e.bubbleScroll&&h!==l&&(h=$l(h,!1)));oC=u}},30),xP=function(e){var i=e.originalEvent,n=e.putSortable,s=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var u=n||r;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,A=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(A)&&(o("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function zE(){}zE.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Rh(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:xP};tl(zE,{pluginName:"revertOnSpill"});function GE(){}GE.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:xP};tl(GE,{pluginName:"removeOnSpill"});xt.mount(new $ne);xt.mount(GE,zE);const jne={name:"POrdre",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},type:"horizontale",items:["","","","",""],itemsMelanges:[],resultat:"",sortable:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{items:this.items,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("remiseOrdre"),this.panneau.contenu!==""&&(this.items=this.panneau.contenu.items,this.type=this.panneau.contenu.type,this.itemsMelanges=this.melanger(JSON.parse(JSON.stringify(this.items)))),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("ordre")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&this.$nextTick((function(){this.sortable=new xt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",filter:".item.correct",preventOnFilter:!0})}).bind(this))},methods:{generer(){this.items.length>0&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.items.forEach((function(t,e){this.items[e]=t.trim()}).bind(this)),this.items=this.items.filter(function(t){return t!==""}),this.itemsMelanges=this.melanger(JSON.parse(JSON.stringify(this.items))),this.$nextTick((function(){this.sortable=new xt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",filter:".item.correct",preventOnFilter:!0})}).bind(this)))},editer(){this.$nextTick((function(){this.sortable.destroy(),this.mode="edition",this.redimensionnement=!1,this.itemsMelanges=[],this.resultat="",this.sortable="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=50.4,this.positionner()}).bind(this))},verifier(){const t=[];var e=document.querySelectorAll("#"+this.id+" .items .item");e.forEach(function(i){t.push(i.textContent)}),this.items.toString()===t.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"},ajouterItem(){this.items.push("")}}},Vne=d("div",{class:"conteneur-gauche"},null,-1),zne={class:"conteneur panneau-ordre"},Gne={key:0,class:"contenu"},Kne={class:"type"},Wne={class:"horizontale"},qne=["id","name","checked"],Yne=["for"],Xne={class:"verticale"},Jne=["id","name","checked"],Zne=["for"],ese={class:"items"},tse=["value","onInput"],ise=["title"],nse=d("i",{class:"material-icons"},"add_circle_outline",-1),sse=[nse],rse={class:"actions"},ose={key:1,class:"contenu"},ase={key:0},lse=d("span",{class:"emoticones"},"🎉🥳",-1),use={class:"bouton correct"},cse=d("span",{class:"emoticones"},"🥳🎉",-1),Ase={key:1},hse=d("span",{class:"emoticones"},"🙁🙁",-1),dse=d("span",{class:"emoticones"},"🙁🙁",-1),fse=d("div",{class:"conteneur-droite"},null,-1),pse=d("div",{class:"conteneur-bas"},null,-1);function gse(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Vne,d("div",zne,[s.mode==="edition"?(Y(),te("div",Gne,[d("label",null,oe(t.$t("typeRemiseOrdre")),1),d("div",Kne,[d("span",Wne,[d("input",{type:"radio",id:"horizontale_"+s.id,name:"type_"+s.id,value:"horizontale",checked:s.type==="horizontale",onChange:e[0]||(e[0]=a=>s.type=a.target.value)},null,40,qne),d("label",{for:"horizontale_"+s.id},oe(t.$t("horizontale")),9,Yne)]),d("span",Xne,[d("input",{type:"radio",id:"verticale_"+s.id,name:"type_"+s.id,value:"verticale",checked:s.type==="verticale",onChange:e[1]||(e[1]=a=>s.type=a.target.value)},null,40,Jne),d("label",{for:"verticale_"+s.id},oe(t.$t("verticale")),9,Zne)])]),d("label",null,oe(t.$t("itemsOrdre")),1),d("div",ese,[(Y(!0),te(dt,null,ei(s.items,(a,l)=>(Y(),te("input",{type:"search",value:a,onInput:u=>s.items[l]=u.target.value,key:"item_"+l},null,40,tse))),128))]),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterItem"),onClick:e[2]||(e[2]=(...a)=>r.ajouterItem&&r.ajouterItem(...a))},sse,8,ise),d("div",rse,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):(Y(),te("div",ose,[d("div",{class:Ne(["items",{horizontale:s.type==="horizontale",verticale:s.type==="verticale","plein-ecran":s.statut==="max"}])},[(Y(!0),te(dt,null,ei(s.itemsMelanges,(a,l)=>(Y(),te("div",{class:Ne(["item",{correct:s.resultat==="correct"}]),key:"item_"+l},[d("span",null,oe(a),1)],2))),128))],2),s.resultat==="correct"?(Y(),te("div",ase,[lse,d("span",use,oe(t.$t("bravoExercice")),1),cse])):s.resultat==="incorrect"?(Y(),te("div",Ase,[hse,d("span",{class:"bouton verifier",onClick:e[4]||(e[4]=(...a)=>r.verifier&&r.verifier(...a))},oe(t.$t("verifier")),1),dse])):(Y(),te("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.verifier&&r.verifier(...a))},oe(t.$t("verifier")),1))]))]),fse,pse]),_:1},8,["visible","options"])}const mse=Ht(jne,[["render",gse]]);const vse={name:"PImagesSequentielles",components:{JsPanel:ii,draggable:zh},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],imagesMelangees:[],resultat:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("imagesSequentielles"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images,this.imagesMelangees=this.melanger(JSON.parse(JSON.stringify(this.images)))),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0),this.genererOptions("images-sequentielles")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.imagesMelangees=this.melanger(JSON.parse(JSON.stringify(this.images))),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=74,this.h=54),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=34,this.index=0,this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1e3){const r=document.createElement("canvas"),o=s.width/s.height,a=1e3,l=1e3/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1e3){const r=document.createElement("canvas"),o=s.width/s.height,a=1e3,l=1e3/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)},verifier(){this.images.toString()===this.imagesMelangees.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"}}},bse=d("div",{class:"conteneur-gauche"},null,-1),yse={class:"conteneur panneau-images-sequentielles"},wse={key:0,class:"contenu"},_se=["id"],Cse=["for"],Ese=["src","alt"],Tse=["onClick"],xse=d("i",{class:"material-icons"},"highlight_off",-1),Sse=[xse],Bse={key:1,class:"contenu lecture"},kse=["src","alt"],Dse={key:0},Fse=d("span",{class:"emoticones"},"🎉🥳",-1),Ise={class:"bouton correct"},Lse=d("span",{class:"emoticones"},"🥳🎉",-1),Pse={key:1},Mse=d("span",{class:"emoticones"},"🙁🙁",-1),Rse=d("span",{class:"emoticones"},"🙁🙁",-1),Ose=d("div",{class:"conteneur-droite"},null,-1),Use=d("div",{class:"conteneur-bas"},null,-1);function Nse(t,e,i,n,s,r){const o=Ke("draggable"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[bse,d("div",yse,[s.mode==="edition"?(Y(),te("div",wse,[d("label",null,oe(t.$t("imagesOrdre")),1),d("div",{class:"zone",onDragover:e[2]||(e[2]=Wa(()=>{},["prevent"])),onDrop:e[3]||(e[3]=Wa(()=>{},["prevent"]))},[d("input",{id:"selectionner-images-"+s.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...l)=>r.selectionnerImages&&r.selectionnerImages(...l)),style:{display:"none"}},null,40,_se),d("label",{for:"selectionner-images-"+s.id,onDrop:e[1]||(e[1]=(...l)=>r.glisserImages&&r.glisserImages(...l))},oe(t.$t("selectionnerImages")),41,Cse)],32),Ct(o,{class:"images",modelValue:s.images,"onUpdate:modelValue":e[4]||(e[4]=l=>s.images=l)},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.images,(l,u)=>(Y(),te("div",{class:"image",key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,Ese),d("span",{class:"fermer",onClick:c=>r.supprimerImage(u)},Sse,8,Tse)]))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])):(Y(),te("div",Bse,[Ct(o,{class:Ne(["images",{"plein-ecran":s.statut==="max"}]),modelValue:s.imagesMelangees,"onUpdate:modelValue":e[6]||(e[6]=l=>s.imagesMelangees=l),filter:".image.correct"},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.imagesMelangees,(l,u)=>(Y(),te("div",{class:Ne(["image",{correct:s.resultat==="correct"}]),key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,kse)],2))),128))]),_:1},8,["modelValue","class"]),s.resultat==="correct"?(Y(),te("div",Dse,[Fse,d("span",Ise,oe(t.$t("bravoExercice")),1),Lse])):s.resultat==="incorrect"?(Y(),te("div",Pse,[Mse,d("span",{class:"bouton verifier",onClick:e[7]||(e[7]=(...l)=>r.verifier&&r.verifier(...l))},oe(t.$t("verifier")),1),Rse])):(Y(),te("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...l)=>r.verifier&&r.verifier(...l))},oe(t.$t("verifier")),1))]))]),Ose,Use]),_:1},8,["visible","options"])}const Hse=Ht(vse,[["render",Nse]]);const Qse={name:"PTrous",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],itemsMelanges:[],exercice:"",reponse:[],resultat:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.texte,w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("texteATrous"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu),this.mode==="lecture"&&(this.redimensionnement=!0,this.creer()),this.genererOptions("trous")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this))},methods:{generer(){this.texte!==""&&this.texte.split(/[**]/).length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=60,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.creer())},creer(){const e=this.texte.replace(/(?:\r|\n|\r\n)/g,"<br>").split(/[**]/);this.items=e.filter((s,r)=>r%2===1);const i=JSON.parse(JSON.stringify(this.items));i.forEach((function(s,r){s.split("|").length>1&&(i[r]=this.melanger(s.split("|")))}).bind(this)),this.itemsMelanges=i,this.items.forEach((function(s,r){s.split("|").length>1&&(this.items[r]=s.split("|")[0])}).bind(this));let n=0;e.forEach(function(s,r){if(r%2===1&&s.split("|").length===1)e[r]="input"+n,n++;else if(r%2===1&&s.split("|").length>1)e[r]="select"+n,n++;else if(s.includes("<br>")){const o=s.split("<br>");e[r]=o.map((a,l)=>l<o.length-1?[a,"<br>"]:[a]).reduce((a,l)=>a.concat(l))}}),this.exercice=e;for(let s=0;s<this.items.length;s++)this.reponse.push("")},editer(){this.mode="edition",this.redimensionnement=!1,this.items=[],this.exercice="",this.reponse=[],this.resultat="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=48,this.positionner()},verifier(){this.items.toString()===this.reponse.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"}}},$se=d("div",{class:"conteneur-gauche"},null,-1),jse={class:"conteneur panneau-trous"},Vse={key:0,class:"contenu"},zse=["innerHTML"],Gse=["innerHTML"],Kse=["value","placeholder"],Wse={key:1,class:"contenu"},qse=["onChange","size","disabled","value","onInput"],Yse=["disabled","onChange"],Xse=d("option",{value:""},null,-1),Jse=["value"],Zse={key:0},ere=d("span",{class:"emoticones"},"🎉🥳",-1),tre={class:"bouton correct"},ire=d("span",{class:"emoticones"},"🥳🎉",-1),nre={key:1},sre=d("span",{class:"emoticones"},"🙁🙁",-1),rre=d("span",{class:"emoticones"},"🙁🙁",-1),ore=d("div",{class:"conteneur-droite"},null,-1),are=d("div",{class:"conteneur-bas"},null,-1);function lre(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[$se,d("div",jse,[s.mode==="edition"?(Y(),te("div",Vse,[d("label",null,oe(t.$t("texteATrous")),1),d("span",{class:"consigne",innerHTML:t.$t("consigneTrouSimple")},null,8,zse),d("span",{class:"consigne",innerHTML:t.$t("consigneTrouSelection")},null,8,Gse),d("textarea",{class:"texte-a-trous",value:s.texte,onInput:e[0]||(e[0]=a=>s.texte=a.target.value),placeholder:t.$t("exempleTrou")},null,40,Kse),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",Wse,[d("div",{class:Ne(["texte-a-trous",{"plein-ecran":s.statut==="max"}])},[(Y(!0),te(dt,null,ei(s.exercice,(a,l)=>(Y(),te(dt,null,[Array.isArray(a)?(Y(!0),te(dt,{key:0},ei(a,(u,c)=>(Y(),te(dt,null,[u!=="<br>"&&u!==""?(Y(),te("span",{key:"item_br_"+l+"_"+c},oe(u),1)):u==="<br>"&&u!==""?(Y(),te("br",{key:"item_br_"+l+"_"+c})):De("",!0)],64))),256)):a.substring(0,5)!=="input"&&a.substring(0,6)!=="select"?(Y(),te("span",{key:"item_txt_"+l},oe(a),1)):a.substring(0,5)==="input"?(Y(),te("span",{key:"item_input_"+l},[d("input",{type:"text",class:Ne({correct:s.resultat!==""&&s.reponse[parseInt(a.slice(-1))]===s.items[parseInt(a.slice(-1))]}),onChange:u=>s.reponse[parseInt(a.slice(-1))]=u.target.value,size:s.itemsMelanges[parseInt(a.slice(-1))].length,disabled:s.resultat==="correct",value:s.reponse[parseInt(a.slice(-1))],onInput:u=>s.reponse[parseInt(a.slice(-1))]=u.target.value},null,42,qse)])):a.substring(0,6)==="select"?(Y(),te("span",{key:"item_select_"+l},[d("select",{class:Ne({correct:s.resultat!==""&&s.reponse[parseInt(a.slice(-1))]===s.items[parseInt(a.slice(-1))]}),disabled:s.resultat==="correct",onChange:u=>s.reponse[parseInt(a.slice(-1))]=u.target.value},[Xse,(Y(!0),te(dt,null,ei(s.itemsMelanges[parseInt(a.slice(-1))],(u,c)=>(Y(),te("option",{value:u,key:"option_"+c},oe(u),9,Jse))),128))],42,Yse)])):De("",!0)],64))),256))],2),s.resultat==="correct"?(Y(),te("div",Zse,[ere,d("span",tre,oe(t.$t("bravoExercice")),1),ire])):s.resultat==="incorrect"?(Y(),te("div",nre,[sre,d("span",{class:"bouton verifier",onClick:e[2]||(e[2]=(...a)=>r.verifier&&r.verifier(...a))},oe(t.$t("verifier")),1),rre])):(Y(),te("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.verifier&&r.verifier(...a))},oe(t.$t("verifier")),1))]))]),ore,are]),_:1},8,["visible","options"])}const ure=Ht(Qse,[["render",lre]]);const cre={name:"PSurlignage",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],itemsSurlignes:[],surligneur:"#faff00"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,itemsSurlignes:this.itemsSurlignes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("surlignage"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.itemsSurlignes=this.panneau.contenu.itemsSurlignes),this.mode==="lecture"&&(this.redimensionnement=!0,this.creer()),this.genererOptions("surlignage")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this))},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=60,this.h=36),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.creer())},creer(){const e=this.texte.replace(/(?:\r|\n|\r\n)/g," <br> ").split(" ");this.items=e},editer(){this.mode="edition",this.redimensionnement=!1,this.items=[],this.itemsSurlignes=[],this.surligneur="#faff00",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=36,this.positionner()},surligner(t){if(this.itemsSurlignes.map(function(e){return e.index}).includes(t)){const e=this.itemsSurlignes.map(function(i){return i.index}).indexOf(t);this.itemsSurlignes[e].couleur===this.surligneur?this.itemsSurlignes.splice(e,1):this.itemsSurlignes[e].couleur=this.surligneur}else this.itemsSurlignes.push({index:t,couleur:this.surligneur})},definirCouleur(t){let e="";return this.itemsSurlignes.forEach(function(i){i.index===t&&(e=i.couleur)}),e}}},Are=d("div",{class:"conteneur-gauche"},null,-1),hre={class:"conteneur panneau-surlignage"},dre={key:0,class:"contenu"},fre=["value"],pre={key:1,class:"contenu"},gre={class:"surligneurs"},mre=["onClick"],vre=["onClick"],bre=d("div",{class:"conteneur-droite"},null,-1),yre=d("div",{class:"conteneur-bas"},null,-1);function wre(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Are,d("div",hre,[s.mode==="edition"?(Y(),te("div",dre,[d("label",null,oe(t.$t("texte")),1),d("textarea",{class:"surlignage",value:s.texte,onInput:e[0]||(e[0]=a=>s.texte=a.target.value)},null,40,fre),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",pre,[d("div",gre,[d("span",{class:Ne(["surligneur jaune",{actif:s.surligneur==="#faff00"}]),onClick:e[2]||(e[2]=a=>s.surligneur="#faff00")},null,2),d("span",{class:Ne(["surligneur vert",{actif:s.surligneur==="#00ff00"}]),onClick:e[3]||(e[3]=a=>s.surligneur="#00ff00")},null,2),d("span",{class:Ne(["surligneur rose",{actif:s.surligneur==="#fb3bc3"}]),onClick:e[4]||(e[4]=a=>s.surligneur="#fb3bc3")},null,2),d("span",{class:Ne(["surligneur bleu",{actif:s.surligneur==="#04fdff"}]),onClick:e[5]||(e[5]=a=>s.surligneur="#04fdff")},null,2)]),d("div",{class:Ne(["surlignage",{"plein-ecran":s.statut==="max"}])},[(Y(!0),te(dt,null,ei(s.items,(a,l)=>(Y(),te(dt,null,[a!=="<br>"&&a!==""?(Y(),te(dt,{key:0},[s.itemsSurlignes.map(function(u){return u.index}).includes(l)?(Y(),te("span",{style:ti({background:r.definirCouleur(l)}),onClick:u=>r.surligner(l),key:"item_surligne_"+l+"_"+a},oe(a),13,mre)):(Y(),te("span",{onClick:u=>r.surligner(l),key:"item_"+l+"_"+a},oe(a),9,vre))],64)):a==="<br>"?(Y(),te("br",{key:"item_br_"+l+"_"+a})):De("",!0)],64))),256))],2)]))]),bre,yre]),_:1},8,["visible","options"])}const _re=Ht(cre,[["render",wre]]);const Cre={name:"PPendu",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},mot:"",lettresTrouvees:[],motTrouve:!1,caracteres:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",tableauCaracteres:[],erreurs:5,erreursRestantes:5,opacite:0,image:"./static/img/pendu/pendu.png",chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{mot:this.mot,caracteres:this.caracteres,erreurs:this.erreurs,image:this.image},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("pendu"),this.panneau.contenu!==""&&(this.mot=this.panneau.contenu.mot,this.caracteres=this.panneau.contenu.caracteres,this.erreurs=this.panneau.contenu.erreurs,this.image=this.panneau.contenu.image),this.genererOptions("pendu")},mounted(){if(this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min")this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this));else if(this.mode==="lecture"){this.redimensionnement=!0,this.erreursRestantes=this.erreurs;for(let e=0;e<this.mot.length;e++)this.lettresTrouvees.push("_");const t=this.caracteres.split("");this.tableauCaracteres=t.filter(function(e){return e!==""})}},methods:{generer(){if(this.mot!==""){this.mode="lecture",this.redimensionnement=!0,this.erreursRestantes=this.erreurs;for(let e=0;e<this.mot.length;e++)this.lettresTrouvees.push("_");const t=this.caracteres.split("");this.tableauCaracteres=t.filter(function(e){return e!==""}),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=80,this.h=50),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()}},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.lettresTrouvees=[],this.tableauCaracteres=[],this.opacite=0,this.motTrouve=!1,this.w=40,this.h=64,this.positionner()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1500){const r=document.createElement("canvas"),o=s.width/s.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85)}else this.chargementImage=!1,this.image=n.target.result}).bind(this)}).bind(this)}},verifierLettre(t){if(this.motTrouve===!1&&this.erreursRestantes>0){const e=this.mot.split("");if(e.forEach(function(i,n){e[n]=i.toUpperCase()}),e.includes(t.toUpperCase())){let i=0;e.forEach((function(n,s){n.toUpperCase()===t.toUpperCase()&&(this.lettresTrouvees[s]=n.toUpperCase())}).bind(this)),this.lettresTrouvees.forEach((function(n){n==="_"&&i++}).bind(this)),i===0&&(this.motTrouve=!0,this.lancerConfettis())}else this.erreursRestantes--,this.erreursRestantes===0?this.opacite=1:this.opacite=this.opacite+1/this.erreurs}}}},Ere={key:0,class:"conteneur panneau-pendu"},Tre={key:0,class:"contenu"},xre=["value"],Sre=["src"],Bre={class:"separateur"},kre=["for"],Dre=["id"],Fre=["value"],Ire=["value"],Lre={key:1,class:"contenu"},Pre=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),Mre=[Pre],Rre={key:1,class:"conteneur panneau-pendu lecture"},Ore={class:"contenu"},Ure={class:"gauche"},Nre=["src"],Hre={class:"erreurs"},Qre={class:"droite"},$re={class:"caracteres"},jre=["onClick"];function Vre(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[d("div",{class:Ne(["conteneur-gauche",{masque:s.mode==="lecture"}])},null,2),s.mode==="edition"?(Y(),te("div",Ere,[s.chargementImage?(Y(),te("div",Lre,Mre)):(Y(),te("div",Tre,[d("label",null,oe(t.$t("motATrouver")),1),d("input",{type:"search",value:s.mot,onInput:e[0]||(e[0]=a=>s.mot=a.target.value)},null,40,xre),d("label",null,oe(t.$t("image")),1),d("img",{class:"pendu",src:s.image,alt:"Pendu"},null,8,Sre),d("div",Bre,[d("span",null,oe(t.$t("ou")),1)]),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-image-"+s.id},oe(t.$t("selectionnerImage")),9,kre),d("input",{id:"selectionner-image-"+s.id,type:"file",onChange:e[1]||(e[1]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,Dre),d("label",null,oe(t.$t("nombreErreurs")),1),d("input",{type:"number",value:s.erreurs,min:1,max:20,onInput:e[2]||(e[2]=a=>s.erreurs=parseInt(a.target.value))},null,40,Fre),d("label",null,oe(t.$t("caracteres")),1),d("textarea",{class:"caracteres",value:s.caracteres,onInput:e[3]||(e[3]=a=>s.caracteres=a.target.value)},null,40,Ire),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)]))])):(Y(),te("div",Rre,[d("div",Ore,[d("div",Ure,[d("img",{src:s.image,style:ti("opacity:"+s.opacite),alt:"Pendu"},null,12,Nre),d("div",null,[d("label",null,oe(t.$t("erreursRestantes")),1),d("span",Hre,oe(s.erreursRestantes),1)])]),d("div",Qre,[d("div",{class:Ne(["mot",{trouve:s.motTrouve}])},[(Y(!0),te(dt,null,ei(s.lettresTrouvees,(a,l)=>(Y(),te("span",{class:"lettre",key:"lettre_"+l},oe(a.toUpperCase()),1))),128))],2),d("div",$re,[(Y(!0),te(dt,null,ei(s.tableauCaracteres,(a,l)=>(Y(),te("span",{class:Ne(["caractere",{inactif:s.motTrouve||s.erreursRestantes===0}]),role:"button",tabindex:"0",onClick:u=>r.verifierLettre(a),key:"caractere_"+l},oe(a.toUpperCase()),11,jre))),128))])])])])),d("div",{class:Ne(["conteneur-droite",{masque:s.mode==="lecture"}])},null,2),d("div",{class:Ne(["conteneur-bas",{masque:s.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const zre=Ht(Cre,[["render",Vre]]);const Gre={name:"PCartes",components:{JsPanel:ii,draggable:zh},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:60,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},cartes:[],format:"paysage",texteRecto:"",texteVerso:"",fondRecto:"#001d1d",fondVerso:"#ffffff",imageRecto:"",imageVerso:"",chargementImage:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{cartes:this.cartes,format:this.format},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("cartes"),this.panneau.contenu!==""&&(this.cartes=this.panneau.contenu.cartes,this.format=this.panneau.contenu.format),this.genererOptions("cartes")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?this.$nextTick((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this)):this.mode==="lecture"&&(this.redimensionnement=!0)},methods:{generer(){this.cartes.length>0&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=90,this.h=64),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.texteRecto="",this.texteVerso="",this.fondRecto="#001d1d",this.fondVerso="#ffffff",this.imageRecto="",this.imageVerso="",this.chargementImage="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=50,this.positionner()},ajouterCarte(){if((this.texteRecto!==""||this.fondRecto!=="#001d1d"||this.imageRecto!=="")&&(this.texteVerso!==""||this.fondVerso!=="#ffffff"||this.imageVerso!=="")){const t={recto:{texte:this.texteRecto,fond:this.fondRecto,image:this.imageRecto},verso:{texte:this.texteVerso,fond:this.fondVerso,image:this.imageVerso}};this.cartes.push(t),this.texteRecto="",this.texteVerso="",this.imageRecto="",this.imageVerso="",this.chargementImage=""}},retournerCarte(t){const e=document.querySelector("#"+t);e.classList.contains("flip")?e.classList.remove("flip"):e.classList.add("flip")},supprimerCarte(t){this.cartes.splice(t,1)},televerserImage(t,e){const i=t.target.files[0];if(i){this.chargementImage=e;const n=new FileReader;n.readAsDataURL(i),n.onloadend=(function(s){const r=new Image;r.src=s.target.result,r.onload=(function(){if(r.width>1500){const o=document.createElement("canvas"),a=r.width/r.height,l=1500,u=1500/a;o.width=l,o.height=u,o.getContext("2d").drawImage(r,0,0,l,u),this.chargementImage="",e==="recto"?this.imageRecto=o.toDataURL("image/jpeg",.85):this.imageVerso=o.toDataURL("image/jpeg",.85)}else this.chargementImage="",e==="recto"?this.imageRecto=s.target.result:this.imageVerso=s.target.result}).bind(this)}).bind(this)}},definirCouleurTexte(t){const e=t.charAt(0)==="#"?t.substring(1,7):t,i=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);return i*.299+n*.587+s*.114>186?"#001d1d":"#ffffff"}}},Kre=d("div",{class:"conteneur-gauche"},null,-1),Wre={key:0,class:"conteneur panneau-cartes"},qre={class:"contenu"},Yre={class:"format"},Xre={class:"paysage"},Jre=["id","name","checked"],Zre=["for"],eoe={class:"portrait"},toe=["id","name","checked"],ioe=["for"],noe={class:"carre"},soe=["id","name","checked"],roe=["for"],ooe={class:"conteneur-recto"},aoe=["value"],loe=["id","value","title"],uoe={key:1,class:"fond-recto"},coe=["for","title"],Aoe=d("i",{class:"material-icons"},"add_photo_alternate",-1),hoe=[Aoe],doe=["id"],foe={key:2,class:"fond-recto"},poe=d("span",{class:"conteneur-chargement"},[d("span",{class:"chargement"})],-1),goe=[poe],moe=d("i",{class:"material-icons"},"highlight_off",-1),voe=[moe],boe=d("i",{class:"material-icons"},"highlight_off",-1),yoe=[boe],woe={class:"conteneur-verso"},_oe=["value"],Coe=["id","value","title"],Eoe={key:1,class:"fond-verso"},Toe=["for","title"],xoe=d("i",{class:"material-icons"},"add_photo_alternate",-1),Soe=[xoe],Boe=["id"],koe={key:2,class:"fond-verso"},Doe=d("span",{class:"conteneur-chargement"},[d("span",{class:"chargement"})],-1),Foe=[Doe],Ioe=d("i",{class:"material-icons"},"highlight_off",-1),Loe=[Ioe],Poe=d("i",{class:"material-icons"},"highlight_off",-1),Moe=[Poe],Roe=["title"],Ooe=d("i",{class:"material-icons"},"add_circle_outline",-1),Uoe=[Ooe],Noe=["id","onClick"],Hoe={key:1},Qoe={key:1},$oe=["onClick"],joe=d("i",{class:"material-icons"},"highlight_off",-1),Voe=[joe],zoe={key:1,class:"conteneur panneau-cartes"},Goe={class:"contenu cartes"},Koe=["id","onClick"],Woe={key:1},qoe={key:1},Yoe=d("div",{class:"conteneur-droite"},null,-1),Xoe=d("div",{class:"conteneur-bas"},null,-1);function Joe(t,e,i,n,s,r){const o=Ke("draggable"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Kre,s.mode==="edition"?(Y(),te("div",Wre,[d("div",qre,[d("label",null,oe(t.$t("formatCartes")),1),d("div",Yre,[d("span",Xre,[d("input",{type:"radio",id:"format_paysage_"+s.id,name:"format_"+s.id,value:"paysage",checked:s.format==="paysage",onChange:e[0]||(e[0]=l=>s.format=l.target.value)},null,40,Jre),d("label",{for:"format_paysage_"+s.id},oe(t.$t("paysage")),9,Zre)]),d("span",eoe,[d("input",{type:"radio",id:"format_portrait_"+s.id,name:"format_"+s.id,value:"portrait",checked:s.format==="portrait",onChange:e[1]||(e[1]=l=>s.format=l.target.value)},null,40,toe),d("label",{for:"format_portrait_"+s.id},oe(t.$t("portrait")),9,ioe)]),d("span",noe,[d("input",{type:"radio",id:"format_carre_"+s.id,name:"format_"+s.id,value:"carre",checked:s.format==="carre",onChange:e[2]||(e[2]=l=>s.format=l.target.value)},null,40,soe),d("label",{for:"format_carre_"+s.id},oe(t.$t("carre")),9,roe)])]),d("label",null,oe(t.$t("recto")),1),d("div",ooe,[d("input",{type:"search",class:Ne({"avec-image":s.imageRecto!==""}),value:s.texteRecto,maxlength:50,onInput:e[3]||(e[3]=l=>s.texteRecto=l.target.value)},null,42,aoe),s.imageRecto===""&&s.chargementImage===""?(Y(),te("input",{key:0,type:"color",id:"fond-recto-"+s.id,value:s.fondRecto,title:t.$t("selectionnerCouleurFond"),onChange:e[4]||(e[4]=l=>s.fondRecto=l.target.value)},null,40,loe)):De("",!0),s.fondRecto==="#001d1d"&&s.imageRecto===""&&s.chargementImage===""?(Y(),te("span",uoe,[d("label",{for:"televerser-image-recto-"+s.id,title:t.$t("selectionnerImage"),class:"bouton-secondaire"},hoe,8,coe),d("input",{id:"televerser-image-recto-"+s.id,type:"file",onChange:e[5]||(e[5]=l=>r.televerserImage(l,"recto")),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,doe)])):s.imageRecto===""&&s.chargementImage==="recto"?(Y(),te("span",foe,goe)):s.imageRecto!==""?(Y(),te("span",{key:3,class:"fond-recto image",style:ti("background-image: url("+s.imageRecto+")")},null,4)):De("",!0),s.imageRecto!==""?(Y(),te("span",{key:4,class:"supprimer-image",role:"button",tabindex:"0",onClick:e[6]||(e[6]=l=>s.imageRecto="")},voe)):De("",!0),s.fondRecto!=="#001d1d"&&s.imageRecto===""?(Y(),te("span",{key:5,class:"supprimer-fond",role:"button",tabindex:"0",onClick:e[7]||(e[7]=l=>s.fondRecto="#001d1d")},yoe)):De("",!0)]),d("label",null,oe(t.$t("verso")),1),d("div",woe,[d("input",{type:"search",class:Ne({"avec-image":s.imageVerso!==""}),value:s.texteVerso,maxlength:50,onInput:e[8]||(e[8]=l=>s.texteVerso=l.target.value)},null,42,_oe),s.imageVerso===""&&s.chargementImage===""?(Y(),te("input",{key:0,type:"color",id:"fond-verso-"+s.id,value:s.fondVerso,title:t.$t("selectionnerCouleurFond"),onChange:e[9]||(e[9]=l=>s.fondVerso=l.target.value)},null,40,Coe)):De("",!0),s.fondVerso==="#ffffff"&&s.imageVerso===""&&s.chargementImage===""?(Y(),te("span",Eoe,[d("label",{for:"televerser-image-verso-"+s.id,title:t.$t("selectionnerImage"),class:"bouton-secondaire"},Soe,8,Toe),d("input",{id:"televerser-image-verso-"+s.id,type:"file",onChange:e[10]||(e[10]=l=>r.televerserImage(l,"verso")),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,Boe)])):s.imageVerso===""&&s.chargementImage==="verso"?(Y(),te("span",koe,Foe)):s.imageVerso!==""?(Y(),te("span",{key:3,class:"fond-verso image",style:ti("background-image: url("+s.imageVerso+")")},null,4)):De("",!0),s.imageVerso!==""?(Y(),te("span",{key:4,class:"supprimer-image",role:"button",tabindex:"0",onClick:e[11]||(e[11]=l=>s.imageVerso="")},Loe)):De("",!0),s.fondVerso!=="#ffffff"&&s.imageVerso===""?(Y(),te("span",{key:5,class:"supprimer-fond",role:"button",tabindex:"0",onClick:e[12]||(e[12]=l=>s.fondVerso="#ffffff")},Moe)):De("",!0)]),d("span",{class:"bouton-secondaire ajouter",role:"button",tabindex:"0",title:t.$t("ajouterCarte"),onClick:e[13]||(e[13]=(...l)=>r.ajouterCarte&&r.ajouterCarte(...l))},Uoe,8,Roe),Ct(o,{class:"items",modelValue:s.cartes,"onUpdate:modelValue":e[14]||(e[14]=l=>s.cartes=l)},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.cartes,(l,u)=>(Y(),te("div",{class:Ne(["item",s.format]),key:"item_"+u},[d("div",{id:"item_"+s.id+"_"+u,class:"carte",onClick:c=>r.retournerCarte("item_"+s.id+"_"+u)},[d("div",{class:Ne(["recto",{"avec-image":l.recto.image!==""}]),style:ti("background-color:"+l.recto.fond)},[l.recto.image!==""?(Y(),te("div",{key:0,style:ti("background-image: url("+l.recto.image+")")},[l.recto.texte!==""?(Y(),te("h1",{key:0,style:ti("color:"+r.definirCouleurTexte(l.recto.fond))},oe(l.recto.texte),5)):De("",!0)],4)):(Y(),te("div",Hoe,[l.recto.texte!==""?(Y(),te("h1",{key:0,style:ti("color:"+r.definirCouleurTexte(l.recto.fond))},oe(l.recto.texte),5)):De("",!0)]))],6),d("div",{class:Ne(["verso",{"avec-image":l.verso.image!==""}]),style:ti("background-color:"+l.verso.fond)},[l.verso.image!==""?(Y(),te("div",{key:0,style:ti("background-image: url("+l.verso.image+")")},[l.verso.texte!==""?(Y(),te("p",{key:0,style:ti("color:"+r.definirCouleurTexte(l.verso.fond))},oe(l.verso.texte),5)):De("",!0)],4)):(Y(),te("div",Qoe,[l.verso.texte!==""?(Y(),te("p",{key:0,style:ti("color:"+r.definirCouleurTexte(l.verso.fond))},oe(l.verso.texte),5)):De("",!0)]))],6)],8,Noe),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:c=>r.supprimerCarte(u)},Voe,8,$oe)],2))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[15]||(e[15]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])])):(Y(),te("div",zoe,[d("div",Goe,[(Y(!0),te(dt,null,ei(s.cartes,(l,u)=>(Y(),te("div",{id:"carte_"+s.id+"_"+u,class:Ne(["carte",s.format]),onClick:c=>r.retournerCarte("carte_"+s.id+"_"+u),key:"carte_"+u},[d("div",{class:Ne(["recto",{"avec-image":l.recto.image!==""}]),style:ti("background-color:"+l.recto.fond)},[l.recto.image!==""?(Y(),te("div",{key:0,style:ti("background-image: url("+l.recto.image+")")},[l.recto.texte!==""?(Y(),te("h1",{key:0,style:ti("color:"+r.definirCouleurTexte(l.recto.fond))},oe(l.recto.texte),5)):De("",!0)],4)):(Y(),te("div",Woe,[l.recto.texte!==""?(Y(),te("h1",{key:0,style:ti("color:"+r.definirCouleurTexte(l.recto.fond))},oe(l.recto.texte),5)):De("",!0)]))],6),d("div",{class:Ne(["verso",{"avec-image":l.verso.image!==""}]),style:ti("background-color:"+l.verso.fond)},[l.verso.image!==""?(Y(),te("div",{key:0,style:ti("background-image: url("+l.verso.image+")")},[l.verso.texte!==""?(Y(),te("p",{key:0,style:ti("color:"+r.definirCouleurTexte(l.verso.fond))},oe(l.verso.texte),5)):De("",!0)],4)):(Y(),te("div",qoe,[l.verso.texte!==""?(Y(),te("p",{key:0,style:ti("color:"+r.definirCouleurTexte(l.verso.fond))},oe(l.verso.texte),5)):De("",!0)]))],6)],10,Koe))),128))])])),Yoe,Xoe]),_:1},8,["visible","options"])}const Zoe=Ht(Gre,[["render",Joe]]);const eae={name:"PTirageTexte",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],tirage:"",suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortTexte"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.texte!==""&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-texte")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this))},methods:{generer(){this.texte.split(",").map(e=>e.trim()).length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.creer())},creer(){let t=this.texte.split(",").map(e=>e.trim());t=t.filter(e=>e!==""),t=t.filter((e,i,n)=>n.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="✨✨✨"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),5);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1}).bind(this),1500)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=40,this.positionner()}}},tae=d("div",{class:"conteneur-gauche"},null,-1),iae={class:"conteneur panneau-tirage-texte"},nae={key:0,class:"contenu"},sae=["innerHTML"],rae=["value","placeholder"],oae={class:"choix"},aae={class:"oui"},lae=["id","name","checked"],uae=["for"],cae={class:"non"},Aae=["id","name","checked"],hae=["for"],dae={key:1,class:"contenu"},fae=["innerHTML"],pae={class:"actions"},gae=d("div",{class:"conteneur-droite"},null,-1),mae=d("div",{class:"conteneur-bas"},null,-1);function vae(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[tae,d("div",iae,[s.mode==="edition"?(Y(),te("div",nae,[d("label",null,oe(t.$t("texteTirageTexte")),1),d("span",{class:"consigne",innerHTML:t.$t("consigneTirageTexte")},null,8,sae),d("textarea",{class:"tirage",value:s.texte,onInput:e[0]||(e[0]=a=>s.texte=a.target.value),placeholder:t.$t("exempleListe")},null,40,rae),d("label",null,oe(t.$t("supprimerItemTirage")),1),d("div",oae,[d("span",aae,[d("input",{type:"radio",id:"choix_oui_"+s.id,name:"choix_"+s.id,value:"oui",checked:s.suppression==="oui",onChange:e[1]||(e[1]=a=>s.suppression=a.target.value)},null,40,lae),d("label",{for:"choix_oui_"+s.id},oe(t.$t("oui")),9,uae)]),d("span",cae,[d("input",{type:"radio",id:"choix_non_"+s.id,name:"choix_"+s.id,value:"non",checked:s.suppression==="non",onChange:e[2]||(e[2]=a=>s.suppression=a.target.value)},null,40,Aae),d("label",{for:"choix_non_"+s.id},oe(t.$t("non")),9,hae)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",dae,[d("div",{class:Ne(["tirage",{"tirage-en-cours":s.tirageEnCours,"plein-ecran":s.statut==="max"}]),innerHTML:s.tirage},null,10,fae),d("div",pae,[s.items.length>1?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.tirer&&r.tirer(...a))},oe(t.$t("tirer")),1)):De("",!0)])]))]),gae,mae]),_:1},8,["visible","options"])}const bae=Ht(eae,[["render",vae]]);const yae={name:"PTirageImage",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],items:[],tirage:"",zone:!1,suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortImage"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-image")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.creer())},creer(){let t=JSON.parse(JSON.stringify(this.images));t=t.filter((e,i,n)=>n.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="tirage"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),70);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1}).bind(this),1500)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=40,this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1200){const r=document.createElement("canvas"),o=s.width/s.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1200){const r=document.createElement("canvas"),o=s.width/s.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(n.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)}}},wae=d("div",{class:"conteneur-gauche"},null,-1),_ae={class:"conteneur panneau-tirage-image"},Cae={key:0,class:"contenu"},Eae=["id"],Tae=["for"],xae={class:"images"},Sae=["src","alt"],Bae=["onClick"],kae=d("i",{class:"material-icons"},"highlight_off",-1),Dae=[kae],Fae={class:"choix"},Iae={class:"oui"},Lae=["id","name","checked"],Pae=["for"],Mae={class:"non"},Rae=["id","name","checked"],Oae=["for"],Uae={key:1,class:"contenu lecture"},Nae=["src"],Hae={class:"actions"},Qae=d("div",{class:"conteneur-droite"},null,-1),$ae=d("div",{class:"conteneur-bas"},null,-1);function jae(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[wae,d("div",_ae,[s.mode==="edition"?(Y(),te("div",Cae,[d("label",null,oe(t.$t("texteTirageImage")),1),d("div",{class:"zone",onDragover:e[2]||(e[2]=Wa(()=>{},["prevent"])),onDrop:e[3]||(e[3]=Wa(()=>{},["prevent"]))},[d("input",{id:"selectionner-images-"+s.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...a)=>r.selectionnerImages&&r.selectionnerImages(...a)),style:{display:"none"}},null,40,Eae),d("label",{for:"selectionner-images-"+s.id,onDrop:e[1]||(e[1]=(...a)=>r.glisserImages&&r.glisserImages(...a))},oe(t.$t("selectionnerImages")),41,Tae)],32),d("div",xae,[(Y(!0),te(dt,null,ei(s.images,(a,l)=>(Y(),te("div",{class:"image",key:"image_"+l},[d("img",{src:a,alt:"Image"+l},null,8,Sae),d("span",{class:"fermer",onClick:u=>r.supprimerImage(l)},Dae,8,Bae)]))),128))]),d("label",null,oe(t.$t("supprimerItemTirage")),1),d("div",Fae,[d("span",Iae,[d("input",{type:"radio",id:"choix_oui_"+s.id,name:"choix_"+s.id,value:"oui",checked:s.suppression==="oui",onChange:e[4]||(e[4]=a=>s.suppression=a.target.value)},null,40,Lae),d("label",{for:"choix_oui_"+s.id},oe(t.$t("oui")),9,Pae)]),d("span",Mae,[d("input",{type:"radio",id:"choix_non_"+s.id,name:"choix_"+s.id,value:"non",checked:s.suppression==="non",onChange:e[5]||(e[5]=a=>s.suppression=a.target.value)},null,40,Rae),d("label",{for:"choix_non_"+s.id},oe(t.$t("non")),9,Oae)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",Uae,[s.tirage!=="tirage"?(Y(),te("div",{key:0,class:Ne(["tirage",{"tirage-en-cours":s.tirageEnCours}])},[d("img",{src:s.tirage,alt:"Image"},null,8,Nae)],2)):(Y(),te("div",{key:1,class:Ne(["tirage texte",{"plein-ecran":s.statut==="max"}])}," ✨✨✨ ",2)),d("div",Hae,[s.items.length>1?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.tirer&&r.tirer(...a))},oe(t.$t("tirer")),1)):De("",!0)])]))]),Qae,$ae]),_:1},8,["visible","options"])}const Vae=Ht(yae,[["render",jae]]);const zae={name:"PTirageAudio",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},audios:[],audio:"",lecture:"",items:[],tirage:"",zone:!1,suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{audios:this.audios,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortAudio"),this.panneau.contenu!==""&&(this.audios=this.panneau.contenu.audios,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.audios.length>0&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-audio")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{generer(){this.audios.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.creer())},creer(){let t=JSON.parse(JSON.stringify(this.audios));t=t.filter((e,i,n)=>n.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="tirage"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),70);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1;const e=this.convertirDataURL(this.tirage.donnees),i=window.URL.createObjectURL(e);this.audio=i,this.$nextTick((function(){const n=document.querySelector(".tirage audio");n.onplay=(function(){this.lecture=this.tirage.id}).bind(this),n.onpause=(function(){this.lecture=""}).bind(this),n.onended=(function(){this.lecture=""}).bind(this)}).bind(this))}).bind(this),1500)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=40,this.positionner()},selectionnerAudios(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(n){const s=this.genererId();this.audios.push({id:s,donnees:n.target.result})}).bind(this)}},glisserAudios(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(n){const s=this.genererId();this.audios.push({id:s,donnees:n.target.result})}).bind(this)}},lireAudio(t,e){if(this.lecture===e&&this.audio!=="")this.audio.pause(),this.audio.currentTime=0,this.lecture="";else{const i=this.convertirDataURL(t),n=window.URL.createObjectURL(i);this.audio!==""&&(this.audio.pause(),this.audio.currentTime=0,this.lecture=""),this.audio=new Audio(n),this.audio.play(),this.lecture=e,this.audio.onended=function(){this.audio="",this.lecture=""}}},lireAudioTirage(t){const e=document.querySelector(".tirage audio");this.lecture===t?(e.pause(),this.lecture=""):(e.play(),this.lecture=t)},supprimerAudio(t,e){this.audio!==""&&(this.audio.pause(),this.audio.currentTime=0),this.lecture===e&&(this.lecture=""),this.audios.splice(t,1)},genererId(){let t="";const e="abcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*36));return t}}},Gae=d("div",{class:"conteneur-gauche"},null,-1),Kae={class:"conteneur panneau-tirage-audio"},Wae={key:0,class:"contenu"},qae=["id"],Yae=["for"],Xae={class:"audios"},Jae=["onClick"],Zae=d("i",{class:"material-icons"},"play_arrow",-1),ele=[Zae],tle=["onClick"],ile=d("i",{class:"material-icons"},"highlight_off",-1),nle=[ile],sle={class:"choix"},rle={class:"oui"},ole=["id","name","checked"],ale=["for"],lle={class:"non"},ule=["id","name","checked"],cle=["for"],Ale={key:1,class:"contenu lecture"},hle={key:0,class:"tirage"},dle=d("i",{class:"material-icons"},"play_arrow",-1),fle=[dle],ple=["src"],gle={key:1,class:"tirage"},mle=d("div",{class:"point"},null,-1),vle=[mle],ble={class:"actions"},yle=d("div",{class:"conteneur-droite"},null,-1),wle=d("div",{class:"conteneur-bas"},null,-1);function _le(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Gae,d("div",Kae,[s.mode==="edition"?(Y(),te("div",Wae,[d("label",null,oe(t.$t("texteTirageAudio")),1),d("div",{class:"zone",onDragover:e[2]||(e[2]=Wa(()=>{},["prevent"])),onDrop:e[3]||(e[3]=Wa(()=>{},["prevent"]))},[d("input",{id:"selectionner-audios-"+s.id,type:"file",multiple:"",accept:"audio/*",onChange:e[0]||(e[0]=(...a)=>r.selectionnerAudios&&r.selectionnerAudios(...a)),style:{display:"none"}},null,40,qae),d("label",{for:"selectionner-audios-"+s.id,onDrop:e[1]||(e[1]=(...a)=>r.glisserAudios&&r.glisserAudios(...a))},oe(t.$t("selectionnerAudios")),41,Yae)],32),d("div",Xae,[(Y(!0),te(dt,null,ei(s.audios,(a,l)=>(Y(),te("div",{class:"audio",key:"audio_"+l},[d("span",{class:Ne(["item",{lecture:s.lecture===a.id}]),role:"button",tabindex:"0",onClick:u=>r.lireAudio(a.donnees,a.id)},ele,10,Jae),d("span",{class:"fermer",onClick:u=>r.supprimerAudio(l,a.id)},nle,8,tle)]))),128))]),d("label",null,oe(t.$t("supprimerItemTirage")),1),d("div",sle,[d("span",rle,[d("input",{type:"radio",id:"choix_oui_"+s.id,name:"choix_"+s.id,value:"oui",checked:s.suppression==="oui",onChange:e[4]||(e[4]=a=>s.suppression=a.target.value)},null,40,ole),d("label",{for:"choix_oui_"+s.id},oe(t.$t("oui")),9,ale)]),d("span",lle,[d("input",{type:"radio",id:"choix_non_"+s.id,name:"choix_"+s.id,value:"non",checked:s.suppression==="non",onChange:e[5]||(e[5]=a=>s.suppression=a.target.value)},null,40,ule),d("label",{for:"choix_non_"+s.id},oe(t.$t("non")),9,cle)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",Ale,[s.tirage!=="tirage"&&!s.tirageEnCours?(Y(),te("div",hle,[d("span",{class:Ne(["item",{lecture:s.lecture===s.tirage.id}]),role:"button",tabindex:"0",onClick:e[7]||(e[7]=a=>r.lireAudioTirage(s.tirage.id))},fle,2),d("audio",{controls:"",src:s.audio},null,8,ple)])):s.tirage!=="tirage"&&s.tirageEnCours?(Y(),te("div",gle,vle)):(Y(),te("div",{key:2,class:Ne(["tirage texte",{"plein-ecran":s.statut==="max"}])}," ✨✨✨ ",2)),d("div",ble,[s.items.length>1?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.tirer&&r.tirer(...a))},oe(t.$t("tirer")),1)):De("",!0)])]))]),yle,wle]),_:1},8,["visible","options"])}const Cle=Ht(zae,[["render",_le]]);const Ele={name:"PHistoire",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:22,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},pictogrammes:["aeroport.png","amour.png","ampoule.png","anniversaire.png","appareil-photo.png","argent.png","autobus.png","automne.png","avalanche.png","baleine.png","ballon-air.png","ballon.png","banque.png","bar.png","bar-restaurant.png","basket-fauteuil.png","bateau-pirate.png","bateau.png","bibliotheque.png","bicyclette.png","big-ben.png","bijoux.png","boite.png","bouee-sauvetage.png","boulangerie.png","bouteille.png","boutique-de-cadeaux.png","buvette.png","cafe.png","camion-de-pompiers.png","camping-car.png","canard-plastique.png","canard.png","capitole.png","carafe.png","carte.png","cartes.png","caserne-de-pompiers.png","casque-de-protection.png","cassette-video.png","chaise.png","champignons.png","chapeau-melon.png","chapiteau.png","charcuterie.png","chateau.png","chat.png","chaussures-de-montagne.png","chaussures-de-sport.png","cheval.png","chien.png","chocolat.png","cinema.png","ciseaux.png","cles.png","coccinelle.png","cocotier.png","coffre-fort.png","coffre.png","colisee.png","commissariat.png","console.png","coquillages.png","courses.png","couverts.png","crevaison.png","crocodile.png","cygne.png","danseurs.png","dinosaure-peluche.png","diplôme.png","disque.png","donut.png","dromadaire.png","eau-gazeuse.png","eau.png","echiquier.png","ecureuil.png","elephant.png","eolienne.png","eruption-volcanique.png","essaim-abeilles.png","ete.png","etoile-de-mer.png","fer-cheval.png","fete.png","feu.png","flan-caramel.png","fleuve.png","foret.png","fromage.png","fruiterie.png","fruits-de-mer.png","fruits.png","fusee.png","galerie-d-art.png","gateau-creme.png","guitare.png","hamburger-frites.png","hiver.png","hopital.png","hotel.png","igloo.png","jo.png","jumelles.png","jus-de-pomme.png","jus-d-orange.png","kangourou.png","kayak.png","lait-amande.png","lait.png","lampe-de-poche.png","lampe.png","legumes.png","lentilles.png","librairie.png","lion.png","lit.png","longue-vue.png","loup.png","machine-a-laver.png","magasin-de-bijoux.png","magasin-de-bonbons.png","magasin-de-fleurs.png","magasin-de-glaces.png","magasin-de-sport.png","magasin-de-vetements.png","maison.png","manette.png","masques.png","mate.png","matin.png","medaille-argent.png","medaille-bronze.png","medaille-or.png","metro.png","monospace.png","montagne.png","montre.png","moto.png","muraille-chine.png","musique.png","noel.png","nuage.png","nuit.png","oeufs-paques.png","oeufs.png","oie.png","opera-sydney.png","orage.png","ordinateur.png","ordinateur-portable.png","ours.png","ovni.png","palmier.png","parapluie.png","parasol.png","parc.png","parfumerie.png","pates.png","patins.png","pendule.png","phare.png","pharmacie.png","pile.png","pingouin.png","piscine.png","pizzeria.png","pluie.png","podium.png","poisson.png","pomme-de-pin.png","portable.png","porte-de-brandebourg.png","poubelle.png","poulet.png","printemps.png","puzzle.png","quilles.png","refrigerateur.png","reveil-matin.png","rose.png","sablier.png","sac-sport.png","sagrada-familia.png","salon-de-coiffure.png","sandwich.png","sapin.png","scooter.png","scorpion.png","serpent.png","serviette-de-bain.png","sifflet.png","soja.png","soleil.png","sphynx.png","sport.png","statue-de-la-liberte.png","supermarche.png","table-de-pique-nique.png","tablette.png","taj-mahal.png","talkies-walkies.png","tarentule.png","tarte.png","taxi.png","tempete.png","tente.png","the-glace.png","the.png","tigre.png","tong.png","tonneau.png","torche.png","tornade.png","tortue.png","tour-eiffel.png","train.png","trottinette.png","tv.png","vache.png","valise.png","viande.png","village.png","ville.png","vin.png","voiture-de-sport.png","voiture.png"],images:5,selection:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.selection,w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("histoire"),this.panneau.contenu!==""&&(this.selection=this.panneau.contenu,this.selection.length>0&&(this.images=this.selection.length)),this.genererOptions("histoire")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.images===5?this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)):this.mode==="lecture"&&this.generer()},methods:{generer(){if(this.mode="lecture",this.images>2&&this.images<11){switch(this.images){case 3:this.w=52,this.h=32;break;case 4:this.w=69,this.h=32;break;case 5:this.w=86,this.h=32;break;case 6:this.w=103,this.h=32;break;case 7:case 8:this.w=69,this.h=48;break;case 9:case 10:this.w=86,this.h=48;break}this.selection.length===0&&this.selectionner(),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()}},editer(){this.mode="edition",this.selection=[],this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=22,this.positionner()},selectionner(){const t=[];for(let e=0;e<this.images;){const i=Math.floor(Math.random()*this.pictogrammes.length);t.includes(this.pictogrammes[i])!==!0&&(t.push(this.pictogrammes[i]),e++)}this.selection=t}}},Tle=d("div",{class:"conteneur-gauche"},null,-1),xle={class:"conteneur panneau-histoire"},Sle={key:0,class:"contenu"},Ble=["value"],kle={key:1,class:"contenu"},Dle={class:"histoire"},Fle=["src","alt"],Ile={class:"source"},Lle={href:"https://arasaac.org",target:"_blank"},Ple=d("div",{class:"conteneur-droite"},null,-1),Mle=d("div",{class:"conteneur-bas"},null,-1);function Rle(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Tle,d("div",xle,[s.mode==="edition"?(Y(),te("div",Sle,[d("label",null,oe(t.$t("nombreImages"))+" (3 - 10)",1),d("input",{type:"number",value:s.images,min:3,max:10,onInput:e[0]||(e[0]=a=>s.images=parseInt(a.target.value)),onKeydown:e[1]||(e[1]=qo((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,Ble),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",kle,[d("div",Dle,[(Y(!0),te(dt,null,ei(s.selection,(a,l)=>(Y(),te("img",{src:"./static/img/pictogrammes/"+a,key:"image_"+l,alt:a},null,8,Fle))),128))]),d("div",Ile,[d("a",Lle,oe(t.$t("sourceImages"))+" : ARASAAC. Licence : CC (BY-NC-SA)",1)]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.selectionner&&r.selectionner(...a))},oe(t.$t("generer")),1)]))]),Ple,Mle]),_:1},8,["visible","options"])}const Ole=Ht(Ele,[["render",Rle]]);var SP={exports:{}};(function(t,e){(function(i){t.exports=i()})(function(){var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function(p){return!(!p||!p.Window)&&p instanceof p.Window};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.getWindow=function(p){return(0,i.default)(p)?p:(p.ownerDocument||p).defaultView||r.window},n.init=o,n.window=n.realWindow=void 0;var s=void 0;n.realWindow=s;var r=void 0;function o(p){n.realWindow=s=p;var v=p.document.createTextNode("");v.ownerDocument!==p.document&&typeof p.wrap=="function"&&p.wrap(v)===v&&(p=p.wrap(p)),n.window=r=p}n.window=r,typeof window<"u"&&window&&o(window);var a={};function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(p)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=function(p){return!!p&&l(p)==="object"},c=function(p){return typeof p=="function"},A={window:function(p){return p===n.window||(0,i.default)(p)},docFrag:function(p){return u(p)&&p.nodeType===11},object:u,func:c,number:function(p){return typeof p=="number"},bool:function(p){return typeof p=="boolean"},string:function(p){return typeof p=="string"},element:function(p){if(!p||l(p)!=="object")return!1;var v=n.getWindow(p)||n.window;return/object|function/.test(typeof Element>"u"?"undefined":l(Element))?p instanceof Element||p instanceof v.Element:p.nodeType===1&&typeof p.nodeName=="string"},plainObject:function(p){return u(p)&&!!p.constructor&&/function Object\b/.test(p.constructor.toString())},array:function(p){return u(p)&&p.length!==void 0&&c(p.splice)}};a.default=A;var h={};function g(p){var v=p.interaction;if(v.prepared.name==="drag"){var T=v.prepared.axis;T==="x"?(v.coords.cur.page.y=v.coords.start.page.y,v.coords.cur.client.y=v.coords.start.client.y,v.coords.velocity.client.y=0,v.coords.velocity.page.y=0):T==="y"&&(v.coords.cur.page.x=v.coords.start.page.x,v.coords.cur.client.x=v.coords.start.client.x,v.coords.velocity.client.x=0,v.coords.velocity.page.x=0)}}function f(p){var v=p.iEvent,T=p.interaction;if(T.prepared.name==="drag"){var x=T.prepared.axis;if(x==="x"||x==="y"){var R=x==="x"?"y":"x";v.page[R]=T.coords.start.page[R],v.client[R]=T.coords.start.client[R],v.delta[R]=0}}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var y={id:"actions/drag",install:function(p){var v=p.actions,T=p.Interactable,x=p.defaults;T.prototype.draggable=y.draggable,v.map.drag=y,v.methodDict.drag="draggable",x.actions.drag=y.defaults},listeners:{"interactions:before-action-move":g,"interactions:action-resume":g,"interactions:action-move":f,"auto-start:check":function(p){var v=p.interaction,T=p.interactable,x=p.buttons,R=T.options.drag;if(R&&R.enabled&&(!v.pointerIsDown||!/mouse|pointer/.test(v.pointerType)||x&T.options.drag.mouseButtons))return p.action={name:"drag",axis:R.lockAxis==="start"?R.startAxis:R.lockAxis},!1}},draggable:function(p){return a.default.object(p)?(this.options.drag.enabled=p.enabled!==!1,this.setPerAction("drag",p),this.setOnEvents("drag",p),/^(xy|x|y|start)$/.test(p.lockAxis)&&(this.options.drag.lockAxis=p.lockAxis),/^(xy|x|y)$/.test(p.startAxis)&&(this.options.drag.startAxis=p.startAxis),this):a.default.bool(p)?(this.options.drag.enabled=p,this):this.options.drag},beforeMove:g,move:f,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},E=y;h.default=E;var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var m={init:function(p){var v=p;m.document=v.document,m.DocumentFragment=v.DocumentFragment||b,m.SVGElement=v.SVGElement||b,m.SVGSVGElement=v.SVGSVGElement||b,m.SVGElementInstance=v.SVGElementInstance||b,m.Element=v.Element||b,m.HTMLElement=v.HTMLElement||m.Element,m.Event=v.Event,m.Touch=v.Touch||b,m.PointerEvent=v.PointerEvent||v.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function b(){}var _=m;C.default=_;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var L={init:function(p){var v=C.default.Element,T=p.navigator||{};L.supportsTouch="ontouchstart"in p||a.default.func(p.DocumentTouch)&&C.default.document instanceof p.DocumentTouch,L.supportsPointerEvent=T.pointerEnabled!==!1&&!!C.default.PointerEvent,L.isIOS=/iP(hone|od|ad)/.test(T.platform),L.isIOS7=/iP(hone|od|ad)/.test(T.platform)&&/OS 7[^\d]/.test(T.appVersion),L.isIe9=/MSIE 9/.test(T.userAgent),L.isOperaMobile=T.appName==="Opera"&&L.supportsTouch&&/Presto/.test(T.userAgent),L.prefixedMatchesSelector="matches"in v.prototype?"matches":"webkitMatchesSelector"in v.prototype?"webkitMatchesSelector":"mozMatchesSelector"in v.prototype?"mozMatchesSelector":"oMatchesSelector"in v.prototype?"oMatchesSelector":"msMatchesSelector",L.pEventTypes=L.supportsPointerEvent?C.default.PointerEvent===p.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,L.wheelEvent=C.default.document&&"onmousewheel"in C.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},j=L;B.default=j;var O={};function Q(p){var v=p.parentNode;if(a.default.docFrag(v)){for(;(v=v.host)&&a.default.docFrag(v););return v}return v}function $(p,v){return n.window!==n.realWindow&&(v=v.replace(/\/deep\//g," ")),p[B.default.prefixedMatchesSelector](v)}Object.defineProperty(O,"__esModule",{value:!0}),O.closest=function(p,v){for(;a.default.element(p);){if($(p,v))return p;p=Q(p)}return null},O.getActualElement=function(p){return p.correspondingUseElement||p},O.getElementClientRect=k,O.getElementRect=function(p){var v=k(p);if(!B.default.isIOS7&&v){var T=S(n.getWindow(p));v.left+=T.x,v.right+=T.x,v.top+=T.y,v.bottom+=T.y}return v},O.getPath=function(p){for(var v=[];p;)v.push(p),p=Q(p);return v},O.getScrollXY=S,O.indexOfDeepestElement=function(p){for(var v,T=[],x=0;x<p.length;x++){var R=p[x],K=p[v];if(R&&x!==v)if(K){var Z=D(R),q=D(K);if(Z!==R.ownerDocument)if(q!==R.ownerDocument)if(Z!==q){T=T.length?T:U(K);var J=void 0;if(K instanceof C.default.HTMLElement&&R instanceof C.default.SVGElement&&!(R instanceof C.default.SVGSVGElement)){if(R===q)continue;J=R.ownerSVGElement}else J=R;for(var de=U(J,K.ownerDocument),ge=0;de[ge]&&de[ge]===T[ge];)ge++;var Ce=[de[ge-1],de[ge],T[ge]];if(Ce[0])for(var Re=Ce[0].lastChild;Re;){if(Re===Ce[1]){v=x,T=de;break}if(Re===Ce[2])break;Re=Re.previousSibling}}else Ue=R,Se=K,(parseInt(n.getWindow(Ue).getComputedStyle(Ue).zIndex,10)||0)>=(parseInt(n.getWindow(Se).getComputedStyle(Se).zIndex,10)||0)&&(v=x);else v=x}else v=x}var Ue,Se;return v},O.matchesSelector=$,O.matchesUpTo=function(p,v,T){for(;a.default.element(p);){if($(p,v))return!0;if((p=Q(p))===T)return $(p,v)}return!1},O.nodeContains=function(p,v){if(p.contains)return p.contains(v);for(;v;){if(v===p)return!0;v=v.parentNode}return!1},O.parentNode=Q,O.trySelector=function(p){return!!a.default.string(p)&&(C.default.document.querySelector(p),!0)};var D=function(p){return p.parentNode||p.host};function U(p,v){for(var T,x=[],R=p;(T=D(R))&&R!==v&&T!==R.ownerDocument;)x.unshift(R),R=T;return x}function S(p){return{x:(p=p||n.window).scrollX||p.document.documentElement.scrollLeft,y:p.scrollY||p.document.documentElement.scrollTop}}function k(p){var v=p instanceof C.default.SVGElement?p.getBoundingClientRect():p.getClientRects()[0];return v&&{left:v.left,right:v.right,top:v.top,bottom:v.bottom,width:v.width||v.right-v.left,height:v.height||v.bottom-v.top}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(p,v){for(var T in v)p[T]=v[T];return p};var N={};function V(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}function G(p,v,T){return p==="parent"?(0,O.parentNode)(T):p==="self"?v.getRect(T):(0,O.closest)(T,p)}Object.defineProperty(N,"__esModule",{value:!0}),N.addEdges=function(p,v,T){p.left&&(v.left+=T.x),p.right&&(v.right+=T.x),p.top&&(v.top+=T.y),p.bottom&&(v.bottom+=T.y),v.width=v.right-v.left,v.height=v.bottom-v.top},N.getStringOptionResult=G,N.rectToXY=function(p){return p&&{x:"x"in p?p.x:p.left,y:"y"in p?p.y:p.top}},N.resolveRectLike=function(p,v,T,x){var R,K=p;return a.default.string(K)?K=G(K,v,T):a.default.func(K)&&(K=K.apply(void 0,function(Z){if(Array.isArray(Z))return V(Z)}(R=x)||function(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}(R)||function(Z,q){if(Z){if(typeof Z=="string")return V(Z,q);var J=Object.prototype.toString.call(Z).slice(8,-1);return J==="Object"&&Z.constructor&&(J=Z.constructor.name),J==="Map"||J==="Set"?Array.from(Z):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?V(Z,q):void 0}}(R)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),a.default.element(K)&&(K=(0,O.getElementRect)(K)),K},N.tlbrToXywh=function(p){return!p||"x"in p&&"y"in p||((p=(0,M.default)({},p)).x=p.left||0,p.y=p.top||0,p.width=p.width||(p.right||0)-p.x,p.height=p.height||(p.bottom||0)-p.y),p},N.xywhToTlbr=function(p){return!p||"left"in p&&"top"in p||((p=(0,M.default)({},p)).left=p.x||0,p.top=p.y||0,p.right=p.right||p.left+p.width,p.bottom=p.bottom||p.top+p.height),p};var ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(p,v,T){var x=p.options[T],R=x&&x.origin||p.options.origin,K=(0,N.resolveRectLike)(R,p,v,[p&&v]);return(0,N.rectToXY)(K)||{x:0,y:0}};var se={};function ne(p){return p.trim().split(/ +/)}Object.defineProperty(se,"__esModule",{value:!0}),se.default=function p(v,T,x){if(x=x||{},a.default.string(v)&&v.search(" ")!==-1&&(v=ne(v)),a.default.array(v))return v.reduce(function(J,de){return(0,M.default)(J,p(de,T,x))},x);if(a.default.object(v)&&(T=v,v=""),a.default.func(T))x[v]=x[v]||[],x[v].push(T);else if(a.default.array(T))for(var R=0;R<T.length;R++){var K;K=T[R],p(v,K,x)}else if(a.default.object(T))for(var Z in T){var q=ne(Z).map(function(J){return"".concat(v).concat(J)});p(q,T[Z],x)}return x};var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.default=function(p,v){return Math.sqrt(p*p+v*v)};var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=function(p,v){p.__set||(p.__set={});var T=function(R){if(we.some(function(K){return R.indexOf(K)===0}))return"continue";typeof p[R]!="function"&&R!=="__set"&&Object.defineProperty(p,R,{get:function(){return R in p.__set?p.__set[R]:p.__set[R]=v[R]},set:function(K){p.__set[R]=K},configurable:!0})};for(var x in v)T(x);return p};var we=["webkit","moz"],pe={};function ke(p){return p instanceof C.default.Event||p instanceof C.default.Touch}function ce(p,v,T){return p=p||"page",(T=T||{}).x=v[p+"X"],T.y=v[p+"Y"],T}function ye(p,v){return v=v||{x:0,y:0},B.default.isOperaMobile&&ke(p)?(ce("screen",p,v),v.x+=window.scrollX,v.y+=window.scrollY):ce("page",p,v),v}function ie(p,v){return v=v||{},B.default.isOperaMobile&&ke(p)?ce("screen",p,v):ce("client",p,v),v}function He(p){var v=[];return a.default.array(p)?(v[0]=p[0],v[1]=p[1]):p.type==="touchend"?p.touches.length===1?(v[0]=p.touches[0],v[1]=p.changedTouches[0]):p.touches.length===0&&(v[0]=p.changedTouches[0],v[1]=p.changedTouches[1]):(v[0]=p.touches[0],v[1]=p.touches[1]),v}function $e(p){for(var v={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},T=0;T<p.length;T++){var x=p[T];for(var R in v)v[R]+=x[R]}for(var K in v)v[K]/=p.length;return v}Object.defineProperty(pe,"__esModule",{value:!0}),pe.coordsToEvent=function(p){return{coords:p,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},pe.copyCoords=function(p,v){p.page=p.page||{},p.page.x=v.page.x,p.page.y=v.page.y,p.client=p.client||{},p.client.x=v.client.x,p.client.y=v.client.y,p.timeStamp=v.timeStamp},pe.getClientXY=ie,pe.getEventTargets=function(p){var v=a.default.func(p.composedPath)?p.composedPath():p.path;return[O.getActualElement(v?v[0]:p.target),O.getActualElement(p.currentTarget)]},pe.getPageXY=ye,pe.getPointerId=function(p){return a.default.number(p.pointerId)?p.pointerId:p.identifier},pe.getPointerType=function(p){return a.default.string(p.pointerType)?p.pointerType:a.default.number(p.pointerType)?[void 0,void 0,"touch","pen","mouse"][p.pointerType]:/touch/.test(p.type||"")||p instanceof C.default.Touch?"touch":"mouse"},pe.getTouchPair=He,pe.getXY=ce,pe.isNativePointer=ke,pe.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},pe.pointerAverage=$e,Object.defineProperty(pe,"pointerExtend",{enumerable:!0,get:function(){return he.default}}),pe.setCoordDeltas=function(p,v,T){p.page.x=T.page.x-v.page.x,p.page.y=T.page.y-v.page.y,p.client.x=T.client.x-v.client.x,p.client.y=T.client.y-v.client.y,p.timeStamp=T.timeStamp-v.timeStamp},pe.setCoordVelocity=function(p,v){var T=Math.max(v.timeStamp/1e3,.001);p.page.x=v.page.x/T,p.page.y=v.page.y/T,p.client.x=v.client.x/T,p.client.y=v.client.y/T,p.timeStamp=T},pe.setCoords=function(p,v,T){var x=v.length>1?$e(v):v[0];ye(x,p.page),ie(x,p.client),p.timeStamp=T},pe.setZeroCoords=function(p){p.page.x=0,p.page.y=0,p.client.x=0,p.client.y=0},pe.touchAngle=function(p,v){var T=v+"X",x=v+"Y",R=He(p),K=R[1][T]-R[0][T],Z=R[1][x]-R[0][x];return 180*Math.atan2(Z,K)/Math.PI},pe.touchBBox=function(p){if(!p.length)return null;var v=He(p),T=Math.min(v[0].pageX,v[1].pageX),x=Math.min(v[0].pageY,v[1].pageY),R=Math.max(v[0].pageX,v[1].pageX),K=Math.max(v[0].pageY,v[1].pageY);return{x:T,y:x,left:T,top:x,right:R,bottom:K,width:R-T,height:K-x}},pe.touchDistance=function(p,v){var T=v+"X",x=v+"Y",R=He(p),K=R[0][T]-R[1][T],Z=R[0][x]-R[1][x];return(0,le.default)(K,Z)};var ae={};function W(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function X(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(ae,"__esModule",{value:!0}),ae.BaseEvent=void 0;var re=function(){function p(x){(function(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")})(this,p),X(this,"immediatePropagationStopped",!1),X(this,"propagationStopped",!1),this._interaction=x}var v,T;return v=p,(T=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&W(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();ae.BaseEvent=re,Object.defineProperty(re.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.remove=ve.merge=ve.from=ve.findIndex=ve.find=ve.contains=void 0,ve.contains=function(p,v){return p.indexOf(v)!==-1},ve.remove=function(p,v){return p.splice(p.indexOf(v),1)};var xe=function(p,v){for(var T=0;T<v.length;T++){var x=v[T];p.push(x)}return p};ve.merge=xe,ve.from=function(p){return xe([],p)};var Me=function(p,v){for(var T=0;T<p.length;T++)if(v(p[T],T,p))return T;return-1};ve.findIndex=Me,ve.find=function(p,v){return p[Me(p,v)]};var Fe={};function Ie(p){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Ie(p)}function Le(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Ge(p,v){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,x){return T.__proto__=x,T},Ge(p,v)}function ze(p,v){if(v&&(Ie(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(p)}function _e(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Te(p){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},Te(p)}function je(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.DropEvent=void 0;var nt=function(p){(function(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),J&&Ge(q,J)})(Z,p);var v,T,x,R,K=(x=Z,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,J=Te(x);if(R){var de=Te(this).constructor;q=Reflect.construct(J,arguments,de)}else q=J.apply(this,arguments);return ze(this,q)});function Z(q,J,de){var ge;(function(Se,We){if(!(Se instanceof We))throw new TypeError("Cannot call a class as a function")})(this,Z),je(_e(ge=K.call(this,J._interaction)),"dropzone",void 0),je(_e(ge),"dragEvent",void 0),je(_e(ge),"relatedTarget",void 0),je(_e(ge),"draggable",void 0),je(_e(ge),"propagationStopped",!1),je(_e(ge),"immediatePropagationStopped",!1);var Ce=de==="dragleave"?q.prev:q.cur,Re=Ce.element,Ue=Ce.dropzone;return ge.type=de,ge.target=Re,ge.currentTarget=Re,ge.dropzone=Ue,ge.dragEvent=J,ge.relatedTarget=J.target,ge.draggable=J.interactable,ge.timeStamp=J.timeStamp,ge}return v=Z,(T=[{key:"reject",value:function(){var q=this,J=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&J.cur.dropzone===this.dropzone&&J.cur.element===this.target)if(J.prev.dropzone=this.dropzone,J.prev.element=this.target,J.rejected=!0,J.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var de=J.activeDrops,ge=ve.findIndex(de,function(Re){var Ue=Re.dropzone,Se=Re.element;return Ue===q.dropzone&&Se===q.target});J.activeDrops.splice(ge,1);var Ce=new Z(J,this.dragEvent,"dropdeactivate");Ce.dropzone=this.dropzone,Ce.target=this.target,this.dropzone.fire(Ce)}else this.dropzone.fire(new Z(J,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Le(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),Z}(ae.BaseEvent);Fe.DropEvent=nt;var st={};function bt(p,v){for(var T=0;T<p.slice().length;T++){var x=p.slice()[T],R=x.dropzone,K=x.element;v.dropzone=R,v.target=K,R.fire(v),v.propagationStopped=v.immediatePropagationStopped=!1}}function ct(p,v){for(var T=function(K,Z){for(var q=K.interactables,J=[],de=0;de<q.list.length;de++){var ge=q.list[de];if(ge.options.drop.enabled){var Ce=ge.options.drop.accept;if(!(a.default.element(Ce)&&Ce!==Z||a.default.string(Ce)&&!O.matchesSelector(Z,Ce)||a.default.func(Ce)&&!Ce({dropzone:ge,draggableElement:Z})))for(var Re=a.default.string(ge.target)?ge._context.querySelectorAll(ge.target):a.default.array(ge.target)?ge.target:[ge.target],Ue=0;Ue<Re.length;Ue++){var Se=Re[Ue];Se!==Z&&J.push({dropzone:ge,element:Se,rect:ge.getRect(Se)})}}}return J}(p,v),x=0;x<T.length;x++){var R=T[x];R.rect=R.dropzone.getRect(R.element)}return T}function $t(p,v,T){for(var x=p.dropState,R=p.interactable,K=p.element,Z=[],q=0;q<x.activeDrops.length;q++){var J=x.activeDrops[q],de=J.dropzone,ge=J.element,Ce=J.rect;Z.push(de.dropCheck(v,T,R,K,ge,Ce)?ge:null)}var Re=O.indexOfDeepestElement(Z);return x.activeDrops[Re]||null}function _t(p,v,T){var x=p.dropState,R={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return T.type==="dragstart"&&(R.activate=new Fe.DropEvent(x,T,"dropactivate"),R.activate.target=null,R.activate.dropzone=null),T.type==="dragend"&&(R.deactivate=new Fe.DropEvent(x,T,"dropdeactivate"),R.deactivate.target=null,R.deactivate.dropzone=null),x.rejected||(x.cur.element!==x.prev.element&&(x.prev.dropzone&&(R.leave=new Fe.DropEvent(x,T,"dragleave"),T.dragLeave=R.leave.target=x.prev.element,T.prevDropzone=R.leave.dropzone=x.prev.dropzone),x.cur.dropzone&&(R.enter=new Fe.DropEvent(x,T,"dragenter"),T.dragEnter=x.cur.element,T.dropzone=x.cur.dropzone)),T.type==="dragend"&&x.cur.dropzone&&(R.drop=new Fe.DropEvent(x,T,"drop"),T.dropzone=x.cur.dropzone,T.relatedTarget=x.cur.element),T.type==="dragmove"&&x.cur.dropzone&&(R.move=new Fe.DropEvent(x,T,"dropmove"),R.move.dragmove=T,T.dropzone=x.cur.dropzone)),R}function gt(p,v){var T=p.dropState,x=T.activeDrops,R=T.cur,K=T.prev;v.leave&&K.dropzone.fire(v.leave),v.enter&&R.dropzone.fire(v.enter),v.move&&R.dropzone.fire(v.move),v.drop&&R.dropzone.fire(v.drop),v.deactivate&&bt(x,v.deactivate),T.prev.dropzone=R.dropzone,T.prev.element=R.element}function si(p,v){var T=p.interaction,x=p.iEvent,R=p.event;if(x.type==="dragmove"||x.type==="dragend"){var K=T.dropState;v.dynamicDrop&&(K.activeDrops=ct(v,T.element));var Z=x,q=$t(T,Z,R);K.rejected=K.rejected&&!!q&&q.dropzone===K.cur.dropzone&&q.element===K.cur.element,K.cur.dropzone=q&&q.dropzone,K.cur.element=q&&q.element,K.events=_t(T,0,Z)}}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var It={id:"actions/drop",install:function(p){var v=p.actions,T=p.interactStatic,x=p.Interactable,R=p.defaults;p.usePlugin(h.default),x.prototype.dropzone=function(K){return function(Z,q){if(a.default.object(q)){if(Z.options.drop.enabled=q.enabled!==!1,q.listeners){var J=(0,se.default)(q.listeners),de=Object.keys(J).reduce(function(ge,Ce){return ge[/^(enter|leave)/.test(Ce)?"drag".concat(Ce):/^(activate|deactivate|move)/.test(Ce)?"drop".concat(Ce):Ce]=J[Ce],ge},{});Z.off(Z.options.drop.listeners),Z.on(de),Z.options.drop.listeners=de}return a.default.func(q.ondrop)&&Z.on("drop",q.ondrop),a.default.func(q.ondropactivate)&&Z.on("dropactivate",q.ondropactivate),a.default.func(q.ondropdeactivate)&&Z.on("dropdeactivate",q.ondropdeactivate),a.default.func(q.ondragenter)&&Z.on("dragenter",q.ondragenter),a.default.func(q.ondragleave)&&Z.on("dragleave",q.ondragleave),a.default.func(q.ondropmove)&&Z.on("dropmove",q.ondropmove),/^(pointer|center)$/.test(q.overlap)?Z.options.drop.overlap=q.overlap:a.default.number(q.overlap)&&(Z.options.drop.overlap=Math.max(Math.min(1,q.overlap),0)),"accept"in q&&(Z.options.drop.accept=q.accept),"checker"in q&&(Z.options.drop.checker=q.checker),Z}return a.default.bool(q)?(Z.options.drop.enabled=q,Z):Z.options.drop}(this,K)},x.prototype.dropCheck=function(K,Z,q,J,de,ge){return function(Ce,Re,Ue,Se,We,rt,qe){var ht=!1;if(!(qe=qe||Ce.getRect(rt)))return!!Ce.options.drop.checker&&Ce.options.drop.checker(Re,Ue,ht,Ce,rt,Se,We);var yt=Ce.options.drop.overlap;if(yt==="pointer"){var Ut=(0,ee.default)(Se,We,"drag"),Ai=pe.getPageXY(Re);Ai.x+=Ut.x,Ai.y+=Ut.y;var Bi=Ai.x>qe.left&&Ai.x<qe.right,qt=Ai.y>qe.top&&Ai.y<qe.bottom;ht=Bi&&qt}var Ti=Se.getRect(We);if(Ti&&yt==="center"){var Br=Ti.left+Ti.width/2,Ca=Ti.top+Ti.height/2;ht=Br>=qe.left&&Br<=qe.right&&Ca>=qe.top&&Ca<=qe.bottom}return Ti&&a.default.number(yt)&&(ht=Math.max(0,Math.min(qe.right,Ti.right)-Math.max(qe.left,Ti.left))*Math.max(0,Math.min(qe.bottom,Ti.bottom)-Math.max(qe.top,Ti.top))/(Ti.width*Ti.height)>=yt),Ce.options.drop.checker&&(ht=Ce.options.drop.checker(Re,Ue,ht,Ce,rt,Se,We)),ht}(this,K,Z,q,J,de,ge)},T.dynamicDrop=function(K){return a.default.bool(K)?(p.dynamicDrop=K,T):p.dynamicDrop},(0,M.default)(v.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),v.methodDict.drop="dropzone",p.dynamicDrop=!1,R.actions.drop=It.defaults},listeners:{"interactions:before-action-start":function(p){var v=p.interaction;v.prepared.name==="drag"&&(v.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(p,v){var T=p.interaction,x=(p.event,p.iEvent);if(T.prepared.name==="drag"){var R=T.dropState;R.activeDrops=null,R.events=null,R.activeDrops=ct(v,T.element),R.events=_t(T,0,x),R.events.activate&&(bt(R.activeDrops,R.events.activate),v.fire("actions/drop:start",{interaction:T,dragEvent:x}))}},"interactions:action-move":si,"interactions:after-action-move":function(p,v){var T=p.interaction,x=p.iEvent;T.prepared.name==="drag"&&(gt(T,T.dropState.events),v.fire("actions/drop:move",{interaction:T,dragEvent:x}),T.dropState.events={})},"interactions:action-end":function(p,v){if(p.interaction.prepared.name==="drag"){var T=p.interaction,x=p.iEvent;si(p,v),gt(T,T.dropState.events),v.fire("actions/drop:end",{interaction:T,dragEvent:x})}},"interactions:stop":function(p){var v=p.interaction;if(v.prepared.name==="drag"){var T=v.dropState;T&&(T.activeDrops=null,T.events=null,T.cur.dropzone=null,T.cur.element=null,T.prev.dropzone=null,T.prev.element=null,T.rejected=!1)}}},getActiveDrops:ct,getDrop:$t,getDropEvents:_t,fireDropEvents:gt,defaults:{enabled:!1,accept:null,overlap:"pointer"}},ri=It;st.default=ri;var Ki={};function Bn(p){var v=p.interaction,T=p.iEvent,x=p.phase;if(v.prepared.name==="gesture"){var R=v.pointers.map(function(de){return de.pointer}),K=x==="start",Z=x==="end",q=v.interactable.options.deltaSource;if(T.touches=[R[0],R[1]],K)T.distance=pe.touchDistance(R,q),T.box=pe.touchBBox(R),T.scale=1,T.ds=0,T.angle=pe.touchAngle(R,q),T.da=0,v.gesture.startDistance=T.distance,v.gesture.startAngle=T.angle;else if(Z){var J=v.prevEvent;T.distance=J.distance,T.box=J.box,T.scale=J.scale,T.ds=0,T.angle=J.angle,T.da=0}else T.distance=pe.touchDistance(R,q),T.box=pe.touchBBox(R),T.scale=T.distance/v.gesture.startDistance,T.angle=pe.touchAngle(R,q),T.ds=T.scale-v.gesture.scale,T.da=T.angle-v.gesture.angle;v.gesture.distance=T.distance,v.gesture.angle=T.angle,a.default.number(T.scale)&&T.scale!==1/0&&!isNaN(T.scale)&&(v.gesture.scale=T.scale)}}Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.default=void 0;var kn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(p){var v=p.actions,T=p.Interactable,x=p.defaults;T.prototype.gesturable=function(R){return a.default.object(R)?(this.options.gesture.enabled=R.enabled!==!1,this.setPerAction("gesture",R),this.setOnEvents("gesture",R),this):a.default.bool(R)?(this.options.gesture.enabled=R,this):this.options.gesture},v.map.gesture=kn,v.methodDict.gesture="gesturable",x.actions.gesture=kn.defaults},listeners:{"interactions:action-start":Bn,"interactions:action-move":Bn,"interactions:action-end":Bn,"interactions:new":function(p){p.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(p){if(!(p.interaction.pointers.length<2)){var v=p.interactable.options.gesture;if(v&&v.enabled)return p.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Xs=kn;Ki.default=Xs;var Wn={};function Zi(p,v,T,x,R,K,Z){if(!v)return!1;if(v===!0){var q=a.default.number(K.width)?K.width:K.right-K.left,J=a.default.number(K.height)?K.height:K.bottom-K.top;if(Z=Math.min(Z,Math.abs((p==="left"||p==="right"?q:J)/2)),q<0&&(p==="left"?p="right":p==="right"&&(p="left")),J<0&&(p==="top"?p="bottom":p==="bottom"&&(p="top")),p==="left"){var de=q>=0?K.left:K.right;return T.x<de+Z}if(p==="top"){var ge=J>=0?K.top:K.bottom;return T.y<ge+Z}if(p==="right")return T.x>(q>=0?K.right:K.left)-Z;if(p==="bottom")return T.y>(J>=0?K.bottom:K.top)-Z}return!!a.default.element(x)&&(a.default.element(v)?v===x:O.matchesUpTo(x,v,R))}function Js(p){var v=p.iEvent,T=p.interaction;if(T.prepared.name==="resize"&&T.resizeAxes){var x=v;T.interactable.options.resize.square?(T.resizeAxes==="y"?x.delta.x=x.delta.y:x.delta.y=x.delta.x,x.axes="xy"):(x.axes=T.resizeAxes,T.resizeAxes==="x"?x.delta.y=0:T.resizeAxes==="y"&&(x.delta.x=0))}}Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0;var tt={id:"actions/resize",before:["actions/drag"],install:function(p){var v=p.actions,T=p.browser,x=p.Interactable,R=p.defaults;tt.cursors=function(K){return K.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(T),tt.defaultMargin=T.supportsTouch||T.supportsPointerEvent?20:10,x.prototype.resizable=function(K){return function(Z,q,J){return a.default.object(q)?(Z.options.resize.enabled=q.enabled!==!1,Z.setPerAction("resize",q),Z.setOnEvents("resize",q),a.default.string(q.axis)&&/^x$|^y$|^xy$/.test(q.axis)?Z.options.resize.axis=q.axis:q.axis===null&&(Z.options.resize.axis=J.defaults.actions.resize.axis),a.default.bool(q.preserveAspectRatio)?Z.options.resize.preserveAspectRatio=q.preserveAspectRatio:a.default.bool(q.square)&&(Z.options.resize.square=q.square),Z):a.default.bool(q)?(Z.options.resize.enabled=q,Z):Z.options.resize}(this,K,p)},v.map.resize=tt,v.methodDict.resize="resizable",R.actions.resize=tt.defaults},listeners:{"interactions:new":function(p){p.interaction.resizeAxes="xy"},"interactions:action-start":function(p){(function(v){var T=v.iEvent,x=v.interaction;if(x.prepared.name==="resize"&&x.prepared.edges){var R=T,K=x.rect;x._rects={start:(0,M.default)({},K),corrected:(0,M.default)({},K),previous:(0,M.default)({},K),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},R.edges=x.prepared.edges,R.rect=x._rects.corrected,R.deltaRect=x._rects.delta}})(p),Js(p)},"interactions:action-move":function(p){(function(v){var T=v.iEvent,x=v.interaction;if(x.prepared.name==="resize"&&x.prepared.edges){var R=T,K=x.interactable.options.resize.invert,Z=K==="reposition"||K==="negate",q=x.rect,J=x._rects,de=J.start,ge=J.corrected,Ce=J.delta,Re=J.previous;if((0,M.default)(Re,ge),Z){if((0,M.default)(ge,q),K==="reposition"){if(ge.top>ge.bottom){var Ue=ge.top;ge.top=ge.bottom,ge.bottom=Ue}if(ge.left>ge.right){var Se=ge.left;ge.left=ge.right,ge.right=Se}}}else ge.top=Math.min(q.top,de.bottom),ge.bottom=Math.max(q.bottom,de.top),ge.left=Math.min(q.left,de.right),ge.right=Math.max(q.right,de.left);for(var We in ge.width=ge.right-ge.left,ge.height=ge.bottom-ge.top,ge)Ce[We]=ge[We]-Re[We];R.edges=x.prepared.edges,R.rect=ge,R.deltaRect=Ce}})(p),Js(p)},"interactions:action-end":function(p){var v=p.iEvent,T=p.interaction;if(T.prepared.name==="resize"&&T.prepared.edges){var x=v;x.edges=T.prepared.edges,x.rect=T._rects.corrected,x.deltaRect=T._rects.delta}},"auto-start:check":function(p){var v=p.interaction,T=p.interactable,x=p.element,R=p.rect,K=p.buttons;if(R){var Z=(0,M.default)({},v.coords.cur.page),q=T.options.resize;if(q&&q.enabled&&(!v.pointerIsDown||!/mouse|pointer/.test(v.pointerType)||K&q.mouseButtons)){if(a.default.object(q.edges)){var J={left:!1,right:!1,top:!1,bottom:!1};for(var de in J)J[de]=Zi(de,q.edges[de],Z,v._latestPointer.eventTarget,x,R,q.margin||tt.defaultMargin);J.left=J.left&&!J.right,J.top=J.top&&!J.bottom,(J.left||J.right||J.top||J.bottom)&&(p.action={name:"resize",edges:J})}else{var ge=q.axis!=="y"&&Z.x>R.right-tt.defaultMargin,Ce=q.axis!=="x"&&Z.y>R.bottom-tt.defaultMargin;(ge||Ce)&&(p.action={name:"resize",axes:(ge?"x":"")+(Ce?"y":"")})}return!p.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(p){var v=p.edges,T=p.axis,x=p.name,R=tt.cursors,K=null;if(T)K=R[x+T];else if(v){for(var Z="",q=["top","bottom","left","right"],J=0;J<q.length;J++){var de=q[J];v[de]&&(Z+=de)}K=R[Z]}return K},defaultMargin:null},jt=tt;Wn.default=jt;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var bi={id:"actions",install:function(p){p.usePlugin(Ki.default),p.usePlugin(Wn.default),p.usePlugin(h.default),p.usePlugin(st.default)}};pt.default=bi;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var an,Ts,pu=0,gu={request:function(p){return an(p)},cancel:function(p){return Ts(p)},init:function(p){if(an=p.requestAnimationFrame,Ts=p.cancelAnimationFrame,!an)for(var v=["ms","moz","webkit","o"],T=0;T<v.length;T++){var x=v[T];an=p["".concat(x,"RequestAnimationFrame")],Ts=p["".concat(x,"CancelAnimationFrame")]||p["".concat(x,"CancelRequestAnimationFrame")]}an=an&&an.bind(p),Ts=Ts&&Ts.bind(p),an||(an=function(R){var K=Date.now(),Z=Math.max(0,16-(K-pu)),q=p.setTimeout(function(){R(K+Z)},Z);return pu=K+Z,q},Ts=function(R){return clearTimeout(R)})}};Jt.default=gu;var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0,qn.getContainer=en,qn.getScroll=po,qn.getScrollSize=function(p){return a.default.window(p)&&(p=window.document.body),{x:p.scrollWidth,y:p.scrollHeight}},qn.getScrollSizeDelta=function(p,v){var T=p.interaction,x=p.element,R=T&&T.interactable.options[T.prepared.name].autoScroll;if(!R||!R.enabled)return v(),{x:0,y:0};var K=en(R.container,T.interactable,x),Z=po(K);v();var q=po(K);return{x:q.x-Z.x,y:q.y-Z.y}};var mt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(p){mt.isScrolling=!0,Jt.default.cancel(mt.i),p.autoScroll=mt,mt.interaction=p,mt.prevTime=mt.now(),mt.i=Jt.default.request(mt.scroll)},stop:function(){mt.isScrolling=!1,mt.interaction&&(mt.interaction.autoScroll=null),Jt.default.cancel(mt.i)},scroll:function(){var p=mt.interaction,v=p.interactable,T=p.element,x=p.prepared.name,R=v.options[x].autoScroll,K=en(R.container,v,T),Z=mt.now(),q=(Z-mt.prevTime)/1e3,J=R.speed*q;if(J>=1){var de={x:mt.x*J,y:mt.y*J};if(de.x||de.y){var ge=po(K);a.default.window(K)?K.scrollBy(de.x,de.y):K&&(K.scrollLeft+=de.x,K.scrollTop+=de.y);var Ce=po(K),Re={x:Ce.x-ge.x,y:Ce.y-ge.y};(Re.x||Re.y)&&v.fire({type:"autoscroll",target:T,interactable:v,delta:Re,interaction:p,container:K})}mt.prevTime=Z}mt.isScrolling&&(Jt.default.cancel(mt.i),mt.i=Jt.default.request(mt.scroll))},check:function(p,v){var T;return(T=p.options[v].autoScroll)==null?void 0:T.enabled},onInteractionMove:function(p){var v=p.interaction,T=p.pointer;if(v.interacting()&&mt.check(v.interactable,v.prepared.name))if(v.simulation)mt.x=mt.y=0;else{var x,R,K,Z,q=v.interactable,J=v.element,de=v.prepared.name,ge=q.options[de].autoScroll,Ce=en(ge.container,q,J);if(a.default.window(Ce))Z=T.clientX<mt.margin,x=T.clientY<mt.margin,R=T.clientX>Ce.innerWidth-mt.margin,K=T.clientY>Ce.innerHeight-mt.margin;else{var Re=O.getElementClientRect(Ce);Z=T.clientX<Re.left+mt.margin,x=T.clientY<Re.top+mt.margin,R=T.clientX>Re.right-mt.margin,K=T.clientY>Re.bottom-mt.margin}mt.x=R?1:Z?-1:0,mt.y=K?1:x?-1:0,mt.isScrolling||(mt.margin=ge.margin,mt.speed=ge.speed,mt.start(v))}}};function en(p,v,T){return(a.default.string(p)?(0,N.getStringOptionResult)(p,v,T):p)||(0,n.getWindow)(T)}function po(p){return a.default.window(p)&&(p=window.document.body),{x:p.scrollLeft,y:p.scrollTop}}var Gc={id:"auto-scroll",install:function(p){var v=p.defaults,T=p.actions;p.autoScroll=mt,mt.now=function(){return p.now()},T.phaselessTypes.autoscroll=!0,v.perAction.autoScroll=mt.defaults},listeners:{"interactions:new":function(p){p.interaction.autoScroll=null},"interactions:destroy":function(p){p.interaction.autoScroll=null,mt.stop(),mt.interaction&&(mt.interaction=null)},"interactions:stop":mt.stop,"interactions:action-move":function(p){return mt.onInteractionMove(p)}}},ra=Gc;qn.default=ra;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.copyAction=function(p,v){return p.name=v.name,p.axis=v.axis,p.edges=v.edges,p},xi.sign=void 0,xi.warnOnce=function(p,v){var T=!1;return function(){return T||(n.window.console.warn(v),T=!0),p.apply(this,arguments)}},xi.sign=function(p){return p>=0?1:-1};var wr={};function ui(p){return a.default.bool(p)?(this.options.styleCursor=p,this):p===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Kc(p){return a.default.func(p)?(this.options.actionChecker=p,this):p===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var oa={id:"auto-start/interactableMethods",install:function(p){var v=p.Interactable;v.prototype.getAction=function(T,x,R,K){var Z=function(q,J,de,ge,Ce){var Re=q.getRect(ge),Ue={action:null,interactable:q,interaction:de,element:ge,rect:Re,buttons:J.buttons||{0:1,1:4,3:8,4:16}[J.button]};return Ce.fire("auto-start:check",Ue),Ue.action}(this,x,R,K,p);return this.options.actionChecker?this.options.actionChecker(T,x,Z,this,K,R):Z},v.prototype.ignoreFrom=(0,xi.warnOnce)(function(T){return this._backCompatOption("ignoreFrom",T)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),v.prototype.allowFrom=(0,xi.warnOnce)(function(T){return this._backCompatOption("allowFrom",T)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),v.prototype.actionChecker=Kc,v.prototype.styleCursor=ui}};wr.default=oa;var xs={};function mu(p,v,T,x,R){return v.testIgnoreAllow(v.options[p.name],T,x)&&v.options[p.name].enabled&&Cr(v,T,p,R)?p:null}function _r(p,v,T,x,R,K,Z){for(var q=0,J=x.length;q<J;q++){var de=x[q],ge=R[q],Ce=de.getAction(v,T,p,ge);if(Ce){var Re=mu(Ce,de,ge,K,Z);if(Re)return{action:Re,interactable:de,element:ge}}}return{action:null,interactable:null,element:null}}function fi(p,v,T,x,R){var K=[],Z=[],q=x;function J(ge){K.push(ge),Z.push(q)}for(;a.default.element(q);){K=[],Z=[],R.interactables.forEachMatch(q,J);var de=_r(p,v,T,K,Z,x,R);if(de.action&&!de.interactable.options[de.action.name].manualStart)return de;q=O.parentNode(q)}return{action:null,interactable:null,element:null}}function al(p,v,T){var x=v.action,R=v.interactable,K=v.element;x=x||{name:null},p.interactable=R,p.element=K,(0,xi.copyAction)(p.prepared,x),p.rect=R&&x.name?R.getRect(K):null,bu(p,T),T.fire("autoStart:prepared",{interaction:p})}function Cr(p,v,T,x){var R=p.options,K=R[T.name].max,Z=R[T.name].maxPerElement,q=x.autoStart.maxInteractions,J=0,de=0,ge=0;if(!(K&&Z&&q))return!1;for(var Ce=0;Ce<x.interactions.list.length;Ce++){var Re=x.interactions.list[Ce],Ue=Re.prepared.name;if(Re.interacting()&&(++J>=q||Re.interactable===p&&((de+=Ue===T.name?1:0)>=K||Re.element===v&&(ge++,Ue===T.name&&ge>=Z))))return!1}return q>0}function vu(p,v){return a.default.number(p)?(v.autoStart.maxInteractions=p,this):v.autoStart.maxInteractions}function ll(p,v,T){var x=T.autoStart.cursorElement;x&&x!==p&&(x.style.cursor=""),p.ownerDocument.documentElement.style.cursor=v,p.style.cursor=v,T.autoStart.cursorElement=v?p:null}function bu(p,v){var T=p.interactable,x=p.element,R=p.prepared;if(p.pointerType==="mouse"&&T&&T.options.styleCursor){var K="";if(R.name){var Z=T.options[R.name].cursorChecker;K=a.default.func(Z)?Z(R,T,x,p._interacting):v.actions.map[R.name].getCursor(R)}ll(p.element,K||"",v)}else v.autoStart.cursorElement&&ll(v.autoStart.cursorElement,"",v)}Object.defineProperty(xs,"__esModule",{value:!0}),xs.default=void 0;var yu={id:"auto-start/base",before:["actions"],install:function(p){var v=p.interactStatic,T=p.defaults;p.usePlugin(wr.default),T.base.actionChecker=null,T.base.styleCursor=!0,(0,M.default)(T.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),v.maxInteractions=function(x){return vu(x,p)},p.autoStart={maxInteractions:1/0,withinInteractionLimit:Cr,cursorElement:null}},listeners:{"interactions:down":function(p,v){var T=p.interaction,x=p.pointer,R=p.event,K=p.eventTarget;T.interacting()||al(T,fi(T,x,R,K,v),v)},"interactions:move":function(p,v){(function(T,x){var R=T.interaction,K=T.pointer,Z=T.event,q=T.eventTarget;R.pointerType!=="mouse"||R.pointerIsDown||R.interacting()||al(R,fi(R,K,Z,q,x),x)})(p,v),function(T,x){var R=T.interaction;if(R.pointerIsDown&&!R.interacting()&&R.pointerWasMoved&&R.prepared.name){x.fire("autoStart:before-start",T);var K=R.interactable,Z=R.prepared.name;Z&&K&&(K.options[Z].manualStart||!Cr(K,R.element,R.prepared,x)?R.stop():(R.start(R.prepared,K,R.element),bu(R,x)))}}(p,v)},"interactions:stop":function(p,v){var T=p.interaction,x=T.interactable;x&&x.options.styleCursor&&ll(T.element,"",v)}},maxInteractions:vu,withinInteractionLimit:Cr,validateAction:mu},ul=yu;xs.default=ul;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.default=void 0;var wu={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(p,v){var T=p.interaction,x=p.eventTarget,R=p.dx,K=p.dy;if(T.prepared.name==="drag"){var Z=Math.abs(R),q=Math.abs(K),J=T.interactable.options.drag,de=J.startAxis,ge=Z>q?"x":Z<q?"y":"xy";if(T.prepared.axis=J.lockAxis==="start"?ge[0]:J.lockAxis,ge!=="xy"&&de!=="xy"&&de!==ge){T.prepared.name=null;for(var Ce=x,Re=function(Se){if(Se!==T.interactable){var We=T.interactable.options.drag;if(!We.manualStart&&Se.testIgnoreAllow(We,Ce,x)){var rt=Se.getAction(T.downPointer,T.downEvent,T,Ce);if(rt&&rt.name==="drag"&&function(qe,ht){if(!ht)return!1;var yt=ht.options.drag.startAxis;return qe==="xy"||yt==="xy"||yt===qe}(ge,Se)&&xs.default.validateAction(rt,Se,Ce,x,v))return Se}}};a.default.element(Ce);){var Ue=v.interactables.forEachMatch(Ce,Re);if(Ue){T.prepared.name="drag",T.interactable=Ue,T.element=Ce;break}Ce=(0,O.parentNode)(Ce)}}}}}};Yr.default=wu;var aa={};function cl(p){var v=p.prepared&&p.prepared.name;if(!v)return null;var T=p.interactable.options;return T[v].hold||T[v].delay}Object.defineProperty(aa,"__esModule",{value:!0}),aa.default=void 0;var la={id:"auto-start/hold",install:function(p){var v=p.defaults;p.usePlugin(xs.default),v.perAction.hold=0,v.perAction.delay=0},listeners:{"interactions:new":function(p){p.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(p){var v=p.interaction,T=cl(v);T>0&&(v.autoStartHoldTimer=setTimeout(function(){v.start(v.prepared,v.interactable,v.element)},T))},"interactions:move":function(p){var v=p.interaction,T=p.duplicate;v.autoStartHoldTimer&&v.pointerWasMoved&&!T&&(clearTimeout(v.autoStartHoldTimer),v.autoStartHoldTimer=null)},"autoStart:before-start":function(p){var v=p.interaction;cl(v)>0&&(v.prepared.name=null)}},getHoldDuration:cl},ua=la;aa.default=ua;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0;var go={id:"auto-start",install:function(p){p.usePlugin(xs.default),p.usePlugin(aa.default),p.usePlugin(Yr.default)}};Xr.default=go;var Yn={};function mo(p){return/^(always|never|auto)$/.test(p)?(this.options.preventDefault=p,this):a.default.bool(p)?(this.options.preventDefault=p?"always":"never",this):this.options.preventDefault}function vo(p){var v=p.interaction,T=p.event;v.interactable&&v.interactable.checkAndPreventDefault(T)}function _u(p){var v=p.Interactable;v.prototype.preventDefault=mo,v.prototype.checkAndPreventDefault=function(T){return function(x,R,K){var Z=x.options.preventDefault;if(Z!=="never")if(Z!=="always"){if(R.events.supportsPassive&&/^touch(start|move)$/.test(K.type)){var q=(0,n.getWindow)(K.target).document,J=R.getDocOptions(q);if(!J||!J.events||J.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(K.type)||a.default.element(K.target)&&(0,O.matchesSelector)(K.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||K.preventDefault()}else K.preventDefault()}(this,p,T)},p.interactions.docEvents.push({type:"dragstart",listener:function(T){for(var x=0;x<p.interactions.list.length;x++){var R=p.interactions.list[x];if(R.element&&(R.element===T.target||(0,O.nodeContains)(R.element,T.target)))return void R.interactable.checkAndPreventDefault(T)}}})}Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.default=void 0,Yn.install=_u;var Cu={id:"core/interactablePreventDefault",install:_u,listeners:["down","move","up","cancel"].reduce(function(p,v){return p["interactions:".concat(v)]=vo,p},{})};Yn.default=Cu;var Al={};Object.defineProperty(Al,"__esModule",{value:!0}),Al.default=void 0,Al.default={};var bo,Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.default=void 0,function(p){p.touchAction="touchAction",p.boxSizing="boxSizing",p.noListeners="noListeners"}(bo||(bo={})),bo.touchAction,bo.boxSizing,bo.noListeners;var ca={id:"dev-tools",install:function(){}};Xn.default=ca;var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.default=function p(v){var T={};for(var x in v){var R=v[x];a.default.plainObject(R)?T[x]=p(R):a.default.array(R)?T[x]=ve.from(R):T[x]=R}return T};var Ss={};function yo(p,v){return function(T){if(Array.isArray(T))return T}(p)||function(T,x){var R=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(R!=null){var K,Z,q=[],J=!0,de=!1;try{for(R=R.call(T);!(J=(K=R.next()).done)&&(q.push(K.value),!x||q.length!==x);J=!0);}catch(ge){de=!0,Z=ge}finally{try{J||R.return==null||R.return()}finally{if(de)throw Z}}return q}}(p,v)||function(T,x){if(T){if(typeof T=="string")return dn(T,x);var R=Object.prototype.toString.call(T).slice(8,-1);return R==="Object"&&T.constructor&&(R=T.constructor.name),R==="Map"||R==="Set"?Array.from(T):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?dn(T,x):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}function Wc(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Zs(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.default=void 0,Ss.getRectOffset=ha;var Eu=function(){function p(x){(function(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")})(this,p),Zs(this,"states",[]),Zs(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Zs(this,"startDelta",void 0),Zs(this,"result",void 0),Zs(this,"endResult",void 0),Zs(this,"startEdges",void 0),Zs(this,"edges",void 0),Zs(this,"interaction",void 0),this.interaction=x,this.result=Aa(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var v,T;return v=p,(T=[{key:"start",value:function(x,R){var K=x.phase,Z=this.interaction,q=function(de){var ge=de.interactable.options[de.prepared.name],Ce=ge.modifiers;return Ce&&Ce.length?Ce:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Re){var Ue=ge[Re];return Ue&&Ue.enabled&&{options:Ue,methods:Ue._methods}}).filter(function(Re){return!!Re})}(Z);this.prepareStates(q),this.startEdges=(0,M.default)({},Z.edges),this.edges=(0,M.default)({},this.startEdges),this.startOffset=ha(Z.rect,R),this.startDelta={x:0,y:0};var J=this.fillArg({phase:K,pageCoords:R,preEnd:!1});return this.result=Aa(),this.startAll(J),this.result=this.setAll(J)}},{key:"fillArg",value:function(x){var R=this.interaction;return x.interaction=R,x.interactable=R.interactable,x.element=R.element,x.rect||(x.rect=R.rect),x.edges||(x.edges=this.startEdges),x.startOffset=this.startOffset,x}},{key:"startAll",value:function(x){for(var R=0;R<this.states.length;R++){var K=this.states[R];K.methods.start&&(x.state=K,K.methods.start(x))}}},{key:"setAll",value:function(x){var R=x.phase,K=x.preEnd,Z=x.skipModifiers,q=x.rect,J=x.edges;x.coords=(0,M.default)({},x.pageCoords),x.rect=(0,M.default)({},q),x.edges=(0,M.default)({},J);for(var de=Z?this.states.slice(Z):this.states,ge=Aa(x.coords,x.rect),Ce=0;Ce<de.length;Ce++){var Re,Ue=de[Ce],Se=Ue.options,We=(0,M.default)({},x.coords),rt=null;(Re=Ue.methods)!=null&&Re.set&&this.shouldDo(Se,K,R)&&(x.state=Ue,rt=Ue.methods.set(x),N.addEdges(x.edges,x.rect,{x:x.coords.x-We.x,y:x.coords.y-We.y})),ge.eventProps.push(rt)}(0,M.default)(this.edges,x.edges),ge.delta.x=x.coords.x-x.pageCoords.x,ge.delta.y=x.coords.y-x.pageCoords.y,ge.rectDelta.left=x.rect.left-q.left,ge.rectDelta.right=x.rect.right-q.right,ge.rectDelta.top=x.rect.top-q.top,ge.rectDelta.bottom=x.rect.bottom-q.bottom;var qe=this.result.coords,ht=this.result.rect;if(qe&&ht){var yt=ge.rect.left!==ht.left||ge.rect.right!==ht.right||ge.rect.top!==ht.top||ge.rect.bottom!==ht.bottom;ge.changed=yt||qe.x!==ge.coords.x||qe.y!==ge.coords.y}return ge}},{key:"applyToInteraction",value:function(x){var R=this.interaction,K=x.phase,Z=R.coords.cur,q=R.coords.start,J=this.result,de=this.startDelta,ge=J.delta;K==="start"&&(0,M.default)(this.startDelta,J.delta);for(var Ce=0;Ce<[[q,de],[Z,ge]].length;Ce++){var Re=yo([[q,de],[Z,ge]][Ce],2),Ue=Re[0],Se=Re[1];Ue.page.x+=Se.x,Ue.page.y+=Se.y,Ue.client.x+=Se.x,Ue.client.y+=Se.y}var We=this.result.rectDelta,rt=x.rect||R.rect;rt.left+=We.left,rt.right+=We.right,rt.top+=We.top,rt.bottom+=We.bottom,rt.width=rt.right-rt.left,rt.height=rt.bottom-rt.top}},{key:"setAndApply",value:function(x){var R=this.interaction,K=x.phase,Z=x.preEnd,q=x.skipModifiers,J=this.setAll(this.fillArg({preEnd:Z,phase:K,pageCoords:x.modifiedCoords||R.coords.cur.page}));if(this.result=J,!J.changed&&(!q||q<this.states.length)&&R.interacting())return!1;if(x.modifiedCoords){var de=R.coords.cur.page,ge={x:x.modifiedCoords.x-de.x,y:x.modifiedCoords.y-de.y};J.coords.x+=ge.x,J.coords.y+=ge.y,J.delta.x+=ge.x,J.delta.y+=ge.y}this.applyToInteraction(x)}},{key:"beforeEnd",value:function(x){var R=x.interaction,K=x.event,Z=this.states;if(Z&&Z.length){for(var q=!1,J=0;J<Z.length;J++){var de=Z[J];x.state=de;var ge=de.options,Ce=de.methods,Re=Ce.beforeEnd&&Ce.beforeEnd(x);if(Re)return this.endResult=Re,!1;q=q||!q&&this.shouldDo(ge,!0,x.phase,!0)}q&&R.move({event:K,preEnd:!0})}}},{key:"stop",value:function(x){var R=x.interaction;if(this.states&&this.states.length){var K=(0,M.default)({states:this.states,interactable:R.interactable,element:R.element,rect:null},x);this.fillArg(K);for(var Z=0;Z<this.states.length;Z++){var q=this.states[Z];K.state=q,q.methods.stop&&q.methods.stop(K)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(x){this.states=[];for(var R=0;R<x.length;R++){var K=x[R],Z=K.options,q=K.methods,J=K.name;this.states.push({options:Z,methods:q,index:R,name:J})}return this.states}},{key:"restoreInteractionCoords",value:function(x){var R=x.interaction,K=R.coords,Z=R.rect,q=R.modification;if(q.result){for(var J=q.startDelta,de=q.result,ge=de.delta,Ce=de.rectDelta,Re=[[K.start,J],[K.cur,ge]],Ue=0;Ue<Re.length;Ue++){var Se=yo(Re[Ue],2),We=Se[0],rt=Se[1];We.page.x-=rt.x,We.page.y-=rt.y,We.client.x-=rt.x,We.client.y-=rt.y}Z.left-=Ce.left,Z.right-=Ce.right,Z.top-=Ce.top,Z.bottom-=Ce.bottom}}},{key:"shouldDo",value:function(x,R,K,Z){return!(!x||x.enabled===!1||Z&&!x.endOnly||x.endOnly&&!R||K==="start"&&!x.setStart)}},{key:"copyFrom",value:function(x){this.startOffset=x.startOffset,this.startDelta=x.startDelta,this.startEdges=x.startEdges,this.edges=x.edges,this.states=x.states.map(function(R){return(0,Er.default)(R)}),this.result=Aa((0,M.default)({},x.result.coords),(0,M.default)({},x.result.rect))}},{key:"destroy",value:function(){for(var x in this)this[x]=null}}])&&Wc(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();function Aa(p,v){return{rect:v,coords:p,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ha(p,v){return p?{left:v.x-p.left,top:v.y-p.top,right:p.right-v.x,bottom:p.bottom-v.y}:{left:0,top:0,right:0,bottom:0}}Ss.default=Eu;var ln={};function Tu(p){var v=p.iEvent,T=p.interaction.modification.result;T&&(v.modifiers=T.eventProps)}Object.defineProperty(ln,"__esModule",{value:!0}),ln.addEventModifiers=Tu,ln.default=void 0,ln.makeModifier=function(p,v){var T=p.defaults,x={start:p.start,set:p.set,beforeEnd:p.beforeEnd,stop:p.stop},R=function(K){var Z=K||{};for(var q in Z.enabled=Z.enabled!==!1,T)q in Z||(Z[q]=T[q]);var J={options:Z,methods:x,name:v,enable:function(){return Z.enabled=!0,J},disable:function(){return Z.enabled=!1,J}};return J};return v&&typeof v=="string"&&(R._defaults=T,R._methods=x),R};var id={id:"modifiers/base",before:["actions"],install:function(p){p.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(p){var v=p.interaction;v.modification=new Ss.default(v)},"interactions:before-action-start":function(p){var v=p.interaction,T=p.interaction.modification;T.start(p,v.coords.start.page),v.edges=T.edges,T.applyToInteraction(p)},"interactions:before-action-move":function(p){var v=p.interaction,T=v.modification,x=T.setAndApply(p);return v.edges=T.edges,x},"interactions:before-action-end":function(p){var v=p.interaction,T=v.modification,x=T.beforeEnd(p);return v.edges=T.startEdges,x},"interactions:action-start":Tu,"interactions:action-move":Tu,"interactions:action-end":Tu,"interactions:after-action-start":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:after-action-move":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:stop":function(p){return p.interaction.modification.stop(p)}}},Cy=id;ln.default=Cy;var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu.defaults=void 0,xu.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Su={};function hl(p){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},hl(p)}function Tg(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function nd(p,v){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,x){return T.__proto__=x,T},nd(p,v)}function xg(p,v){if(v&&(hl(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(p)}function gi(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Bu(p){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},Bu(p)}function Ei(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Su,"__esModule",{value:!0}),Su.InteractEvent=void 0;var ku=function(p){(function(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),J&&nd(q,J)})(Z,p);var v,T,x,R,K=(x=Z,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,J=Bu(x);if(R){var de=Bu(this).constructor;q=Reflect.construct(J,arguments,de)}else q=J.apply(this,arguments);return xg(this,q)});function Z(q,J,de,ge,Ce,Re,Ue){var Se;(function(Bi,qt){if(!(Bi instanceof qt))throw new TypeError("Cannot call a class as a function")})(this,Z),Ei(gi(Se=K.call(this,q)),"relatedTarget",null),Ei(gi(Se),"screenX",void 0),Ei(gi(Se),"screenY",void 0),Ei(gi(Se),"button",void 0),Ei(gi(Se),"buttons",void 0),Ei(gi(Se),"ctrlKey",void 0),Ei(gi(Se),"shiftKey",void 0),Ei(gi(Se),"altKey",void 0),Ei(gi(Se),"metaKey",void 0),Ei(gi(Se),"page",void 0),Ei(gi(Se),"client",void 0),Ei(gi(Se),"delta",void 0),Ei(gi(Se),"rect",void 0),Ei(gi(Se),"x0",void 0),Ei(gi(Se),"y0",void 0),Ei(gi(Se),"t0",void 0),Ei(gi(Se),"dt",void 0),Ei(gi(Se),"duration",void 0),Ei(gi(Se),"clientX0",void 0),Ei(gi(Se),"clientY0",void 0),Ei(gi(Se),"velocity",void 0),Ei(gi(Se),"speed",void 0),Ei(gi(Se),"swipe",void 0),Ei(gi(Se),"axes",void 0),Ei(gi(Se),"preEnd",void 0),Ce=Ce||q.element;var We=q.interactable,rt=(We&&We.options||xu.defaults).deltaSource,qe=(0,ee.default)(We,Ce,de),ht=ge==="start",yt=ge==="end",Ut=ht?gi(Se):q.prevEvent,Ai=ht?q.coords.start:yt?{page:Ut.page,client:Ut.client,timeStamp:q.coords.cur.timeStamp}:q.coords.cur;return Se.page=(0,M.default)({},Ai.page),Se.client=(0,M.default)({},Ai.client),Se.rect=(0,M.default)({},q.rect),Se.timeStamp=Ai.timeStamp,yt||(Se.page.x-=qe.x,Se.page.y-=qe.y,Se.client.x-=qe.x,Se.client.y-=qe.y),Se.ctrlKey=J.ctrlKey,Se.altKey=J.altKey,Se.shiftKey=J.shiftKey,Se.metaKey=J.metaKey,Se.button=J.button,Se.buttons=J.buttons,Se.target=Ce,Se.currentTarget=Ce,Se.preEnd=Re,Se.type=Ue||de+(ge||""),Se.interactable=We,Se.t0=ht?q.pointers[q.pointers.length-1].downTime:Ut.t0,Se.x0=q.coords.start.page.x-qe.x,Se.y0=q.coords.start.page.y-qe.y,Se.clientX0=q.coords.start.client.x-qe.x,Se.clientY0=q.coords.start.client.y-qe.y,Se.delta=ht||yt?{x:0,y:0}:{x:Se[rt].x-Ut[rt].x,y:Se[rt].y-Ut[rt].y},Se.dt=q.coords.delta.timeStamp,Se.duration=Se.timeStamp-Se.t0,Se.velocity=(0,M.default)({},q.coords.velocity[rt]),Se.speed=(0,le.default)(Se.velocity.x,Se.velocity.y),Se.swipe=yt||ge==="inertiastart"?Se.getSwipe():null,Se}return v=Z,(T=[{key:"getSwipe",value:function(){var q=this._interaction;if(q.prevEvent.speed<600||this.timeStamp-q.prevEvent.timeStamp>150)return null;var J=180*Math.atan2(q.prevEvent.velocityY,q.prevEvent.velocityX)/Math.PI;J<0&&(J+=360);var de=112.5<=J&&J<247.5,ge=202.5<=J&&J<337.5;return{up:ge,down:!ge&&22.5<=J&&J<157.5,left:de,right:!de&&(292.5<=J||J<67.5),angle:J,speed:q.prevEvent.speed,velocity:{x:q.prevEvent.velocityX,y:q.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Tg(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),Z}(ae.BaseEvent);Su.InteractEvent=ku,Object.defineProperties(ku.prototype,{pageX:{get:function(){return this.page.x},set:function(p){this.page.x=p}},pageY:{get:function(){return this.page.y},set:function(p){this.page.y=p}},clientX:{get:function(){return this.client.x},set:function(p){this.client.x=p}},clientY:{get:function(){return this.client.y},set:function(p){this.client.y=p}},dx:{get:function(){return this.delta.x},set:function(p){this.delta.x=p}},dy:{get:function(){return this.delta.y},set:function(p){this.delta.y=p}},velocityX:{get:function(){return this.velocity.x},set:function(p){this.velocity.x=p}},velocityY:{get:function(){return this.velocity.y},set:function(p){this.velocity.y=p}}});var Jr={};function sd(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Ey(p,v,T){return v&&sd(p.prototype,v),T&&sd(p,T),Object.defineProperty(p,"prototype",{writable:!1}),p}function Du(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.PointerInfo=void 0;var Sg=Ey(function p(v,T,x,R,K){(function(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")})(this,p),Du(this,"id",void 0),Du(this,"pointer",void 0),Du(this,"event",void 0),Du(this,"downTime",void 0),Du(this,"downTarget",void 0),this.id=v,this.pointer=T,this.event=x,this.downTime=R,this.downTarget=K});Jr.PointerInfo=Sg;var Fu,qc,Nn={};function Ty(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Pi(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Interaction=void 0,Object.defineProperty(Nn,"PointerInfo",{enumerable:!0,get:function(){return Jr.PointerInfo}}),Nn.default=Nn._ProxyValues=Nn._ProxyMethods=void 0,Nn._ProxyValues=Fu,function(p){p.interactable="",p.element="",p.prepared="",p.pointerIsDown="",p.pointerWasMoved="",p._proxy=""}(Fu||(Nn._ProxyValues=Fu={})),Nn._ProxyMethods=qc,function(p){p.start="",p.move="",p.end="",p.stop="",p.interacting=""}(qc||(Nn._ProxyMethods=qc={}));var xy=0,Bg=function(){function p(x){var R=this,K=x.pointerType,Z=x.scopeFire;(function(Re,Ue){if(!(Re instanceof Ue))throw new TypeError("Cannot call a class as a function")})(this,p),Pi(this,"interactable",null),Pi(this,"element",null),Pi(this,"rect",null),Pi(this,"_rects",void 0),Pi(this,"edges",null),Pi(this,"_scopeFire",void 0),Pi(this,"prepared",{name:null,axis:null,edges:null}),Pi(this,"pointerType",void 0),Pi(this,"pointers",[]),Pi(this,"downEvent",null),Pi(this,"downPointer",{}),Pi(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Pi(this,"prevEvent",null),Pi(this,"pointerIsDown",!1),Pi(this,"pointerWasMoved",!1),Pi(this,"_interacting",!1),Pi(this,"_ending",!1),Pi(this,"_stopped",!0),Pi(this,"_proxy",null),Pi(this,"simulation",null),Pi(this,"doMove",(0,xi.warnOnce)(function(Re){this.move(Re)},"The interaction.doMove() method has been renamed to interaction.move()")),Pi(this,"coords",{start:pe.newCoords(),prev:pe.newCoords(),cur:pe.newCoords(),delta:pe.newCoords(),velocity:pe.newCoords()}),Pi(this,"_id",xy++),this._scopeFire=Z,this.pointerType=K;var q=this;this._proxy={};var J=function(Re){Object.defineProperty(R._proxy,Re,{get:function(){return q[Re]}})};for(var de in Fu)J(de);var ge=function(Re){Object.defineProperty(R._proxy,Re,{value:function(){return q[Re].apply(q,arguments)}})};for(var Ce in qc)ge(Ce);this._scopeFire("interactions:new",{interaction:this})}var v,T;return v=p,T=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(x,R,K){var Z=this.updatePointer(x,R,K,!0),q=this.pointers[Z];this._scopeFire("interactions:down",{pointer:x,event:R,eventTarget:K,pointerIndex:Z,pointerInfo:q,type:"down",interaction:this})}},{key:"start",value:function(x,R,K){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(x.name==="gesture"?2:1)||!R.options[x.name].enabled)&&((0,xi.copyAction)(this.prepared,x),this.interactable=R,this.element=K,this.rect=R.getRect(K),this.edges=this.prepared.edges?(0,M.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(x,R,K){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(x,R,K,!1);var Z,q,J=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Z=this.coords.cur.client.x-this.coords.start.client.x,q=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,le.default)(Z,q)>this.pointerMoveTolerance);var de=this.getPointerIndex(x),ge={pointer:x,pointerIndex:de,pointerInfo:this.pointers[de],event:R,type:"move",eventTarget:K,dx:Z,dy:q,duplicate:J,interaction:this};J||pe.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",ge),J||this.simulation||(this.interacting()&&(ge.type=null,this.move(ge)),this.pointerWasMoved&&pe.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(x){x&&x.event||pe.setZeroCoords(this.coords.delta),(x=(0,M.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},x||{})).phase="move",this._doPhase(x)}},{key:"pointerUp",value:function(x,R,K,Z){var q=this.getPointerIndex(x);q===-1&&(q=this.updatePointer(x,R,K,!1));var J=/cancel$/i.test(R.type)?"cancel":"up";this._scopeFire("interactions:".concat(J),{pointer:x,pointerIndex:q,pointerInfo:this.pointers[q],event:R,eventTarget:K,type:J,curEventTarget:Z,interaction:this}),this.simulation||this.end(R),this.removePointer(x,R)}},{key:"documentBlur",value:function(x){this.end(x),this._scopeFire("interactions:blur",{event:x,type:"blur",interaction:this})}},{key:"end",value:function(x){var R;this._ending=!0,x=x||this._latestPointer.event,this.interacting()&&(R=this._doPhase({event:x,interaction:this,phase:"end"})),this._ending=!1,R===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(x){var R=pe.getPointerId(x);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ve.findIndex(this.pointers,function(K){return K.id===R})}},{key:"getPointerInfo",value:function(x){return this.pointers[this.getPointerIndex(x)]}},{key:"updatePointer",value:function(x,R,K,Z){var q=pe.getPointerId(x),J=this.getPointerIndex(x),de=this.pointers[J];return Z=Z!==!1&&(Z||/(down|start)$/i.test(R.type)),de?de.pointer=x:(de=new Jr.PointerInfo(q,x,R,null,null),J=this.pointers.length,this.pointers.push(de)),pe.setCoords(this.coords.cur,this.pointers.map(function(ge){return ge.pointer}),this._now()),pe.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Z&&(this.pointerIsDown=!0,de.downTime=this.coords.cur.timeStamp,de.downTarget=K,pe.pointerExtend(this.downPointer,x),this.interacting()||(pe.copyCoords(this.coords.start,this.coords.cur),pe.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=R,this.pointerWasMoved=!1)),this._updateLatestPointer(x,R,K),this._scopeFire("interactions:update-pointer",{pointer:x,event:R,eventTarget:K,down:Z,pointerInfo:de,pointerIndex:J,interaction:this}),J}},{key:"removePointer",value:function(x,R){var K=this.getPointerIndex(x);if(K!==-1){var Z=this.pointers[K];this._scopeFire("interactions:remove-pointer",{pointer:x,event:R,eventTarget:null,pointerIndex:K,pointerInfo:Z,interaction:this}),this.pointers.splice(K,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(x,R,K){this._latestPointer.pointer=x,this._latestPointer.event=R,this._latestPointer.eventTarget=K}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(x,R,K,Z){return new Su.InteractEvent(this,x,this.prepared.name,R,this.element,K,Z)}},{key:"_fireEvent",value:function(x){var R;(R=this.interactable)==null||R.fire(x),(!this.prevEvent||x.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=x)}},{key:"_doPhase",value:function(x){var R=x.event,K=x.phase,Z=x.preEnd,q=x.type,J=this.rect;if(J&&K==="move"&&(N.addEdges(this.edges,J,this.coords.delta[this.interactable.options.deltaSource]),J.width=J.right-J.left,J.height=J.bottom-J.top),this._scopeFire("interactions:before-action-".concat(K),x)===!1)return!1;var de=x.iEvent=this._createPreparedEvent(R,K,Z,q);return this._scopeFire("interactions:action-".concat(K),x),K==="start"&&(this.prevEvent=de),this._fireEvent(de),this._scopeFire("interactions:after-action-".concat(K),x),!0}},{key:"_now",value:function(){return Date.now()}}],T&&Ty(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();Nn.Interaction=Bg;var Sy=Bg;Nn.default=Sy;var wo={};function Yc(p){p.pointerIsDown&&(rd(p.coords.cur,p.offset.total),p.offset.pending.x=0,p.offset.pending.y=0)}function kg(p){Xc(p.interaction)}function Xc(p){if(!function(T){return!(!T.offset.pending.x&&!T.offset.pending.y)}(p))return!1;var v=p.offset.pending;return rd(p.coords.cur,v),rd(p.coords.delta,v),N.addEdges(p.edges,p.rect,v),v.x=0,v.y=0,!0}function Jc(p){var v=p.x,T=p.y;this.offset.pending.x+=v,this.offset.pending.y+=T,this.offset.total.x+=v,this.offset.total.y+=T}function rd(p,v){var T=p.page,x=p.client,R=v.x,K=v.y;T.x+=R,T.y+=K,x.x+=R,x.y+=K}Object.defineProperty(wo,"__esModule",{value:!0}),wo.addTotal=Yc,wo.applyPending=Xc,wo.default=void 0,Nn._ProxyMethods.offsetBy="";var By={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(p){p.Interaction.prototype.offsetBy=Jc},listeners:{"interactions:new":function(p){p.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(p){return Yc(p.interaction)},"interactions:before-action-start":kg,"interactions:before-action-move":kg,"interactions:before-action-end":function(p){var v=p.interaction;if(Xc(v))return v.move({offset:!0}),v.end(),!1},"interactions:stop":function(p){var v=p.interaction;v.offset.total.x=0,v.offset.total.y=0,v.offset.pending.x=0,v.offset.pending.y=0}}},ky=By;wo.default=ky;var da={};function Dy(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Wi(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(da,"__esModule",{value:!0}),da.default=da.InertiaState=void 0;var dl=function(){function p(x){(function(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")})(this,p),Wi(this,"active",!1),Wi(this,"isModified",!1),Wi(this,"smoothEnd",!1),Wi(this,"allowResume",!1),Wi(this,"modification",void 0),Wi(this,"modifierCount",0),Wi(this,"modifierArg",void 0),Wi(this,"startCoords",void 0),Wi(this,"t0",0),Wi(this,"v0",0),Wi(this,"te",0),Wi(this,"targetOffset",void 0),Wi(this,"modifiedOffset",void 0),Wi(this,"currentOffset",void 0),Wi(this,"lambda_v0",0),Wi(this,"one_ve_v0",0),Wi(this,"timeout",void 0),Wi(this,"interaction",void 0),this.interaction=x}var v,T;return v=p,(T=[{key:"start",value:function(x){var R=this.interaction,K=_o(R);if(!K||!K.enabled)return!1;var Z=R.coords.velocity.client,q=(0,le.default)(Z.x,Z.y),J=this.modification||(this.modification=new Ss.default(R));if(J.copyFrom(R.modification),this.t0=R._now(),this.allowResume=K.allowResume,this.v0=q,this.currentOffset={x:0,y:0},this.startCoords=R.coords.cur.page,this.modifierArg=J.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-R.coords.cur.timeStamp<50&&q>K.minSpeed&&q>K.endSpeed)this.startInertia();else{if(J.result=J.setAll(this.modifierArg),!J.result.changed)return!1;this.startSmoothEnd()}return R.modification.result.rect=null,R.offsetBy(this.targetOffset),R._doPhase({interaction:R,event:x,phase:"inertiastart"}),R.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),R.modification.result.rect=null,this.active=!0,R.simulation=this,!0}},{key:"startInertia",value:function(){var x=this,R=this.interaction.coords.velocity.client,K=_o(this.interaction),Z=K.resistance,q=-Math.log(K.endSpeed/this.v0)/Z;this.targetOffset={x:(R.x-q)/Z,y:(R.y-q)/Z},this.te=q,this.lambda_v0=Z/this.v0,this.one_ve_v0=1-K.endSpeed/this.v0;var J=this.modification,de=this.modifierArg;de.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},J.result=J.setAll(de),J.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+J.result.delta.x,y:this.targetOffset.y+J.result.delta.y}),this.onNextFrame(function(){return x.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var x=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return x.smoothEndTick()})}},{key:"onNextFrame",value:function(x){var R=this;this.timeout=Jt.default.request(function(){R.active&&x()})}},{key:"inertiaTick",value:function(){var x,R,K,Z,q,J=this,de=this.interaction,ge=_o(de).resistance,Ce=(de._now()-this.t0)/1e3;if(Ce<this.te){var Re,Ue=1-(Math.exp(-ge*Ce)-this.lambda_v0)/this.one_ve_v0;this.isModified?(x=this.targetOffset.x,R=this.targetOffset.y,K=this.modifiedOffset.x,Z=this.modifiedOffset.y,Re={x:Bs(q=Ue,0,x,K),y:Bs(q,0,R,Z)}):Re={x:this.targetOffset.x*Ue,y:this.targetOffset.y*Ue};var Se={x:Re.x-this.currentOffset.x,y:Re.y-this.currentOffset.y};this.currentOffset.x+=Se.x,this.currentOffset.y+=Se.y,de.offsetBy(Se),de.move(),this.onNextFrame(function(){return J.inertiaTick()})}else de.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var x=this,R=this.interaction,K=R._now()-this.t0,Z=_o(R).smoothEndDuration;if(K<Z){var q={x:Tr(K,0,this.targetOffset.x,Z),y:Tr(K,0,this.targetOffset.y,Z)},J={x:q.x-this.currentOffset.x,y:q.y-this.currentOffset.y};this.currentOffset.x+=J.x,this.currentOffset.y+=J.y,R.offsetBy(J),R.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return x.smoothEndTick()})}else R.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(x){var R=x.pointer,K=x.event,Z=x.eventTarget,q=this.interaction;q.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),q.updatePointer(R,K,Z,!0),q._doPhase({interaction:q,event:K,phase:"resume"}),(0,pe.copyCoords)(q.coords.prev,q.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Jt.default.cancel(this.timeout)}}])&&Dy(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();function _o(p){var v=p.interactable,T=p.prepared;return v&&v.options&&T.name&&v.options[T.name].inertia}da.InertiaState=dl;var Zc={id:"inertia",before:["modifiers","actions"],install:function(p){var v=p.defaults;p.usePlugin(wo.default),p.usePlugin(ln.default),p.actions.phases.inertiastart=!0,p.actions.phases.resume=!0,v.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(p){var v=p.interaction;v.inertia=new dl(v)},"interactions:before-action-end":function(p){var v=p.interaction,T=p.event;return(!v._interacting||v.simulation||!v.inertia.start(T))&&null},"interactions:down":function(p){var v=p.interaction,T=p.eventTarget,x=v.inertia;if(x.active)for(var R=T;a.default.element(R);){if(R===v.element){x.resume(p);break}R=O.parentNode(R)}},"interactions:stop":function(p){var v=p.interaction.inertia;v.active&&v.stop()},"interactions:before-action-resume":function(p){var v=p.interaction.modification;v.stop(p),v.start(p,p.interaction.coords.cur.page),v.applyToInteraction(p)},"interactions:before-action-inertiastart":function(p){return p.interaction.modification.setAndApply(p)},"interactions:action-resume":ln.addEventModifiers,"interactions:action-inertiastart":ln.addEventModifiers,"interactions:after-action-inertiastart":function(p){return p.interaction.modification.restoreInteractionCoords(p)},"interactions:after-action-resume":function(p){return p.interaction.modification.restoreInteractionCoords(p)}}};function Bs(p,v,T,x){var R=1-p;return R*R*v+2*R*p*T+p*p*x}function Tr(p,v,T,x){return-T*(p/=x)*(p-2)+v}var eA=Zc;da.default=eA;var fl={};function Fy(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Iu(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}function Dg(p,v){for(var T=0;T<v.length;T++){var x=v[T];if(p.immediatePropagationStopped)break;x(p)}}Object.defineProperty(fl,"__esModule",{value:!0}),fl.Eventable=void 0;var Iy=function(){function p(x){(function(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")})(this,p),Iu(this,"options",void 0),Iu(this,"types",{}),Iu(this,"propagationStopped",!1),Iu(this,"immediatePropagationStopped",!1),Iu(this,"global",void 0),this.options=(0,M.default)({},x||{})}var v,T;return v=p,(T=[{key:"fire",value:function(x){var R,K=this.global;(R=this.types[x.type])&&Dg(x,R),!x.propagationStopped&&K&&(R=K[x.type])&&Dg(x,R)}},{key:"on",value:function(x,R){var K=(0,se.default)(x,R);for(x in K)this.types[x]=ve.merge(this.types[x]||[],K[x])}},{key:"off",value:function(x,R){var K=(0,se.default)(x,R);for(x in K){var Z=this.types[x];if(Z&&Z.length)for(var q=0;q<K[x].length;q++){var J=K[x][q],de=Z.indexOf(J);de!==-1&&Z.splice(de,1)}}}},{key:"getRect",value:function(x){return null}}])&&Fy(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();fl.Eventable=Iy;var fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.default=function(p,v){if(v.phaselessTypes[p])return!0;for(var T in v.map)if(p.indexOf(T)===0&&p.substr(T.length)in v.phases)return!0;return!1};var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.createInteractStatic=function(p){var v=function T(x,R){var K=p.interactables.get(x,R);return K||((K=p.interactables.new(x,R)).events.global=T.globalEvents),K};return v.getPointerAverage=pe.pointerAverage,v.getTouchBBox=pe.touchBBox,v.getTouchDistance=pe.touchDistance,v.getTouchAngle=pe.touchAngle,v.getElementRect=O.getElementRect,v.getElementClientRect=O.getElementClientRect,v.matchesSelector=O.matchesSelector,v.closest=O.closest,v.globalEvents={},v.version="1.10.19",v.scope=p,v.use=function(T,x){return this.scope.usePlugin(T,x),this},v.isSet=function(T,x){return!!this.scope.interactables.get(T,x&&x.context)},v.on=(0,xi.warnOnce)(function(T,x,R){if(a.default.string(T)&&T.search(" ")!==-1&&(T=T.trim().split(/ +/)),a.default.array(T)){for(var K=0;K<T.length;K++){var Z=T[K];this.on(Z,x,R)}return this}if(a.default.object(T)){for(var q in T)this.on(q,T[q],x);return this}return(0,fa.default)(T,this.scope.actions)?this.globalEvents[T]?this.globalEvents[T].push(x):this.globalEvents[T]=[x]:this.scope.events.add(this.scope.document,T,x,{options:R}),this},"The interact.on() method is being deprecated"),v.off=(0,xi.warnOnce)(function(T,x,R){if(a.default.string(T)&&T.search(" ")!==-1&&(T=T.trim().split(/ +/)),a.default.array(T)){for(var K=0;K<T.length;K++){var Z=T[K];this.off(Z,x,R)}return this}if(a.default.object(T)){for(var q in T)this.off(q,T[q],x);return this}var J;return(0,fa.default)(T,this.scope.actions)?T in this.globalEvents&&(J=this.globalEvents[T].indexOf(x))!==-1&&this.globalEvents[T].splice(J,1):this.scope.events.remove(this.scope.document,T,x,R),this},"The interact.off() method is being deprecated"),v.debug=function(){return this.scope},v.supportsTouch=function(){return B.default.supportsTouch},v.supportsPointerEvent=function(){return B.default.supportsPointerEvent},v.stop=function(){for(var T=0;T<this.scope.interactions.list.length;T++)this.scope.interactions.list[T].stop();return this},v.pointerMoveTolerance=function(T){return a.default.number(T)?(this.scope.interactions.pointerMoveTolerance=T,this):this.scope.interactions.pointerMoveTolerance},v.addDocument=function(T,x){this.scope.addDocument(T,x)},v.removeDocument=function(T){this.scope.removeDocument(T)},v};var Co={};function pl(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function ks(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Co,"__esModule",{value:!0}),Co.Interactable=void 0;var pa=function(){function p(x,R,K,Z){(function(q,J){if(!(q instanceof J))throw new TypeError("Cannot call a class as a function")})(this,p),ks(this,"options",void 0),ks(this,"_actions",void 0),ks(this,"target",void 0),ks(this,"events",new fl.Eventable),ks(this,"_context",void 0),ks(this,"_win",void 0),ks(this,"_doc",void 0),ks(this,"_scopeEvents",void 0),ks(this,"_rectChecker",void 0),this._actions=R.actions,this.target=x,this._context=R.context||K,this._win=(0,n.getWindow)((0,O.trySelector)(x)?this._context:x),this._doc=this._win.document,this._scopeEvents=Z,this.set(R)}var v,T;return v=p,(T=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(x,R){return a.default.func(R.onstart)&&this.on("".concat(x,"start"),R.onstart),a.default.func(R.onmove)&&this.on("".concat(x,"move"),R.onmove),a.default.func(R.onend)&&this.on("".concat(x,"end"),R.onend),a.default.func(R.oninertiastart)&&this.on("".concat(x,"inertiastart"),R.oninertiastart),this}},{key:"updatePerActionListeners",value:function(x,R,K){(a.default.array(R)||a.default.object(R))&&this.off(x,R),(a.default.array(K)||a.default.object(K))&&this.on(x,K)}},{key:"setPerAction",value:function(x,R){var K=this._defaults;for(var Z in R){var q=Z,J=this.options[x],de=R[q];q==="listeners"&&this.updatePerActionListeners(x,J.listeners,de),a.default.array(de)?J[q]=ve.from(de):a.default.plainObject(de)?(J[q]=(0,M.default)(J[q]||{},(0,Er.default)(de)),a.default.object(K.perAction[q])&&"enabled"in K.perAction[q]&&(J[q].enabled=de.enabled!==!1)):a.default.bool(de)&&a.default.object(K.perAction[q])?J[q].enabled=de:J[q]=de}}},{key:"getRect",value:function(x){return x=x||(a.default.element(this.target)?this.target:null),a.default.string(this.target)&&(x=x||this._context.querySelector(this.target)),(0,O.getElementRect)(x)}},{key:"rectChecker",value:function(x){var R=this;return a.default.func(x)?(this._rectChecker=x,this.getRect=function(K){var Z=(0,M.default)({},R._rectChecker(K));return"width"in Z||(Z.width=Z.right-Z.left,Z.height=Z.bottom-Z.top),Z},this):x===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(x,R){if((0,O.trySelector)(R)||a.default.object(R)){for(var K in this.options[x]=R,this._actions.map)this.options[K][x]=R;return this}return this.options[x]}},{key:"origin",value:function(x){return this._backCompatOption("origin",x)}},{key:"deltaSource",value:function(x){return x==="page"||x==="client"?(this.options.deltaSource=x,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(x){return this._context===x.ownerDocument||(0,O.nodeContains)(this._context,x)}},{key:"testIgnoreAllow",value:function(x,R,K){return!this.testIgnore(x.ignoreFrom,R,K)&&this.testAllow(x.allowFrom,R,K)}},{key:"testAllow",value:function(x,R,K){return!x||!!a.default.element(K)&&(a.default.string(x)?(0,O.matchesUpTo)(K,x,R):!!a.default.element(x)&&(0,O.nodeContains)(x,K))}},{key:"testIgnore",value:function(x,R,K){return!(!x||!a.default.element(K))&&(a.default.string(x)?(0,O.matchesUpTo)(K,x,R):!!a.default.element(x)&&(0,O.nodeContains)(x,K))}},{key:"fire",value:function(x){return this.events.fire(x),this}},{key:"_onOff",value:function(x,R,K,Z){a.default.object(R)&&!a.default.array(R)&&(Z=K,K=null);var q=x==="on"?"add":"remove",J=(0,se.default)(R,K);for(var de in J){de==="wheel"&&(de=B.default.wheelEvent);for(var ge=0;ge<J[de].length;ge++){var Ce=J[de][ge];(0,fa.default)(de,this._actions)?this.events[x](de,Ce):a.default.string(this.target)?this._scopeEvents["".concat(q,"Delegate")](this.target,this._context,de,Ce,Z):this._scopeEvents[q](this.target,de,Ce,Z)}}return this}},{key:"on",value:function(x,R,K){return this._onOff("on",x,R,K)}},{key:"off",value:function(x,R,K){return this._onOff("off",x,R,K)}},{key:"set",value:function(x){var R=this._defaults;for(var K in a.default.object(x)||(x={}),this.options=(0,Er.default)(R.base),this._actions.methodDict){var Z=K,q=this._actions.methodDict[Z];this.options[Z]={},this.setPerAction(Z,(0,M.default)((0,M.default)({},R.perAction),R.actions[Z])),this[q](x[Z])}for(var J in x)a.default.func(this[J])&&this[J](x[J]);return this}},{key:"unset",value:function(){if(a.default.string(this.target))for(var x in this._scopeEvents.delegatedEvents)for(var R=this._scopeEvents.delegatedEvents[x],K=R.length-1;K>=0;K--){var Z=R[K],q=Z.selector,J=Z.context,de=Z.listeners;q===this.target&&J===this._context&&R.splice(K,1);for(var ge=de.length-1;ge>=0;ge--)this._scopeEvents.removeDelegate(this.target,this._context,x,de[ge][0],de[ge][1])}else this._scopeEvents.remove(this.target,"all")}}])&&pl(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();Co.Interactable=pa;var tA={};function Fg(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function iA(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(tA,"__esModule",{value:!0}),tA.InteractableSet=void 0;var od=function(){function p(x){var R=this;(function(K,Z){if(!(K instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,p),iA(this,"list",[]),iA(this,"selectorMap",{}),iA(this,"scope",void 0),this.scope=x,x.addListeners({"interactable:unset":function(K){var Z=K.interactable,q=Z.target,J=Z._context,de=a.default.string(q)?R.selectorMap[q]:q[R.scope.id],ge=ve.findIndex(de,function(Ce){return Ce.context===J});de[ge]&&(de[ge].context=null,de[ge].interactable=null),de.splice(ge,1)}})}var v,T;return v=p,(T=[{key:"new",value:function(x,R){R=(0,M.default)(R||{},{actions:this.scope.actions});var K=new this.scope.Interactable(x,R,this.scope.document,this.scope.events),Z={context:K._context,interactable:K};return this.scope.addDocument(K._doc),this.list.push(K),a.default.string(x)?(this.selectorMap[x]||(this.selectorMap[x]=[]),this.selectorMap[x].push(Z)):(K.target[this.scope.id]||Object.defineProperty(x,this.scope.id,{value:[],configurable:!0}),x[this.scope.id].push(Z)),this.scope.fire("interactable:new",{target:x,options:R,interactable:K,win:this.scope._win}),K}},{key:"get",value:function(x,R){var K=R&&R.context||this.scope.document,Z=a.default.string(x),q=Z?this.selectorMap[x]:x[this.scope.id];if(!q)return null;var J=ve.find(q,function(de){return de.context===K&&(Z||de.interactable.inContext(x))});return J&&J.interactable}},{key:"forEachMatch",value:function(x,R){for(var K=0;K<this.list.length;K++){var Z=this.list[K],q=void 0;if((a.default.string(Z.target)?a.default.element(x)&&O.matchesSelector(x,Z.target):x===Z.target)&&Z.inContext(x)&&(q=R(Z)),q!==void 0)return q}}}])&&Fg(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();tA.InteractableSet=od;var nA={};function Ly(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function ad(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}function gl(p,v){return function(T){if(Array.isArray(T))return T}(p)||function(T,x){var R=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(R!=null){var K,Z,q=[],J=!0,de=!1;try{for(R=R.call(T);!(J=(K=R.next()).done)&&(q.push(K.value),!x||q.length!==x);J=!0);}catch(ge){de=!0,Z=ge}finally{try{J||R.return==null||R.return()}finally{if(de)throw Z}}return q}}(p,v)||function(T,x){if(T){if(typeof T=="string")return Ig(T,x);var R=Object.prototype.toString.call(T).slice(8,-1);return R==="Object"&&T.constructor&&(R=T.constructor.name),R==="Map"||R==="Set"?Array.from(T):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Ig(T,x):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ig(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}Object.defineProperty(nA,"__esModule",{value:!0}),nA.default=void 0;var Lg=function(){function p(x){(function(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")})(this,p),ad(this,"currentTarget",void 0),ad(this,"originalEvent",void 0),ad(this,"type",void 0),this.originalEvent=x,(0,he.default)(this,x)}var v,T;return v=p,(T=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Ly(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),p}();function Pu(p){if(!a.default.object(p))return{capture:!!p,passive:!1};var v=(0,M.default)({},p);return v.capture=!!p.capture,v.passive=!!p.passive,v}var Py={id:"events",install:function(p){var v,T=[],x={},R=[],K={add:Z,remove:q,addDelegate:function(ge,Ce,Re,Ue,Se){var We=Pu(Se);if(!x[Re]){x[Re]=[];for(var rt=0;rt<R.length;rt++){var qe=R[rt];Z(qe,Re,J),Z(qe,Re,de,!0)}}var ht=x[Re],yt=ve.find(ht,function(Ut){return Ut.selector===ge&&Ut.context===Ce});yt||(yt={selector:ge,context:Ce,listeners:[]},ht.push(yt)),yt.listeners.push([Ue,We])},removeDelegate:function(ge,Ce,Re,Ue,Se){var We,rt=Pu(Se),qe=x[Re],ht=!1;if(qe)for(We=qe.length-1;We>=0;We--){var yt=qe[We];if(yt.selector===ge&&yt.context===Ce){for(var Ut=yt.listeners,Ai=Ut.length-1;Ai>=0;Ai--){var Bi=gl(Ut[Ai],2),qt=Bi[0],Ti=Bi[1],Br=Ti.capture,Ca=Ti.passive;if(qt===Ue&&Br===rt.capture&&Ca===rt.passive){Ut.splice(Ai,1),Ut.length||(qe.splice(We,1),q(Ce,Re,J),q(Ce,Re,de,!0)),ht=!0;break}}if(ht)break}}},delegateListener:J,delegateUseCapture:de,delegatedEvents:x,documents:R,targets:T,supportsOptions:!1,supportsPassive:!1};function Z(ge,Ce,Re,Ue){var Se=Pu(Ue),We=ve.find(T,function(rt){return rt.eventTarget===ge});We||(We={eventTarget:ge,events:{}},T.push(We)),We.events[Ce]||(We.events[Ce]=[]),ge.addEventListener&&!ve.contains(We.events[Ce],Re)&&(ge.addEventListener(Ce,Re,K.supportsOptions?Se:Se.capture),We.events[Ce].push(Re))}function q(ge,Ce,Re,Ue){var Se=Pu(Ue),We=ve.findIndex(T,function(Ai){return Ai.eventTarget===ge}),rt=T[We];if(rt&&rt.events)if(Ce!=="all"){var qe=!1,ht=rt.events[Ce];if(ht){if(Re==="all"){for(var yt=ht.length-1;yt>=0;yt--)q(ge,Ce,ht[yt],Se);return}for(var Ut=0;Ut<ht.length;Ut++)if(ht[Ut]===Re){ge.removeEventListener(Ce,Re,K.supportsOptions?Se:Se.capture),ht.splice(Ut,1),ht.length===0&&(delete rt.events[Ce],qe=!0);break}}qe&&!Object.keys(rt.events).length&&T.splice(We,1)}else for(Ce in rt.events)rt.events.hasOwnProperty(Ce)&&q(ge,Ce,"all")}function J(ge,Ce){for(var Re=Pu(Ce),Ue=new Lg(ge),Se=x[ge.type],We=gl(pe.getEventTargets(ge),1)[0],rt=We;a.default.element(rt);){for(var qe=0;qe<Se.length;qe++){var ht=Se[qe],yt=ht.selector,Ut=ht.context;if(O.matchesSelector(rt,yt)&&O.nodeContains(Ut,We)&&O.nodeContains(Ut,rt)){var Ai=ht.listeners;Ue.currentTarget=rt;for(var Bi=0;Bi<Ai.length;Bi++){var qt=gl(Ai[Bi],2),Ti=qt[0],Br=qt[1],Ca=Br.capture,qy=Br.passive;Ca===Re.capture&&qy===Re.passive&&Ti(Ue)}}}rt=O.parentNode(rt)}}function de(ge){return J(ge,!0)}return(v=p.document)==null||v.createElement("div").addEventListener("test",null,{get capture(){return K.supportsOptions=!0},get passive(){return K.supportsPassive=!0}}),p.events=K,K}};nA.default=Py;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.default=void 0;var Ru={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(p){for(var v=0;v<Ru.methodOrder.length;v++){var T;T=Ru.methodOrder[v];var x=Ru[T](p);if(x)return x}return null},simulationResume:function(p){var v=p.pointerType,T=p.eventType,x=p.eventTarget,R=p.scope;if(!/down|start/i.test(T))return null;for(var K=0;K<R.interactions.list.length;K++){var Z=R.interactions.list[K],q=x;if(Z.simulation&&Z.simulation.allowResume&&Z.pointerType===v)for(;q;){if(q===Z.element)return Z;q=O.parentNode(q)}}return null},mouseOrPen:function(p){var v,T=p.pointerId,x=p.pointerType,R=p.eventType,K=p.scope;if(x!=="mouse"&&x!=="pen")return null;for(var Z=0;Z<K.interactions.list.length;Z++){var q=K.interactions.list[Z];if(q.pointerType===x){if(q.simulation&&!Pg(q,T))continue;if(q.interacting())return q;v||(v=q)}}if(v)return v;for(var J=0;J<K.interactions.list.length;J++){var de=K.interactions.list[J];if(!(de.pointerType!==x||/down/i.test(R)&&de.simulation))return de}return null},hasPointer:function(p){for(var v=p.pointerId,T=p.scope,x=0;x<T.interactions.list.length;x++){var R=T.interactions.list[x];if(Pg(R,v))return R}return null},idle:function(p){for(var v=p.pointerType,T=p.scope,x=0;x<T.interactions.list.length;x++){var R=T.interactions.list[x];if(R.pointers.length===1){var K=R.interactable;if(K&&(!K.options.gesture||!K.options.gesture.enabled))continue}else if(R.pointers.length>=2)continue;if(!R.interacting()&&v===R.pointerType)return R}return null}};function Pg(p,v){return p.pointers.some(function(T){return T.id===v})}var My=Ru;Mu.default=My;var sA={};function rA(p){return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},rA(p)}function Mg(p,v){return function(T){if(Array.isArray(T))return T}(p)||function(T,x){var R=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(R!=null){var K,Z,q=[],J=!0,de=!1;try{for(R=R.call(T);!(J=(K=R.next()).done)&&(q.push(K.value),!x||q.length!==x);J=!0);}catch(ge){de=!0,Z=ge}finally{try{J||R.return==null||R.return()}finally{if(de)throw Z}}return q}}(p,v)||function(T,x){if(T){if(typeof T=="string")return Rg(T,x);var R=Object.prototype.toString.call(T).slice(8,-1);return R==="Object"&&T.constructor&&(R=T.constructor.name),R==="Map"||R==="Set"?Array.from(T):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?Rg(T,x):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}function Og(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function Ry(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function oA(p,v){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,x){return T.__proto__=x,T},oA(p,v)}function Oy(p,v){if(v&&(rA(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(p)}function Ou(p){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},Ou(p)}Object.defineProperty(sA,"__esModule",{value:!0}),sA.default=void 0;var ga=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ld(p,v){return function(T){var x=v.interactions.list,R=pe.getPointerType(T),K=Mg(pe.getEventTargets(T),2),Z=K[0],q=K[1],J=[];if(/^touch/.test(T.type)){v.prevTouchTime=v.now();for(var de=0;de<T.changedTouches.length;de++){var ge=T.changedTouches[de],Ce={pointer:ge,pointerId:pe.getPointerId(ge),pointerType:R,eventType:T.type,eventTarget:Z,curEventTarget:q,scope:v},Re=Ug(Ce);J.push([Ce.pointer,Ce.eventTarget,Ce.curEventTarget,Re])}}else{var Ue=!1;if(!B.default.supportsPointerEvent&&/mouse/.test(T.type)){for(var Se=0;Se<x.length&&!Ue;Se++)Ue=x[Se].pointerType!=="mouse"&&x[Se].pointerIsDown;Ue=Ue||v.now()-v.prevTouchTime<500||T.timeStamp===0}if(!Ue){var We={pointer:T,pointerId:pe.getPointerId(T),pointerType:R,eventType:T.type,curEventTarget:q,eventTarget:Z,scope:v},rt=Ug(We);J.push([We.pointer,We.eventTarget,We.curEventTarget,rt])}}for(var qe=0;qe<J.length;qe++){var ht=Mg(J[qe],4),yt=ht[0],Ut=ht[1],Ai=ht[2];ht[3][p](yt,T,Ut,Ai)}}}function Ug(p){var v=p.pointerType,T=p.scope,x={interaction:Mu.default.search(p),searchDetails:p};return T.fire("interactions:find",x),x.interaction||T.interactions.new({pointerType:v})}function ud(p,v){var T=p.doc,x=p.scope,R=p.options,K=x.interactions.docEvents,Z=x.events,q=Z[v];for(var J in x.browser.isIOS&&!R.events&&(R.events={passive:!1}),Z.delegatedEvents)q(T,J,Z.delegateListener),q(T,J,Z.delegateUseCapture,!0);for(var de=R&&R.events,ge=0;ge<K.length;ge++){var Ce=K[ge];q(T,Ce.type,Ce.listener,de)}}var Uu={id:"core/interactions",install:function(p){for(var v={},T=0;T<ga.length;T++){var x=ga[T];v[x]=ld(x,p)}var R,K=B.default.pEventTypes;function Z(){for(var q=0;q<p.interactions.list.length;q++){var J=p.interactions.list[q];if(J.pointerIsDown&&J.pointerType==="touch"&&!J._interacting)for(var de=function(){var Ce=J.pointers[ge];p.documents.some(function(Re){var Ue=Re.doc;return(0,O.nodeContains)(Ue,Ce.downTarget)})||J.removePointer(Ce.pointer,Ce.event)},ge=0;ge<J.pointers.length;ge++)de()}}(R=C.default.PointerEvent?[{type:K.down,listener:Z},{type:K.down,listener:v.pointerDown},{type:K.move,listener:v.pointerMove},{type:K.up,listener:v.pointerUp},{type:K.cancel,listener:v.pointerUp}]:[{type:"mousedown",listener:v.pointerDown},{type:"mousemove",listener:v.pointerMove},{type:"mouseup",listener:v.pointerUp},{type:"touchstart",listener:Z},{type:"touchstart",listener:v.pointerDown},{type:"touchmove",listener:v.pointerMove},{type:"touchend",listener:v.pointerUp},{type:"touchcancel",listener:v.pointerUp}]).push({type:"blur",listener:function(q){for(var J=0;J<p.interactions.list.length;J++)p.interactions.list[J].documentBlur(q)}}),p.prevTouchTime=0,p.Interaction=function(q){(function(Se,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(We&&We.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),Object.defineProperty(Se,"prototype",{writable:!1}),We&&oA(Se,We)})(Ue,q);var J,de,ge,Ce,Re=(ge=Ue,Ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Se,We=Ou(ge);if(Ce){var rt=Ou(this).constructor;Se=Reflect.construct(We,arguments,rt)}else Se=We.apply(this,arguments);return Oy(this,Se)});function Ue(){return Og(this,Ue),Re.apply(this,arguments)}return J=Ue,(de=[{key:"pointerMoveTolerance",get:function(){return p.interactions.pointerMoveTolerance},set:function(Se){p.interactions.pointerMoveTolerance=Se}},{key:"_now",value:function(){return p.now()}}])&&Ry(J.prototype,de),Object.defineProperty(J,"prototype",{writable:!1}),Ue}(Nn.default),p.interactions={list:[],new:function(q){q.scopeFire=function(de,ge){return p.fire(de,ge)};var J=new p.Interaction(q);return p.interactions.list.push(J),J},listeners:v,docEvents:R,pointerMoveTolerance:1},p.usePlugin(Yn.default)},listeners:{"scope:add-document":function(p){return ud(p,"add")},"scope:remove-document":function(p){return ud(p,"remove")},"interactable:unset":function(p,v){for(var T=p.interactable,x=v.interactions.list.length-1;x>=0;x--){var R=v.interactions.list[x];R.interactable===T&&(R.stop(),v.fire("interactions:destroy",{interaction:R}),R.destroy(),v.interactions.list.length>2&&v.interactions.list.splice(x,1))}}},onDocSignal:ud,doOnInteractions:ld,methodNames:ga},Uy=Uu;sA.default=Uy;var Nu={};function cd(p){return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},cd(p)}function Hu(){return Hu=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,v,T){var x=Ny(p,v);if(x){var R=Object.getOwnPropertyDescriptor(x,v);return R.get?R.get.call(arguments.length<3?p:T):R.value}},Hu.apply(this,arguments)}function Ny(p,v){for(;!Object.prototype.hasOwnProperty.call(p,v)&&(p=ma(p))!==null;);return p}function Ad(p,v){return Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,x){return T.__proto__=x,T},Ad(p,v)}function Hy(p,v){if(v&&(cd(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(p)}function ma(p){return ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},ma(p)}function Ng(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function Hg(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Qg(p,v,T){return v&&Hg(p.prototype,v),T&&Hg(p,T),Object.defineProperty(p,"prototype",{writable:!1}),p}function wn(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Scope=void 0,Nu.initScope=Qu;var Qy=function(){function p(){var v=this;Ng(this,p),wn(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),wn(this,"isInitialized",!1),wn(this,"listenerMaps",[]),wn(this,"browser",B.default),wn(this,"defaults",(0,Er.default)(xu.defaults)),wn(this,"Eventable",fl.Eventable),wn(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),wn(this,"interactStatic",(0,Lu.createInteractStatic)(this)),wn(this,"InteractEvent",Su.InteractEvent),wn(this,"Interactable",void 0),wn(this,"interactables",new tA.InteractableSet(this)),wn(this,"_win",void 0),wn(this,"document",void 0),wn(this,"window",void 0),wn(this,"documents",[]),wn(this,"_plugins",{list:[],map:{}}),wn(this,"onWindowUnload",function(x){return v.removeDocument(x.target)});var T=this;this.Interactable=function(x){(function(J,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(de&&de.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),de&&Ad(J,de)})(q,x);var R,K,Z=(R=q,K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var J,de=ma(R);if(K){var ge=ma(this).constructor;J=Reflect.construct(de,arguments,ge)}else J=de.apply(this,arguments);return Hy(this,J)});function q(){return Ng(this,q),Z.apply(this,arguments)}return Qg(q,[{key:"_defaults",get:function(){return T.defaults}},{key:"set",value:function(J){return Hu(ma(q.prototype),"set",this).call(this,J),T.fire("interactable:set",{options:J,interactable:this}),this}},{key:"unset",value:function(){Hu(ma(q.prototype),"unset",this).call(this);var J=T.interactables.list.indexOf(this);J<0||(T.interactables.list.splice(J,1),T.fire("interactable:unset",{interactable:this}))}}]),q}(Co.Interactable)}return Qg(p,[{key:"addListeners",value:function(v,T){this.listenerMaps.push({id:T,map:v})}},{key:"fire",value:function(v,T){for(var x=0;x<this.listenerMaps.length;x++){var R=this.listenerMaps[x].map[v];if(R&&R(T,this,v)===!1)return!1}}},{key:"init",value:function(v){return this.isInitialized?this:Qu(this,v)}},{key:"pluginIsInstalled",value:function(v){return this._plugins.map[v.id]||this._plugins.list.indexOf(v)!==-1}},{key:"usePlugin",value:function(v,T){if(!this.isInitialized)return this;if(this.pluginIsInstalled(v))return this;if(v.id&&(this._plugins.map[v.id]=v),this._plugins.list.push(v),v.install&&v.install(this,T),v.listeners&&v.before){for(var x=0,R=this.listenerMaps.length,K=v.before.reduce(function(q,J){return q[J]=!0,q[$g(J)]=!0,q},{});x<R;x++){var Z=this.listenerMaps[x].id;if(K[Z]||K[$g(Z)])break}this.listenerMaps.splice(x,0,{id:v.id,map:v.listeners})}else v.listeners&&this.listenerMaps.push({id:v.id,map:v.listeners});return this}},{key:"addDocument",value:function(v,T){if(this.getDocIndex(v)!==-1)return!1;var x=n.getWindow(v);T=T?(0,M.default)({},T):{},this.documents.push({doc:v,options:T}),this.events.documents.push(v),v!==this.document&&this.events.add(x,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:v,window:x,scope:this,options:T})}},{key:"removeDocument",value:function(v){var T=this.getDocIndex(v),x=n.getWindow(v),R=this.documents[T].options;this.events.remove(x,"unload",this.onWindowUnload),this.documents.splice(T,1),this.events.documents.splice(T,1),this.fire("scope:remove-document",{doc:v,window:x,scope:this,options:R})}},{key:"getDocIndex",value:function(v){for(var T=0;T<this.documents.length;T++)if(this.documents[T].doc===v)return T;return-1}},{key:"getDocOptions",value:function(v){var T=this.getDocIndex(v);return T===-1?null:this.documents[T].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),p}();function Qu(p,v){return p.isInitialized=!0,a.default.window(v)&&n.init(v),C.default.init(v),B.default.init(v),Jt.default.init(v),p.window=v,p.document=v.document,p.usePlugin(sA.default),p.usePlugin(nA.default),p}function $g(p){return p&&p.replace(/\/.*$/,"")}Nu.Scope=Qy;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0;var jg=new Nu.Scope,$y=jg.interactStatic;Dn.default=$y;var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;jg.init(Vg);var aA={};Object.defineProperty(aA,"__esModule",{value:!0}),aA.default=void 0,aA.default=function(){};var va={};Object.defineProperty(va,"__esModule",{value:!0}),va.default=void 0,va.default=function(){};var Eo={};function Oi(p,v){return function(T){if(Array.isArray(T))return T}(p)||function(T,x){var R=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(R!=null){var K,Z,q=[],J=!0,de=!1;try{for(R=R.call(T);!(J=(K=R.next()).done)&&(q.push(K.value),!x||q.length!==x);J=!0);}catch(ge){de=!0,Z=ge}finally{try{J||R.return==null||R.return()}finally{if(de)throw Z}}return q}}(p,v)||function(T,x){if(T){if(typeof T=="string")return ba(T,x);var R=Object.prototype.toString.call(T).slice(8,-1);return R==="Object"&&T.constructor&&(R=T.constructor.name),R==="Map"||R==="Set"?Array.from(T):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?ba(T,x):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=void 0,Eo.default=function(p){var v=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(x){var R=Oi(x,2),K=R[0],Z=R[1];return K in p||Z in p}),T=function(x,R){for(var K=p.range,Z=p.limits,q=Z===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Z,J=p.offset,de=J===void 0?{x:0,y:0}:J,ge={range:K,grid:p,x:null,y:null},Ce=0;Ce<v.length;Ce++){var Re=Oi(v[Ce],2),Ue=Re[0],Se=Re[1],We=Math.round((x-de.x)/p[Ue]),rt=Math.round((R-de.y)/p[Se]);ge[Ue]=Math.max(q.left,Math.min(q.right,We*p[Ue]+de.x)),ge[Se]=Math.max(q.top,Math.min(q.bottom,rt*p[Se]+de.y))}return ge};return T.grid=p,T.coordFields=v,T};var ya={};Object.defineProperty(ya,"__esModule",{value:!0}),Object.defineProperty(ya,"edgeTarget",{enumerable:!0,get:function(){return aA.default}}),Object.defineProperty(ya,"elements",{enumerable:!0,get:function(){return va.default}}),Object.defineProperty(ya,"grid",{enumerable:!0,get:function(){return Eo.default}});var lA={};Object.defineProperty(lA,"__esModule",{value:!0}),lA.default=void 0;var jy={id:"snappers",install:function(p){var v=p.interactStatic;v.snappers=(0,M.default)(v.snappers||{},ya),v.createSnapGrid=v.snappers.grid}},Vy=jy;lA.default=Vy;var ml={};function hd(p,v){var T=Object.keys(p);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);v&&(x=x.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),T.push.apply(T,x)}return T}function uA(p){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?hd(Object(T),!0).forEach(function(x){zg(p,x,T[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(T)):hd(Object(T)).forEach(function(x){Object.defineProperty(p,x,Object.getOwnPropertyDescriptor(T,x))})}return p}function zg(p,v,T){return v in p?Object.defineProperty(p,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[v]=T,p}Object.defineProperty(ml,"__esModule",{value:!0}),ml.default=ml.aspectRatio=void 0;var dd={start:function(p){var v=p.state,T=p.rect,x=p.edges,R=p.pageCoords,K=v.options,Z=K.ratio,q=K.enabled,J=v.options,de=J.equalDelta,ge=J.modifiers;Z==="preserve"&&(Z=T.width/T.height),v.startCoords=(0,M.default)({},R),v.startRect=(0,M.default)({},T),v.ratio=Z,v.equalDelta=de;var Ce=v.linkedEdges={top:x.top||x.left&&!x.bottom,left:x.left||x.top&&!x.right,bottom:x.bottom||x.right&&!x.top,right:x.right||x.bottom&&!x.left};if(v.xIsPrimaryAxis=!(!x.left&&!x.right),v.equalDelta){var Re=(Ce.left?1:-1)*(Ce.top?1:-1);v.edgeSign={x:Re,y:Re}}else v.edgeSign={x:Ce.left?-1:1,y:Ce.top?-1:1};if(q!==!1&&(0,M.default)(x,Ce),ge!=null&&ge.length){var Ue=new Ss.default(p.interaction);Ue.copyFrom(p.interaction.modification),Ue.prepareStates(ge),v.subModification=Ue,Ue.startAll(uA({},p))}},set:function(p){var v=p.state,T=p.rect,x=p.coords,R=v.linkedEdges,K=(0,M.default)({},x),Z=v.equalDelta?Gg:fd;if((0,M.default)(p.edges,R),Z(v,v.xIsPrimaryAxis,x,T),!v.subModification)return null;var q=(0,M.default)({},T);(0,N.addEdges)(R,q,{x:x.x-K.x,y:x.y-K.y});var J=v.subModification.setAll(uA(uA({},p),{},{rect:q,edges:R,pageCoords:x,prevCoords:x,prevRect:q})),de=J.delta;return J.changed&&(Z(v,Math.abs(de.x)>Math.abs(de.y),J.coords,J.rect),(0,M.default)(x,J.coords)),J.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Gg(p,v,T){var x=p.startCoords,R=p.edgeSign;v?T.y=x.y+(T.x-x.x)*R.y:T.x=x.x+(T.y-x.y)*R.x}function fd(p,v,T,x){var R=p.startRect,K=p.startCoords,Z=p.ratio,q=p.edgeSign;if(v){var J=x.width/Z;T.y=K.y+(J-R.height)*q.y}else{var de=x.height*Z;T.x=K.x+(de-R.width)*q.x}}ml.aspectRatio=dd;var Kg=(0,ln.makeModifier)(dd,"aspectRatio");ml.default=Kg;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var Wg=function(){};Wg._defaults={};var pd=Wg;Zr.default=pd;var $u={};Object.defineProperty($u,"__esModule",{value:!0}),Object.defineProperty($u,"default",{enumerable:!0,get:function(){return Zr.default}});var Fn={};function vl(p,v,T){return a.default.func(p)?N.resolveRectLike(p,v.interactable,v.element,[T.x,T.y,v]):N.resolveRectLike(p,v.interactable,v.element)}Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.default=void 0,Fn.getRestrictionRect=vl,Fn.restrict=void 0;var ju={start:function(p){var v=p.rect,T=p.startOffset,x=p.state,R=p.interaction,K=p.pageCoords,Z=x.options,q=Z.elementRect,J=(0,M.default)({left:0,top:0,right:0,bottom:0},Z.offset||{});if(v&&q){var de=vl(Z.restriction,R,K);if(de){var ge=de.right-de.left-v.width,Ce=de.bottom-de.top-v.height;ge<0&&(J.left+=ge,J.right+=ge),Ce<0&&(J.top+=Ce,J.bottom+=Ce)}J.left+=T.left-v.width*q.left,J.top+=T.top-v.height*q.top,J.right+=T.right-v.width*(1-q.right),J.bottom+=T.bottom-v.height*(1-q.bottom)}x.offset=J},set:function(p){var v=p.coords,T=p.interaction,x=p.state,R=x.options,K=x.offset,Z=vl(R.restriction,T,v);if(Z){var q=N.xywhToTlbr(Z);v.x=Math.max(Math.min(q.right-K.right,v.x),q.left+K.left),v.y=Math.max(Math.min(q.bottom-K.bottom,v.y),q.top+K.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Fn.restrict=ju;var zy=(0,ln.makeModifier)(ju,"restrict");Fn.default=zy;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.restrictEdges=xr.default=void 0;var qg={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Yg={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Xg(p,v){for(var T=["top","left","bottom","right"],x=0;x<T.length;x++){var R=T[x];R in p||(p[R]=v[R])}return p}var cA={noInner:qg,noOuter:Yg,start:function(p){var v,T=p.interaction,x=p.startOffset,R=p.state,K=R.options;if(K){var Z=(0,Fn.getRestrictionRect)(K.offset,T,T.coords.start.page);v=N.rectToXY(Z)}v=v||{x:0,y:0},R.offset={top:v.y+x.top,left:v.x+x.left,bottom:v.y-x.bottom,right:v.x-x.right}},set:function(p){var v=p.coords,T=p.edges,x=p.interaction,R=p.state,K=R.offset,Z=R.options;if(T){var q=(0,M.default)({},v),J=(0,Fn.getRestrictionRect)(Z.inner,x,q)||{},de=(0,Fn.getRestrictionRect)(Z.outer,x,q)||{};Xg(J,qg),Xg(de,Yg),T.top?v.y=Math.min(Math.max(de.top+K.top,q.y),J.top+K.top):T.bottom&&(v.y=Math.max(Math.min(de.bottom+K.bottom,q.y),J.bottom+K.bottom)),T.left?v.x=Math.min(Math.max(de.left+K.left,q.x),J.left+K.left):T.right&&(v.x=Math.max(Math.min(de.right+K.right,q.x),J.right+K.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};xr.restrictEdges=cA;var Gy=(0,ln.makeModifier)(cA,"restrictEdges");xr.default=Gy;var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.restrictRect=bl.default=void 0;var Jg=(0,M.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(p){}},Fn.restrict.defaults),wa={start:Fn.restrict.start,set:Fn.restrict.set,defaults:Jg};bl.restrictRect=wa;var ci=(0,ln.makeModifier)(wa,"restrictRect");bl.default=ci;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.restrictSize=Ds.default=void 0;var Hn={width:-1/0,height:-1/0},Sr={width:1/0,height:1/0},Zg={start:function(p){return xr.restrictEdges.start(p)},set:function(p){var v=p.interaction,T=p.state,x=p.rect,R=p.edges,K=T.options;if(R){var Z=N.tlbrToXywh((0,Fn.getRestrictionRect)(K.min,v,p.coords))||Hn,q=N.tlbrToXywh((0,Fn.getRestrictionRect)(K.max,v,p.coords))||Sr;T.options={endOnly:K.endOnly,inner:(0,M.default)({},xr.restrictEdges.noInner),outer:(0,M.default)({},xr.restrictEdges.noOuter)},R.top?(T.options.inner.top=x.bottom-Z.height,T.options.outer.top=x.bottom-q.height):R.bottom&&(T.options.inner.bottom=x.top+Z.height,T.options.outer.bottom=x.top+q.height),R.left?(T.options.inner.left=x.right-Z.width,T.options.outer.left=x.right-q.width):R.right&&(T.options.inner.right=x.left+Z.width,T.options.outer.right=x.left+q.width),xr.restrictEdges.set(p),T.options=K}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ds.restrictSize=Zg;var em=(0,ln.makeModifier)(Zg,"restrictSize");Ds.default=em;var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),Object.defineProperty(gd,"default",{enumerable:!0,get:function(){return Zr.default}});var To={};Object.defineProperty(To,"__esModule",{value:!0}),To.snap=To.default=void 0;var tm={start:function(p){var v,T=p.interaction,x=p.interactable,R=p.element,K=p.rect,Z=p.state,q=p.startOffset,J=Z.options,de=J.offsetWithOrigin?function(Re){var Ue=Re.interaction.element;return(0,N.rectToXY)((0,N.resolveRectLike)(Re.state.options.origin,null,null,[Ue]))||(0,ee.default)(Re.interactable,Ue,Re.interaction.prepared.name)}(p):{x:0,y:0};if(J.offset==="startCoords")v={x:T.coords.start.page.x,y:T.coords.start.page.y};else{var ge=(0,N.resolveRectLike)(J.offset,x,R,[T]);(v=(0,N.rectToXY)(ge)||{x:0,y:0}).x+=de.x,v.y+=de.y}var Ce=J.relativePoints;Z.offsets=K&&Ce&&Ce.length?Ce.map(function(Re,Ue){return{index:Ue,relativePoint:Re,x:q.left-K.width*Re.x+v.x,y:q.top-K.height*Re.y+v.y}}):[{index:0,relativePoint:null,x:v.x,y:v.y}]},set:function(p){var v=p.interaction,T=p.coords,x=p.state,R=x.options,K=x.offsets,Z=(0,ee.default)(v.interactable,v.element,v.prepared.name),q=(0,M.default)({},T),J=[];R.offsetWithOrigin||(q.x-=Z.x,q.y-=Z.y);for(var de=0;de<K.length;de++)for(var ge=K[de],Ce=q.x-ge.x,Re=q.y-ge.y,Ue=0,Se=R.targets.length;Ue<Se;Ue++){var We,rt=R.targets[Ue];(We=a.default.func(rt)?rt(Ce,Re,v._proxy,ge,Ue):rt)&&J.push({x:(a.default.number(We.x)?We.x:Ce)+ge.x,y:(a.default.number(We.y)?We.y:Re)+ge.y,range:a.default.number(We.range)?We.range:R.range,source:rt,index:Ue,offset:ge})}for(var qe={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ht=0;ht<J.length;ht++){var yt=J[ht],Ut=yt.range,Ai=yt.x-q.x,Bi=yt.y-q.y,qt=(0,le.default)(Ai,Bi),Ti=qt<=Ut;Ut===1/0&&qe.inRange&&qe.range!==1/0&&(Ti=!1),qe.target&&!(Ti?qe.inRange&&Ut!==1/0?qt/Ut<qe.distance/qe.range:Ut===1/0&&qe.range!==1/0||qt<qe.distance:!qe.inRange&&qt<qe.distance)||(qe.target=yt,qe.distance=qt,qe.range=Ut,qe.inRange=Ti,qe.delta.x=Ai,qe.delta.y=Bi)}return qe.inRange&&(T.x=qe.target.x,T.y=qe.target.y),x.closest=qe,qe},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};To.snap=tm;var Ky=(0,ln.makeModifier)(tm,"snap");To.default=Ky;var eo={};function im(p,v){(v==null||v>p.length)&&(v=p.length);for(var T=0,x=Array(v);T<v;T++)x[T]=p[T];return x}Object.defineProperty(eo,"__esModule",{value:!0}),eo.snapSize=eo.default=void 0;var nm={start:function(p){var v=p.state,T=p.edges,x=v.options;if(!T)return null;p.state={options:{targets:null,relativePoints:[{x:T.left?0:1,y:T.top?0:1}],offset:x.offset||"self",origin:{x:0,y:0},range:x.range}},v.targetFields=v.targetFields||[["width","height"],["x","y"]],To.snap.start(p),v.offsets=p.state.offsets,p.state=v},set:function(p){var v,T,x=p.interaction,R=p.state,K=p.coords,Z=R.options,q=R.offsets,J={x:K.x-q[0].x,y:K.y-q[0].y};R.options=(0,M.default)({},Z),R.options.targets=[];for(var de=0;de<(Z.targets||[]).length;de++){var ge=(Z.targets||[])[de],Ce=void 0;if(Ce=a.default.func(ge)?ge(J.x,J.y,x):ge){for(var Re=0;Re<R.targetFields.length;Re++){var Ue=(v=R.targetFields[Re],T=2,function(qe){if(Array.isArray(qe))return qe}(v)||function(qe,ht){var yt=qe==null?null:typeof Symbol<"u"&&qe[Symbol.iterator]||qe["@@iterator"];if(yt!=null){var Ut,Ai,Bi=[],qt=!0,Ti=!1;try{for(yt=yt.call(qe);!(qt=(Ut=yt.next()).done)&&(Bi.push(Ut.value),!ht||Bi.length!==ht);qt=!0);}catch(Br){Ti=!0,Ai=Br}finally{try{qt||yt.return==null||yt.return()}finally{if(Ti)throw Ai}}return Bi}}(v,T)||function(qe,ht){if(qe){if(typeof qe=="string")return im(qe,ht);var yt=Object.prototype.toString.call(qe).slice(8,-1);return yt==="Object"&&qe.constructor&&(yt=qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?im(qe,ht):void 0}}(v,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Se=Ue[0],We=Ue[1];if(Se in Ce||We in Ce){Ce.x=Ce[Se],Ce.y=Ce[We];break}}R.options.targets.push(Ce)}}var rt=To.snap.set(p);return R.options=Z,rt},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};eo.snapSize=nm;var sm=(0,ln.makeModifier)(nm,"snapSize");eo.default=sm;var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.snapEdges=w.default=void 0;var F={start:function(p){var v=p.edges;return v?(p.state.targetFields=p.state.targetFields||[[v.left?"left":"right",v.top?"top":"bottom"]],eo.snapSize.start(p)):null},set:eo.snapSize.set,defaults:(0,M.default)((0,Er.default)(eo.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};w.snapEdges=F;var P=(0,ln.makeModifier)(F,"snapEdges");w.default=P;var I={};Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"default",{enumerable:!0,get:function(){return Zr.default}});var H={};Object.defineProperty(H,"__esModule",{value:!0}),Object.defineProperty(H,"default",{enumerable:!0,get:function(){return Zr.default}});var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var ue={aspectRatio:ml.default,restrictEdges:xr.default,restrict:Fn.default,restrictRect:bl.default,restrictSize:Ds.default,snapEdges:w.default,snap:To.default,snapSize:eo.default,spring:I.default,avoid:$u.default,transform:H.default,rubberband:gd.default};z.default=ue;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var fe={id:"modifiers",install:function(p){var v=p.interactStatic;for(var T in p.usePlugin(ln.default),p.usePlugin(lA.default),v.modifiers=z.default,z.default){var x=z.default[T],R=x._defaults,K=x._methods;R._methods=K,p.defaults.perAction[T]=R}}},be=fe;Ae.default=be;var Ee={};function Pe(p){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Pe(p)}function it(p,v){for(var T=0;T<v.length;T++){var x=v[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}function Ve(p,v){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,x){return T.__proto__=x,T},Ve(p,v)}function vt(p,v){if(v&&(Pe(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tt(p)}function Tt(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Ui(p){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},Ui(p)}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=Ee.PointerEvent=void 0;var Fs=function(p){(function(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),J&&Ve(q,J)})(Z,p);var v,T,x,R,K=(x=Z,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,J=Ui(x);if(R){var de=Ui(this).constructor;q=Reflect.construct(J,arguments,de)}else q=J.apply(this,arguments);return vt(this,q)});function Z(q,J,de,ge,Ce,Re){var Ue;if(function(rt,qe){if(!(rt instanceof qe))throw new TypeError("Cannot call a class as a function")}(this,Z),Ue=K.call(this,Ce),pe.pointerExtend(Tt(Ue),de),de!==J&&pe.pointerExtend(Tt(Ue),J),Ue.timeStamp=Re,Ue.originalEvent=de,Ue.type=q,Ue.pointerId=pe.getPointerId(J),Ue.pointerType=pe.getPointerType(J),Ue.target=ge,Ue.currentTarget=null,q==="tap"){var Se=Ce.getPointerIndex(J);Ue.dt=Ue.timeStamp-Ce.pointers[Se].downTime;var We=Ue.timeStamp-Ce.tapTime;Ue.double=!!Ce.prevTap&&Ce.prevTap.type!=="doubletap"&&Ce.prevTap.target===Ue.target&&We<500}else q==="doubletap"&&(Ue.dt=J.timeStamp-Ce.tapTime,Ue.double=!0);return Ue}return v=Z,(T=[{key:"_subtractOrigin",value:function(q){var J=q.x,de=q.y;return this.pageX-=J,this.pageY-=de,this.clientX-=J,this.clientY-=de,this}},{key:"_addOrigin",value:function(q){var J=q.x,de=q.y;return this.pageX+=J,this.pageY+=de,this.clientX+=J,this.clientY+=de,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&it(v.prototype,T),Object.defineProperty(v,"prototype",{writable:!1}),Z}(ae.BaseEvent);Ee.PointerEvent=Ee.default=Fs;var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var Vu={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(p){p.pointerEvents=Vu,p.defaults.actions.pointerEvents=Vu.defaults,(0,M.default)(p.actions.phaselessTypes,Vu.types)},listeners:{"interactions:new":function(p){var v=p.interaction;v.prevTap=null,v.tapTime=0},"interactions:update-pointer":function(p){var v=p.down,T=p.pointerInfo;!v&&T.hold||(T.hold={duration:1/0,timeout:null})},"interactions:move":function(p,v){var T=p.interaction,x=p.pointer,R=p.event,K=p.eventTarget;p.duplicate||T.pointerIsDown&&!T.pointerWasMoved||(T.pointerIsDown&&zu(p),to({interaction:T,pointer:x,event:R,eventTarget:K,type:"move"},v))},"interactions:down":function(p,v){(function(T,x){for(var R=T.interaction,K=T.pointer,Z=T.event,q=T.eventTarget,J=T.pointerIndex,de=R.pointers[J].hold,ge=O.getPath(q),Ce={interaction:R,pointer:K,event:Z,eventTarget:q,type:"hold",targets:[],path:ge,node:null},Re=0;Re<ge.length;Re++){var Ue=ge[Re];Ce.node=Ue,x.fire("pointerEvents:collect-targets",Ce)}if(Ce.targets.length){for(var Se=1/0,We=0;We<Ce.targets.length;We++){var rt=Ce.targets[We].eventable.options.holdDuration;rt<Se&&(Se=rt)}de.duration=Se,de.timeout=setTimeout(function(){to({interaction:R,eventTarget:q,pointer:K,event:Z,type:"hold"},x)},Se)}})(p,v),to(p,v)},"interactions:up":function(p,v){zu(p),to(p,v),function(T,x){var R=T.interaction,K=T.pointer,Z=T.event,q=T.eventTarget;R.pointerWasMoved||to({interaction:R,eventTarget:q,pointer:K,event:Z,type:"tap"},x)}(p,v)},"interactions:cancel":function(p,v){zu(p),to(p,v)}},PointerEvent:Ee.PointerEvent,fire:to,collectEventTargets:md,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function to(p,v){var T=p.interaction,x=p.pointer,R=p.event,K=p.eventTarget,Z=p.type,q=p.targets,J=q===void 0?md(p,v):q,de=new Ee.PointerEvent(Z,x,R,K,T,v.now());v.fire("pointerEvents:new",{pointerEvent:de});for(var ge={interaction:T,pointer:x,event:R,eventTarget:K,targets:J,type:Z,pointerEvent:de},Ce=0;Ce<J.length;Ce++){var Re=J[Ce];for(var Ue in Re.props||{})de[Ue]=Re.props[Ue];var Se=(0,ee.default)(Re.eventable,Re.node);if(de._subtractOrigin(Se),de.eventable=Re.eventable,de.currentTarget=Re.node,Re.eventable.fire(de),de._addOrigin(Se),de.immediatePropagationStopped||de.propagationStopped&&Ce+1<J.length&&J[Ce+1].node!==de.currentTarget)break}if(v.fire("pointerEvents:fired",ge),Z==="tap"){var We=de.double?to({interaction:T,pointer:x,event:R,eventTarget:K,type:"doubletap"},v):de;T.prevTap=We,T.tapTime=We.timeStamp}return de}function md(p,v){var T=p.interaction,x=p.pointer,R=p.event,K=p.eventTarget,Z=p.type,q=T.getPointerIndex(x),J=T.pointers[q];if(Z==="tap"&&(T.pointerWasMoved||!J||J.downTarget!==K))return[];for(var de=O.getPath(K),ge={interaction:T,pointer:x,event:R,eventTarget:K,type:Z,path:de,targets:[],node:null},Ce=0;Ce<de.length;Ce++){var Re=de[Ce];ge.node=Re,v.fire("pointerEvents:collect-targets",ge)}return Z==="hold"&&(ge.targets=ge.targets.filter(function(Ue){var Se;return Ue.eventable.options.holdDuration===((Se=T.pointers[q])==null?void 0:Se.hold.duration)})),ge.targets}function zu(p){var v=p.interaction,T=p.pointerIndex,x=v.pointers[T].hold;x&&x.timeout&&(clearTimeout(x.timeout),x.timeout=null)}var rm=Vu;er.default=rm;var Si={};function om(p){var v=p.interaction;v.holdIntervalHandle&&(clearInterval(v.holdIntervalHandle),v.holdIntervalHandle=null)}Object.defineProperty(Si,"__esModule",{value:!0}),Si.default=void 0;var _a={id:"pointer-events/holdRepeat",install:function(p){p.usePlugin(er.default);var v=p.pointerEvents;v.defaults.holdRepeatInterval=0,v.types.holdrepeat=p.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(p,v){return p["pointerEvents:".concat(v)]=om,p},{"pointerEvents:new":function(p){var v=p.pointerEvent;v.type==="hold"&&(v.count=(v.count||0)+1)},"pointerEvents:fired":function(p,v){var T=p.interaction,x=p.pointerEvent,R=p.eventTarget,K=p.targets;if(x.type==="hold"&&K.length){var Z=K[0].eventable.options.holdRepeatInterval;Z<=0||(T.holdIntervalHandle=setTimeout(function(){v.pointerEvents.fire({interaction:T,eventTarget:R,type:"hold",pointer:x,event:x},v)},Z))}}})},_8=_a;Si.default=_8;var am={};function C8(p){return(0,M.default)(this.events.options,p),this}Object.defineProperty(am,"__esModule",{value:!0}),am.default=void 0;var E8={id:"pointer-events/interactableTargets",install:function(p){var v=p.Interactable;v.prototype.pointerEvents=C8;var T=v.prototype._backCompatOption;v.prototype._backCompatOption=function(x,R){var K=T.call(this,x,R);return K===this&&(this.events.options[x]=R),K}},listeners:{"pointerEvents:collect-targets":function(p,v){var T=p.targets,x=p.node,R=p.type,K=p.eventTarget;v.interactables.forEachMatch(x,function(Z){var q=Z.events,J=q.options;q.types[R]&&q.types[R].length&&Z.testIgnoreAllow(J,x,K)&&T.push({node:x,eventable:q,props:{interactable:Z}})})},"interactable:new":function(p){var v=p.interactable;v.events.getRect=function(T){return v.getRect(T)}},"interactable:set":function(p,v){var T=p.interactable,x=p.options;(0,M.default)(T.events.options,v.pointerEvents.defaults),(0,M.default)(T.events.options,x.pointerEvents||{})}}},T8=E8;am.default=T8;var vd={};Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var x8={id:"pointer-events",install:function(p){p.usePlugin(er),p.usePlugin(Si.default),p.usePlugin(am.default)}},S8=x8;vd.default=S8;var AA={};function pT(p){var v=p.Interactable;p.actions.phases.reflow=!0,v.prototype.reflow=function(T){return function(x,R,K){for(var Z=a.default.string(x.target)?ve.from(x._context.querySelectorAll(x.target)):[x.target],q=K.window.Promise,J=q?[]:null,de=function(){var Ce=Z[ge],Re=x.getRect(Ce);if(!Re)return"break";var Ue=ve.find(K.interactions.list,function(ht){return ht.interacting()&&ht.interactable===x&&ht.element===Ce&&ht.prepared.name===R.name}),Se=void 0;if(Ue)Ue.move(),J&&(Se=Ue._reflowPromise||new q(function(ht){Ue._reflowResolve=ht}));else{var We=(0,N.tlbrToXywh)(Re),rt={page:{x:We.x,y:We.y},client:{x:We.x,y:We.y},timeStamp:K.now()},qe=pe.coordsToEvent(rt);Se=function(ht,yt,Ut,Ai,Bi){var qt=ht.interactions.new({pointerType:"reflow"}),Ti={interaction:qt,event:Bi,pointer:Bi,eventTarget:Ut,phase:"reflow"};qt.interactable=yt,qt.element=Ut,qt.prevEvent=Bi,qt.updatePointer(Bi,Bi,Ut,!0),pe.setZeroCoords(qt.coords.delta),(0,xi.copyAction)(qt.prepared,Ai),qt._doPhase(Ti);var Br=ht.window.Promise,Ca=Br?new Br(function(qy){qt._reflowResolve=qy}):void 0;return qt._reflowPromise=Ca,qt.start(Ai,yt,Ut),qt._interacting?(qt.move(Ti),qt.end(Bi)):(qt.stop(),qt._reflowResolve()),qt.removePointer(Bi,Bi),Ca}(K,x,Ce,R,qe)}J&&J.push(Se)},ge=0;ge<Z.length&&de()!=="break";ge++);return J&&q.all(J).then(function(){return x})}(this,T,p)}}Object.defineProperty(AA,"__esModule",{value:!0}),AA.default=void 0,AA.install=pT;var B8={id:"reflow",install:pT,listeners:{"interactions:stop":function(p,v){var T=p.interaction;T.pointerType==="reflow"&&(T._reflowResolve&&T._reflowResolve(),ve.remove(v.interactions.list,T))}}},k8=B8;AA.default=k8;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.default=void 0,Dn.default.use(Yn.default),Dn.default.use(wo.default),Dn.default.use(vd.default),Dn.default.use(da.default),Dn.default.use(Ae.default),Dn.default.use(Xr.default),Dn.default.use(pt.default),Dn.default.use(qn.default),Dn.default.use(AA.default);var D8=Dn.default;Gu.default=D8,Dn.default.default=Dn.default,pt.default,qn.default,Xr.default,Yn.default,Xn.default,da.default,Dn.default,Ae.default,wo.default,vd.default,AA.default;var Ku={exports:{}};function Wy(p){return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Wy(p)}Object.defineProperty(Ku.exports,"__esModule",{value:!0}),Ku.exports.default=void 0;var F8=Gu.default;if(Ku.exports.default=F8,Wy(Ku)==="object"&&Ku)try{Ku.exports=Gu.default}catch{}return Gu.default.default=Gu.default,Ku.exports})})(SP);var Ule=SP.exports;const nw=us(Ule);const Nle={name:"PPlateau",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},image:"./static/img/plateau/plateau.png",pions:2,chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{image:this.image,pions:this.pions},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("plateauJeu"),this.panneau.contenu!==""&&(this.image=this.panneau.contenu.image,this.pions=this.panneau.contenu.pions),this.genererOptions("plateau")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&(this.redimensionnement=!0,this.activerPions(),this.positionner())},methods:{generer(){this.image!==""&&this.pions>1&&this.pions<13&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=88,this.h=60),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.activerPions(),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.chargementImage=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=50,this.positionner(),this.desactiverPions()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1500){const r=document.createElement("canvas"),o=s.width/s.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85)}else this.chargementImage=!1,this.image=n.target.result}).bind(this)}).bind(this)}},activerPions(){nw("#"+this.id+" .pion").draggable({modifiers:[nw.modifiers.restrictRect({restriction:"#"+this.id+" .conteneur-plateau",endOnly:!1})],listeners:{move:function(t){const e=t.target,i=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,n=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.transform="translate("+i+"px, "+n+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",n)}}})},desactiverPions(){nw("#"+this.id+" .pion").unset()}}},Hle=d("div",{class:"conteneur-gauche"},null,-1),Qle={key:0,class:"conteneur panneau-plateau"},$le={key:0,class:"contenu"},jle=["src"],Vle={class:"separateur"},zle=["for"],Gle=["id"],Kle=["value"],Wle={key:1,class:"contenu"},qle=d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1),Yle=[qle],Xle={key:1,class:"conteneur panneau-plateau"},Jle={class:"conteneur-plateau"},Zle={class:"pions"},eue=["id","src"],tue=d("div",{class:"conteneur-droite"},null,-1),iue=d("div",{class:"conteneur-bas"},null,-1);function nue(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Hle,s.mode==="edition"?(Y(),te("div",Qle,[s.chargementImage?(Y(),te("div",Wle,Yle)):(Y(),te("div",$le,[d("label",null,oe(t.$t("plateauJeu")),1),d("img",{class:"plateau",src:s.image,alt:"Plateau"},null,8,jle),d("div",Vle,[d("span",null,oe(t.$t("ou")),1)]),d("label",{class:"bouton",role:"button",tabindex:"0",for:"selectionner-plateau-"+s.id},oe(t.$t("selectionnerImage")),9,zle),d("input",{id:"selectionner-plateau-"+s.id,type:"file",onChange:e[0]||(e[0]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,Gle),d("label",null,oe(t.$t("nombrePions")),1),d("input",{type:"number",value:s.pions,min:2,max:12,onInput:e[1]||(e[1]=a=>s.pions=parseInt(a.target.value))},null,40,Kle),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)]))])):(Y(),te("div",Xle,[d("div",Jle,[d("div",{class:"plateau",style:ti("background-image: url("+s.image+")")},null,4),d("div",Zle,[(Y(!0),te(dt,null,ei(s.pions,a=>(Y(),te("img",{id:"pion_"+a+"_"+s.id,class:"pion",src:"./static/img/plateau/pion"+a+".png",key:"pion_"+a+"_"+s.id},null,8,eue))),128))])])])),tue,iue]),_:1},8,["visible","options"])}const sue=Ht(Nle,[["render",nue]]);const rue={name:"PDes",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:20,minh:22,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},des:1,type:"classique",nombreMin:0,nombreMax:99,alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],resultats:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{des:this.des,type:this.type,nombreMin:this.nombreMin,nombreMax:this.nombreMax},w:this.w,h:this.h,x:this.x,y:this.y}))},type:function(t){t==="nombre"?(this.w=40,this.h=34):(this.w=40,this.h=25.4),this.$nextTick((function(){this.positionner()}).bind(this))}},created(){if(this.definirCaracteristiques("des"),typeof this.panneau.contenu=="object"&&this.panneau.contenu.constructor===Object){this.des=this.panneau.contenu.des,this.type=this.panneau.contenu.type,this.nombreMin=this.panneau.contenu.nombreMin,this.nombreMax=this.panneau.contenu.nombreMax;for(let t=0;t<this.des;t++)this.type==="classique"?this.resultats.push(1):this.type==="nombre"?this.resultats.push(this.nombreMin):this.type==="lettre"&&this.resultats.push("A")}else if(this.panneau.contenu!==""){this.des=this.panneau.contenu;for(let t=0;t<this.des;t++)this.resultats.push(1)}this.genererOptions("des")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.des===1&&this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this))},methods:{generer(){this.mode="lecture",this.des===1?(this.w=20,this.h=24):this.des===2?(this.w=30,this.h=24):this.des===3?(this.w=40,this.h=24):this.des>3&&this.des<7?(this.w=40,this.h=36):this.des>6&&this.des<10?(this.w=40,this.h=48):this.des>9&&(this.w=40,this.h=60),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y);for(let t=0;t<this.des;t++)this.type==="classique"?this.resultats.push(1):this.type==="nombre"?this.resultats.push(this.nombreMin):this.type==="lettre"&&this.resultats.push("A");this.positionner()},editer(){this.mode="edition",this.resultats=[],this.donnees.x=this.x,this.donnees.y=this.y,this.type==="nombre"?(this.w=40,this.h=34):(this.w=40,this.h=25.4),this.positionner()},jeter(){this.resultats=[];for(let t=0;t<this.des;t++){let e;this.type==="classique"?e=Math.floor(Math.random()*(6-1+1)+1):this.type==="nombre"?e=Math.floor(Math.random()*(this.nombreMax-this.nombreMin+1)+this.nombreMin):this.type==="lettre"&&(e=this.alphabet[Math.floor(Math.random()*this.alphabet.length)]),this.resultats.push(e)}this.$parent.audio.src="./static/audio/des.mp3",this.$parent.audio.play()}}},oue=d("div",{class:"conteneur-gauche"},null,-1),aue={class:"conteneur panneau-des"},lue={key:0,class:"contenu"},uue=["value"],cue={class:"choix"},Aue={class:"classique"},hue=["id","name","checked"],due=["for"],fue={class:"nombre"},pue=["id","name","checked"],gue=["for"],mue={class:"lettre"},vue=["id","name","checked"],bue=["for"],yue={key:0,class:"plage-nombre"},wue={class:"min"},_ue=["value"],Cue={class:"max"},Eue=["value"],Tue={key:1,class:"contenu"},xue={class:"des"},Sue=d("div",{class:"conteneur-droite"},null,-1),Bue=d("div",{class:"conteneur-bas"},null,-1);function kue(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[oue,d("div",aue,[s.mode==="edition"?(Y(),te("div",lue,[d("label",null,oe(t.$t("nombreDes")),1),d("input",{type:"number",value:s.des,min:1,max:6,onInput:e[0]||(e[0]=a=>s.des=parseInt(a.target.value))},null,40,uue),d("label",null,oe(t.$t("typeDe")),1),d("div",cue,[d("span",Aue,[d("input",{type:"radio",id:"classique_"+s.id,name:"type_"+s.id,value:"classique",checked:s.type==="classique",onChange:e[1]||(e[1]=a=>s.type=a.target.value)},null,40,hue),d("label",{for:"classique_"+s.id},oe(t.$t("classique")),9,due)]),d("span",fue,[d("input",{type:"radio",id:"nombre_"+s.id,name:"type_"+s.id,value:"nombre",checked:s.type==="nombre",onChange:e[2]||(e[2]=a=>s.type=a.target.value)},null,40,pue),d("label",{for:"nombre_"+s.id},oe(t.$t("nombre")),9,gue)]),d("span",mue,[d("input",{type:"radio",id:"lettre_"+s.id,name:"type_"+s.id,value:"lettre",checked:s.type==="lettre",onChange:e[3]||(e[3]=a=>s.type=a.target.value)},null,40,vue),d("label",{for:"lettre_"+s.id},oe(t.$t("lettre")),9,bue)])]),s.type==="nombre"?(Y(),te("div",yue,[d("div",wue,[d("label",null,oe(t.$t("minimum")),1),d("input",{type:"number",value:s.nombreMin,min:0,max:99,onInput:e[4]||(e[4]=a=>s.nombreMin=a.target.value)},null,40,_ue)]),d("div",Cue,[d("label",null,oe(t.$t("maximum")),1),d("input",{type:"number",value:s.nombreMax,min:0,max:99,onInput:e[5]||(e[5]=a=>s.nombreMax=a.target.value)},null,40,Eue)])])):De("",!0),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])):(Y(),te("div",Tue,[d("div",xue,[(Y(!0),te(dt,null,ei(s.resultats,(a,l)=>(Y(),te(dt,null,[s.type==="classique"?(Y(),te("span",{class:Ne("de de-"+a),key:"de_classique_"+l},null,2)):s.type==="nombre"?(Y(),te("span",{class:"de-autre",key:"de_nombre_"+l},oe(a),1)):s.type==="lettre"?(Y(),te("span",{class:"de-autre",key:"de_lettre_"+l},oe(a),1)):De("",!0)],64))),256))]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.jeter&&r.jeter(...a))},oe(t.$t("jeter")),1)]))]),Sue,Bue]),_:1},8,["visible","options"])}const Due=Ht(rue,[["render",kue]]);const Fue={name:"PModalites",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:38,minh:56,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},modalite:"silence"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{modalite:this.modalite},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("modalites"),this.panneau.contenu!==""&&(this.modalite=this.panneau.contenu.modalite),this.genererOptions("modalites")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1}},Iue=d("div",{class:"conteneur-gauche"},null,-1),Lue={class:"conteneur panneau-modalites"},Pue={class:"contenu"},Mue={class:"modalites"},Rue={class:"modalite"},Oue=["src","alt"],Uue={class:"legende"},Nue={class:"source"},Hue={href:"https://arasaac.org",target:"_blank"},Que=d("div",{class:"conteneur-droite"},null,-1),$ue=d("div",{class:"conteneur-bas"},null,-1);function jue(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Iue,d("div",Lue,[d("div",Pue,[d("div",Mue,[d("span",{role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>s.modalite="silence"),style:{"background-image":"url(./static/img/modalites/silence.png)"}}),d("span",{role:"button",tabindex:"0",onClick:e[1]||(e[1]=a=>s.modalite="ecoutez"),style:{"background-image":"url(./static/img/modalites/ecoutez.png)"}}),d("span",{role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>s.modalite="chuchotez"),style:{"background-image":"url(./static/img/modalites/chuchotez.png)"}}),d("span",{role:"button",tabindex:"0",onClick:e[3]||(e[3]=a=>s.modalite="parlez"),style:{"background-image":"url(./static/img/modalites/parlez.png)"}}),d("span",{role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>s.modalite="communiquez"),style:{"background-image":"url(./static/img/modalites/communiquez.png)"}})]),d("div",Rue,[d("img",{src:"./static/img/modalites/"+s.modalite+".png",alt:t.$t(s.modalite)},null,8,Oue),d("div",Uue,oe(t.$t(s.modalite)),1),d("div",Nue,[d("a",Hue,oe(t.$t("sourceImages"))+" : ARASAAC. Licence : CC (BY-NC-SA)",1)])])])]),Que,$ue]),_:1},8,["visible","options"])}const Vue=Ht(Fue,[["render",jue]]);const zue={name:"PGroupes",components:{JsPanel:ii,draggable:zh},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:32,minh:28,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",personnes:1,groupes:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,personnes:this.personnes,groupes:this.groupes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("groupes"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.personnes=this.panneau.contenu.personnes,this.groupes=this.panneau.contenu.groupes),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("groupes")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this))},methods:{generer(){if(this.texte!==""){this.mode="lecture",this.redimensionnement=!0;let t=this.texte.split(",").map(i=>i.trim());t=t.filter(i=>i!==""),t=this.melanger(t);const e=parseInt(this.personnes);if(t.length>0&&e>0){let i=Math.ceil(t.length/e),n=0;for(;i>0;){const s=[];let r;if(i<1)for(;n<t.length;)s[s.length]=t[n],n++;else for(r=e;r>0;r--)s[s.length]=t[n],n++;this.groupes[this.groupes.length]=s,i--}}this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=64,this.h=48),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner()}},editer(){this.mode="edition",this.redimensionnement=!1,this.groupes=[],this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=42,this.positionner()}}},Gue=d("div",{class:"conteneur-gauche"},null,-1),Kue={class:"conteneur panneau-groupes"},Wue={key:0,class:"contenu"},que=["innerHTML"],Yue=["value","placeholder"],Xue=["value"],Jue={key:1,class:"contenu"},Zue={class:"groupes"},ece=d("div",{class:"conteneur-droite"},null,-1),tce=d("div",{class:"conteneur-bas"},null,-1);function ice(t,e,i,n,s,r){const o=Ke("draggable"),a=Ke("JsPanel");return Y(),Je(a,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Gue,d("div",Kue,[s.mode==="edition"?(Y(),te("div",Wue,[d("label",null,oe(t.$t("listePersonnes")),1),d("span",{class:"consigne",innerHTML:t.$t("consigneGroupe")},null,8,que),d("textarea",{class:"groupes",value:s.texte,onInput:e[0]||(e[0]=l=>s.texte=l.target.value),placeholder:t.$t("exempleGroupe")},null,40,Yue),d("label",null,oe(t.$t("nombrePersonnesGroupe")),1),d("input",{type:"number",value:s.personnes,min:1,onInput:e[1]||(e[1]=l=>s.personnes=l.target.value)},null,40,Xue),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...l)=>r.generer&&r.generer(...l))},oe(t.$t("valider")),1)])):(Y(),te("div",Jue,[d("div",Zue,[(Y(!0),te(dt,null,ei(s.groupes,(l,u)=>(Y(),te("div",{class:"groupe",key:"groupe_"+u},[d("div",null,oe(t.$t("groupe"))+" "+oe(u+1),1),Ct(o,{modelValue:s.groupes[u],"onUpdate:modelValue":c=>s.groupes[u]=c,group:"groupe",tag:"ul"},{default:Et(()=>[(Y(!0),te(dt,null,ei(l,(c,A)=>(Y(),te("li",{key:c+"_"+A},oe(c),1))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))])]))]),ece,tce]),_:1},8,["visible","options"])}const nce=Ht(zue,[["render",ice]]);const sce={name:"PChrono",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"stop",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:48,minh:22.2,statut:"",dimensions:{},position:{},chrono:"",millisecondesPause:0,millisecondesEcoulees:0,heures:0,minutes:0,secondes:0,millisecondes:0,texteHeures:"00",texteMinutes:"00",texteSecondes:"00",texteMillisecondes:"000",affichageHeures:"non",affichageMillisecondes:"oui"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{affichageHeures:this.affichageHeures,affichageMillisecondes:this.affichageMillisecondes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("chronometre"),this.panneau.contenu!==""&&(this.affichageHeures=this.panneau.contenu.affichageHeures,this.panneau.contenu.hasOwnProperty("affichageMillisecondes")&&(this.affichageMillisecondes=this.panneau.contenu.affichageMillisecondes)),this.genererOptions("chrono")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{demarrer(){this.chrono=this.arreterTempsMillisecondes(this.chrono);const t=this.demarrerTempsMillisecondes(this.millisecondesPause);this.millisecondesPause=0,this.chrono=setInterval((function(){this.millisecondesEcoulees=this.recupererTempsMillisecondes(t),this.millisecondes<10?this.texteMillisecondes="00"+this.millisecondes:this.millisecondes<100?this.texteMillisecondes="0"+this.millisecondes:this.texteMillisecondes=this.millisecondes,this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.millisecondes=this.millisecondesEcoulees,this.minutes===59&&this.secondes===59&&this.millisecondes>999&&(this.secondes=0,this.minutes=0,this.heures++),this.secondes===59&&this.millisecondes>999&&(this.secondes=0,this.minutes++),this.millisecondes>999&&(this.millisecondes=0,this.secondes++,this.demarrer())}).bind(this),1),this.h=22.2,this.positionner(),this.mode!=="lecture"&&(this.mode="lecture")},pause(){this.millisecondesPause=this.millisecondesEcoulees,this.chrono=this.arreterTempsMillisecondes(this.chrono),this.mode="pause"},stop(){this.chrono=this.arreterTempsMillisecondes(this.chrono),this.minutes=0,this.secondes=0,this.millisecondes=0,this.texteMinutes="00",this.texteSecondes="00",this.texteMillisecondes="000",this.mode="stop",this.h=28.4,this.positionner()},arreterTempsMillisecondes(t){return t&&clearInterval(t),t},demarrerTempsMillisecondes(t){return new Date().getTime()-t},recupererTempsMillisecondes(t){return t>0?new Date().getTime()-t:0},modifierAffichageHeures(t){this.affichageHeures=t,t==="oui"&&this.affichageMillisecondes==="oui"?this.w=59:t==="non"&&this.affichageMillisecondes==="non"?this.w=37:this.w=48,this.positionner()},modifierAffichageMillisecondes(t){this.affichageMillisecondes=t,t==="oui"&&this.affichageHeures==="oui"?this.w=59:t==="non"&&this.affichageHeures==="non"?this.w=37:this.w=48,this.positionner()}}},rce=d("div",{class:"conteneur-gauche"},null,-1),oce={class:"conteneur panneau-chrono"},ace={class:"contenu"},lce={class:"chrono"},uce={key:0,class:"heures"},cce={key:1,class:"separateur"},Ace={class:"minutes"},hce=d("span",{class:"separateur"},":",-1),dce={class:"secondes"},fce={key:2,class:"separateur"},pce={key:3,class:"millisecondes"},gce={key:0,class:"options"},mce={class:"conteneur-affichage-heures"},vce={class:"affichage-heures"},bce={class:"oui"},yce=["id","name","checked"],wce=["for"],_ce={class:"non"},Cce=["id","name","checked"],Ece=["for"],Tce={class:"conteneur-affichage-millisecondes"},xce={class:"affichage-millisecondes"},Sce={class:"oui"},Bce=["id","name","checked"],kce=["for"],Dce={class:"non"},Fce=["id","name","checked"],Ice=["for"],Lce={class:"actions"},Pce=d("i",{class:"material-icons"},"play_arrow",-1),Mce=[Pce],Rce=d("i",{class:"material-icons"},"pause",-1),Oce=[Rce],Uce=d("i",{class:"material-icons"},"autorenew",-1),Nce=[Uce],Hce=d("div",{class:"conteneur-droite"},null,-1),Qce=d("div",{class:"conteneur-bas"},null,-1);function $ce(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[rce,d("div",oce,[d("div",ace,[d("div",lce,[s.affichageHeures==="oui"?(Y(),te("span",uce,oe(s.texteHeures),1)):De("",!0),s.affichageHeures==="oui"?(Y(),te("span",cce,":")):De("",!0),d("span",Ace,oe(s.texteMinutes),1),hce,d("span",dce,oe(s.texteSecondes),1),s.affichageMillisecondes==="oui"?(Y(),te("span",fce,".")):De("",!0),s.affichageMillisecondes==="oui"?(Y(),te("span",pce,oe(s.texteMillisecondes),1)):De("",!0)]),s.mode==="stop"?(Y(),te("div",gce,[d("div",mce,[d("label",null,oe(t.$t("afficherHeures")),1),d("div",vce,[d("span",bce,[d("input",{type:"radio",id:"heures_oui_"+s.id,name:"heures_oui_"+s.id,value:"oui",checked:s.affichageHeures==="oui",onChange:e[0]||(e[0]=a=>r.modifierAffichageHeures(a.target.value))},null,40,yce),d("label",{for:"heures_oui_"+s.id},oe(t.$t("oui")),9,wce)]),d("span",_ce,[d("input",{type:"radio",id:"heures_non_"+s.id,name:"heures_oui_"+s.id,value:"non",checked:s.affichageHeures==="non",onChange:e[1]||(e[1]=a=>r.modifierAffichageHeures(a.target.value))},null,40,Cce),d("label",{for:"heures_non_"+s.id},oe(t.$t("non")),9,Ece)])])]),d("div",Tce,[d("label",null,oe(t.$t("afficherMillisecondes")),1),d("div",xce,[d("span",Sce,[d("input",{type:"radio",id:"millisecondes_oui_"+s.id,name:"millisecondes_oui_"+s.id,value:"oui",checked:s.affichageMillisecondes==="oui",onChange:e[2]||(e[2]=a=>r.modifierAffichageMillisecondes(a.target.value))},null,40,Bce),d("label",{for:"millisecondes_oui_"+s.id},oe(t.$t("oui")),9,kce)]),d("span",Dce,[d("input",{type:"radio",id:"millisecondes_non_"+s.id,name:"millisecondes_oui_"+s.id,value:"non",checked:s.affichageMillisecondes==="non",onChange:e[3]||(e[3]=a=>r.modifierAffichageMillisecondes(a.target.value))},null,40,Fce),d("label",{for:"millisecondes_non_"+s.id},oe(t.$t("non")),9,Ice)])])])])):De("",!0),d("div",Lce,[s.mode==="stop"?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.demarrer&&r.demarrer(...a))},oe(t.$t("demarrer")),1)):s.mode==="pause"?(Y(),te("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.demarrer&&r.demarrer(...a))},Mce)):s.mode==="lecture"?(Y(),te("span",{key:2,class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.pause&&r.pause(...a))},Oce)):De("",!0),s.mode!=="stop"?(Y(),te("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.stop&&r.stop(...a))},Nce)):De("",!0)])])]),Hce,Qce]),_:1},8,["visible","options"])}const jce=Ht(sce,[["render",$ce]]);const Vce={name:"PRebours",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:38,minh:22.2,statut:"",dimensions:{},position:{},heures:0,minutes:0,secondes:0,texteHeures:"",texteMinutes:"",texteSecondes:"",duree:"",dureeMs:0,decompte:"",tempsRestant:"",tempsEcoule:!1,affichageHeures:"non",affichageCercle:"oui",effetsSonores:"oui",redimensionnementEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{heures:this.heures,minutes:this.minutes,secondes:this.secondes,affichageHeures:this.affichageHeures,affichageCercle:this.affichageCercle,effetsSonores:this.effetsSonores},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("compteRebours"),this.panneau.contenu!==""&&(this.panneau.contenu.hasOwnProperty("heures")&&(this.heures=this.panneau.contenu.heures),this.minutes=this.panneau.contenu.minutes,this.secondes=this.panneau.contenu.secondes,this.panneau.contenu.hasOwnProperty("affichageHeures")&&(this.affichageHeures=this.panneau.contenu.affichageHeures),this.panneau.contenu.hasOwnProperty("affichageCercle")&&(this.affichageCercle=this.panneau.contenu.affichageCercle),this.panneau.contenu.hasOwnProperty("effetsSonores")&&(this.effetsSonores=this.panneau.contenu.effetsSonores)),(this.mode==="lecture"||this.mode==="decompte")&&this.generer(),this.genererOptions("rebours")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.minutes===0&&this.affichageHeures==="non"&&this.$nextTick((function(){document.querySelector("#"+this.id+" .minutes input").focus()}).bind(this)),window.addEventListener("resize",(function(){this.redimensionnementEnCours=!0,setTimeout((function(){this.redimensionnementEnCours=!1}).bind(this),10)}).bind(this),!1)},methods:{generer(){(this.heures>=1||this.minutes>=1||this.secondes>=1)&&(this.mode="lecture",this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.dureeMs=(this.heures*3600+this.minutes*60+this.secondes)*1e3-1e3,this.affichageCercle==="oui"&&this.affichageHeures==="oui"?(this.w=46,this.h=55):this.affichageCercle==="oui"&&this.affichageHeures==="non"?(this.w=38,this.h=45):this.affichageCercle==="non"&&this.affichageHeures==="oui"?(this.w=46,this.h=22.2):this.affichageCercle==="non"&&this.affichageHeures==="non"&&(this.w=38,this.h=22.2),this.positionner())},editer(){this.mode="edition",this.texteHeures="",this.texteMinutes="",this.texteSecondes="",this.duree="",this.dureeMs=0,this.tempsRestant="",this.tempsEcoule=!1,this.decompte!==""&&(clearInterval(this.decompte),this.decompte=""),this.w=42,this.h=32,this.positionner()},demarrer(t){if(t===0){const e=Date.parse(new Date);this.duree=new Date(e+(parseInt(this.texteHeures)*3600+parseInt(this.texteMinutes)*60+(parseInt(this.texteSecondes)-1))*1e3)}else this.duree=t;this.decompter(),this.decompte=setInterval(this.decompter,1e3),this.mode="decompte"},redemarrer(){this.decompte!==""&&clearInterval(this.decompte),this.tempsEcoule=!1,this.mode="decompte",this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.dureeMs=(this.heures*3600+this.minutes*60+this.secondes)*1e3,this.$nextTick((function(){this.affichageCercle==="oui"&&document.querySelector("#"+this.id+" svg")&&(document.querySelector("#"+this.id+" svg").removeAttribute("style"),setTimeout((function(){document.querySelector("#"+this.id+" svg").style.animation="rebours "+this.dureeMs+"ms linear forwards",this.affichageHeures==="oui"?(document.querySelector("#"+this.id+" svg").style.strokeDasharray=Math.PI*2*this.convertirRem(20.2),document.querySelector("#"+this.id+" svg").style.strokeDashoffset=Math.PI*2*this.convertirRem(20.2)):(document.querySelector("#"+this.id+" svg").style.strokeDasharray=Math.PI*2*this.convertirRem(15.2),document.querySelector("#"+this.id+" svg").style.strokeDashoffset=Math.PI*2*this.convertirRem(15.2))}).bind(this),10))}).bind(this)),setTimeout((function(){this.demarrer(0)}).bind(this),1e3)},decompter(){const t=this.calculerTempsRestant(this.duree);t.secondes<10?this.texteSecondes="0"+t.secondes:this.texteSecondes=t.secondes,t.minutes<10?this.texteMinutes="0"+t.minutes:this.texteMinutes=t.minutes,t.heures<10?this.texteHeures="0"+t.heures:this.texteHeures=t.heures,this.affichageCercle==="oui"&&t.total<=1e4&&document.querySelector("#"+this.id+" svg")&&document.querySelector("#"+this.id+" svg").classList.add("rouge"),t.total<=1e4&&t.total>0&&this.effetsSonores==="oui"&&(this.$parent.audio.src="./static/audio/bip.mp3",this.$parent.audio.play()),t.total<=0&&this.effetsSonores==="oui"&&(clearInterval(this.decompte),this.tempsEcoule=!0,this.mode="lecture",this.dureeMs=0,this.$parent.audio.src="./static/audio/fin.mp3",this.$parent.audio.play())},pause(){clearInterval(this.decompte),this.tempsRestant=this.calculerTempsRestant(this.duree).total,this.mode="pause",this.affichageCercle==="oui"&&this.tempsRestant<=1e4&&document.querySelector("#"+this.id+" svg")&&this.$nextTick((function(){document.querySelector("#"+this.id+" svg").classList.add("rouge")}).bind(this))},continuer(){this.duree=new Date(Date.parse(new Date)+this.tempsRestant),this.demarrer(this.duree),this.mode="decompte",this.affichageCercle==="oui"&&this.tempsRestant<=1e4&&document.querySelector("#"+this.id+" svg")&&this.$nextTick((function(){document.querySelector("#"+this.id+" svg").classList.add("rouge")}).bind(this))},ajouter(){this.decompte!==""&&clearInterval(this.decompte);const e=this.calculerTempsRestant(this.duree).total+6e4;parseInt(this.texteMinutes)<59?this.texteMinutes=parseInt(this.texteMinutes)+1:parseInt(this.texteMinutes)===59&&this.affichageHeures==="oui"&&(this.texteMinutes="00",this.texteHeures=parseInt(this.texteHeures)+1),parseInt(this.texteSecondes)<10?this.texteSecondes="0"+parseInt(this.texteSecondes):this.texteSecondes=parseInt(this.texteSecondes),parseInt(this.texteMinutes)<10?this.texteMinutes="0"+parseInt(this.texteMinutes):this.texteMinutes=parseInt(this.texteMinutes),parseInt(this.texteHeures)<10?this.texteHeures="0"+parseInt(this.texteHeures):this.texteHeures=parseInt(this.texteHeures),this.duree=new Date(Date.parse(new Date)+e),this.dureeMs=this.dureeMs+61e3,this.affichageCercle==="oui"&&this.dureeMs>1e4&&document.querySelector("#"+this.id+" svg")&&document.querySelector("#"+this.id+" svg").classList.remove("rouge"),this.decompter(),this.decompte=setInterval(this.decompter,1e3)},calculerTempsRestant(t){const e=Date.parse(t)-Date.parse(new Date),i=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),s=Math.floor(e/1e3/3600%60);return{total:e,heures:s,minutes:n,secondes:i}},modifierAffichageHeures(t){this.affichageHeures=t},modifierAffichageCercle(t){this.affichageCercle=t}}},zce=d("div",{class:"conteneur-gauche"},null,-1),Gce={class:"conteneur panneau-rebours"},Kce={key:0,class:"contenu"},Wce={class:"rebours edition"},qce={key:0,class:"heures"},Yce=["value"],Xce={class:"minutes"},Jce=["value"],Zce={class:"secondes"},eAe=["value"],tAe={class:"options"},iAe={class:"conteneur-affichage-heures"},nAe={class:"affichage-heures"},sAe={class:"oui"},rAe=["id","name","checked"],oAe=["for"],aAe={class:"non"},lAe=["id","name","checked"],uAe=["for"],cAe={class:"conteneur-affichage-cercle"},AAe={class:"affichage-cercle"},hAe={class:"oui"},dAe=["id","name","checked"],fAe=["for"],pAe={class:"non"},gAe=["id","name","checked"],mAe=["for"],vAe={class:"conteneur-activation-effets-sonores"},bAe={class:"effets-sonores"},yAe={class:"oui"},wAe=["id","name","checked"],_Ae=["for"],CAe={class:"non"},EAe=["id","name","checked"],TAe=["for"],xAe={class:"actions"},SAe={key:1,class:"contenu"},BAe=["height","width"],kAe=["cx","cy","r","stroke-width"],DAe=["height","width"],FAe=["cx","cy","r","stroke-width"],IAe={class:"decompte"},LAe={key:0,class:"heures"},PAe={key:1,class:"separateur"},MAe={class:"minutes"},RAe=d("span",{class:"separateur"},":",-1),OAe={class:"secondes"},UAe={class:"actions"},NAe=d("i",{class:"material-icons"},"autorenew",-1),HAe=[NAe],QAe={key:1,class:"bouton danger"},$Ae=d("i",{class:"material-icons"},"pause",-1),jAe=[$Ae],VAe=d("i",{class:"material-icons"},"play_arrow",-1),zAe=[VAe],GAe=d("div",{class:"conteneur-droite"},null,-1),KAe=d("div",{class:"conteneur-bas"},null,-1);function WAe(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[zce,d("div",Gce,[s.mode==="edition"?(Y(),te("div",Kce,[d("div",Wce,[s.affichageHeures==="oui"?(Y(),te("div",qce,[d("label",null,oe(t.$t("heures")),1),d("input",{type:"number",value:s.heures,min:0,max:23,onInput:e[0]||(e[0]=a=>s.heures=a.target.value)},null,40,Yce)])):De("",!0),d("div",Xce,[d("label",null,oe(t.$t("minutes")),1),d("input",{type:"number",value:s.minutes,min:0,onInput:e[1]||(e[1]=a=>s.minutes=a.target.value)},null,40,Jce)]),d("div",Zce,[d("label",null,oe(t.$t("secondes")),1),d("input",{type:"number",value:s.secondes,min:0,max:59,onInput:e[2]||(e[2]=a=>s.secondes=a.target.value)},null,40,eAe)])]),d("div",tAe,[d("div",iAe,[d("label",null,oe(t.$t("afficherHeures")),1),d("div",nAe,[d("span",sAe,[d("input",{type:"radio",id:"heures_oui_"+s.id,name:"heures_oui_"+s.id,value:"oui",checked:s.affichageHeures==="oui",onChange:e[3]||(e[3]=a=>r.modifierAffichageHeures(a.target.value))},null,40,rAe),d("label",{for:"heures_oui_"+s.id},oe(t.$t("oui")),9,oAe)]),d("span",aAe,[d("input",{type:"radio",id:"heures_non_"+s.id,name:"heures_oui_"+s.id,value:"non",checked:s.affichageHeures==="non",onChange:e[4]||(e[4]=a=>r.modifierAffichageHeures(a.target.value))},null,40,lAe),d("label",{for:"heures_non_"+s.id},oe(t.$t("non")),9,uAe)])])]),d("div",cAe,[d("label",null,oe(t.$t("afficherDecompteVisuel")),1),d("div",AAe,[d("span",hAe,[d("input",{type:"radio",id:"cercle_oui_"+s.id,name:"cercle_oui_"+s.id,value:"oui",checked:s.affichageCercle==="oui",onChange:e[5]||(e[5]=a=>r.modifierAffichageCercle(a.target.value))},null,40,dAe),d("label",{for:"cercle_oui_"+s.id},oe(t.$t("oui")),9,fAe)]),d("span",pAe,[d("input",{type:"radio",id:"cercle_non_"+s.id,name:"cercle_oui_"+s.id,value:"non",checked:s.affichageCercle==="non",onChange:e[6]||(e[6]=a=>r.modifierAffichageCercle(a.target.value))},null,40,gAe),d("label",{for:"cercle_non_"+s.id},oe(t.$t("non")),9,mAe)])])]),d("div",vAe,[d("label",null,oe(t.$t("activerEffetsSonores")),1),d("div",bAe,[d("span",yAe,[d("input",{type:"radio",id:"son_oui_"+s.id,name:"son_"+s.id,value:"oui",checked:s.effetsSonores==="oui",onChange:e[7]||(e[7]=a=>s.effetsSonores=a.target.value)},null,40,wAe),d("label",{for:"son_oui_"+s.id},oe(t.$t("oui")),9,_Ae)]),d("span",CAe,[d("input",{type:"radio",id:"son_non_"+s.id,name:"son_"+s.id,value:"non",checked:s.effetsSonores==="non",onChange:e[8]||(e[8]=a=>s.effetsSonores=a.target.value)},null,40,EAe),d("label",{for:"son_non_"+s.id},oe(t.$t("non")),9,TAe)])])])]),d("div",xAe,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...a)=>r.generer&&r.generer(...a))},oe(t.$t("valider")),1)])])):(Y(),te("div",SAe,[d("div",{class:Ne(["rebours",{"avec-cercle":s.affichageCercle==="oui","sans-cercle":s.affichageCercle==="non"}])},[s.affichageCercle==="oui"&&s.affichageHeures==="oui"&&!s.redimensionnementEnCours?(Y(),te("svg",{key:0,height:t.convertirRem(42),width:t.convertirRem(42),class:Ne({actif:s.mode==="decompte",rouge:s.tempsEcoule}),style:ti({animation:"rebours "+s.dureeMs+"ms linear forwards","stroke-dasharray":Math.PI*2*t.convertirRem(20.2),"stroke-dashoffset":Math.PI*2*t.convertirRem(20.2)})},[d("circle",{cx:t.convertirRem(21),cy:t.convertirRem(21),r:t.convertirRem(20.2),stroke:"#00ced1","stroke-width":t.convertirRem(1.6),fill:"#f9f9f9"},null,8,kAe)],14,BAe)):s.affichageCercle==="oui"&&s.affichageHeures==="non"&&!s.redimensionnementEnCours?(Y(),te("svg",{key:1,height:t.convertirRem(32),width:t.convertirRem(32),class:Ne({actif:s.mode==="decompte",rouge:s.tempsEcoule}),style:ti({animation:"rebours "+s.dureeMs+"ms linear forwards","stroke-dasharray":Math.PI*2*t.convertirRem(15.2),"stroke-dashoffset":Math.PI*2*t.convertirRem(15.2)})},[d("circle",{cx:t.convertirRem(16),cy:t.convertirRem(16),r:t.convertirRem(15.2),stroke:"#00ced1","stroke-width":t.convertirRem(1.6),fill:"#f9f9f9"},null,8,FAe)],14,DAe)):De("",!0),d("div",IAe,[s.affichageHeures==="oui"?(Y(),te("span",LAe,oe(s.texteHeures),1)):De("",!0),s.affichageHeures==="oui"?(Y(),te("span",PAe,":")):De("",!0),d("span",MAe,oe(s.texteMinutes),1),RAe,d("span",OAe,oe(s.texteSecondes),1)])],2),d("div",UAe,[!s.tempsEcoule&&(s.mode==="decompte"||s.mode==="pause")?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...a)=>r.redemarrer&&r.redemarrer(...a))},HAe)):De("",!0),s.tempsEcoule?(Y(),te("span",QAe,oe(t.$t("tempsEcoule")),1)):De("",!0),s.tempsEcoule&&s.mode==="lecture"?(Y(),te("span",{key:2,class:"bouton redemarrer",role:"button",tabindex:"0",onClick:e[11]||(e[11]=(...a)=>r.redemarrer&&r.redemarrer(...a))},oe(t.$t("redemarrer")),1)):!s.tempsEcoule&&s.mode==="lecture"?(Y(),te("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:e[12]||(e[12]=a=>r.demarrer(0))},oe(t.$t("demarrer")),1)):!s.tempsEcoule&&s.mode==="decompte"?(Y(),te("span",{key:4,class:"bouton",role:"button",tabindex:"0",onClick:e[13]||(e[13]=(...a)=>r.pause&&r.pause(...a))},jAe)):!s.tempsEcoule&&s.mode==="pause"?(Y(),te("span",{key:5,class:"bouton",role:"button",tabindex:"0",onClick:e[14]||(e[14]=(...a)=>r.continuer&&r.continuer(...a))},zAe)):De("",!0),!s.tempsEcoule&&(s.mode==="decompte"||s.mode==="pause")?(Y(),te("span",{key:6,class:"ajouter",role:"button",tabindex:"0",onClick:e[15]||(e[15]=a=>r.ajouter())},oe(t.$t("plus1Min")),1)):De("",!0)])]))]),GAe,KAe]),_:1},8,["visible","options"])}const qAe=Ht(Vce,[["render",WAe]]);var BP={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Xi,function(){var i=1e3,n=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",u="day",c="week",A="month",h="quarter",g="year",f="date",y="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var M=["th","st","nd","rd"],N=k%100;return"["+k+(M[(N-20)%10]||M[N]||M[0])+"]"}},b=function(k,M,N){var V=String(k);return!V||V.length>=M?k:""+Array(M+1-V.length).join(N)+k},_={s:b,z:function(k){var M=-k.utcOffset(),N=Math.abs(M),V=Math.floor(N/60),G=N%60;return(M<=0?"+":"-")+b(V,2,"0")+":"+b(G,2,"0")},m:function k(M,N){if(M.date()<N.date())return-k(N,M);var V=12*(N.year()-M.year())+(N.month()-M.month()),G=M.clone().add(V,A),ee=N-G<0,se=M.clone().add(V+(ee?-1:1),A);return+(-(V+(N-G)/(ee?G-se:se-G))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:A,y:g,w:c,d:u,D:f,h:l,m:a,s:o,ms:r,Q:h}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},B="en",L={};L[B]=m;var j="$isDayjsObject",O=function(k){return k instanceof U||!(!k||!k[j])},Q=function k(M,N,V){var G;if(!M)return B;if(typeof M=="string"){var ee=M.toLowerCase();L[ee]&&(G=ee),N&&(L[ee]=N,G=ee);var se=M.split("-");if(!G&&se.length>1)return k(se[0])}else{var ne=M.name;L[ne]=M,G=ne}return!V&&G&&(B=G),G||!V&&B},$=function(k,M){if(O(k))return k.clone();var N=typeof M=="object"?M:{};return N.date=k,N.args=arguments,new U(N)},D=_;D.l=Q,D.i=O,D.w=function(k,M){return $(k,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var U=function(){function k(N){this.$L=Q(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[j]=!0}var M=k.prototype;return M.parse=function(N){this.$d=function(V){var G=V.date,ee=V.utc;if(G===null)return new Date(NaN);if(D.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var se=G.match(E);if(se){var ne=se[2]-1||0,le=(se[7]||"0").substring(0,3);return ee?new Date(Date.UTC(se[1],ne,se[3]||1,se[4]||0,se[5]||0,se[6]||0,le)):new Date(se[1],ne,se[3]||1,se[4]||0,se[5]||0,se[6]||0,le)}}return new Date(G)}(N),this.init()},M.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},M.$utils=function(){return D},M.isValid=function(){return this.$d.toString()!==y},M.isSame=function(N,V){var G=$(N);return this.startOf(V)<=G&&G<=this.endOf(V)},M.isAfter=function(N,V){return $(N)<this.startOf(V)},M.isBefore=function(N,V){return this.endOf(V)<$(N)},M.$g=function(N,V,G){return D.u(N)?this[V]:this.set(G,N)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(N,V){var G=this,ee=!!D.u(V)||V,se=D.p(N),ne=function(ie,He){var $e=D.w(G.$u?Date.UTC(G.$y,He,ie):new Date(G.$y,He,ie),G);return ee?$e:$e.endOf(u)},le=function(ie,He){return D.w(G.toDate()[ie].apply(G.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(He)),G)},he=this.$W,we=this.$M,pe=this.$D,ke="set"+(this.$u?"UTC":"");switch(se){case g:return ee?ne(1,0):ne(31,11);case A:return ee?ne(1,we):ne(0,we+1);case c:var ce=this.$locale().weekStart||0,ye=(he<ce?he+7:he)-ce;return ne(ee?pe-ye:pe+(6-ye),we);case u:case f:return le(ke+"Hours",0);case l:return le(ke+"Minutes",1);case a:return le(ke+"Seconds",2);case o:return le(ke+"Milliseconds",3);default:return this.clone()}},M.endOf=function(N){return this.startOf(N,!1)},M.$set=function(N,V){var G,ee=D.p(N),se="set"+(this.$u?"UTC":""),ne=(G={},G[u]=se+"Date",G[f]=se+"Date",G[A]=se+"Month",G[g]=se+"FullYear",G[l]=se+"Hours",G[a]=se+"Minutes",G[o]=se+"Seconds",G[r]=se+"Milliseconds",G)[ee],le=ee===u?this.$D+(V-this.$W):V;if(ee===A||ee===g){var he=this.clone().set(f,1);he.$d[ne](le),he.init(),this.$d=he.set(f,Math.min(this.$D,he.daysInMonth())).$d}else ne&&this.$d[ne](le);return this.init(),this},M.set=function(N,V){return this.clone().$set(N,V)},M.get=function(N){return this[D.p(N)]()},M.add=function(N,V){var G,ee=this;N=Number(N);var se=D.p(V),ne=function(we){var pe=$(ee);return D.w(pe.date(pe.date()+Math.round(we*N)),ee)};if(se===A)return this.set(A,this.$M+N);if(se===g)return this.set(g,this.$y+N);if(se===u)return ne(1);if(se===c)return ne(7);var le=(G={},G[a]=n,G[l]=s,G[o]=i,G)[se]||1,he=this.$d.getTime()+N*le;return D.w(he,this)},M.subtract=function(N,V){return this.add(-1*N,V)},M.format=function(N){var V=this,G=this.$locale();if(!this.isValid())return G.invalidDate||y;var ee=N||"YYYY-MM-DDTHH:mm:ssZ",se=D.z(this),ne=this.$H,le=this.$m,he=this.$M,we=G.weekdays,pe=G.months,ke=G.meridiem,ce=function(He,$e,ae,W){return He&&(He[$e]||He(V,ee))||ae[$e].slice(0,W)},ye=function(He){return D.s(ne%12||12,He,"0")},ie=ke||function(He,$e,ae){var W=He<12?"AM":"PM";return ae?W.toLowerCase():W};return ee.replace(C,function(He,$e){return $e||function(ae){switch(ae){case"YY":return String(V.$y).slice(-2);case"YYYY":return D.s(V.$y,4,"0");case"M":return he+1;case"MM":return D.s(he+1,2,"0");case"MMM":return ce(G.monthsShort,he,pe,3);case"MMMM":return ce(pe,he);case"D":return V.$D;case"DD":return D.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return ce(G.weekdaysMin,V.$W,we,2);case"ddd":return ce(G.weekdaysShort,V.$W,we,3);case"dddd":return we[V.$W];case"H":return String(ne);case"HH":return D.s(ne,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return ie(ne,le,!0);case"A":return ie(ne,le,!1);case"m":return String(le);case"mm":return D.s(le,2,"0");case"s":return String(V.$s);case"ss":return D.s(V.$s,2,"0");case"SSS":return D.s(V.$ms,3,"0");case"Z":return se}return null}(He)||se.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(N,V,G){var ee,se=this,ne=D.p(V),le=$(N),he=(le.utcOffset()-this.utcOffset())*n,we=this-le,pe=function(){return D.m(se,le)};switch(ne){case g:ee=pe()/12;break;case A:ee=pe();break;case h:ee=pe()/3;break;case c:ee=(we-he)/6048e5;break;case u:ee=(we-he)/864e5;break;case l:ee=we/s;break;case a:ee=we/n;break;case o:ee=we/i;break;default:ee=we}return G?ee:D.a(ee)},M.daysInMonth=function(){return this.endOf(A).$D},M.$locale=function(){return L[this.$L]},M.locale=function(N,V){if(!N)return this.$L;var G=this.clone(),ee=Q(N,V,!0);return ee&&(G.$L=ee),G},M.clone=function(){return D.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},k}(),S=U.prototype;return $.prototype=S,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",u],["$M",A],["$y",g],["$D",f]].forEach(function(k){S[k[1]]=function(M){return this.$g(M,k[0],k[1])}}),$.extend=function(k,M){return k.$i||(k(M,U,$),k.$i=!0),$},$.locale=Q,$.isDayjs=O,$.unix=function(k){return $(1e3*k)},$.en=L[B],$.Ls=L,$.p={},$})})(BP);var zc=BP.exports;const aC=us(zc);var YAe={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var s=n(i),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(l,u,c){var A=r[c];return Array.isArray(A)&&(A=A[u?0:1]),A.replace("%d",l)}var a={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return s.default.locale(a,null,!0),a})})(YAe);var XAe={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=n(i),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(o){return o+"º"}};return s.default.locale(r,null,!0),r})})(XAe);var JAe={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=n(i),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return s.default.locale(r,null,!0),r})})(JAe);var ZAe={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var s=n(i),r="siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),o="siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,l=function(c,A){return a.test(A)?r[c.month()]:o[c.month()]};l.s=o,l.f=r;var u={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),months:l,monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(c){return c+"."}};return s.default.locale(u,null,!0),u})})(ZAe);var ehe={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=n(i),r={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+"º"}};return s.default.locale(r,null,!0),r})})(ehe);var the={exports:{}};(function(t,e){(function(i,n){t.exports=n(zc)})(Xi,function(i){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=n(i),r={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(o){return"["+o+(o===1||o===8||o>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return s.default.locale(r,null,!0),r})})(the);var kP={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Xi,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,r){var o=s.prototype,a=o.format;r.en.formats=i,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(A,h){return A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,f,y){var E=y&&y.toUpperCase();return f||h[y]||i[y]||h[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,m,b){return m||b.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(kP);var ihe=kP.exports;const nhe=us(ihe);aC.extend(nhe);const she={name:"PHorloge",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object,langue:String},extends:ni,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:43.6,statut:"",dimensions:{},position:{},date:"",temps:"",heure:"",minute:"",horloge:"",canvas:"",contexte:"",radius:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))},langue:function(t){this.date=aC(new Date).locale(t).format("dddd LL")}},created(){this.definirCaracteristiques("horloge"),this.genererOptions("horloge")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.$nextTick((function(){this.canvas=document.querySelector("#"+this.id+" canvas"),this.canvas.width=this.convertirRem(30),this.canvas.height=this.convertirRem(30),this.contexte=this.canvas.getContext("2d"),this.radius=this.canvas.height/2,this.contexte.translate(this.radius,this.radius),this.radius=this.radius*.9,this.definirDate(),this.definirTemps(),this.temps=setInterval(this.definirTemps,1e3),this.dessinerHorloge(),this.horloge=setInterval(this.dessinerHorloge,1e3)}).bind(this))},methods:{definirDate(){this.date=aC(new Date).locale(this.langue).format("dddd LL")},definirTemps(){const t=new Date;let e=t.getHours(),i=t.getMinutes();i<10&&(i="0"+i),this.heure=e,this.minute=i},dessinerHorloge(){this.contexte.arc(0,0,this.radius,0,2*Math.PI),this.contexte.fillStyle="#fff",this.contexte.fill(),this.contexte.beginPath(),this.contexte.arc(0,0,this.radius,0,2*Math.PI),this.contexte.fillStyle="#fff",this.contexte.fill();const t=this.contexte.createRadialGradient(0,0,this.radius*.95,0,0,this.radius*1.05);t.addColorStop(0,"#222"),t.addColorStop(1,"#444"),this.contexte.strokeStyle=t,this.contexte.lineWidth=this.radius*.1,this.contexte.stroke(),this.contexte.beginPath(),this.contexte.arc(0,0,this.radius*.1,0,2*Math.PI),this.contexte.fillStyle="#222",this.contexte.fill();let e;this.contexte.font=this.radius*.15+"px Orbitron",this.contexte.textBaseline="middle",this.contexte.textAlign="center";for(let o=1;o<13;o++)e=o*Math.PI/6,this.contexte.rotate(e),this.contexte.translate(0,-this.radius*.85),this.contexte.rotate(-e),this.contexte.fillText(o.toString(),0,0),this.contexte.rotate(e),this.contexte.translate(0,this.radius*.85),this.contexte.rotate(-e);const i=new Date;let n=i.getHours(),s=i.getMinutes(),r=i.getSeconds();n=n%12,n=n*Math.PI/6+s*Math.PI/(6*60)+r*Math.PI/(360*60),this.dessinerAiguilles(this.contexte,n,this.radius*.5,this.radius*.07),s=s*Math.PI/30+r*Math.PI/(30*60),this.dessinerAiguilles(this.contexte,s,this.radius*.8,this.radius*.07),r=r*Math.PI/30,this.dessinerAiguilles(this.contexte,r,this.radius*.9,this.radius*.02)},dessinerAiguilles(t,e,i,n){t.beginPath(),t.lineWidth=n,t.lineCap="round",t.moveTo(0,0),t.rotate(e),t.lineTo(0,-i),t.stroke(),t.rotate(-e)},redimensionnerHorloge(){this.$nextTick((function(){this.canvas.width=this.convertirRem(30),this.canvas.height=this.convertirRem(30),this.radius=this.canvas.height/2,this.contexte.translate(this.radius,this.radius),this.radius=this.radius*.9}).bind(this))}}},rhe={class:"conteneur panneau-horloge"},ohe={class:"contenu"},ahe={class:"horloge"},lhe={class:"date"},uhe={class:"temps"},che={class:"heures"},Ahe=d("span",{class:"separateur"},":",-1),hhe={class:"minutes"},dhe=d("canvas",null,null,-1);function fhe(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[d("div",rhe,[d("div",ohe,[d("div",ahe,[d("div",lhe,[d("span",null,oe(s.date),1)]),d("div",uhe,[d("span",che,oe(s.heure),1),Ahe,d("span",hhe,oe(s.minute),1)]),dhe])])])]),_:1},8,["visible","options"])}const phe=Ht(she,[["render",fhe]]);/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */var ghe=Object.defineProperty,EB=Object.getOwnPropertySymbols,mhe=Object.prototype.hasOwnProperty,vhe=Object.prototype.propertyIsEnumerable,lC=(t,e,i)=>e in t?ghe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,bhe=(t,e)=>{for(var i in e||(e={}))mhe.call(e,i)&&lC(t,i,e[i]);if(EB)for(var i of EB(e))vhe.call(e,i)&&lC(t,i,e[i]);return t},ts=(t,e,i)=>(lC(t,typeof e!="symbol"?e+"":e,i),i);const ys=t=>{const e=t.getFullYear();let i=t.getMonth()+1,n=t.getDate();return i=i<10?"0".concat(i):i,n=n<10?"0".concat(n):n,"".concat(e,"-").concat(i,"-").concat(n)},zm=t=>{const e=[];return t.forEach(i=>{i.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(i):i.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(n,s,r)=>{const o=new Date("".concat(s,"T00:00:00")),a=new Date("".concat(r,"T00:00:00")),l=new Date(o.getTime());for(l;l<=a;l.setDate(l.getDate()+1))e.push(ys(l));return n})}),e},Uf=t=>{const e=Number(t);let i=String(e);return e===0?i="12":e===13?i="01":e===14?i="02":e===15?i="03":e===16?i="04":e===17?i="05":e===18?i="06":e===19?i="07":e===20?i="08":e===21?i="09":e===22?i="10":e===23&&(i="11"),i},DP=t=>{var e,i;t.rangeMin=t.settings.range.min,t.rangeMax=t.settings.range.max,t.rangeDisabled=t.settings.range.disabled?zm([...t.settings.range.disabled]):[],t.rangeEnabled=t.settings.range.enabled?zm([...t.settings.range.enabled]):[],t.selectedDates=t.settings.selected.dates?zm([...t.settings.selected.dates]):[],t.selectedHolidays=t.settings.selected.holidays?zm([...t.settings.selected.holidays]):[],t.settings.range.disablePast&&!t.settings.range.disableAllDays&&new Date("".concat(t.settings.range.min,"T00:00:00"))<t.date.today&&(t.rangeMin=ys(t.date.today)),t.settings.range.disableAllDays&&(t.rangeMin=ys(t.date.today),t.rangeMax=ys(t.date.today),(e=t.rangeDisabled)==null||e.push(ys(t.date.today))),t.rangeEnabled&&t.rangeEnabled.sort((o,a)=>+new Date(o)-+new Date(a)),(i=t.rangeEnabled)!=null&&i[0]&&t.settings.range.disableAllDays&&(t.rangeMin=t.rangeEnabled[0],t.rangeMax=t.rangeEnabled[t.rangeEnabled.length-1]);const n=new Date("".concat(t.rangeMin,"T00:00:00")),s=new Date("".concat(t.rangeMax,"T00:00:00"));n.setDate(n.getDate()-1),s.setDate(s.getDate()+1),t.rangeDisabled.push(ys(n)),t.rangeDisabled.push(ys(s)),t.settings.selected.month!==null&&t.settings.selected.month>=0&&t.settings.selected.month<12?t.selectedMonth=t.settings.selected.month:t.selectedMonth=t.date.today.getMonth(),t.settings.selected.year!==null&&t.settings.selected.year>=0&&t.settings.selected.year<=9999?t.selectedYear=t.settings.selected.year:t.selectedYear=t.date.today.getFullYear(),t.viewYear=t.selectedYear,t.dateMin=t.settings.visibility.disabled?new Date("".concat(t.date.min,"T00:00:00")):new Date("".concat(t.rangeMin,"T00:00:00")),t.dateMax=t.settings.visibility.disabled?new Date("".concat(t.date.max,"T00:00:00")):new Date("".concat(t.rangeMax,"T00:00:00"));const r=t.settings.selection.time===!0||t.settings.selection.time===12;if(r||t.settings.selection.time===24){if(t.userTime=!1,typeof t.settings.selected.time=="string"){const o=r?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;t.settings.selected.time.replace(o,(a,l,u,c)=>(l&&u&&(t.userTime=!0,t.selectedHours=l,t.selectedMinutes=u),c&&r?t.selectedKeeping=c:r&&(t.selectedKeeping="AM"),""))}!t.userTime&&r?(t.selectedHours=Uf(String(t.date.today.getHours())),t.selectedMinutes=String(t.date.today.getMinutes()),t.selectedKeeping=Number(t.date.today.getHours())>=12?"PM":"AM"):t.userTime||(t.selectedHours=String(t.date.today.getHours()),t.selectedMinutes=String(t.date.today.getMinutes())),t.selectedHours=Number(t.selectedHours)<10?"0".concat(Number(t.selectedHours)):"".concat(t.selectedHours),t.selectedMinutes=Number(t.selectedMinutes)<10?"0".concat(Number(t.selectedMinutes)):"".concat(t.selectedMinutes),t.selectedTime="".concat(t.selectedHours,":").concat(t.selectedMinutes).concat(t.selectedKeeping?" ".concat(t.selectedKeeping):"")}else t.settings.selection.time&&(t.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));t.type==="multiple"&&(t.months===1?(console.warn("The value of the «months» parameter cannot be less than «2», the minimum available value will be initialized."),t.correctMonths=2):t.months>12?(console.warn("The value of the «months» parameter cannot be greater than «12», the maximum available value will be initialized."),t.correctMonths=12):t.correctMonths=t.months)},KE=t=>{if(!["default","multiple","year"].includes(t.currentType))return;const e=t.HTMLElement.querySelector(".".concat(t.CSSClasses.arrowPrev)),i=t.HTMLElement.querySelector(".".concat(t.CSSClasses.arrowNext));if(!e||!i)return;const n=()=>{if(!t.dateMin||!t.dateMax)return;const r=new Date("".concat(ys(new Date(t.selectedYear,t.selectedMonth,1)),"T00:00:00")),o=new Date(r.getTime());r.setMonth(r.getMonth()-t.jumpMonths),o.setMonth(o.getMonth()+t.jumpMonths),!t.settings.selection.month||r.getFullYear()<t.dateMin.getFullYear()||r.getFullYear()===t.dateMin.getFullYear()&&r.getMonth()<t.dateMin.getMonth()?e.style.visibility="hidden":e.style.visibility="",!t.settings.selection.month||o.getFullYear()>t.dateMax.getFullYear()||o.getFullYear()===t.dateMax.getFullYear()&&o.getMonth()>t.dateMax.getMonth()?i.style.visibility="hidden":i.style.visibility=""},s=()=>{!t.dateMin||!t.dateMax||t.viewYear===void 0||(t.dateMin.getFullYear()&&t.viewYear-7<=t.dateMin.getFullYear()?e.style.visibility="hidden":e.style.visibility="",t.dateMax.getFullYear()&&t.viewYear+7>=t.dateMax.getFullYear()?i.style.visibility="hidden":i.style.visibility="")};(t.currentType==="default"||t.currentType==="multiple")&&n(),t.currentType==="year"&&s()},yhe=(t,e)=>{t.popups&&Object.keys(t.popups).forEach(i=>{var n;const s=e.querySelector('[data-calendar-day="'.concat(i,'"]'));if(s){const r=(n=t.popups)==null?void 0:n[i];r!=null&&r.modifier&&r.modifier.trim().split(" ").forEach(o=>{s.classList.add(o)}),r!=null&&r.html&&(s.parentNode.innerHTML+='<div class="'.concat(t.CSSClasses.dayPopup,'">').concat(r.html,"</div>"))}})},FP=(t,e)=>{if(!t)return null;const i=new Date("".concat(t,"T00:00:00")).getDate(),n=new Date("".concat(t,"T00:00:00")).getMonth(),s=new Date("".concat(t,"T00:00:00")).getFullYear(),r=new Date(s,n,i),o=e?r.getDay()||7:r.getDay();r.setDate(r.getDate()+4-o);const a=new Date(r.getFullYear(),0,1),l=Math.ceil(((+r-+a)/864e5+1)/7);return{year:s,week:l}},whe=(t,e,i,n,s)=>{if(!t.settings.visibility.weekNumbers)return;const r=s.querySelectorAll(".".concat(t.CSSClasses.day));n.innerHTML="";const o=Math.ceil((e+i)/7),a=document.createElement("b");a.className=t.CSSClasses.weekNumbersTitle,a.innerText="#",n.append(a);const l=document.createElement("div");l.className=t.CSSClasses.weekNumbersContent,n.append(l);const u=document.createElement("span");u.className=t.CSSClasses.weekNumber;for(let c=0;c<o;c++){let A=null;c===0?A=r[6].querySelector(".".concat(t.CSSClasses.dayBtn)):A=r[c*7].querySelector(".".concat(t.CSSClasses.dayBtn));const h=FP(A.dataset.calendarDay,t.settings.iso8601);if(!h)return;const g=u.cloneNode(!0);g.innerText="".concat(h.week),g.dataset.calendarYearWeek="".concat(h.year),l.append(g)}},Jv=t=>{var e,i;const n=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.days)),s=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.weekNumbers)),r=new Date(t.selectedYear,t.selectedMonth,1),o=document.createElement("div"),a=document.createElement("button");o.className=t.CSSClasses.day,a.className=t.CSSClasses.dayBtn,a.type="button",(e=t.selectedDates)==null||e.sort((l,u)=>+new Date(l)-+new Date(u)),n.forEach((l,u)=>{const c=new Date(r.setMonth(t.selectedMonth+u)).getMonth(),A=new Date(r.setFullYear(t.selectedYear,t.selectedMonth+u)).getFullYear(),h=new Date(A,c,1),g=new Date(A,c+1,0).getDate();let f=Number(h.getDay());t.settings.iso8601&&(f=Number((h.getDay()!==0?h.getDay():7)-1)),t.settings.selection.day&&["single","multiple","multiple-ranged"].includes(t.settings.selection.day)&&n[u].classList.add(t.CSSClasses.daysSelecting),n[u].innerHTML="";const y=(_,B,L,j,O)=>{(t.rangeMin>j||t.rangeMax<j)&&(B.classList.add(t.CSSClasses.dayBtnDisabled),B.tabIndex=-1),t.settings.visibility.weekend&&(L===0||L===6)&&B.classList.add(t.CSSClasses.dayBtnWeekend),Array.isArray(t.selectedHolidays)&&t.selectedHolidays.forEach(U=>{U===j&&B.classList.add(t.CSSClasses.dayBtnHoliday)});let Q=t.date.today.getDate(),$=t.date.today.getMonth()+1;Q=Q<10?"0".concat(Q):Q,$=$<10?"0".concat($):$;const D="".concat(t.date.today.getFullYear(),"-").concat($,"-").concat(Q);t.settings.visibility.today&&B.dataset.calendarDay===D&&B.classList.add(t.CSSClasses.dayBtnToday),t.selectedDates&&t.selectedDates.indexOf(j)===0?(t.settings.selection.day==="multiple-ranged"&&t.selectedDates.length>1?_.classList.add(t.CSSClasses.daySelectedFirst):_.classList.add(t.CSSClasses.daySelected),B.classList.add(t.CSSClasses.dayBtnSelected)):t.selectedDates&&t.selectedDates[0]&&t.selectedDates.indexOf(j)===t.selectedDates.length-1?(_.classList.add(t.CSSClasses.daySelected),t.settings.selection.day==="multiple-ranged"?_.classList.add(t.CSSClasses.daySelectedLast):_.classList.add(t.CSSClasses.daySelected),B.classList.add(t.CSSClasses.dayBtnSelected)):t.selectedDates&&t.selectedDates.indexOf(j)>0&&t.settings.selection.day==="multiple-ranged"?(_.classList.add(t.CSSClasses.daySelectedIntermediate),B.classList.add(t.CSSClasses.dayBtnSelected),B.classList.add(t.CSSClasses.dayBtnIntermediate)):t.selectedDates&&t.selectedDates.indexOf(j)>0&&(_.classList.add(t.CSSClasses.daySelected),B.classList.add(t.CSSClasses.dayBtnSelected)),Array.isArray(t.rangeDisabled)&&t.rangeDisabled[0]&&t.rangeDisabled.forEach(U=>{U===j&&(B.classList.add(t.CSSClasses.dayBtnDisabled),B.tabIndex=-1)}),!t.settings.selection.month&&O&&(B.classList.add(t.CSSClasses.dayBtnDisabled),B.tabIndex=-1),!t.settings.selection.year&&new Date("".concat(j,"T00:00:00")).getFullYear()!==A&&(B.classList.add(t.CSSClasses.dayBtnDisabled),B.tabIndex=-1)},E=(_,B,L,j,O)=>{var Q,$,D,U,S,k,M,N,V;const G=o.cloneNode(!0),ee=a.cloneNode(!0);if(O&&ee.classList.add(O),ee.innerText=_,ee.dataset.calendarDay=L,t.settings.visibility.weekNumbers){const se=FP(L,t.settings.iso8601);if(!se)return;ee.dataset.calendarWeekNumber="".concat(se.week)}(Q=t.rangeEnabled)!=null&&Q[0]&&t.settings.range.disableAllDays&&!(($=t.rangeDisabled)!=null&&$.includes(L))&&((D=t.rangeDisabled)==null||D.push(L)),(U=t.rangeEnabled)!=null&&U[0]&&((S=t.rangeDisabled)!=null&&S.includes(L))&&(t.rangeDisabled=(k=t.rangeDisabled)==null?void 0:k.filter(se=>{var ne;return!((ne=t.rangeEnabled)!=null&&ne.includes(se))})),(M=t.settings.range.disableWeekday)!=null&&M.includes(B)&&!((N=t.rangeDisabled)!=null&&N.includes(L))&&((V=t.rangeDisabled)==null||V.push(L)),y(G,ee,B,L,j),j?t.settings.visibility.daysOutside&&G.append(ee):G.append(ee),n[u].append(G),t.actions.getDays&&t.actions.getDays(Number(_),L,G,ee)},C=()=>{let B=new Date(A,c,0).getDate()-f,L=A,j=c;c===0?(j=t.locale.months.length,L=A-1):c<10&&(j="0".concat(c));for(let O=0;O<f;O++){B+=1;const Q="".concat(L,"-").concat(j,"-").concat(B),D=new Date(A,c,B-1).getMonth()-1,U=new Date(A,D,B).getDay();E(String(B),U,Q,!0,t.CSSClasses.dayBtnPrev)}},m=()=>{for(let _=1;_<=g;_++){const B=new Date(A,c,_),L=ys(B),j=B.getDay();E(String(_),j,L,!1,null)}},b=()=>{const _=f+g,B=Math.ceil(_/t.locale.weekday.length),L=t.locale.weekday.length*B-_;let j=A,O=String(c+2);c+1===t.locale.months.length?(O="01",j=A+1):c+2<10&&(O="0".concat(c+2));for(let Q=1;Q<=L;Q++){const $=Q<10?"0".concat(Q):String(Q),D="".concat(j,"-").concat(O,"-").concat($),S=new Date(A,c,Q).getMonth()+1,k=new Date(A,S,Q).getDay();E(String(Q),k,D,!0,t.CSSClasses.dayBtnNext)}};C(),m(),b(),yhe(t,n[u]),whe(t,f,g,s[u],n[u])}),(i=t.rangeDisabled)==null||i.sort((l,u)=>+new Date(l)-+new Date(u))},_he=t=>'\n	<button type="button"\n		class="'.concat(t.CSSClasses.arrow," ").concat(t.CSSClasses.arrowPrev,'"\n		data-calendar-arrow="prev"\n		title="Prev">\n	</button>\n'),Che=t=>'\n	<button type="button"\n	class="'.concat(t.CSSClasses.arrow," ").concat(t.CSSClasses.arrowNext,'"\n	data-calendar-arrow="next"\n	title="Next">\n	</button>\n'),Ehe=t=>'\n	<button type="button"\n		class="'.concat(t.CSSClasses.month,'"\n		data-calendar-selected-month>\n	</button>\n'),The=t=>'\n	<button type="button"\n		class="'.concat(t.CSSClasses.year,'"\n		data-calendar-selected-year>\n	</button>\n'),xhe=t=>'\n	<div class="'.concat(t.CSSClasses.week,'"></div>\n'),She=t=>'\n	<div class="'.concat(t.CSSClasses.days,'"></div>\n'),Bhe=t=>'\n	<div class="'.concat(t.CSSClasses.months,'"></div>\n'),khe=t=>'\n	<div class="'.concat(t.CSSClasses.years,'"></div>\n'),Dhe=t=>t.settings.visibility.weekNumbers?'\n	<div class="'.concat(t.CSSClasses.weekNumbers,'"></div>\n'):"",Fhe=t=>t.settings.selection.time?'\n	<div class="'.concat(t.CSSClasses.time,'"></div>\n'):"",Ihe=t=>{let e=null;switch(t){case"ArrowPrev":e=_he;break;case"ArrowNext":e=Che;break;case"Month":e=Ehe;break;case"Year":e=The;break;case"Week":e=xhe;break;case"Days":e=She;break;case"Months":e=Bhe;break;case"Years":e=khe;break;case"WeekNumbers":e=Dhe;break;case"ControlTime":e=Fhe;break}return e},kd=(t,e)=>e.replace(/<#(.*?)\/>/g,(i,n)=>{const s=Ihe(n.replace(/[\s\n\t]/g,""));return s?s(t):""}).replace(/[\n\t]/g,""),Lhe=(t,e)=>e.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(i,n)=>{let s="";for(let r=0;r<t.correctMonths;r++)s+=n;return s}).replace(/[\n\t]/g,""),WE=(t,e)=>{const i=t.HTMLElement;i.classList.add(t.CSSClasses.calendar);const n=(s,r)=>{if(!e)return;const o=t.HTMLElement.querySelector(".".concat(t.CSSClasses.controls));o&&t.HTMLElement.removeChild(o),t.HTMLElement.querySelector(".".concat(t.CSSClasses.grid)).classList.add(t.CSSClasses.gridDisabled);const l=e.closest(".".concat(t.CSSClasses.column));l.classList.add(s),l.innerHTML=kd(t,r)};switch(t.currentType){case"default":i.classList.add(t.CSSClasses.calendarDefault),i.classList.remove(t.CSSClasses.calendarMonth),i.classList.remove(t.CSSClasses.calendarYear),i.innerHTML=kd(t,t.DOMTemplates.default);break;case"multiple":if(!t.correctMonths)break;i.classList.add(t.CSSClasses.calendarMultiple),i.classList.remove(t.CSSClasses.calendarMonth),i.classList.remove(t.CSSClasses.calendarYear),i.innerHTML=Lhe(t,kd(t,t.DOMTemplates.multiple));break;case"month":if(t.type==="multiple"){n(t.CSSClasses.columnMonth,t.DOMTemplates.month);break}i.classList.remove(t.CSSClasses.calendarDefault),i.classList.add(t.CSSClasses.calendarMonth),i.classList.remove(t.CSSClasses.calendarYear),i.innerHTML=kd(t,t.DOMTemplates.month);break;case"year":if(t.type==="multiple"){n(t.CSSClasses.columnYear,t.DOMTemplates.year);break}i.classList.remove(t.CSSClasses.calendarDefault),i.classList.remove(t.CSSClasses.calendarMonth),i.classList.add(t.CSSClasses.calendarYear),i.innerHTML=kd(t,t.DOMTemplates.year);break}},ry=t=>{const e=t.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!e[0]||t.selectedMonth===void 0)return;const i=new Date(t.selectedYear,t.selectedMonth,1);e.forEach((n,s)=>{const r=new Date(i.setMonth(t.selectedMonth+s)).getMonth();e[s].dataset.calendarSelectedMonth=String(r),e[s].innerText=t.locale.months[r],t.settings.selection.month===!1||t.settings.selection.month==="only-arrows"?(e[s].tabIndex=-1,e[s].classList.add(t.CSSClasses.monthDisabled)):(e[s].tabIndex=0,e[s].classList.remove(t.CSSClasses.monthDisabled))})},oy=t=>{const e=t.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!e||t.selectedMonth===void 0)return;const i=new Date(t.selectedYear,t.selectedMonth,1);e.forEach((n,s)=>{const r=new Date(i.setFullYear(t.selectedYear,t.selectedMonth+s)).getFullYear();e[s].dataset.calendarSelectedYear=String(r),e[s].innerText=String(r),t.settings.selection.year===!1||t.settings.selection.year==="only-arrows"?(e[s].tabIndex=-1,e[s].classList.add(t.CSSClasses.yearDisabled)):(e[s].tabIndex=0,e[s].classList.remove(t.CSSClasses.yearDisabled))})},IP=(t,e)=>{var i;const n=e!=null&&e.dataset.calendarSelectedMonth?Number(e.dataset.calendarSelectedMonth):t.selectedMonth,s=(i=e==null?void 0:e.closest(".".concat(t.CSSClasses.column)))==null?void 0:i.querySelector(".".concat(t.CSSClasses.year)),r=s?Number(s.dataset.calendarSelectedYear):t.selectedYear;t.currentType="month",WE(t,e),ry(t),oy(t);const o=t.HTMLElement.querySelector(".".concat(t.CSSClasses.months));if(!t.dateMin||!t.dateMax||!o)return;t.settings.selection.month&&o.classList.add(t.CSSClasses.monthsSelecting);const a=t.jumpMonths>1?t.locale.months.map((c,A)=>n-t.jumpMonths*A).concat(t.locale.months.map((c,A)=>n+t.jumpMonths*A)).filter(c=>c>=0&&c<=12):Array.from(Array(12).keys()),l=document.createElement("button");l.type="button",l.className=t.CSSClasses.monthsMonth;const u=()=>{if(t.type!=="multiple")return 0;const A=[...t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.column))].findIndex(h=>h.classList.contains("".concat(t.CSSClasses.columnMonth)));return A>0?A:0};for(let c=0;c<t.locale.months.length;c++){const A=t.locale.months[c],h=l.cloneNode(!0);c===n&&h.classList.add(t.CSSClasses.monthsMonthSelected),(c<t.dateMin.getMonth()+u()&&r<=t.dateMin.getFullYear()||c>t.dateMax.getMonth()+u()&&r>=t.dateMax.getFullYear()||c!==n&&!a.includes(c))&&(h.classList.add(t.CSSClasses.monthsMonthDisabled),h.tabIndex=-1),h.dataset.calendarMonth=String(c),h.title="".concat(A),h.innerText="".concat(t.settings.visibility.monthShort?A.substring(0,3):A),o.append(h)}},LP=t=>({hide(){t.HTMLElement.classList.add(t.CSSClasses.calendarHidden)},show(){t.HTMLElement.classList.remove(t.CSSClasses.calendarHidden)},HTMLInputElement:t.HTMLInputElement,HTMLElement:t.HTMLElement}),uC=(t,e)=>{const i=Number(t);let n=String(i);return e==="AM"?i===12&&(n="00"):e==="PM"&&(i===1?n="13":i===2?n="14":i===3?n="15":i===4?n="16":i===5?n="17":i===6?n="18":i===7?n="19":i===8?n="20":i===9?n="21":i===10?n="22":i===11&&(n="23")),n},Phe=(t,e)=>{const i=t.HTMLElement.querySelector(".".concat(t.CSSClasses.timeRange,' input[name="hours"]')),n=t.HTMLElement.querySelector(".".concat(t.CSSClasses.timeRange,' input[name="minutes"]')),s=t.HTMLElement.querySelector(".".concat(t.CSSClasses.timeHours,' input[name="hours"]')),r=t.HTMLElement.querySelector(".".concat(t.CSSClasses.timeMinutes,' input[name="minutes"]')),o=t.HTMLElement.querySelector(".".concat(t.CSSClasses.timeKeeping)),a=(h,g)=>{h.addEventListener("mouseover",()=>g.classList.add(t.CSSClasses.isFocus))},l=(h,g)=>{h.addEventListener("mouseout",()=>g.classList.remove(t.CSSClasses.isFocus))},u=(h,g,f)=>{f==="hours"?t.selectedHours="".concat(g):f==="minutes"&&(t.selectedMinutes="".concat(g)),t.selectedTime="".concat(t.selectedHours,":").concat(t.selectedMinutes).concat(t.selectedKeeping?" ".concat(t.selectedKeeping):""),t.actions.changeTime&&t.actions.changeTime(h,t.selectedTime,t.selectedHours,t.selectedMinutes,t.selectedKeeping),t.input&&t.HTMLInputElement&&t.actions.changeToInput&&t.actions.changeToInput(h,LP(t),t.selectedDates,t.selectedTime,t.selectedHours,t.selectedMinutes,t.selectedKeeping)},c=(h,g,f,y)=>{h.addEventListener("input",E=>{let C=Number(E.target.value);C=C<10?"0".concat(C):"".concat(C),f==="hours"&&y===12?Number(E.target.value)<y&&Number(E.target.value)>0?(g.value=C,t.selectedKeeping="AM",o.innerText=t.selectedKeeping,u(E,C,f)):(Number(E.target.value)===0?(t.selectedKeeping="AM",o.innerText="AM"):(t.selectedKeeping="PM",o.innerText="PM"),g.value=Uf(E.target.value),u(E,Uf(E.target.value),f)):(g.value=C,u(E,C,f))})},A=(h,g,f,y)=>{g.addEventListener("change",E=>{const C=E.target;let m=Number(C.value);m=m<10?"0".concat(m):"".concat(m),f==="hours"&&y===12?C.value&&Number(C.value)<=y&&Number(C.value)>0?(C.value=m,h.value=uC(m,t.selectedKeeping),u(E,m,f)):C.value&&Number(C.value)<24&&(Number(C.value)>y||Number(C.value)===0)?(Number(C.value)===0?(t.selectedKeeping="AM",o.innerText="AM"):(t.selectedKeeping="PM",o.innerText="PM"),C.value=Uf(C.value),h.value=m,u(E,Uf(C.value),f)):C.value=t.selectedHours:C.value&&Number(C.value)<=y&&Number(C.value)>=0?(C.value=m,h.value=m,u(E,m,f)):f==="hours"?C.value=t.selectedHours:f==="minutes"&&(C.value=t.selectedMinutes)})};a(i,s),a(n,r),l(i,s),l(n,r),c(i,s,"hours",e===24?23:12),c(n,r,"minutes",0),A(i,s,"hours",e===24?23:12),A(n,r,"minutes",59),o&&o.addEventListener("click",h=>{o.innerText.includes("AM")?t.selectedKeeping="PM":t.selectedKeeping="AM",i.value=uC(t.selectedHours,t.selectedKeeping),u(h,t.selectedHours,"hours"),o.innerText=t.selectedKeeping})},Mhe=t=>{const e=t.HTMLElement.querySelector(".".concat(t.CSSClasses.time));if(!e)return;const i=t.settings.selection.time===!0?12:t.settings.selection.time,n=t.settings.selection.controlTime==="range";e.innerHTML='\n	<div class="'.concat(t.CSSClasses.timeContent,'">\n		<label class="').concat(t.CSSClasses.timeHours,'">\n			<input type="text"\n				name="hours"\n				maxlength="2"\n				value="').concat(t.selectedHours,'"\n				').concat(n?"disabled":"",'>\n		</label>\n		<label class="').concat(t.CSSClasses.timeMinutes,'">\n			<input type="text"\n				name="minutes"\n				maxlength="2"\n				value="').concat(t.selectedMinutes,'"\n				').concat(n?"disabled":"",">\n		</label>\n		").concat(i===12?'\n		<button type="button"\n			class="'.concat(t.CSSClasses.timeKeeping,'"\n			').concat(n?"disabled":"",">").concat(t.selectedKeeping,"</button>\n		"):"",'\n	</div>\n	<div class="').concat(t.CSSClasses.timeRanges,'">\n		<label class="').concat(t.CSSClasses.timeRange,'">\n			<input type="range"\n				name="hours"\n				min="0"\n				max="23"\n				step="').concat(t.settings.selection.stepHours,'"\n				value="').concat(t.selectedKeeping?uC(t.selectedHours,t.selectedKeeping):t.selectedHours,'">\n		</label>\n		<label class="').concat(t.CSSClasses.timeRange,'">\n			<input type="range"\n				name="minutes"\n				min="0"\n				max="59"\n				step="').concat(t.settings.selection.stepMinutes,'"\n				value="').concat(t.selectedMinutes,'">\n		</label>\n	</div>'),Phe(t,i)},TB=t=>{const e=[...t.locale.weekday];if(!e[0])return;const i=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.week)),n=document.createElement("b");n.className=t.CSSClasses.weekDay,t.settings.iso8601&&e.push(e.shift()),i.forEach(s=>{s.innerHTML="";for(let r=0;r<e.length;r++){const o=e[r],a=n.cloneNode(!0);t.settings.visibility.weekend&&t.settings.iso8601?(r===5||r===6)&&a.classList.add(t.CSSClasses.weekDayWeekend):t.settings.visibility.weekend&&!t.settings.iso8601&&(r===0||r===6)&&a.classList.add(t.CSSClasses.weekDayWeekend),a.innerText="".concat(o),s.append(a)}})},cC=(t,e)=>{if(t.viewYear===void 0||!t.dateMin||!t.dateMax)return;const i=e!=null&&e.dataset.calendarSelectedYear?Number(e==null?void 0:e.dataset.calendarSelectedYear):t.selectedYear;t.currentType="year",WE(t,e),ry(t),oy(t),KE(t);const n=t.HTMLElement.querySelector(".".concat(t.CSSClasses.years));if(!n)return;t.settings.selection.year&&n.classList.add(t.CSSClasses.yearsSelecting);const s=document.createElement("button");s.type="button",s.className=t.CSSClasses.yearsYear;const r=()=>t.type!=="multiple"||t.selectedYear===i?0:1;for(let o=t.viewYear-7;o<t.viewYear+8;o++){const a=o,l=s.cloneNode(!0);a===i&&l.classList.add(t.CSSClasses.yearsYearSelected),(a<t.dateMin.getFullYear()+r()||a>t.dateMax.getFullYear())&&(l.classList.add(t.CSSClasses.yearsYearDisabled),l.tabIndex=-1),l.dataset.calendarYear=String(a),l.innerText="".concat(a),n.append(l)}},Rhe=t=>{if(t.settings.lang!=="define"){t.locale.weekday=[];for(let e=0;e<7;e++){let i=new Date(0,0,e).toLocaleString(t.settings.lang,{weekday:"short"});i="".concat(i.charAt(0).toUpperCase()).concat(i.substring(1,i.length)),i=i.replace(/\./,""),t.locale.weekday.push(i)}t.locale.months=[];for(let e=0;e<12;e++){let i=new Date(0,e).toLocaleString(t.settings.lang,{month:"long"});i="".concat(i.charAt(0).toUpperCase()).concat(i.substring(1,i.length)),i=i.replace(/\./,""),t.locale.months.push(i)}}},Nf=["light","dark","system"];let xB=!1;const PP=(t,e)=>{var i;let n=null;for(let s=0;s<Nf.length;s++){if(Nf[s]==="system")return;if((i=t.getAttribute(e))!=null&&i.includes(Nf[s])){n=Nf[s];break}}return n},ay=(t,e)=>{if(t.HTMLElement){if(Nf.includes(e)){t.HTMLElement.dataset.calendarTheme=e;return}console.error("Incorrect name of theme in settings.visibility.theme")}},sw=(t,e)=>{if(!e){ay(t,"light");return}const i=n=>n.matches?"dark":"light";t.HTMLElement.dataset.calendarTheme=i(e),xB||(e.onchange=n=>{t.settings.visibility.theme==="system"&&(t.HTMLElement.dataset.calendarTheme=i(n))},xB=!0)},Ohe=(t,e,i)=>{const n=r=>{for(let o=0;o<r.length;o++)if(r[o].attributeName===i){const l=PP(e,i);l&&ay(t,l);break}};new MutationObserver(n).observe(e,{attributes:!0})},Uhe=(t,e)=>{if(!t.HTMLElement)return;const i=t.settings.visibility.themeDetect?document.querySelector(t.settings.visibility.themeDetect):!1;if(!i){sw(t,e);return}const n=t.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(o,a)=>a),s=i.hasAttribute(n);if(!n||!s){sw(t,e);return}const r=PP(i,n);r?(ay(t,r),Ohe(t,i,n)):sw(t,e)},Nhe=t=>{if(!t.HTMLElement)return;let e;window.matchMedia("(prefers-color-scheme)").media!=="not all"&&(e=window.matchMedia("(prefers-color-scheme: dark)")),t.settings.visibility.theme==="system"?Uhe(t,e):ay(t,t.settings.visibility.theme)},Ma=t=>{const e={default(){TB(t),Jv(t)},multiple(){TB(t),Jv(t)},month(){IP(t)},year(){cC(t)}};Nhe(t),Rhe(t),WE(t),ry(t),oy(t),KE(t),Mhe(t),e[t.currentType]()},qE=t=>{DP(t),Ma(t)},Hhe=t=>{var e;let i=null,n=null,s=null;(e=t.settings.selected.dates)!=null&&e[0]||(i=t.settings.selected.dates,t.settings.selected.dates=t.selectedDates),t.settings.selected.month||(n=t.settings.selected.month,t.settings.selected.month=t.selectedMonth),t.settings.selected.year||(s=t.settings.selected.year,t.settings.selected.year=t.selectedYear),DP(t),Ma(t),t.settings.selected.dates=i,t.settings.selected.month=n,t.settings.selected.year=s},rw=(t,e)=>{if(t.selectedMonth===void 0||t.selectedYear===void 0)return;const i=new Date("".concat(ys(new Date(t.selectedYear,t.selectedMonth,1)),"T00:00:00"));switch(e){case"prev":i.setMonth(i.getMonth()-t.jumpMonths);break;case"next":i.setMonth(i.getMonth()+t.jumpMonths);break}t.selectedMonth=i.getMonth(),t.selectedYear=i.getFullYear(),ry(t),oy(t),KE(t),Jv(t)};let Qt=null;const SB=()=>{var t;if(!Qt)return;const e=(t=Qt.HTMLElement)==null?void 0:t.querySelectorAll(".".concat(Qt.CSSClasses.dayBtnHover));e&&e.forEach(i=>i.classList.remove(Qt.CSSClasses.dayBtnHover))},BB=t=>{var e;if(!Qt||!Qt.selectedDates)return;const i=ys(t);if(Qt.rangeDisabled&&Qt.rangeDisabled.includes(i))return;const n=(e=Qt.HTMLElement)==null?void 0:e.querySelectorAll('[data-calendar-day="'.concat(i,'"]'));n==null||n.forEach(s=>{s.classList.add(Qt.CSSClasses.dayBtnHover)})},AC=t=>{if(!t.target||!Qt||!Qt.selectedDates)return;if(!t.target.closest(".".concat(Qt.CSSClasses.days))){SB();return}const e=t.target.dataset.calendarDay;if(!e)return;SB();const i=new Date(new Date("".concat(Qt.selectedDates[0],"T00:00:00")).getFullYear(),new Date("".concat(Qt.selectedDates[0],"T00:00:00")).getMonth(),new Date("".concat(Qt.selectedDates[0],"T00:00:00")).getDate()),n=new Date(new Date("".concat(e,"T00:00:00")).getFullYear(),new Date("".concat(e,"T00:00:00")).getMonth(),new Date("".concat(e,"T00:00:00")).getDate());if(n>i)for(let s=i;s<=n;s.setDate(s.getDate()+1))BB(s);else for(let s=i;s>=n;s.setDate(s.getDate()-1))BB(s)},hC=t=>{!Qt||t.key!=="Escape"||(Qt.selectedDates=[],Qt.HTMLElement.removeEventListener("mousemove",AC),document.removeEventListener("keydown",hC),Ma(Qt))},Qhe=()=>{var t;if(!Qt||!((t=Qt.selectedDates)!=null&&t[0])||!Qt.rangeDisabled||Qt.rangeDisabled.length<2)return;const e=new Date("".concat(Qt.selectedDates[0],"T00:00:00"));let i=null,n=null;for(let s=0;s<Qt.rangeDisabled.length;s++){const r=new Date("".concat(Qt.rangeDisabled[s],"T00:00:00"));if(e>=r)i=r;else{n=r;break}}i&&(i=new Date(i.setDate(i.getDate()+1)),Qt.rangeMin=ys(i)),n&&(n=new Date(n.setDate(n.getDate()-1)),Qt.rangeMax=ys(n))},$he=()=>{Qt&&(Qt.rangeMin=Qt.settings.range.min,Qt.rangeMax=Qt.settings.range.max,Qt.settings.range.disablePast&&new Date("".concat(Qt.settings.range.min,"T00:00:00"))<Qt.date.today&&(Qt.rangeMin=ys(Qt.date.today)))},jhe=t=>{!t||!t.selectedDates||(Qt=t,t.selectedDates[0]&&t.selectedDates.length<=1?(t.HTMLElement.addEventListener("mousemove",AC),document.addEventListener("keydown",hC),t.settings.range.disableGaps&&Qhe()):(t.HTMLElement.removeEventListener("mousemove",AC),document.removeEventListener("keydown",hC),t.settings.range.disableGaps&&$he()))},kB=(t,e,i,n,s)=>{const r=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.column)),o=[...r].findIndex(l=>l.classList.contains(e)),a=Number(r[o].querySelector(".".concat(i)).getAttribute(s));return t.currentType==="month"&&o>=0?n-o:t.currentType==="year"&&t.selectedYear!==a?n-1:n},MP=t=>{t.HTMLElement.addEventListener("click",e=>{const i=e.target,n=i.closest(".".concat(t.CSSClasses.arrow)),s=i.closest(".".concat(t.CSSClasses.arrowPrev)),r=i.closest(".".concat(t.CSSClasses.arrowNext)),o=i.closest(".".concat(t.CSSClasses.dayBtn)),a=i.closest(".".concat(t.CSSClasses.dayBtnPrev)),l=i.closest(".".concat(t.CSSClasses.dayBtnNext)),u=i.closest(".".concat(t.CSSClasses.weekNumber)),c=i.closest(".".concat(t.CSSClasses.year)),A=i.closest(".".concat(t.CSSClasses.yearsYear)),h=i.closest(".".concat(t.CSSClasses.month)),g=i.closest(".".concat(t.CSSClasses.monthsMonth)),f=i.closest(".".concat(t.CSSClasses.grid)),y=i.closest(".".concat(t.CSSClasses.column)),E=()=>{n&&t.currentType!=="year"&&t.currentType!=="month"&&rw(t,i.dataset.calendarArrow),n&&t.actions.clickArrow&&t.actions.clickArrow(e,Number(t.selectedYear),Number(t.selectedMonth))},C=()=>{!t.selectedDates||!o||!o.dataset.calendarDay||(o.classList.contains(t.CSSClasses.dayBtnSelected)?t.selectedDates.splice(t.selectedDates.indexOf(o.dataset.calendarDay),1):(t.selectedDates=[],t.selectedDates.push(o.dataset.calendarDay)))},m=()=>{!t.selectedDates||!o||!o.dataset.calendarDay||(o.classList.contains(t.CSSClasses.dayBtnSelected)?t.selectedDates.splice(t.selectedDates.indexOf(o.dataset.calendarDay),1):t.selectedDates.push(o.dataset.calendarDay))},b=()=>{if(!(!t.selectedDates||!o||!o.dataset.calendarDay)){if(t.selectedDates.length<=1&&t.selectedDates[0]&&t.selectedDates[0].includes(o.dataset.calendarDay)?t.selectedDates=[]:(t.selectedDates.length>1&&(t.selectedDates=[]),t.selectedDates.push(o.dataset.calendarDay)),t.selectedDates[1]){const O=new Date(new Date("".concat(t.selectedDates[0],"T00:00:00")).getFullYear(),new Date("".concat(t.selectedDates[0],"T00:00:00")).getMonth(),new Date("".concat(t.selectedDates[0],"T00:00:00")).getDate()),Q=new Date(new Date("".concat(t.selectedDates[1],"T00:00:00")).getFullYear(),new Date("".concat(t.selectedDates[1],"T00:00:00")).getMonth(),new Date("".concat(t.selectedDates[1],"T00:00:00")).getDate()),$=D=>{if(!t.selectedDates)return;const U=ys(D);t.rangeDisabled&&t.rangeDisabled.includes(U)||t.selectedDates.push(U)};if(t.selectedDates=[],Q>O)for(let D=O;D<=Q;D.setDate(D.getDate()+1))$(D);else for(let D=O;D>=Q;D.setDate(D.getDate()-1))$(D)}jhe(t)}},_=()=>{if(t.settings.selection.day&&["single","multiple","multiple-ranged"].includes(t.settings.selection.day)&&o){switch(t.settings.selection.day){case"single":C();break;case"multiple":m();break;case"multiple-ranged":b();break}t.actions.clickDay&&t.actions.clickDay(e,t.selectedDates),t.input&&t.HTMLInputElement&&t.HTMLElement&&t.actions.changeToInput&&t.actions.changeToInput(e,LP(t),t.selectedDates,t.selectedTime,t.selectedHours,t.selectedMinutes,t.selectedKeeping),a?rw(t,"prev"):l?rw(t,"next"):Jv(t)}},B=()=>{var O;if(!t.settings.visibility.weekNumbers||!u||!t.actions.clickWeekNumber)return;const Q=(O=t.HTMLElement)==null?void 0:O.querySelectorAll("[data-calendar-week-number]");if(!Q)return;const $=Number(u.innerText),D=Number(u.dataset.calendarYearWeek),U=[...Q].filter(S=>Number(S.dataset.calendarWeekNumber)===$);t.actions.clickWeekNumber(e,$,U,D)},L=()=>{if(t.settings.selection.year)if(n&&t.currentType==="year"){if(t.viewYear===void 0)return;r?t.viewYear+=15:s&&(t.viewYear-=15),cC(t,e.target)}else if(t.currentType!=="year"&&c)cC(t,e.target);else if(t.currentType==="year"&&c)t.currentType=t.type,Ma(t);else if(A){if(t.selectedMonth===void 0||!t.dateMin||!t.dateMax)return;t.selectedYear=t.type==="multiple"?kB(t,t.CSSClasses.columnYear,t.CSSClasses.year,Number(A.dataset.calendarYear),"data-calendar-selected-year"):Number(A.dataset.calendarYear),t.currentType=t.type,(t.selectedMonth<t.dateMin.getMonth()&&t.selectedYear<=t.dateMin.getFullYear()||t.selectedYear<t.dateMin.getFullYear())&&(t.selectedMonth=t.dateMin.getMonth(),t.selectedYear=t.dateMin.getFullYear()),(t.selectedMonth>t.dateMax.getMonth()&&t.selectedYear>=t.dateMax.getFullYear()||t.selectedYear>t.dateMax.getFullYear())&&(t.selectedMonth=t.dateMax.getMonth(),t.selectedYear=t.dateMax.getFullYear()),t.actions.clickYear&&t.actions.clickYear(e,t.selectedYear),Ma(t)}else t.type==="multiple"&&t.currentType==="year"&&f&&!y&&(t.currentType=t.type,Ma(t))},j=()=>{if(t.settings.selection.month)if(t.currentType!=="month"&&h)IP(t,e.target);else if(t.currentType==="month"&&h)t.currentType=t.type,Ma(t);else if(g){if(t.selectedMonth===void 0||!t.dateMin||!t.dateMax)return;if(t.selectedMonth=t.type==="multiple"?kB(t,t.CSSClasses.columnMonth,t.CSSClasses.month,Number(g.dataset.calendarMonth),"data-calendar-selected-month"):Number(g.dataset.calendarMonth),t.type==="multiple"){const Q=g.closest(".".concat(t.CSSClasses.columnMonth)).querySelector(".".concat(t.CSSClasses.year));t.selectedYear=Number(Q.dataset.calendarSelectedYear),t.selectedMonth<t.dateMin.getMonth()&&t.selectedYear<=t.dateMin.getFullYear()&&(t.selectedMonth=t.dateMin.getMonth()),t.selectedMonth>t.dateMax.getMonth()&&t.selectedYear>=t.dateMax.getFullYear()&&(t.selectedMonth=t.dateMax.getMonth())}t.currentType=t.type,t.actions.clickMonth&&t.actions.clickMonth(e,t.selectedMonth),Ma(t)}else t.type==="multiple"&&t.currentType==="month"&&f&&!y&&(t.currentType=t.type,Ma(t))};E(),_(),B(),L(),j()})};let cc=null;const RP=(t,e)=>{let i=t.offsetHeight,n=0;for(let s=t;s;s=s.offsetParent)i+=s.offsetTop||0,n+=s.offsetLeft||0;Object.assign(e.style,{left:"".concat(n,"px"),top:"".concat(i,"px")})},Vhe=t=>{if(!t.HTMLInputElement)return;const e=document.createElement("div");e.className="".concat(t.CSSClasses.calendar," ").concat(t.CSSClasses.calendarToInput," ").concat(t.CSSClasses.calendarHidden),RP(t.HTMLInputElement,e),t.HTMLElement=e,document.body.append(t.HTMLElement),setTimeout(()=>t.HTMLElement.classList.remove(t.CSSClasses.calendarHidden),0),qE(t),MP(t)},OP=t=>{if(!cc||t.target.closest(".".concat(cc.CSSClasses.calendar,".").concat(cc.CSSClasses.calendarToInput)))return;document.querySelectorAll(".".concat(cc.CSSClasses.calendar,".").concat(cc.CSSClasses.calendarToInput)).forEach(i=>i.classList.add(cc.CSSClasses.calendarHidden)),document.removeEventListener("click",OP,{capture:!0})},zhe=t=>{t&&(cc=t,t.HTMLInputElement=t.HTMLElement,t.HTMLElement=null,t.HTMLInputElement.addEventListener("click",()=>{t.HTMLElement&&t.HTMLInputElement?(RP(t.HTMLInputElement,t.HTMLElement),t.HTMLElement.classList.remove(t.CSSClasses.calendarHidden)):t.HTMLElement?t.HTMLElement.classList.remove(t.CSSClasses.calendarHidden):Vhe(t),document.addEventListener("click",OP,{capture:!0})}))},Ghe=t=>{t.HTMLElement&&(t.input?zhe(t):(qE(t),MP(t)))},Khe=t=>'\n	<div class="'.concat(t.header,'">\n		<#ArrowPrev />\n		<div class="').concat(t.headerContent,'">\n			<#Month />\n			<#Year />\n		</div>\n		<#ArrowNext />\n	</div>\n	<div class="').concat(t.wrapper,'">\n		<#WeekNumbers />\n		<div class="').concat(t.content,'">\n			<#Week />\n			<#Days />\n		</div>\n	</div>\n	<#ControlTime />\n'),Whe=t=>'\n	<div class="'.concat(t.controls,'">\n		<#ArrowPrev />\n		<#ArrowNext />\n	</div>\n	<div class="').concat(t.grid,'">\n		<#Multiple>\n			<div class="').concat(t.column,'">\n				<div class="').concat(t.header,'">\n					<div class="').concat(t.headerContent,'">\n						<#Month />\n						<#Year />\n					</div>\n				</div>\n				<div class="').concat(t.wrapper,'">\n					<#WeekNumbers />\n					<div class="').concat(t.content,'">\n						<#Week />\n						<#Days />\n					</div>\n				</div>\n			</div>\n		<#/Multiple>\n	</div>\n	<#ControlTime />\n'),qhe=t=>'\n	<div class="'.concat(t.header,'">\n		<div class="').concat(t.headerContent,'">\n			<#Month />\n			<#Year />\n		</div>\n	</div>\n	<div class="').concat(t.wrapper,'">\n		<div class="').concat(t.content,'">\n			<#Months />\n		</div>\n	</div>\n'),Yhe=t=>'\n	<div class="'.concat(t.header,'">\n		<#ArrowPrev />\n		<div class="').concat(t.headerContent,'">\n			<#Month />\n			<#Year />\n		</div>\n		<#ArrowNext />\n	</div>\n	<div class="').concat(t.wrapper,'">\n		<div class="').concat(t.content,'">\n			<#Years />\n		</div>\n	</div>\n'),ow={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};class Xhe{constructor(e,i){ts(this,"HTMLElement"),ts(this,"input"),ts(this,"type"),ts(this,"months"),ts(this,"jumpMonths"),ts(this,"date"),ts(this,"settings"),ts(this,"locale"),ts(this,"actions"),ts(this,"popups"),ts(this,"CSSClasses"),ts(this,"DOMTemplates"),ts(this,"currentType"),ts(this,"reset",()=>qE(this)),ts(this,"update",()=>Hhe(this)),ts(this,"init",()=>Ghe(this));var n,s,r,o,a,l,u,c,A,h,g,f,y,E,C,m,b,_,B,L,j,O,Q,$,D,U,S,k,M,N,V,G,ee,se,ne,le,he,we,pe,ke,ce,ye,ie,He,$e,ae,W,X,re,ve,xe,Me,Fe,Ie,Le,Ge,ze,_e,Te,je,nt,st,bt,ct,$t,_t,gt,si,It,ri,Ki,Bn,kn,Xs,Wn,Zi,Js,tt,jt,pt,bi,Jt,an,Ts,pu,gu,qn,mt,en,po,Gc,ra,xi,wr,ui,Kc,oa,xs,mu,_r,fi,al,Cr,vu,ll,bu,yu,ul,Yr,wu,aa,cl,la,ua,Xr,go,Yn,mo,vo,_u,Cu,Al,bo,Xn,ca,Er,Ss;this.HTMLElement=typeof e=="string"?document.querySelector(e):e,this.HTMLElement&&(this.input=(n=i==null?void 0:i.input)!=null?n:!1,this.type=(s=i==null?void 0:i.type)!=null?s:"default",this.months=(r=i==null?void 0:i.months)!=null?r:2,this.jumpMonths=(o=i==null?void 0:i.jumpMonths)!=null?o:1,this.date={min:(l=(a=i==null?void 0:i.date)==null?void 0:a.min)!=null?l:"1970-01-01",max:(c=(u=i==null?void 0:i.date)==null?void 0:u.max)!=null?c:"2470-12-31",today:(h=(A=i==null?void 0:i.date)==null?void 0:A.today)!=null?h:new Date},this.settings={lang:(f=(g=i==null?void 0:i.settings)==null?void 0:g.lang)!=null?f:"en",iso8601:(E=(y=i==null?void 0:i.settings)==null?void 0:y.iso8601)!=null?E:!0,range:{min:(b=(m=(C=i==null?void 0:i.settings)==null?void 0:C.range)==null?void 0:m.min)!=null?b:this.date.min,max:(L=(B=(_=i==null?void 0:i.settings)==null?void 0:_.range)==null?void 0:B.max)!=null?L:this.date.max,disablePast:(Q=(O=(j=i==null?void 0:i.settings)==null?void 0:j.range)==null?void 0:O.disablePast)!=null?Q:!1,disableGaps:(U=(D=($=i==null?void 0:i.settings)==null?void 0:$.range)==null?void 0:D.disableGaps)!=null?U:!1,disableAllDays:(M=(k=(S=i==null?void 0:i.settings)==null?void 0:S.range)==null?void 0:k.disableAllDays)!=null?M:!1,disableWeekday:(G=(V=(N=i==null?void 0:i.settings)==null?void 0:N.range)==null?void 0:V.disableWeekday)!=null?G:null,disabled:(ne=(se=(ee=i==null?void 0:i.settings)==null?void 0:ee.range)==null?void 0:se.disabled)!=null?ne:null,enabled:(we=(he=(le=i==null?void 0:i.settings)==null?void 0:le.range)==null?void 0:he.enabled)!=null?we:null},selection:{day:(ce=(ke=(pe=i==null?void 0:i.settings)==null?void 0:pe.selection)==null?void 0:ke.day)!=null?ce:"single",month:(He=(ie=(ye=i==null?void 0:i.settings)==null?void 0:ye.selection)==null?void 0:ie.month)!=null?He:!0,year:(W=(ae=($e=i==null?void 0:i.settings)==null?void 0:$e.selection)==null?void 0:ae.year)!=null?W:!0,time:(ve=(re=(X=i==null?void 0:i.settings)==null?void 0:X.selection)==null?void 0:re.time)!=null?ve:!1,controlTime:(Fe=(Me=(xe=i==null?void 0:i.settings)==null?void 0:xe.selection)==null?void 0:Me.controlTime)!=null?Fe:"all",stepHours:(Ge=(Le=(Ie=i==null?void 0:i.settings)==null?void 0:Ie.selection)==null?void 0:Le.stepHours)!=null?Ge:1,stepMinutes:(Te=(_e=(ze=i==null?void 0:i.settings)==null?void 0:ze.selection)==null?void 0:_e.stepMinutes)!=null?Te:1},selected:{dates:(st=(nt=(je=i==null?void 0:i.settings)==null?void 0:je.selected)==null?void 0:nt.dates)!=null?st:null,month:($t=(ct=(bt=i==null?void 0:i.settings)==null?void 0:bt.selected)==null?void 0:ct.month)!=null?$t:null,year:(si=(gt=(_t=i==null?void 0:i.settings)==null?void 0:_t.selected)==null?void 0:gt.year)!=null?si:null,holidays:(Ki=(ri=(It=i==null?void 0:i.settings)==null?void 0:It.selected)==null?void 0:ri.holidays)!=null?Ki:null,time:(Xs=(kn=(Bn=i==null?void 0:i.settings)==null?void 0:Bn.selected)==null?void 0:kn.time)!=null?Xs:null},visibility:{theme:(Js=(Zi=(Wn=i==null?void 0:i.settings)==null?void 0:Wn.visibility)==null?void 0:Zi.theme)!=null?Js:"system",themeDetect:(pt=(jt=(tt=i==null?void 0:i.settings)==null?void 0:tt.visibility)==null?void 0:jt.themeDetect)!=null?pt:"html[data-theme]",monthShort:(an=(Jt=(bi=i==null?void 0:i.settings)==null?void 0:bi.visibility)==null?void 0:Jt.monthShort)!=null?an:!0,weekNumbers:(gu=(pu=(Ts=i==null?void 0:i.settings)==null?void 0:Ts.visibility)==null?void 0:pu.weekNumbers)!=null?gu:!1,weekend:(en=(mt=(qn=i==null?void 0:i.settings)==null?void 0:qn.visibility)==null?void 0:mt.weekend)!=null?en:!0,today:(ra=(Gc=(po=i==null?void 0:i.settings)==null?void 0:po.visibility)==null?void 0:Gc.today)!=null?ra:!0,disabled:(ui=(wr=(xi=i==null?void 0:i.settings)==null?void 0:xi.visibility)==null?void 0:wr.disabled)!=null?ui:!1,daysOutside:(xs=(oa=(Kc=i==null?void 0:i.settings)==null?void 0:Kc.visibility)==null?void 0:oa.daysOutside)!=null?xs:!0}},this.locale={months:(_r=(mu=i==null?void 0:i.locale)==null?void 0:mu.months)!=null?_r:[],weekday:(al=(fi=i==null?void 0:i.locale)==null?void 0:fi.weekday)!=null?al:[]},this.actions={clickDay:(vu=(Cr=i==null?void 0:i.actions)==null?void 0:Cr.clickDay)!=null?vu:null,clickWeekNumber:(bu=(ll=i==null?void 0:i.actions)==null?void 0:ll.clickWeekNumber)!=null?bu:null,clickMonth:(ul=(yu=i==null?void 0:i.actions)==null?void 0:yu.clickMonth)!=null?ul:null,clickYear:(wu=(Yr=i==null?void 0:i.actions)==null?void 0:Yr.clickYear)!=null?wu:null,clickArrow:(cl=(aa=i==null?void 0:i.actions)==null?void 0:aa.clickArrow)!=null?cl:null,changeTime:(ua=(la=i==null?void 0:i.actions)==null?void 0:la.changeTime)!=null?ua:null,changeToInput:(go=(Xr=i==null?void 0:i.actions)==null?void 0:Xr.changeToInput)!=null?go:null,getDays:(mo=(Yn=i==null?void 0:i.actions)==null?void 0:Yn.getDays)!=null?mo:null},this.popups=(vo=i==null?void 0:i.popups)!=null?vo:null,this.CSSClasses=(()=>{const yo=bhe({},ow);return Object.keys(ow).forEach(dn=>{var Wc;(Wc=i==null?void 0:i.CSSClasses)!=null&&Wc[dn]?yo[dn]=i.CSSClasses[dn]:yo[dn]=ow[dn]}),yo})(),this.DOMTemplates={default:(Cu=(_u=i==null?void 0:i.DOMTemplates)==null?void 0:_u.default)!=null?Cu:Khe(this.CSSClasses),multiple:(bo=(Al=i==null?void 0:i.DOMTemplates)==null?void 0:Al.multiple)!=null?bo:Whe(this.CSSClasses),month:(ca=(Xn=i==null?void 0:i.DOMTemplates)==null?void 0:Xn.month)!=null?ca:qhe(this.CSSClasses),year:(Ss=(Er=i==null?void 0:i.DOMTemplates)==null?void 0:Er.year)!=null?Ss:Yhe(this.CSSClasses)},this.currentType=this.type)}}const Jhe={name:"PCalendrier",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:34,statut:"",dimensions:{},position:{}}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("calendrier"),this.genererOptions("calendrier")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.$nextTick((function(){const t={settings:{lang:this.$parent.langue,visibility:{weekNumbers:!0,theme:"light"}}};new Xhe("#calendrier_"+this.id,t).init()}).bind(this))}},Zhe=d("div",{class:"conteneur-gauche"},null,-1),ede={class:"conteneur panneau-calendrier"},tde={class:"contenu"},ide=["id"],nde=d("div",{class:"conteneur-droite"},null,-1),sde=d("div",{class:"conteneur-bas"},null,-1);function rde(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Zhe,d("div",ede,[d("div",tde,[d("div",{id:"calendrier_"+s.id},null,8,ide)])]),nde,sde]),_:1},8,["visible","options"])}const ode=Ht(Jhe,[["render",rde]]),ade=""+new URL("confettis-8d3aa406.svg",import.meta.url).href,lde=""+new URL("applaudissements-2e425ca3.svg",import.meta.url).href,ude=""+new URL("victoire-a997add4.svg",import.meta.url).href,cde=""+new URL("dommage-edfd007e.svg",import.meta.url).href,Ade=""+new URL("vrai-b1d445e8.svg",import.meta.url).href,hde=""+new URL("faux-cd686568.svg",import.meta.url).href,dde=""+new URL("pouce-haut-3465b051.svg",import.meta.url).href,fde=""+new URL("pouce-bas-39a9210d.svg",import.meta.url).href;const pde={name:"PRetroaction",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:36,minh:31,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},carte:"",son:"oui"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{son:this.son},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("retroaction"),this.panneau.contenu!==""&&(this.son=this.panneau.contenu.son),this.genererOptions("retroaction")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{ouvrirCarte(t,e){this.carte=e,this.son==="oui"&&(this.$parent.audio.src!==""&&(this.$parent.audio.pause(),this.$parent.audio.currentTime=0),this.$parent.audio.src="./static/audio/"+t+".mp3",this.$parent.audio.play()),(e==="confettis"||e==="applaudissements"||e==="victoire")&&this.lancerConfettis()},fermerCarte(){this.carte="",this.$parent.audio.src!==""&&(this.$parent.audio.pause(),this.$parent.audio.currentTime=0)}}},gde=d("div",{class:"conteneur-gauche"},null,-1),mde={class:"conteneur panneau-retroaction"},vde={class:"contenu"},bde={class:"retroactions"},yde={class:"choix"},wde={class:"oui"},_de=["id","name","checked"],Cde=["for"],Ede={class:"non"},Tde=["id","name","checked"],xde=["for"],Sde=d("div",{class:"conteneur-droite"},null,-1),Bde=d("div",{class:"conteneur-bas"},null,-1),kde=d("span",{class:"carte"},[d("img",{src:ade,alt:"confettis"})],-1),Dde=[kde],Fde=d("span",{class:"carte"},[d("img",{src:lde,alt:"applaudissements"})],-1),Ide=[Fde],Lde=d("span",{class:"carte"},[d("img",{src:ude,alt:"victoire"})],-1),Pde=[Lde],Mde=d("span",{class:"carte"},[d("img",{src:cde,alt:"dommage"})],-1),Rde=[Mde],Ode=d("span",{class:"carte"},[d("img",{src:Ade,alt:"vrai"})],-1),Ude=[Ode],Nde=d("span",{class:"carte"},[d("img",{src:hde,alt:"faux"})],-1),Hde=[Nde],Qde=d("span",{class:"carte"},[d("img",{src:dde,alt:"pouce-haut"})],-1),$de=[Qde],jde=d("span",{class:"carte"},[d("img",{src:fde,alt:"pouce-bas"})],-1),Vde=[jde];function zde(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[gde,d("div",mde,[d("div",vde,[d("div",bde,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>r.ouvrirCarte("applaudissements","confettis")),style:{"background-image":"url(./static/img/retroactions/confettis.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=a=>r.ouvrirCarte("applaudissements","applaudissements")),style:{"background-image":"url(./static/img/retroactions/applaudissements.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>r.ouvrirCarte("victoire","victoire")),style:{"background-image":"url(./static/img/retroactions/victoire.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=a=>r.ouvrirCarte("dommage","dommage")),style:{"background-image":"url(./static/img/retroactions/dommage.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>r.ouvrirCarte("vrai","vrai")),style:{"background-image":"url(./static/img/retroactions/vrai.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=a=>r.ouvrirCarte("faux","faux")),style:{"background-image":"url(./static/img/retroactions/faux.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=a=>r.ouvrirCarte("vrai","pouce-haut")),style:{"background-image":"url(./static/img/retroactions/pouce-haut.svg)"}}),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=a=>r.ouvrirCarte("faux","pouce-bas")),style:{"background-image":"url(./static/img/retroactions/pouce-bas.svg)"}})]),d("label",null,oe(t.$t("activerEffetsSonores")),1),d("div",yde,[d("span",wde,[d("input",{type:"radio",id:"son_oui_"+s.id,name:"son_"+s.id,value:"oui",checked:s.son==="oui",onChange:e[8]||(e[8]=a=>s.son=a.target.value)},null,40,_de),d("label",{for:"son_oui_"+s.id},oe(t.$t("oui")),9,Cde)]),d("span",Ede,[d("input",{type:"radio",id:"son_non_"+s.id,name:"son_"+s.id,value:"non",checked:s.son==="non",onChange:e[9]||(e[9]=a=>s.son=a.target.value)},null,40,Tde),d("label",{for:"son_non_"+s.id},oe(t.$t("non")),9,xde)])])])]),Sde,Bde,d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="confettis"}]),onClick:e[10]||(e[10]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"confettis"},Dde,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="applaudissements"}]),onClick:e[11]||(e[11]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"applaudissements"},Ide,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="victoire"}]),onClick:e[12]||(e[12]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"victoire"},Pde,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="dommage"}]),onClick:e[13]||(e[13]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"dommage"},Rde,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="vrai"}]),onClick:e[14]||(e[14]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"vrai"},Ude,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="faux"}]),onClick:e[15]||(e[15]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"faux"},Hde,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="pouce-haut"}]),onClick:e[16]||(e[16]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"pouce-haut"},$de,2),d("div",{class:Ne(["conteneur-carte",{ouvert:s.carte==="pouce-bas"}]),onClick:e[17]||(e[17]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"pouce-bas"},Vde,2)]),_:1},8,["visible","options"])}const Gde=Ht(pde,[["render",zde]]);const Kde={name:"PSonometre",components:{JsPanel:ii},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:ni,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:24,statut:"",dimensions:{},position:{},contexteAudio:"",sourceAudio:"",analyseur:"",volumes:[],volume:0,sensibilite:98,verificationVolume:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))},volume:function(t){t>=this.sensibilite&&(this.$parent.audio.src="./static/audio/cloche.mp3",this.$parent.audio.play())}},created(){this.definirCaracteristiques("sonometre"),this.genererOptions("sonometre")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{modifierSensibilite(t){this.sensibilite=t},demarrer(){this.verificationVolume===""&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){this.genererFlux(t),this.volumes.length>0?this.verificationVolume=setInterval(this.dessinerFlux,100):alert(this.$t("erreurSonometre"))}).bind(this)).catch((function(){alert(this.$t("erreurSonometre"))}).bind(this))},pause(){this.verificationVolume!==""&&(clearInterval(this.verificationVolume),this.verificationVolume="")},genererFlux(t){this.contexteAudio=new AudioContext,this.sourceAudio=this.contexteAudio.createMediaStreamSource(t),this.analyseur=this.contexteAudio.createAnalyser(),this.analyseur.fftSize=512,this.analyseur.minDecibels=-127,this.analyseur.maxDecibels=0,this.analyseur.smoothingTimeConstant=.4,this.sourceAudio.connect(this.analyseur),this.volumes=new Uint8Array(this.analyseur.frequencyBinCount)},dessinerFlux(){this.analyseur.getByteFrequencyData(this.volumes);let t=0;for(const i of this.volumes)t+=i;const e=t/this.volumes.length;this.volume=e*100/127}}},Wde=d("div",{class:"conteneur-gauche"},null,-1),qde={class:"conteneur panneau-sonometre"},Yde={class:"contenu"},Xde={class:"volume"},Jde={class:"sensibilite"},Zde={class:"actions"},efe=d("div",{class:"conteneur-droite"},null,-1),tfe=d("div",{class:"conteneur-bas"},null,-1);function ife(t,e,i,n,s,r){const o=Ke("JsPanel");return Y(),Je(o,{class:"panneau",visible:!s.chargement,options:s.options},{default:Et(()=>[Wde,d("div",qde,[d("div",Yde,[d("div",Xde,[s.volume<s.sensibilite?(Y(),te("span",{key:0,class:"vert",style:ti({width:s.volume+"%"})},null,4)):(Y(),te("span",{key:1,class:"rouge",style:ti({width:s.volume+"%"})},null,4))]),d("label",null,oe(t.$t("sensibilite")),1),d("div",Jde,[d("span",{onClick:e[0]||(e[0]=a=>r.modifierSensibilite(98)),class:Ne({selectionne:s.sensibilite===98})},"1",2),d("span",{onClick:e[1]||(e[1]=a=>r.modifierSensibilite(88)),class:Ne({selectionne:s.sensibilite===88})},"2",2),d("span",{onClick:e[2]||(e[2]=a=>r.modifierSensibilite(78)),class:Ne({selectionne:s.sensibilite===78})},"3",2),d("span",{onClick:e[3]||(e[3]=a=>r.modifierSensibilite(68)),class:Ne({selectionne:s.sensibilite===68})},"4",2),d("span",{onClick:e[4]||(e[4]=a=>r.modifierSensibilite(58)),class:Ne({selectionne:s.sensibilite===58})},"5",2),d("span",{onClick:e[5]||(e[5]=a=>r.modifierSensibilite(48)),class:Ne({selectionne:s.sensibilite===48})},"6",2),d("span",{onClick:e[6]||(e[6]=a=>r.modifierSensibilite(38)),class:Ne({selectionne:s.sensibilite===38})},"7",2)]),d("div",Zde,[s.verificationVolume===""?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.demarrer&&r.demarrer(...a))},oe(t.$t("demarrer")),1)):(Y(),te("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.pause&&r.pause(...a))},oe(t.$t("pause")),1))])])]),efe,tfe]),_:1},8,["visible","options"])}const nfe=Ht(Kde,[["render",ife]]);const sfe={name:"MGrille",data(){return{colonnes:2,lignes:1,couleur:"blanc"}},methods:{generer(){this.colonnes>=2&&this.colonnes<=5&&this.lignes>=1&&this.lignes<=5&&(this.$parent.pages[this.$parent.page-1].grille={colonnes:this.colonnes,lignes:this.lignes,couleur:this.couleur},this.$parent.fermerModale())}}},rfe={class:"conteneur-modale"},ofe={class:"modale"},afe={class:"titre"},lfe=d("i",{class:"material-icons"},"close",-1),ufe=[lfe],cfe={class:"conteneur modale-grille"},Afe={class:"contenu"},hfe={class:"grille"},dfe={class:"colonnes"},ffe=["value"],pfe={class:"lignes"},gfe=["value"],mfe={class:"fond"},vfe={class:"couleurs"};function bfe(t,e,i,n,s,r){return Y(),te("div",rfe,[d("div",ofe,[d("header",null,[d("span",afe,oe(t.$t("grille")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o))},ufe)]),d("div",cfe,[d("div",Afe,[d("div",hfe,[d("div",dfe,[d("label",null,oe(t.$t("nombreColonnes"))+" (max. 5)",1),d("input",{type:"number",value:s.colonnes,min:2,max:5,onInput:e[1]||(e[1]=o=>s.colonnes=o.target.value)},null,40,ffe)]),d("div",pfe,[d("label",null,oe(t.$t("nombreLignes"))+" (max. 5)",1),d("input",{type:"number",value:s.lignes,min:1,max:5,onInput:e[2]||(e[2]=o=>s.lignes=o.target.value)},null,40,gfe)])]),d("div",mfe,[d("label",null,oe(t.$t("couleurFond")),1),d("div",vfe,[d("span",{class:Ne(["blanc",{selectionne:s.couleur==="blanc"}]),role:"button",tabindex:"0",onClick:e[3]||(e[3]=o=>s.couleur="blanc")},null,2),d("span",{class:Ne(["gris",{selectionne:s.couleur==="gris"}]),role:"button",tabindex:"0",onClick:e[4]||(e[4]=o=>s.couleur="gris")},null,2),d("span",{class:Ne(["vert",{selectionne:s.couleur==="vert"}]),role:"button",tabindex:"0",onClick:e[5]||(e[5]=o=>s.couleur="vert")},null,2),d("span",{class:Ne(["bleu",{selectionne:s.couleur==="bleu"}]),role:"button",tabindex:"0",onClick:e[6]||(e[6]=o=>s.couleur="bleu")},null,2),d("span",{class:Ne(["jaune",{selectionne:s.couleur==="jaune"}]),role:"button",tabindex:"0",onClick:e[7]||(e[7]=o=>s.couleur="jaune")},null,2),d("span",{class:Ne(["rouge",{selectionne:s.couleur==="rouge"}]),role:"button",tabindex:"0",onClick:e[8]||(e[8]=o=>s.couleur="rouge")},null,2),d("span",{class:Ne(["transparent",{selectionne:s.couleur==="transparent"}]),role:"button",tabindex:"0",onClick:e[9]||(e[9]=o=>s.couleur="transparent")},null,2)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...o)=>r.generer&&r.generer(...o))},oe(t.$t("valider")),1)])])])])}const yfe=Ht(sfe,[["render",bfe]]);const wfe={name:"MInfo",data(){return{hub:!1,version:"0.9.10"}},methods:{ouvrirHub(){this.hub=!0},fermerHub(){this.hub=!1}}},hu=t=>(u2("data-v-7e7b220b"),t=t(),c2(),t),_fe={class:"conteneur-modale"},Cfe={class:"modale"},Efe={class:"titre"},Tfe=hu(()=>d("i",{class:"material-icons"},"close",-1)),xfe=[Tfe],Sfe={class:"conteneur"},Bfe={class:"contenu"},kfe=hu(()=>d("b",null,"Digiscreen",-1)),Dfe=hu(()=>d("span",null,[d("a",{href:"https://ladigitale.dev/",target:"_blank",rel:"noreferrer"},[d("u",null,[d("b",null,"La Digitale")])])],-1)),Ffe={class:"contact"},Ife=hu(()=>d("a",{href:"https://ladigitale.dev/emmanuel-zimmert.html",target:"_blank",rel:"noreferrer"},"Emmanuel ZIMMERT",-1)),Lfe={href:"https://opencollective.com/ladigitale",target:"_blank",rel:"noreferrer"},Pfe={class:"credits"},Mfe=hu(()=>d("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)),Rfe={href:"https://codeberg.org/ladigitale/digiscreen",target:"_blank",rel:"noreferrer"},Ofe={href:"https://codeberg.org/ladigitale/digiscreen/releases",target:"_blank",rel:"noreferrer"},Ufe=hu(()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#001d1d",width:"36px",height:"36px"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})],-1)),Nfe=[Ufe],Hfe=hu(()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",width:"36px",height:"36px"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)),Qfe=[Hfe],$fe=hu(()=>d("iframe",{src:"https://ladigitale.dev/hub.html"},null,-1));function jfe(t,e,i,n,s,r){return Y(),te("div",_fe,[d("div",Cfe,[d("header",null,[d("span",Efe,oe(t.$t("aProposDigiscreen")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o))},xfe)]),d("div",Sfe,[d("div",Bfe,[d("p",null,[kfe,ro(" "+oe(t.$t("digiscreen"))+" ",1),Dfe,ro(".")]),d("p",Ffe,[ro(oe(t.$t("contact"))+" ",1),Ife,ro(" // ez[at]ladigitale.dev")]),d("p",null,[d("a",Lfe,oe(t.$t("soutien")),1)]),d("p",Pfe,[ro(oe(new Date().getFullYear())+" - ",1),Mfe,ro(" - "),d("a",Rfe,oe(t.$t("codeSource")),1),ro(" - "),d("a",Ofe,"v"+oe(s.version),1),ro(" - "),d("span",{class:"hub",onClick:e[1]||(e[1]=(...o)=>r.ouvrirHub&&r.ouvrirHub(...o))},Nfe)])])])]),d("div",{id:"hub",class:Ne({ouvert:s.hub})},[d("span",{onClick:e[2]||(e[2]=(...o)=>r.fermerHub&&r.fermerHub(...o))},Qfe),$fe],2)])}const Vfe=Ht(wfe,[["render",jfe],["__scopeId","data-v-7e7b220b"]]);var UP={exports:{}},aw={exports:{}},DB;function zfe(){return DB||(DB=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:Xi,function(){function e(){}let i=e.prototype;return i.on=function(n,s){if(!n||!s)return this;let r=this._events=this._events||{},o=r[n]=r[n]||[];return o.includes(s)||o.push(s),this},i.once=function(n,s){if(!n||!s)return this;this.on(n,s);let r=this._onceEvents=this._onceEvents||{},o=r[n]=r[n]||{};return o[s]=!0,this},i.off=function(n,s){let r=this._events&&this._events[n];if(!r||!r.length)return this;let o=r.indexOf(s);return o!=-1&&r.splice(o,1),this},i.emitEvent=function(n,s){let r=this._events&&this._events[n];if(!r||!r.length)return this;r=r.slice(0),s=s||[];let o=this._onceEvents&&this._onceEvents[n];for(let a of r)o&&o[a]&&(this.off(n,a),delete o[a]),a.apply(this,s);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(aw)),aw.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,i){t.exports?t.exports=i(e,zfe()):e.imagesLoaded=i(e,e.EvEmitter)})(typeof window<"u"?window:Xi,function(i,n){let s=i.jQuery,r=i.console;function o(h){return Array.isArray(h)?h:typeof h=="object"&&typeof h.length=="number"?[...h]:[h]}function a(h,g,f){if(!(this instanceof a))return new a(h,g,f);let y=h;if(typeof h=="string"&&(y=document.querySelectorAll(h)),!y){r.error("Bad element for imagesLoaded ".concat(y||h));return}this.elements=o(y),this.options={},typeof g=="function"?f=g:Object.assign(this.options,g),f&&this.on("always",f),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(h){h.nodeName==="IMG"&&this.addImage(h),this.options.background===!0&&this.addElementBackgroundImages(h);let{nodeType:g}=h;if(!g||!l.includes(g))return;let f=h.querySelectorAll("img");for(let y of f)this.addImage(y);if(typeof this.options.background=="string"){let y=h.querySelectorAll(this.options.background);for(let E of y)this.addElementBackgroundImages(E)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(h){let g=getComputedStyle(h);if(!g)return;let f=u.exec(g.backgroundImage);for(;f!==null;){let y=f&&f[2];y&&this.addBackground(y,h),f=u.exec(g.backgroundImage)}},a.prototype.addImage=function(h){let g=new c(h);this.images.push(g)},a.prototype.addBackground=function(h,g){let f=new A(h,g);this.images.push(f)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let h=(g,f,y)=>{setTimeout(()=>{this.progress(g,f,y)})};this.images.forEach(function(g){g.once("progress",h),g.check()})},a.prototype.progress=function(h,g,f){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!h.isLoaded,this.emitEvent("progress",[this,h,g]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,h),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: ".concat(f),h,g)},a.prototype.complete=function(){let h=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(h,[this]),this.emitEvent("always",[this]),this.jqDeferred){let g=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[g](this)}};function c(h){this.img=h}c.prototype=Object.create(n.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(h,g){this.isLoaded=h;let{parentNode:f}=this.img,y=f.nodeName==="PICTURE"?f:this.img;this.emitEvent("progress",[this,y,g])},c.prototype.handleEvent=function(h){let g="on"+h.type;this[g]&&this[g](h)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function A(h,g){this.url=h,this.element=g,this.img=new Image}return A.prototype=Object.create(c.prototype),A.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},A.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},A.prototype.confirm=function(h,g){this.isLoaded=h,this.emitEvent("progress",[this,this.element,g])},a.makeJQueryPlugin=function(h){h=h||i.jQuery,h&&(s=h,s.fn.imagesLoaded=function(g,f){return new a(this,g,f).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a})})(UP);var Gfe=UP.exports;const yc=us(Gfe),Kfe=""+new URL("digitale-189353d9.jpg",import.meta.url).href,Wfe=""+new URL("lavande-a02d1b84.jpg",import.meta.url).href,qfe=""+new URL("plage-44eed378.jpg",import.meta.url).href,Yfe=""+new URL("lac-ee822e99.jpg",import.meta.url).href,Xfe=""+new URL("feuilles-ad60a392.jpg",import.meta.url).href,Jfe=""+new URL("arbre-372f4fa8.jpg",import.meta.url).href,Zfe=""+new URL("aurore-8cde3c26.jpg",import.meta.url).href,epe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpaIVBzuoKGSo4mBBVMRRqlgEC6Wt0KqDyUt/hCYNSYqLo+BacPBnserg4qyrg6sgCP6AuLk5KbpIifclhRYxPri8j/PeOdx3HyDUSkw128YBVbOMZCwqZrIrYuAVXRii6seoxEw9nlpIw3N93cPH97sIz/K+9+fqVnImA3wi8SzTDYt4nXh609I57xOHWFFSiM+JxwxqkPiR67LLb5wLDgs8M2Skk3PEIWKx0MJyC7OioRJPEYcVVaN8IeOywnmLs1qqsEaf/IXBnLac4jrVIGJYRBwJiJBRwQZKsBChXSPFRJLOox7+AcefIJdMrg0wcsyjDBWS4wf/g9+zNfOTE25SMAq0v9j2xzAQ2AXqVdv+Prbt+gngfwautKa/XANmPkmvNrXwEdCzDVxcNzV5D7jcAfqedMmQHMlPJeTzwPsZfVMW6L0FOlfduTXOcfoApGlWSzfAwSEwUqDsNY93d7TO7d87jfn9AK6/cr+bPEwIAAAABmJLR0QAIwBPADgs5pzIAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QsdCxsjWPrLywAABZ5JREFUeNrtXNly4yAQ5JKQZFfy/98p2xJCwD50LaXyoWPQbvIwPBEn6sy0YMA0MzKlJLjta4opYLKYLCaLyWKymCymYH8zn36RUpJSYheWO2hSyv3/4C3CiVBLI49CvRoDrz89Jdc3pfhthjhk0CvU0pTfAAUcIOwB+UgWPp/neRzHeZ6ttU3T0CiDTdM0OeeEEE3T1HVNczKlFGMcx9F7r7VumsYYQzMJ3g3DEGOs69paq5RahzLrA2oYhr7vU0rOOaWUtZb29kII9/t9GAYp5TzP39/fWuv1Mb9Cet/38zxrrYUQl8tlc/q8xYF3t9stxmitlVI2TUMM8OArhJA7McY8bgmUzfOcO/llEKZMjDGEgE6GopkEp5beEcnCi6rr2hgjpbTWokOYO1JKjEqttdZ6z4B/C4K/N8YAoaqquq5p9qBVVWWMARS8K4pZKSXvfQgBcORAg7fnvccLIJD1NKnneYaTSqmj03kZ/rz3KSVjDLxbt2qNrNf1/mh0WFmqCVBvTToF6ql/wqb0017p0DJfArXcxJwLtRNB8uEff91hspgsJovJYrKYAiaLyWKymCwmi8liCpgsJuun24ZuKBZnPflHgpTyCkUW+14P6mgmPX2yB0rtByWfsYmF3PBE39H2dNSXYQm2PRnw9pDy+ZFNkRXKh9a65OBcCBFjhJQCqJLjaQg8SimtNe2kO1MMq3Z6tyFYOOfu9ztE1uv1CqmOYFmMcRiGx+MhpWzbtus6gl6bldH7/T5NkzGm67osZRIkSOfc4/EIIVhru67bVGQ2RFbn3DAMQgggkpXREMLj8ZimCR82TXMUKs847/0wDBB4tNYENQxQMUbn3DiO+LGqKoxTymp44i2HrNOtRw1ao0XSt/960x6zjtW2Ld6htbaqKrKHSqmu69Dvug4BguZeVVVd1znnjDFN09CgUkpKqaZpEJGzdxsPrsesHJjLozJGPgJ8of4IKAjdhVC4CaCUgneiXGR96pDlzOVu6/dA7Z+Mas/gX7+QdmhT+nugnnj5FFgP7LO48XdDJovJYrKYLCaLG5PFZDFZTBaTxWRxY7KYrH/fjomsBGV0CZj7p2dUlkOdL7KWpEG+fRNH2+tTgKKlOz3hFImsOOqepinGaIwpyagUQszznBOdyPqj+Jt7BR0MiU5kKORe5USnTdLXpmFKaRzHvu8hGn59fVVVRTjthllIzhRCdF13vV7J8of3vu97iKyXy6VtW0JyphACGbE5OfN6vdZ1TZmGS0UTCZDTNOXsSsLIwggNIYQQnHOQeQjJmcjtxGDPQ5UWFvIIBVROQ6WshiAY6ZRSSmMM5g4t0AABilNOg6QlZwIBUIUmwTvgQFWjrIZ5YLdti3CDTFbyUoh7CfAN2j3ZybquL5dLTiin8Q6RFVM4hFDX9R4JeSPAAzevOGQ5M+NgaJAXxH8Elb0TPy6yvu5lxBkiK7kuh6CKrGbPiC2RMzMpy/tshcro0qSSHfnRDS2LrPzdkMlispgsJosbk8VkMVlMFpPFZHFjspgsJuvH264KuGi/UBkV/7cCrtlERE3KZaLM0ReSj+uQcFOSZgaopUklem0uJrozB2jjpBQ1YlFNsm3bPRLIW9Ihpo3jKIor4IYQcgXctm2NMTS+UEoSulxVVXuyKTdGVq4RC83WWkuzDCIryAohQFijpet672+3GxRpKSWtAi7Ics5lkRWyGCXAL8vNQhDNBWLJBSWhYuZEOhqIWKTiAZMWql+921MB16xHB1RoxjSkXVDAIyh8C2tQyJgAAicB5b3P1y8IVuUKuNZaFKI+oQIuJjbIyrme5BLZuAlAvhiSxxeglFI5QZpmErzLQaY0he613IQoFulK7nmdCCWOXxlT+4HOqllbUmf7RCjKboN1Q/66w2QxWUwWk8VkMQVMFpP10+0PkYYW21yANfwAAAAASUVORK5CYII=",tpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpaIVBzuoKGSo4mBBVMRRqlgEC6Wt0KqDyUt/hCYNSYqLo+BacPBnserg4qyrg6sgCP6AuLk5KbpIifclhRYxPri8j/PeOdx3HyDUSkw128YBVbOMZCwqZrIrYuAVXRii6seoxEw9nlpIw3N93cPH97sIz/K+9+fqVnImA3wi8SzTDYt4nXh609I57xOHWFFSiM+JxwxqkPiR67LLb5wLDgs8M2Skk3PEIWKx0MJyC7OioRJPEYcVVaN8IeOywnmLs1qqsEaf/IXBnLac4jrVIGJYRBwJiJBRwQZKsBChXSPFRJLOox7+AcefIJdMrg0wcsyjDBWS4wf/g9+zNfOTE25SMAq0v9j2xzAQ2AXqVdv+Prbt+gngfwautKa/XANmPkmvNrXwEdCzDVxcNzV5D7jcAfqedMmQHMlPJeTzwPsZfVMW6L0FOlfduTXOcfoApGlWSzfAwSEwUqDsNY93d7TO7d87jfn9AK6/cr+bPEwIAAAABmJLR0QAIwBPADgs5pzIAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QsdCxs2NScvIAAAAfxJREFUeNrt3MFuwjAMgGGnqsRl7/+MHBDaBEx0lGSHiRKaOLU30DT2+9QV7JaPtkT1mpBSEsIWHQRggQUWWGCBBQFYD4leGJTasZIEFKxYu+MZBSvW9jBhBRHXKfn1fm/Wb8Ud9rNf9SEr5928lmXZs/w9mnt1jVxWTptOykdIRWJjB5ZLheEUOb+sR0eMYJmxuJ/FoBQssMACCywIwAILLLDAAgsCsMACC6znjJ6bf/bgTqnnyIoRLDPWZk+T1Yy1O8ZLz06yflzZmMv7aLNX85VyW0pqK4Nep5Fluqrcr1St+vYwcshYscYz1yzzadgFsBg6MIIHCyywwCLAAgsssMACiwALLLDAAuufB01WR3Cn1HNkfdCwsGOtX8dau3D2pF4VNOiJ9ucHRUmU2wrGUo1EV6m8jkyJfbyehuVC9U/RtzRbKBOTMzHpidW9Wvws3jX5Sym8D7TvzRd4/jHEcc36I4+DM3RgBA8WARZYYIEFFlgEWGCBBRZYYBFggfW4oMnqwRJmwLVj7Ydo6KxVY7FdGGozhVqafbNNlImNUtouybdK3fYN12+nYkvGsDdf2ymLWD/5/ux7u1yqf1l1elr5eKs2be0styueUs23bS9VnaS2MXVuewbc9uEjyrd4XeDhTM+pxK8h4yywwAILLLAgAAsssMB6zvgE+J/bi7A/HTIAAAAASUVORK5CYII=",ipe=""+new URL("seyes-453f3e8c.png",import.meta.url).href,npe=""+new URL("quadrillage-c268c0d9.png",import.meta.url).href,spe=""+new URL("quadrillage-grand-aecada94.png",import.meta.url).href,rpe=""+new URL("quadrillage-gris-28dfcf07.png",import.meta.url).href,ope=""+new URL("quadrillage-gris-grand-eb8ce7cb.png",import.meta.url).href;const ape={name:"MParametres",components:{draggable:zh},data(){return{ouvert:!1,image:"",pixabayAPIKey:"",requete:"",resultats:{},pageResultats:1,confirmation:!1}},watch:{pageResultats:function(t){this.rechercher(t)}},created(){},mounted(){setTimeout((function(){this.ouvert=!0}).bind(this),10),document.querySelector("#couleur-fond-page").addEventListener("change",this.modifierCouleurFond)},beforeUnmount(){document.querySelector("#couleur-fond-page")&&document.querySelector("#couleur-fond-page").removeEventListener("change",this.modifierCouleurFond)},methods:{modifierLangue(t){this.$root.$i18n.locale=t,this.$parent.langue=t,document.getElementsByTagName("html")[0].setAttribute("lang",t),localStorage.setItem("digiscreen_lang",t)},modifierFond(t){const e=this.$parent.page-1;this.$parent.pages[e].fond=t},modifierCouleurFond(t){this.modifierFond(t.target.value)},valider(){this.requete!==""&&this.verifierURL(this.requete)===!0?this.modifierFond(this.requete):this.requete!==""&&this.rechercher(1)},rechercher(t){if(this.requete!==""){const e=this.requete.replace(/\s+/g,"+"),i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200){const n=JSON.parse(i.responseText);n&&n.total>0&&(this.resultats=n,this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})}))}}).bind(this),t===1&&(this.pageResultats=t),i.open("GET","https://pixabay.com/api/?key="+this.pixabayAPIKey+"&q="+e+"&image_type=photo&lang=fr&orientation=horizontal&safesearch=true&per_page=15&page="+t,!0),i.send()}},modifierPageResultats(t){t==="suivante"&&this.pageResultats<this.resultats.total/15?this.pageResultats++:t==="precedente"&&this.pageResultats>1&&this.pageResultats--},verifierRequete(){this.requete===""&&(this.resultats={},this.pageResultats=1)},televerserImage(t){const e=t.target.files[0];if(e){const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(n){const s=new Image;s.src=n.target.result,s.onload=(function(){if(s.width>1920){const r=document.createElement("canvas"),o=s.width/s.height,a=1920,l=1920/o;r.width=a,r.height=l,r.getContext("2d").drawImage(s,0,0,a,l),this.modifierFond(r.toDataURL("image/jpeg",.85))}else this.modifierFond(n.target.result)}).bind(this)}).bind(this)}},ajouterPage(){let t=this.$parent.pages.length;if(t<12){t++;let e="";switch(t){case 2:case 9:e="./static/img/lavande.jpg";break;case 3:case 10:e="./static/img/plage.jpg";break;case 4:case 11:e="./static/img/lac.jpg";break;case 5:case 12:e="./static/img/arbre.jpg";break;case 6:e="./static/img/aurore.jpg";break;case 7:e="./static/img/feuilles.jpg";break;case 8:e="./static/img/digitale.png";break}this.$parent.pages.push({fond:e,grille:{},annotations:{},annotation:!1})}},afficherPage(t){this.$parent.page=t},verifierPages(t){const e=this.$parent.panneaux;if(t.newIndex<t.oldIndex?e.forEach(function(i,n){i.page===t.oldIndex+1?e[n].page=t.newIndex+1:i.page>=t.newIndex+1&&i.page<=t.oldIndex+1&&(e[n].page=i.page+1)}):e.forEach(function(i,n){i.page===t.oldIndex+1?e[n].page=t.newIndex+1:i.page>=t.oldIndex+1&&i.page<=t.newIndex+1&&(e[n].page=i.page-1)}),this.$parent.panneaux=e,this.$parent.page===t.oldIndex+1)this.$parent.page=t.newIndex+1;else if(this.$parent.page===t.newIndex+1){this.$parent.chargementPage=!0,this.$parent.pages[this.$parent.page-1].annotation===!1?this.$parent.annotation=!1:this.$parent.annotation=!0,this.$parent.retroaction=!1,this.$parent.modalites=!1,this.$parent.panneauxPage.forEach(function(n){document.querySelector("#"+n.id)&&document.querySelector("#"+n.id).close()});const i=e.filter(function(n){return n.page===t.newIndex+1});yc("main",{background:!0},(function(){this.$parent.panneauxPage=[],setTimeout((function(){this.$parent.panneauxPage.push(...i);for(let n=0;n<this.$parent.panneauxPage.length;n++)this.$parent.panneauxPage[n].type==="retroaction"&&(this.$parent.retroaction=!0),this.$parent.panneauxPage[n].type==="modalites"&&(this.$parent.modalites=!0);yc("main",{background:!0},(function(){this.$parent.chargementPage=!1}).bind(this))}).bind(this),150)}).bind(this))}},afficherSupprimerPage(){this.$parent.pages.length>1&&(this.confirmation=!0)},supprimerPage(){this.confirmation=!1;const t=this.$parent.page-1,e=this.$parent.pages.length;this.$parent.pages.splice(t,1);const i=this.$parent.panneaux.filter((function(n){return n.page!==this.$parent.page}).bind(this));if(i.forEach((function(n){n.page>this.$parent.page&&(n.page=n.page-1)}).bind(this)),this.$parent.panneaux=i,t+1<e){this.$parent.chargementPage=!0,this.$parent.page=t+1,this.$parent.pages[this.$parent.page-1].annotation===!1?this.$parent.annotation=!1:this.$parent.annotation=!0,this.$parent.retroaction=!1,this.$parent.modalites=!1,this.$parent.panneauxPage.forEach(function(s){document.querySelector("#"+s.id)&&document.querySelector("#"+s.id).close()});const n=i.filter(function(s){return s.page===t+1});yc("main",{background:!0},(function(){this.$parent.panneauxPage=[],setTimeout((function(){this.$parent.panneauxPage.push(...n);for(let s=0;s<this.$parent.panneauxPage.length;s++)this.$parent.panneauxPage[s].type==="retroaction"&&(this.$parent.retroaction=!0),this.$parent.panneauxPage[s].type==="modalites"&&(this.$parent.modalites=!0);yc("main",{background:!0},(function(){this.$parent.chargementPage=!1}).bind(this))}).bind(this),150)}).bind(this))}else this.$parent.page=t},importer(t){this.$parent.importer(t),this.$parent.fermerMenu()},exporter(){this.$parent.exporter(),this.$parent.fermerMenu()},modifierModule(t){this.$parent.modifierModule(t)},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},verifierURL(t){let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"}}},lpe={class:"conteneur-menu"},upe={class:"titre"},cpe=d("i",{class:"material-icons"},"close",-1),Ape=[cpe],hpe={class:"conteneur"},dpe={class:"contenu"},fpe={class:"langue"},ppe={class:"fond"},gpe=d("img",{src:Kfe,alt:"Digitale"},null,-1),mpe=[gpe],vpe=d("img",{src:Wfe,alt:"Lavande"},null,-1),bpe=[vpe],ype=d("img",{src:qfe,alt:"Plage"},null,-1),wpe=[ype],_pe=d("img",{src:Yfe,alt:"Lac"},null,-1),Cpe=[_pe],Epe=d("img",{src:Xfe,alt:"Feuilles"},null,-1),Tpe=[Epe],xpe=d("img",{src:Jfe,alt:"Arbre"},null,-1),Spe=[xpe],Bpe=d("img",{src:Zfe,alt:"Aurore"},null,-1),kpe=[Bpe],Dpe=d("img",{src:epe,alt:"Points",style:{border:"1px solid #ddd"}},null,-1),Fpe=[Dpe],Ipe=d("img",{src:tpe,alt:"Lignes",style:{border:"1px solid #ddd"}},null,-1),Lpe=[Ipe],Ppe=d("img",{src:ipe,alt:"Seyes",style:{border:"1px solid #ddd"}},null,-1),Mpe=[Ppe],Rpe=d("img",{src:npe,alt:"Quadrillage",style:{border:"1px solid #ddd"}},null,-1),Ope=[Rpe],Upe=d("img",{src:spe,alt:"Quadrillage grand",style:{border:"1px solid #ddd"}},null,-1),Npe=[Upe],Hpe=d("img",{src:rpe,alt:"Quadrillage gris",style:{border:"1px solid #ddd"}},null,-1),Qpe=[Hpe],$pe=d("img",{src:ope,alt:"Quadrillage gris grand",style:{border:"1px solid #ddd"}},null,-1),jpe=[$pe],Vpe={class:"couleur-fond icone"},zpe=d("label",{for:"couleur-fond-page"},[d("i",{class:"material-icons"},"colorize")],-1),Gpe=["title"],Kpe={key:0,class:"recherche"},Wpe={class:"rechercher"},qpe=["value","placeholder"],Ype=["title"],Xpe=d("i",{class:"material-icons"},"search",-1),Jpe=[Xpe],Zpe=["title"],ege=d("i",{class:"material-icons"},"upload_file",-1),tge=[ege],ige={key:0,class:"resultats"},nge=["data-w","data-h","onClick"],sge=["src"],rge={key:1,class:"navigation"},oge={class:"pages"},age=["onClick"],lge=["title"],uge=d("i",{class:"material-icons"},"remove_circle_outline",-1),cge=[uge],Age=["title"],hge=d("i",{class:"material-icons"},"add_circle_outline",-1),dge=[hge],fge={for:"televerser",class:"bouton"},pge={class:"modules"},gge={class:"module"},mge={class:"interrupteur"},vge=["checked"],bge=d("span",{class:"curseur"},null,-1),yge={class:"module"},wge={class:"interrupteur"},_ge=["checked"],Cge=d("span",{class:"curseur"},null,-1),Ege={class:"module"},Tge={class:"interrupteur"},xge=["checked"],Sge=d("span",{class:"curseur"},null,-1),Bge={class:"module"},kge={class:"interrupteur"},Dge=["checked"],Fge=d("span",{class:"curseur"},null,-1),Ige={class:"module"},Lge={class:"interrupteur"},Pge=["checked"],Mge=d("span",{class:"curseur"},null,-1),Rge={class:"module"},Oge={class:"interrupteur"},Uge=["checked"],Nge=d("span",{class:"curseur"},null,-1),Hge={class:"module"},Qge={class:"interrupteur"},$ge=["checked"],jge=d("span",{class:"curseur"},null,-1),Vge={class:"module"},zge={class:"interrupteur"},Gge=["checked"],Kge=d("span",{class:"curseur"},null,-1),Wge={class:"module"},qge={class:"interrupteur"},Yge=["checked"],Xge=d("span",{class:"curseur"},null,-1),Jge={class:"module"},Zge={class:"interrupteur"},eme=["checked"],tme=d("span",{class:"curseur"},null,-1),ime={class:"module"},nme={class:"interrupteur"},sme=["checked"],rme=d("span",{class:"curseur"},null,-1),ome={class:"module"},ame={class:"interrupteur"},lme=["checked"],ume=d("span",{class:"curseur"},null,-1),cme={class:"module"},Ame={class:"interrupteur"},hme=["checked"],dme=d("span",{class:"curseur"},null,-1),fme={class:"module"},pme={class:"interrupteur"},gme=["checked"],mme=d("span",{class:"curseur"},null,-1),vme={class:"module"},bme={class:"interrupteur"},yme=["checked"],wme=d("span",{class:"curseur"},null,-1),_me={class:"module"},Cme={class:"interrupteur"},Eme=["checked"],Tme=d("span",{class:"curseur"},null,-1),xme={class:"module"},Sme={class:"interrupteur"},Bme=["checked"],kme=d("span",{class:"curseur"},null,-1),Dme={class:"module"},Fme={class:"interrupteur"},Ime=["checked"],Lme=d("span",{class:"curseur"},null,-1),Pme={class:"module"},Mme={class:"interrupteur"},Rme=["checked"],Ome=d("span",{class:"curseur"},null,-1),Ume={class:"module"},Nme={class:"interrupteur"},Hme=["checked"],Qme=d("span",{class:"curseur"},null,-1),$me={class:"module"},jme={class:"interrupteur"},Vme=["checked"],zme=d("span",{class:"curseur"},null,-1),Gme={class:"module"},Kme={class:"interrupteur"},Wme=["checked"],qme=d("span",{class:"curseur"},null,-1),Yme={class:"module"},Xme={class:"interrupteur"},Jme=["checked"],Zme=d("span",{class:"curseur"},null,-1),e0e={class:"module"},t0e={class:"interrupteur"},i0e=["checked"],n0e=d("span",{class:"curseur"},null,-1),s0e={class:"module"},r0e={class:"interrupteur"},o0e=["checked"],a0e=d("span",{class:"curseur"},null,-1),l0e={class:"module"},u0e={class:"interrupteur"},c0e=["checked"],A0e=d("span",{class:"curseur"},null,-1),h0e={class:"module"},d0e={class:"interrupteur"},f0e=["checked"],p0e=d("span",{class:"curseur"},null,-1),g0e={class:"module"},m0e={class:"interrupteur"},v0e=["checked"],b0e=d("span",{class:"curseur"},null,-1),y0e={class:"module"},w0e={class:"interrupteur"},_0e=["checked"],C0e=d("span",{class:"curseur"},null,-1),E0e={class:"module"},T0e={class:"interrupteur"},x0e=["checked"],S0e=d("span",{class:"curseur"},null,-1),B0e={class:"module"},k0e={class:"interrupteur"},D0e=["checked"],F0e=d("span",{class:"curseur"},null,-1),I0e={class:"module"},L0e={class:"interrupteur"},P0e=["checked"],M0e=d("span",{class:"curseur"},null,-1),R0e={class:"module"},O0e={class:"interrupteur"},U0e=["checked"],N0e=d("span",{class:"curseur"},null,-1),H0e={class:"module"},Q0e={class:"interrupteur"},$0e=["checked"],j0e=d("span",{class:"curseur"},null,-1),V0e={class:"module"},z0e={class:"interrupteur"},G0e=["checked"],K0e=d("span",{class:"curseur"},null,-1),W0e={key:0,id:"confirmation",class:"conteneur-modale"},q0e={class:"modale"},Y0e={class:"conteneur"},X0e={class:"contenu"},J0e=["innerHTML"],Z0e={class:"actions"};function eve(t,e,i,n,s,r){const o=Ke("draggable");return Y(),te("div",lpe,[d("div",{class:Ne(["menu",{ouvert:s.ouvert}])},[d("header",null,[d("span",upe,oe(t.$t("options")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...a)=>t.$parent.fermerMenu&&t.$parent.fermerMenu(...a))},Ape)]),d("div",hpe,[d("div",dpe,[d("label",null,oe(t.$t("langue")),1),d("div",fpe,[d("span",{class:Ne({selectionne:t.$parent.langue==="fr"}),onClick:e[1]||(e[1]=a=>r.modifierLangue("fr"))},"FR",2),d("span",{class:Ne({selectionne:t.$parent.langue==="es"}),onClick:e[2]||(e[2]=a=>r.modifierLangue("es"))},"ES",2),d("span",{class:Ne({selectionne:t.$parent.langue==="it"}),onClick:e[3]||(e[3]=a=>r.modifierLangue("it"))},"IT",2),d("span",{class:Ne({selectionne:t.$parent.langue==="de"}),onClick:e[4]||(e[4]=a=>r.modifierLangue("de"))},"DE",2),d("span",{class:Ne({selectionne:t.$parent.langue==="nl"}),onClick:e[5]||(e[5]=a=>r.modifierLangue("nl"))},"NL",2),d("span",{class:Ne({selectionne:t.$parent.langue==="hr"}),onClick:e[6]||(e[6]=a=>r.modifierLangue("hr"))},"HR",2),d("span",{class:Ne({selectionne:t.$parent.langue==="en"}),onClick:e[7]||(e[7]=a=>r.modifierLangue("en"))},"EN",2)]),d("label",null,oe(t.$t("arrierePlanPage")),1),d("div",ppe,[d("span",{onClick:e[8]||(e[8]=a=>r.modifierFond("./static/img/digitale.png"))},mpe),d("span",{onClick:e[9]||(e[9]=a=>r.modifierFond("./static/img/lavande.jpg"))},bpe),d("span",{onClick:e[10]||(e[10]=a=>r.modifierFond("./static/img/plage.jpg"))},wpe),d("span",{onClick:e[11]||(e[11]=a=>r.modifierFond("./static/img/lac.jpg"))},Cpe),d("span",{onClick:e[12]||(e[12]=a=>r.modifierFond("./static/img/feuilles.jpg"))},Tpe),d("span",{onClick:e[13]||(e[13]=a=>r.modifierFond("./static/img/arbre.jpg"))},Spe),d("span",{onClick:e[14]||(e[14]=a=>r.modifierFond("./static/img/aurore.jpg"))},kpe),d("span",{onClick:e[15]||(e[15]=a=>r.modifierFond("./static/img/points.png"))},Fpe),d("span",{onClick:e[16]||(e[16]=a=>r.modifierFond("./static/img/lignes-horizontales.png"))},Lpe),d("span",{onClick:e[17]||(e[17]=a=>r.modifierFond("./static/img/seyes.png"))},Mpe),d("span",{onClick:e[18]||(e[18]=a=>r.modifierFond("./static/img/quadrillage.png"))},Ope),d("span",{onClick:e[19]||(e[19]=a=>r.modifierFond("./static/img/quadrillage-grand.png"))},Npe),d("span",{onClick:e[20]||(e[20]=a=>r.modifierFond("./static/img/quadrillage-gris.png"))},Qpe),d("span",{onClick:e[21]||(e[21]=a=>r.modifierFond("./static/img/quadrillage-gris-grand.png"))},jpe),d("span",{class:"couleur-fond",onClick:e[22]||(e[22]=a=>r.modifierFond("#00ced1")),style:{"background-color":"#00ced1"}}),d("span",{class:"couleur-fond",onClick:e[23]||(e[23]=a=>r.modifierFond("#ff2d55")),style:{"background-color":"#ff2d55"}}),d("span",{class:"couleur-fond",onClick:e[24]||(e[24]=a=>r.modifierFond("#f7d000")),style:{"background-color":"#f7d000"}}),d("span",{class:"couleur-fond",onClick:e[25]||(e[25]=a=>r.modifierFond("#ffffff")),style:{"background-color":"#ffffff",border:"1px solid #ddd"}}),d("span",{class:"couleur-fond",onClick:e[26]||(e[26]=a=>r.modifierFond("#777777")),style:{"background-color":"#777777"}}),d("span",Vpe,[zpe,d("input",{type:"color",id:"couleur-fond-page",value:"#001d1d",title:t.$t("selectionnerCouleur")},null,8,Gpe)])]),s.pixabayAPIKey!==""?(Y(),te("div",Kpe,[d("div",Wpe,[d("input",{type:"text",value:s.requete,onInput:e[27]||(e[27]=a=>s.requete=a.target.value),onKeyup:e[28]||(e[28]=(...a)=>r.verifierRequete&&r.verifierRequete(...a)),onKeydown:e[29]||(e[29]=qo((...a)=>r.valider&&r.valider(...a),["enter"])),placeholder:t.$t("lienImageRecherche")},null,40,qpe),d("span",{role:"button",tabindex:"0",title:t.$t("rechercher"),class:"bouton-secondaire",onClick:e[30]||(e[30]=(...a)=>r.valider&&r.valider(...a))},Jpe,8,Ype),d("label",{for:"televerser-fond",title:t.$t("selectionnerImage"),class:"bouton-secondaire"},tge,8,Zpe),d("input",{id:"televerser-fond",type:"file",onChange:e[31]||(e[31]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,32)]),Object.keys(s.resultats).length>0?(Y(),te("div",ige,[(Y(!0),te(dt,null,ei(s.resultats.hits,(a,l)=>(Y(),te("div",{class:"item","data-w":a.previewWidth,"data-h":a.previewHeight,onClick:u=>r.modifierFond(a.previewURL.replace("_150","_1280")),key:"image_"+l},[d("img",{src:a.previewURL},null,8,sge)],8,nge))),128))])):De("",!0),Object.keys(s.resultats).length>0&&(s.pageResultats>1||s.pageResultats<s.resultats.total/15)?(Y(),te("div",rge,[d("span",{class:Ne({invisible:s.pageResultats<2}),onClick:e[32]||(e[32]=a=>r.modifierPageResultats("precedente"))},oe(t.$t("pagePrecedente")),3),d("span",{class:Ne({invisible:s.pageResultats>=s.resultats.total/15}),onClick:e[33]||(e[33]=a=>r.modifierPageResultats("suivante"))},oe(t.$t("pageSuivante")),3)])):De("",!0)])):De("",!0),d("label",null,oe(t.$t("pages")),1),d("div",oge,[Ct(o,{modelValue:t.$parent.pages,"onUpdate:modelValue":e[34]||(e[34]=a=>t.$parent.pages=a),onSort:r.verifierPages},{default:Et(()=>[(Y(!0),te(dt,null,ei(t.$parent.pages,(a,l)=>(Y(),te("span",{class:Ne(["page",{selectionne:t.$parent.page===l+1}]),onClick:u=>r.afficherPage(l+1),key:"page_"+l},oe(l+1),11,age))),128))]),_:1},8,["modelValue","onSort"]),t.$parent.pages.length>1?(Y(),te("span",{key:0,role:"button",tabindex:"0",title:t.$t("supprimerPage"),class:"bouton-secondaire visible",onClick:e[35]||(e[35]=(...a)=>r.afficherSupprimerPage&&r.afficherSupprimerPage(...a))},cge,8,lge)):De("",!0),d("span",{role:"button",tabindex:"0",title:t.$t("ajouterPage"),class:Ne(["bouton-secondaire",{visible:t.$parent.pages.length<12,invisible:t.$parent.pages.length>11}]),onClick:e[36]||(e[36]=(...a)=>r.ajouterPage&&r.ajouterPage(...a))},dge,10,Age)]),d("label",null,oe(t.$t("exporter")),1),d("span",{role:"button",tabindex:"0",class:"bouton",onClick:e[37]||(e[37]=(...a)=>r.exporter&&r.exporter(...a))},oe(t.$t("exporterEcran")),1),d("label",null,oe(t.$t("importer")),1),d("label",fge,oe(t.$t("importerEcran")),1),d("input",{id:"televerser",type:"file",style:{display:"none"},accept:".dgb, .dgs",onChange:e[38]||(e[38]=(...a)=>r.importer&&r.importer(...a))},null,32),d("label",null,oe(t.$t("modules")),1),d("div",pge,[d("div",gge,[d("span",null,oe(t.$t("codeqr")),1),d("label",mge,[d("input",{type:"checkbox",value:"codeqr",checked:t.$parent.modules.includes("codeqr"),onChange:e[39]||(e[39]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,vge),bge])]),d("div",yge,[d("span",null,oe(t.$t("texte")),1),d("label",wge,[d("input",{type:"checkbox",value:"texte",checked:t.$parent.modules.includes("texte"),onChange:e[40]||(e[40]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,_ge),Cge])]),d("div",Ege,[d("span",null,oe(t.$t("tableau")),1),d("label",Tge,[d("input",{type:"checkbox",value:"tableau",checked:t.$parent.modules.includes("tableau"),onChange:e[41]||(e[41]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,xge),Sge])]),d("div",Bge,[d("span",null,oe(t.$t("image")),1),d("label",kge,[d("input",{type:"checkbox",value:"image",checked:t.$parent.modules.includes("image"),onChange:e[42]||(e[42]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Dge),Fge])]),d("div",Ige,[d("span",null,oe(t.$t("galerieImages")),1),d("label",Lge,[d("input",{type:"checkbox",value:"galerie",checked:t.$parent.modules.includes("galerie"),onChange:e[43]||(e[43]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Pge),Mge])]),d("div",Rge,[d("span",null,oe(t.$t("dessin")),1),d("label",Oge,[d("input",{type:"checkbox",value:"dessin",checked:t.$parent.modules.includes("dessin"),onChange:e[44]||(e[44]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Uge),Nge])]),d("div",Hge,[d("span",null,oe(t.$t("document")),1),d("label",Qge,[d("input",{type:"checkbox",value:"document",checked:t.$parent.modules.includes("document"),onChange:e[45]||(e[45]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,$ge),jge])]),d("div",Vge,[d("span",null,oe(t.$t("audio")),1),d("label",zge,[d("input",{type:"checkbox",value:"audio",checked:t.$parent.modules.includes("audio"),onChange:e[46]||(e[46]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Gge),Kge])]),d("div",Wge,[d("span",null,oe(t.$t("syntheseVocale")),1),d("label",qge,[d("input",{type:"checkbox",value:"synthese",checked:t.$parent.modules.includes("synthese"),onChange:e[47]||(e[47]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Yge),Xge])]),d("div",Jge,[d("span",null,oe(t.$t("video")),1),d("label",Zge,[d("input",{type:"checkbox",value:"video",checked:t.$parent.modules.includes("video"),onChange:e[48]||(e[48]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,eme),tme])]),d("div",ime,[d("span",null,oe(t.$t("webcam")),1),d("label",nme,[d("input",{type:"checkbox",value:"webcam",checked:t.$parent.modules.includes("webcam"),onChange:e[49]||(e[49]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,sme),rme])]),d("div",ome,[d("span",null,oe(t.$t("lien")),1),d("label",ame,[d("input",{type:"checkbox",value:"lien",checked:t.$parent.modules.includes("lien"),onChange:e[50]||(e[50]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,lme),ume])]),d("div",cme,[d("span",null,oe(t.$t("contenuIntegre")),1),d("label",Ame,[d("input",{type:"checkbox",value:"iframe",checked:t.$parent.modules.includes("iframe"),onChange:e[51]||(e[51]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,hme),dme])]),d("div",fme,[d("span",null,oe(t.$t("nuageMots")),1),d("label",pme,[d("input",{type:"checkbox",value:"nuage",checked:t.$parent.modules.includes("nuage"),onChange:e[52]||(e[52]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,gme),mme])]),d("div",vme,[d("span",null,oe(t.$t("remiseOrdre")),1),d("label",bme,[d("input",{type:"checkbox",value:"ordre",checked:t.$parent.modules.includes("ordre"),onChange:e[53]||(e[53]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,yme),wme])]),d("div",_me,[d("span",null,oe(t.$t("imagesSequentielles")),1),d("label",Cme,[d("input",{type:"checkbox",value:"images-sequentielles",checked:t.$parent.modules.includes("images-sequentielles"),onChange:e[54]||(e[54]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Eme),Tme])]),d("div",xme,[d("span",null,oe(t.$t("texteATrous")),1),d("label",Sme,[d("input",{type:"checkbox",value:"trous",checked:t.$parent.modules.includes("trous"),onChange:e[55]||(e[55]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Bme),kme])]),d("div",Dme,[d("span",null,oe(t.$t("surlignage")),1),d("label",Fme,[d("input",{type:"checkbox",value:"surlignage",checked:t.$parent.modules.includes("surlignage"),onChange:e[56]||(e[56]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Ime),Lme])]),d("div",Pme,[d("span",null,oe(t.$t("pendu")),1),d("label",Mme,[d("input",{type:"checkbox",value:"pendu",checked:t.$parent.modules.includes("pendu"),onChange:e[57]||(e[57]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Rme),Ome])]),d("div",Ume,[d("span",null,oe(t.$t("cartes")),1),d("label",Nme,[d("input",{type:"checkbox",value:"cartes",checked:t.$parent.modules.includes("cartes"),onChange:e[58]||(e[58]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Hme),Qme])]),d("div",$me,[d("span",null,oe(t.$t("tirageSortTexte")),1),d("label",jme,[d("input",{type:"checkbox",value:"tirage-texte",checked:t.$parent.modules.includes("tirage-texte"),onChange:e[59]||(e[59]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Vme),zme])]),d("div",Gme,[d("span",null,oe(t.$t("tirageSortImage")),1),d("label",Kme,[d("input",{type:"checkbox",value:"tirage-image",checked:t.$parent.modules.includes("tirage-image"),onChange:e[60]||(e[60]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Wme),qme])]),d("div",Yme,[d("span",null,oe(t.$t("tirageSortAudio")),1),d("label",Xme,[d("input",{type:"checkbox",value:"tirage-audio",checked:t.$parent.modules.includes("tirage-audio"),onChange:e[61]||(e[61]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Jme),Zme])]),d("div",e0e,[d("span",null,oe(t.$t("histoire")),1),d("label",t0e,[d("input",{type:"checkbox",value:"histoire",checked:t.$parent.modules.includes("histoire"),onChange:e[62]||(e[62]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,i0e),n0e])]),d("div",s0e,[d("span",null,oe(t.$t("plateauJeu")),1),d("label",r0e,[d("input",{type:"checkbox",value:"plateau",checked:t.$parent.modules.includes("plateau"),onChange:e[63]||(e[63]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,o0e),a0e])]),d("div",l0e,[d("span",null,oe(t.$t("des")),1),d("label",u0e,[d("input",{type:"checkbox",value:"des",checked:t.$parent.modules.includes("des"),onChange:e[64]||(e[64]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,c0e),A0e])]),d("div",h0e,[d("span",null,oe(t.$t("modalitesTravail")),1),d("label",d0e,[d("input",{type:"checkbox",value:"modalites",checked:t.$parent.modules.includes("modalites"),onChange:e[65]||(e[65]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,f0e),p0e])]),d("div",g0e,[d("span",null,oe(t.$t("groupes")),1),d("label",m0e,[d("input",{type:"checkbox",value:"groupes",checked:t.$parent.modules.includes("groupes"),onChange:e[66]||(e[66]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,v0e),b0e])]),d("div",y0e,[d("span",null,oe(t.$t("chronometre")),1),d("label",w0e,[d("input",{type:"checkbox",value:"chrono",checked:t.$parent.modules.includes("chrono"),onChange:e[67]||(e[67]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,_0e),C0e])]),d("div",E0e,[d("span",null,oe(t.$t("compteRebours")),1),d("label",T0e,[d("input",{type:"checkbox",value:"rebours",checked:t.$parent.modules.includes("rebours"),onChange:e[68]||(e[68]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,x0e),S0e])]),d("div",B0e,[d("span",null,oe(t.$t("horloge")),1),d("label",k0e,[d("input",{type:"checkbox",value:"horloge",checked:t.$parent.modules.includes("horloge"),onChange:e[69]||(e[69]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,D0e),F0e])]),d("div",I0e,[d("span",null,oe(t.$t("calendrier")),1),d("label",L0e,[d("input",{type:"checkbox",value:"calendrier",checked:t.$parent.modules.includes("calendrier"),onChange:e[70]||(e[70]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,P0e),M0e])]),d("div",R0e,[d("span",null,oe(t.$t("sonometre")),1),d("label",O0e,[d("input",{type:"checkbox",value:"sonometre",checked:t.$parent.modules.includes("sonometre"),onChange:e[71]||(e[71]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,U0e),N0e])]),d("div",H0e,[d("span",null,oe(t.$t("retroaction")),1),d("label",Q0e,[d("input",{type:"checkbox",value:"retroaction",checked:t.$parent.modules.includes("retroaction"),onChange:e[72]||(e[72]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,$0e),j0e])]),d("div",V0e,[d("span",null,oe(t.$t("grille")),1),d("label",z0e,[d("input",{type:"checkbox",value:"grille",checked:t.$parent.modules.includes("grille"),onChange:e[73]||(e[73]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,G0e),K0e])])])])])],2),s.confirmation?(Y(),te("div",W0e,[d("div",q0e,[d("div",Y0e,[d("div",X0e,[d("p",{innerHTML:t.$t("confirmationSuppressionPage",{page:t.$parent.page})},null,8,J0e),d("div",Z0e,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[74]||(e[74]=a=>s.confirmation=!1)},oe(t.$t("annuler")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[75]||(e[75]=(...a)=>r.supprimerPage&&r.supprimerPage(...a))},oe(t.$t("valider")),1)])])])])])):De("",!0)])}const tve=Ht(ape,[["render",eve]]);var O0={exports:{}},Dd={},lw={},uw={},FB;function Kt(){return FB||(FB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Xi<"u"?Xi:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.2.3",isBrowser:i(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const n=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=n,t.Konva._injectGlobal(t.Konva)}(uw)),uw}var cw={},IB;function on(){return IB||(IB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Kt();class i{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){var B=this.m;return{x:B[0]*_.x+B[2]*_.y+B[4],y:B[1]*_.x+B[3]*_.y+B[5]}}translate(_,B){return this.m[4]+=this.m[0]*_+this.m[2]*B,this.m[5]+=this.m[1]*_+this.m[3]*B,this}scale(_,B){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=B,this.m[3]*=B,this}rotate(_){var B=Math.cos(_),L=Math.sin(_),j=this.m[0]*B+this.m[2]*L,O=this.m[1]*B+this.m[3]*L,Q=this.m[0]*-L+this.m[2]*B,$=this.m[1]*-L+this.m[3]*B;return this.m[0]=j,this.m[1]=O,this.m[2]=Q,this.m[3]=$,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,B){var L=this.m[0]+this.m[2]*B,j=this.m[1]+this.m[3]*B,O=this.m[2]+this.m[0]*_,Q=this.m[3]+this.m[1]*_;return this.m[0]=L,this.m[1]=j,this.m[2]=O,this.m[3]=Q,this}multiply(_){var B=this.m[0]*_.m[0]+this.m[2]*_.m[1],L=this.m[1]*_.m[0]+this.m[3]*_.m[1],j=this.m[0]*_.m[2]+this.m[2]*_.m[3],O=this.m[1]*_.m[2]+this.m[3]*_.m[3],Q=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],$=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=B,this.m[1]=L,this.m[2]=j,this.m[3]=O,this.m[4]=Q,this.m[5]=$,this}invert(){var _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),B=this.m[3]*_,L=-this.m[1]*_,j=-this.m[2]*_,O=this.m[0]*_,Q=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),$=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=B,this.m[1]=L,this.m[2]=j,this.m[3]=O,this.m[4]=Q,this.m[5]=$,this}getMatrix(){return this.m}decompose(){var _=this.m[0],B=this.m[1],L=this.m[2],j=this.m[3],O=this.m[4],Q=this.m[5],$=_*j-B*L;let D={x:O,y:Q,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||B!=0){var U=Math.sqrt(_*_+B*B);D.rotation=B>0?Math.acos(_/U):-Math.acos(_/U),D.scaleX=U,D.scaleY=$/U,D.skewX=(_*L+B*j)/$,D.skewY=0}else if(L!=0||j!=0){var S=Math.sqrt(L*L+j*j);D.rotation=Math.PI/2-(j>0?Math.acos(-L/S):-Math.acos(L/S)),D.scaleX=$/S,D.scaleY=S,D.skewX=0,D.skewY=(_*L+B*j)/$}return D.rotation=t.Util._getRotation(D.rotation),D}}t.Transform=i;var n="[object Array]",s="[object Number]",r="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,u="#",c="",A="0",h="Konva warning: ",g="Konva error: ",f="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,C=[];const m=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)};t.Util={_isElement(b){return!!(b&&b.nodeType==1)},_isFunction(b){return!!(b&&b.constructor&&b.call&&b.apply)},_isPlainObject(b){return!!b&&b.constructor===Object},_isArray(b){return Object.prototype.toString.call(b)===n},_isNumber(b){return Object.prototype.toString.call(b)===s&&!isNaN(b)&&isFinite(b)},_isString(b){return Object.prototype.toString.call(b)===r},_isBoolean(b){return Object.prototype.toString.call(b)===o},isObject(b){return b instanceof Object},isValidSelector(b){if(typeof b!="string")return!1;var _=b[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(b){return b===0||b>0?1:-1},requestAnimFrame(b){C.push(b),C.length===1&&m(function(){const _=C;C=[],_.forEach(function(B){B()})})},createCanvasElement(){var b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement(){return document.createElement("img")},_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,_){var B=t.Util.createImageElement();B.onload=function(){_(B)},B.src=b},_rgbToHex(b,_,B){return((1<<24)+(b<<16)+(_<<8)+B).toString(16).slice(1)},_hexToRgb(b){b=b.replace(u,c);var _=parseInt(b,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){for(var b=(Math.random()*16777215<<0).toString(16);b.length<6;)b=A+b;return u+b},getRGB(b){var _;return b in y?(_=y[b],{r:_[0],g:_[1],b:_[2]}):b[0]===u?this._hexToRgb(b.substring(1)):b.substr(0,4)===f?(_=E.exec(b.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(b){return b=b||"black",t.Util._namedColorToRBA(b)||t.Util._hex3ColorToRGBA(b)||t.Util._hex4ColorToRGBA(b)||t.Util._hex6ColorToRGBA(b)||t.Util._hex8ColorToRGBA(b)||t.Util._rgbColorToRGBA(b)||t.Util._rgbaColorToRGBA(b)||t.Util._hslColorToRGBA(b)},_namedColorToRBA(b){var _=y[b.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(b){if(b.indexOf("rgb(")===0){b=b.match(/rgb\(([^)]+)\)/)[1];var _=b.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(b){if(b.indexOf("rgba(")===0){b=b.match(/rgba\(([^)]+)\)/)[1];var _=b.split(/ *, */).map((B,L)=>B.slice(-1)==="%"?L===3?parseInt(B)/100:parseInt(B)/100*255:Number(B));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(b){if(b[0]==="#"&&b.length===9)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:parseInt(b.slice(7,9),16)/255}},_hex6ColorToRGBA(b){if(b[0]==="#"&&b.length===7)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex4ColorToRGBA(b){if(b[0]==="#"&&b.length===5)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:parseInt(b[4]+b[4],16)/255}},_hex3ColorToRGBA(b){if(b[0]==="#"&&b.length===4)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[_,...B]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),L=Number(B[0])/360,j=Number(B[1])/100,O=Number(B[2])/100;let Q,$,D;if(j===0)return D=O*255,{r:Math.round(D),g:Math.round(D),b:Math.round(D),a:1};O<.5?Q=O*(1+j):Q=O+j-O*j;const U=2*O-Q,S=[0,0,0];for(let k=0;k<3;k++)$=L+1/3*-(k-1),$<0&&$++,$>1&&$--,6*$<1?D=U+(Q-U)*6*$:2*$<1?D=Q:3*$<2?D=U+(Q-U)*(2/3-$)*6:D=U,S[k]=D*255;return{r:Math.round(S[0]),g:Math.round(S[1]),b:Math.round(S[2]),a:1}}},haveIntersection(b,_){return!(_.x>b.x+b.width||_.x+_.width<b.x||_.y>b.y+b.height||_.y+_.height<b.y)},cloneObject(b){var _={};for(var B in b)this._isPlainObject(b[B])?_[B]=this.cloneObject(b[B]):this._isArray(b[B])?_[B]=this.cloneArray(b[B]):_[B]=b[B];return _},cloneArray(b){return b.slice(0)},degToRad(b){return b*a},radToDeg(b){return b*l},_degToRad(b){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(b)},_radToDeg(b){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(b)},_getRotation(b){return e.Konva.angleDeg?t.Util.radToDeg(b):b},_capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)},throw(b){throw new Error(g+b)},error(b){console.error(g+b)},warn(b){e.Konva.showWarnings&&console.warn(h+b)},each(b,_){for(var B in b)_(B,b[B])},_inRange(b,_,B){return _<=b&&b<B},_getProjectionToSegment(b,_,B,L,j,O){var Q,$,D,U=(b-B)*(b-B)+(_-L)*(_-L);if(U==0)Q=b,$=_,D=(j-B)*(j-B)+(O-L)*(O-L);else{var S=((j-b)*(B-b)+(O-_)*(L-_))/U;S<0?(Q=b,$=_,D=(b-j)*(b-j)+(_-O)*(_-O)):S>1?(Q=B,$=L,D=(B-j)*(B-j)+(L-O)*(L-O)):(Q=b+S*(B-b),$=_+S*(L-_),D=(Q-j)*(Q-j)+($-O)*($-O))}return[Q,$,D]},_getProjectionToLine(b,_,B){var L=t.Util.cloneObject(b),j=Number.MAX_VALUE;return _.forEach(function(O,Q){if(!(!B&&Q===_.length-1)){var $=_[(Q+1)%_.length],D=t.Util._getProjectionToSegment(O.x,O.y,$.x,$.y,b.x,b.y),U=D[0],S=D[1],k=D[2];k<j&&(L.x=U,L.y=S,j=k)}}),L},_prepareArrayForTween(b,_,B){var L,j=[],O=[];if(b.length>_.length){var Q=_;_=b,b=Q}for(L=0;L<b.length;L+=2)j.push({x:b[L],y:b[L+1]});for(L=0;L<_.length;L+=2)O.push({x:_[L],y:_[L+1]});var $=[];return O.forEach(function(D){var U=t.Util._getProjectionToLine(D,j,B);$.push(U.x),$.push(U.y)}),$},_prepareToStringify(b){var _;b.visitedByCircularReferenceRemoval=!0;for(var B in b)if(b.hasOwnProperty(B)&&b[B]&&typeof b[B]=="object"){if(_=Object.getOwnPropertyDescriptor(b,B),b[B].visitedByCircularReferenceRemoval||t.Util._isElement(b[B]))if(_.configurable)delete b[B];else return null;else if(t.Util._prepareToStringify(b[B])===null)if(_.configurable)delete b[B];else return null}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,_){for(var B in _)b[B]=_[B];return b},_getFirstPointerId(b){return b.touches?b.changedTouches[0].identifier:b.pointerId||999},releaseCanvas(...b){e.Konva.releaseCanvasOnDestroy&&b.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(b,_,B,L){let j=0,O=0,Q=0,$=0;typeof L=="number"?j=O=Q=$=Math.min(L,_/2,B/2):(j=Math.min(L[0]||0,_/2,B/2),O=Math.min(L[1]||0,_/2,B/2),$=Math.min(L[2]||0,_/2,B/2),Q=Math.min(L[3]||0,_/2,B/2)),b.moveTo(j,0),b.lineTo(_-O,0),b.arc(_-O,O,O,Math.PI*3/2,0,!1),b.lineTo(_,B-$),b.arc(_-$,B-$,$,0,Math.PI/2,!1),b.lineTo(Q,B),b.arc(Q,B-Q,Q,Math.PI/2,Math.PI,!1),b.lineTo(0,j),b.arc(j,j,j,Math.PI,Math.PI*3/2,!1)}}}(cw)),cw}var Fd={},Aw={},Mi={},LB;function Wt(){if(LB)return Mi;LB=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.getComponentValidator=Mi.getBooleanValidator=Mi.getNumberArrayValidator=Mi.getFunctionValidator=Mi.getStringOrGradientValidator=Mi.getStringValidator=Mi.getNumberOrAutoValidator=Mi.getNumberOrArrayOfNumbersValidator=Mi.getNumberValidator=Mi.alphaComponent=Mi.RGBComponent=void 0;const t=Kt(),e=on();function i(f){return e.Util._isString(f)?'"'+f+'"':Object.prototype.toString.call(f)==="[object Number]"||e.Util._isBoolean(f)?f:Object.prototype.toString.call(f)}function n(f){return f>255?255:f<0?0:Math.round(f)}Mi.RGBComponent=n;function s(f){return f>1?1:f<1e-4?1e-4:f}Mi.alphaComponent=s;function r(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isNumber(f)||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),f}}Mi.getNumberValidator=r;function o(f){if(t.Konva.isUnminified)return function(y,E){let C=e.Util._isNumber(y),m=e.Util._isArray(y)&&y.length==f;return!C&&!m&&e.Util.warn(i(y)+' is a not valid value for "'+E+'" attribute. The value should be a number or Array<number>('+f+")"),y}}Mi.getNumberOrArrayOfNumbersValidator=o;function a(){if(t.Konva.isUnminified)return function(f,y){var E=e.Util._isNumber(f),C=f==="auto";return E||C||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),f}}Mi.getNumberOrAutoValidator=a;function l(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isString(f)||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),f}}Mi.getStringValidator=l;function u(){if(t.Konva.isUnminified)return function(f,y){const E=e.Util._isString(f),C=Object.prototype.toString.call(f)==="[object CanvasGradient]"||f&&f.addColorStop;return E||C||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),f}}Mi.getStringOrGradientValidator=u;function c(){if(t.Konva.isUnminified)return function(f,y){return e.Util._isFunction(f)||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),f}}Mi.getFunctionValidator=c;function A(){if(t.Konva.isUnminified)return function(f,y){const E=Int8Array?Object.getPrototypeOf(Int8Array):null;return E&&f instanceof E||(e.Util._isArray(f)?f.forEach(function(C){e.Util._isNumber(C)||e.Util.warn('"'+y+'" attribute has non numeric element '+C+". Make sure that all elements are numbers.")}):e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),f}}Mi.getNumberArrayValidator=A;function h(){if(t.Konva.isUnminified)return function(f,y){var E=f===!0||f===!1;return E||e.Util.warn(i(f)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),f}}Mi.getBooleanValidator=h;function g(f){if(t.Konva.isUnminified)return function(y,E){return y==null||e.Util.isObject(y)||e.Util.warn(i(y)+' is a not valid value for "'+E+'" attribute. The value should be an object with properties '+f),y}}return Mi.getComponentValidator=g,Mi}var PB;function Gt(){return PB||(PB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=on(),i=Wt();var n="get",s="set";t.Factory={addGetterSetter(r,o,a,l,u){t.Factory.addGetter(r,o,a),t.Factory.addSetter(r,o,l,u),t.Factory.addOverloadedGetterSetter(r,o)},addGetter(r,o,a){var l=n+e.Util._capitalize(o);r.prototype[l]=r.prototype[l]||function(){var u=this.attrs[o];return u===void 0?a:u}},addSetter(r,o,a,l){var u=s+e.Util._capitalize(o);r.prototype[u]||t.Factory.overWriteSetter(r,o,a,l)},overWriteSetter(r,o,a,l){var u=s+e.Util._capitalize(o);r.prototype[u]=function(c){return a&&c!==void 0&&c!==null&&(c=a.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(r,o,a,l,u){var c=a.length,A=e.Util._capitalize,h=n+A(o),g=s+A(o),f,y;r.prototype[h]=function(){var C={};for(f=0;f<c;f++)y=a[f],C[y]=this.getAttr(o+A(y));return C};var E=(0,i.getComponentValidator)(a);r.prototype[g]=function(C){var m=this.attrs[o],b;l&&(C=l.call(this,C)),E&&E.call(this,C,o);for(b in C)C.hasOwnProperty(b)&&this._setAttr(o+A(b),C[b]);return C||a.forEach(_=>{this._setAttr(o+A(_),void 0)}),this._fireChangeEvent(o,m,C),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(r,o)},addOverloadedGetterSetter(r,o){var a=e.Util._capitalize(o),l=s+a,u=n+a;r.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(r,o,a,l){e.Util.error("Adding deprecated "+o);var u=n+e.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";r.prototype[u]=function(){e.Util.error(c);var A=this.attrs[o];return A===void 0?a:A},t.Factory.addSetter(r,o,l,function(){e.Util.error(c)}),t.Factory.addOverloadedGetterSetter(r,o)},backCompat(r,o){e.Util.each(o,function(a,l){var u=r.prototype[l],c=n+e.Util._capitalize(a),A=s+e.Util._capitalize(a);function h(){u.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}r.prototype[a]=h,r.prototype[c]=h,r.prototype[A]=h})},afterSetFilter(){this._filterUpToDate=!1}}}(Aw)),Aw}var Sa={},Ba={},MB;function NP(){if(MB)return Ba;MB=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.HitContext=Ba.SceneContext=Ba.Context=void 0;const t=on(),e=Kt();function i(C){var m=[],b=C.length,_=t.Util,B,L;for(B=0;B<b;B++)L=C[B],_._isNumber(L)?L=Math.round(L*1e3)/1e3:_._isString(L)||(L=L+""),m.push(L);return m}var n=",",s="(",r=")",o="([",a="])",l=";",u="()",c="=",A=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const g=100;class f{constructor(m){this.canvas=m,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(m){m.fillEnabled()&&this._fill(m)}_fill(m){}strokeShape(m){m.hasStroke()&&this._stroke(m)}_stroke(m){}fillStrokeShape(m){m.attrs.fillAfterStrokeEnabled?(this.strokeShape(m),this.fillShape(m)):(this.fillShape(m),this.strokeShape(m))}getTrace(m,b){var _=this.traceArr,B=_.length,L="",j,O,Q,$;for(j=0;j<B;j++)O=_[j],Q=O.method,Q?($=O.args,L+=Q,m?L+=u:t.Util._isArray($[0])?L+=o+$.join(n)+a:(b&&($=$.map(D=>typeof D=="number"?Math.floor(D):D)),L+=s+$.join(n)+r)):(L+=O.property,m||(L+=c+O.val)),L+=l;return L}clearTrace(){this.traceArr=[]}_trace(m){var b=this.traceArr,_;b.push(m),_=b.length,_>=g&&b.shift()}reset(){var m=this.getCanvas().getPixelRatio();this.setTransform(1*m,0,0,1*m,0,0)}getCanvas(){return this.canvas}clear(m){var b=this.getCanvas();m?this.clearRect(m.x||0,m.y||0,m.width||0,m.height||0):this.clearRect(0,0,b.getWidth()/b.pixelRatio,b.getHeight()/b.pixelRatio)}_applyLineCap(m){const b=m.attrs.lineCap;b&&this.setAttr("lineCap",b)}_applyOpacity(m){var b=m.getAbsoluteOpacity();b!==1&&this.setAttr("globalAlpha",b)}_applyLineJoin(m){const b=m.attrs.lineJoin;b&&this.setAttr("lineJoin",b)}setAttr(m,b){this._context[m]=b}arc(m,b,_,B,L,j){this._context.arc(m,b,_,B,L,j)}arcTo(m,b,_,B,L){this._context.arcTo(m,b,_,B,L)}beginPath(){this._context.beginPath()}bezierCurveTo(m,b,_,B,L,j){this._context.bezierCurveTo(m,b,_,B,L,j)}clearRect(m,b,_,B){this._context.clearRect(m,b,_,B)}clip(...m){this._context.clip.apply(this._context,m)}closePath(){this._context.closePath()}createImageData(m,b){var _=arguments;if(_.length===2)return this._context.createImageData(m,b);if(_.length===1)return this._context.createImageData(m)}createLinearGradient(m,b,_,B){return this._context.createLinearGradient(m,b,_,B)}createPattern(m,b){return this._context.createPattern(m,b)}createRadialGradient(m,b,_,B,L,j){return this._context.createRadialGradient(m,b,_,B,L,j)}drawImage(m,b,_,B,L,j,O,Q,$){var D=arguments,U=this._context;D.length===3?U.drawImage(m,b,_):D.length===5?U.drawImage(m,b,_,B,L):D.length===9&&U.drawImage(m,b,_,B,L,j,O,Q,$)}ellipse(m,b,_,B,L,j,O,Q){this._context.ellipse(m,b,_,B,L,j,O,Q)}isPointInPath(m,b,_,B){return _?this._context.isPointInPath(_,m,b,B):this._context.isPointInPath(m,b,B)}fill(...m){this._context.fill.apply(this._context,m)}fillRect(m,b,_,B){this._context.fillRect(m,b,_,B)}strokeRect(m,b,_,B){this._context.strokeRect(m,b,_,B)}fillText(m,b,_,B){B?this._context.fillText(m,b,_,B):this._context.fillText(m,b,_)}measureText(m){return this._context.measureText(m)}getImageData(m,b,_,B){return this._context.getImageData(m,b,_,B)}lineTo(m,b){this._context.lineTo(m,b)}moveTo(m,b){this._context.moveTo(m,b)}rect(m,b,_,B){this._context.rect(m,b,_,B)}putImageData(m,b,_){this._context.putImageData(m,b,_)}quadraticCurveTo(m,b,_,B){this._context.quadraticCurveTo(m,b,_,B)}restore(){this._context.restore()}rotate(m){this._context.rotate(m)}save(){this._context.save()}scale(m,b){this._context.scale(m,b)}setLineDash(m){this._context.setLineDash?this._context.setLineDash(m):"mozDash"in this._context?this._context.mozDash=m:"webkitLineDash"in this._context&&(this._context.webkitLineDash=m)}getLineDash(){return this._context.getLineDash()}setTransform(m,b,_,B,L,j){this._context.setTransform(m,b,_,B,L,j)}stroke(m){m?this._context.stroke(m):this._context.stroke()}strokeText(m,b,_,B){this._context.strokeText(m,b,_,B)}transform(m,b,_,B,L,j){this._context.transform(m,b,_,B,L,j)}translate(m,b){this._context.translate(m,b)}_enableTrace(){var m=this,b=A.length,_=this.setAttr,B,L,j=function(O){var Q=m[O],$;m[O]=function(){return L=i(Array.prototype.slice.call(arguments,0)),$=Q.apply(m,arguments),m._trace({method:O,args:L}),$}};for(B=0;B<b;B++)j(A[B]);m.setAttr=function(){_.apply(m,arguments);var O=arguments[0],Q=arguments[1];(O==="shadowOffsetX"||O==="shadowOffsetY"||O==="shadowBlur")&&(Q=Q/this.canvas.getPixelRatio()),m._trace({property:O,val:Q})}}_applyGlobalCompositeOperation(m){const b=m.attrs.globalCompositeOperation;var _=!b||b==="source-over";_||this.setAttr("globalCompositeOperation",b)}}Ba.Context=f,h.forEach(function(C){Object.defineProperty(f.prototype,C,{get(){return this._context[C]},set(m){this._context[C]=m}})});class y extends f{constructor(m,{willReadFrequently:b=!1}={}){super(m),this._context=m._canvas.getContext("2d",{willReadFrequently:b})}_fillColor(m){var b=m.fill();this.setAttr("fillStyle",b),m._fillFunc(this)}_fillPattern(m){this.setAttr("fillStyle",m._getFillPattern()),m._fillFunc(this)}_fillLinearGradient(m){var b=m._getLinearGradient();b&&(this.setAttr("fillStyle",b),m._fillFunc(this))}_fillRadialGradient(m){const b=m._getRadialGradient();b&&(this.setAttr("fillStyle",b),m._fillFunc(this))}_fill(m){const b=m.fill(),_=m.getFillPriority();if(b&&_==="color"){this._fillColor(m);return}const B=m.getFillPatternImage();if(B&&_==="pattern"){this._fillPattern(m);return}const L=m.getFillLinearGradientColorStops();if(L&&_==="linear-gradient"){this._fillLinearGradient(m);return}const j=m.getFillRadialGradientColorStops();if(j&&_==="radial-gradient"){this._fillRadialGradient(m);return}b?this._fillColor(m):B?this._fillPattern(m):L?this._fillLinearGradient(m):j&&this._fillRadialGradient(m)}_strokeLinearGradient(m){const b=m.getStrokeLinearGradientStartPoint(),_=m.getStrokeLinearGradientEndPoint(),B=m.getStrokeLinearGradientColorStops(),L=this.createLinearGradient(b.x,b.y,_.x,_.y);if(B){for(var j=0;j<B.length;j+=2)L.addColorStop(B[j],B[j+1]);this.setAttr("strokeStyle",L)}}_stroke(m){var b=m.dash(),_=m.getStrokeScaleEnabled();if(m.hasStroke()){if(!_){this.save();var B=this.getCanvas().getPixelRatio();this.setTransform(B,0,0,B,0,0)}this._applyLineCap(m),b&&m.dashEnabled()&&(this.setLineDash(b),this.setAttr("lineDashOffset",m.dashOffset())),this.setAttr("lineWidth",m.strokeWidth()),m.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var L=m.getStrokeLinearGradientColorStops();L?this._strokeLinearGradient(m):this.setAttr("strokeStyle",m.stroke()),m._strokeFunc(this),_||this.restore()}}_applyShadow(m){var b,_,B,L=(b=m.getShadowRGBA())!==null&&b!==void 0?b:"black",j=(_=m.getShadowBlur())!==null&&_!==void 0?_:5,O=(B=m.getShadowOffset())!==null&&B!==void 0?B:{x:0,y:0},Q=m.getAbsoluteScale(),$=this.canvas.getPixelRatio(),D=Q.x*$,U=Q.y*$;this.setAttr("shadowColor",L),this.setAttr("shadowBlur",j*Math.min(Math.abs(D),Math.abs(U))),this.setAttr("shadowOffsetX",O.x*D),this.setAttr("shadowOffsetY",O.y*U)}}Ba.SceneContext=y;class E extends f{constructor(m){super(m),this._context=m._canvas.getContext("2d",{willReadFrequently:!0})}_fill(m){this.save(),this.setAttr("fillStyle",m.colorKey),m._fillFuncHit(this),this.restore()}strokeShape(m){m.hasHitStroke()&&this._stroke(m)}_stroke(m){if(m.hasHitStroke()){const L=m.getStrokeScaleEnabled();if(!L){this.save();var b=this.getCanvas().getPixelRatio();this.setTransform(b,0,0,b,0,0)}this._applyLineCap(m);var _=m.hitStrokeWidth(),B=_==="auto"?m.strokeWidth():_;this.setAttr("lineWidth",B),this.setAttr("strokeStyle",m.colorKey),m._strokeFuncHit(this),L||this.restore()}}}return Ba.HitContext=E,Ba}var RB;function ly(){if(RB)return Sa;RB=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.HitCanvas=Sa.SceneCanvas=Sa.Canvas=void 0;const t=on(),e=NP(),i=Kt(),n=Gt(),s=Wt();var r;function o(){if(r)return r;var c=t.Util.createCanvasElement(),A=c.getContext("2d");return r=function(){var h=i.Konva._global.devicePixelRatio||1,g=A.webkitBackingStorePixelRatio||A.mozBackingStorePixelRatio||A.msBackingStorePixelRatio||A.oBackingStorePixelRatio||A.backingStorePixelRatio||1;return h/g}(),t.Util.releaseCanvas(c),r}let a=class{constructor(A){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var h=A||{},g=h.pixelRatio||i.Konva.pixelRatio||o();this.pixelRatio=g,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(A){var h=this.pixelRatio;this.pixelRatio=A,this.setSize(this.getWidth()/h,this.getHeight()/h)}setWidth(A){this.width=this._canvas.width=A*this.pixelRatio,this._canvas.style.width=A+"px";var h=this.pixelRatio,g=this.getContext()._context;g.scale(h,h)}setHeight(A){this.height=this._canvas.height=A*this.pixelRatio,this._canvas.style.height=A+"px";var h=this.pixelRatio,g=this.getContext()._context;g.scale(h,h)}getWidth(){return this.width}getHeight(){return this.height}setSize(A,h){this.setWidth(A||0),this.setHeight(h||0)}toDataURL(A,h){try{return this._canvas.toDataURL(A,h)}catch{try{return this._canvas.toDataURL()}catch(f){return t.Util.error("Unable to get data URL. "+f.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Sa.Canvas=a,n.Factory.addGetterSetter(a,"pixelRatio",void 0,(0,s.getNumberValidator)());class l extends a{constructor(A={width:0,height:0,willReadFrequently:!1}){super(A),this.context=new e.SceneContext(this,{willReadFrequently:A.willReadFrequently}),this.setSize(A.width,A.height)}}Sa.SceneCanvas=l;class u extends a{constructor(A={width:0,height:0}){super(A),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(A.width,A.height)}}return Sa.HitCanvas=u,Sa}var hw={},OB;function YE(){return OB||(OB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Kt(),i=on();t.DD={get isDragging(){var n=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return t.DD._dragElements.forEach(s=>{n=s.node}),n},_dragElements:new Map,_drag(n){const s=[];t.DD._dragElements.forEach((r,o)=>{const{node:a}=r,l=a.getStage();l.setPointersPositions(n),r.pointerId===void 0&&(r.pointerId=i.Util._getFirstPointerId(n));const u=l._changedPointerPositions.find(h=>h.id===r.pointerId);if(u){if(r.dragStatus!=="dragging"){var c=a.dragDistance(),A=Math.max(Math.abs(u.x-r.startPointerPos.x),Math.abs(u.y-r.startPointerPos.y));if(A<c||(a.startDrag({evt:n}),!a.isDragging()))return}a._setDragPosition(n,r),s.push(a)}}),s.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:n},!0)})},_endDragBefore(n){const s=[];t.DD._dragElements.forEach(r=>{const{node:o}=r,a=o.getStage();if(n&&a.setPointersPositions(n),!a._changedPointerPositions.find(c=>c.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,r.dragStatus="stopped");const u=r.node.getLayer()||r.node instanceof e.Konva.Stage&&r.node;u&&s.indexOf(u)===-1&&s.push(u)}),s.forEach(r=>{r.draw()})},_endDragAfter(n){t.DD._dragElements.forEach((s,r)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:n},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(r)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(hw)),hw}var UB;function hn(){if(UB)return Fd;UB=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.Node=void 0;const t=on(),e=Gt(),i=ly(),n=Kt(),s=YE(),r=Wt();var o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",u="absoluteScale",c="canvas",A="Change",h="children",g="konva",f="listening",y="mouseenter",E="mouseleave",C="set",m="Shape",b=" ",_="stage",B="transform",L="Stage",j="visible",O=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let Q=1;class ${constructor(S){this._id=Q++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(S),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(S){(S===B||S===l)&&this._cache.get(S)?this._cache.get(S).dirty=!0:S?this._cache.delete(S):this._cache.clear()}_getCache(S,k){var M=this._cache.get(S),N=S===B||S===l,V=M===void 0||N&&M.dirty===!0;return V&&(M=k.call(this),this._cache.set(S,M)),M}_calculate(S,k,M){if(!this._attachedDepsListeners.get(S)){const N=k.map(V=>V+"Change.konva").join(b);this.on(N,()=>{this._clearCache(S)}),this._attachedDepsListeners.set(S,!0)}return this._getCache(S,M)}_getCanvasCache(){return this._cache.get(c)}_clearSelfAndDescendantCache(S){this._clearCache(S),S===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(c)){const{scene:S,filter:k,hit:M}=this._cache.get(c);t.Util.releaseCanvas(S,k,M),this._cache.delete(c)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(S){var k=S||{},M={};(k.x===void 0||k.y===void 0||k.width===void 0||k.height===void 0)&&(M=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var N=Math.ceil(k.width||M.width),V=Math.ceil(k.height||M.height),G=k.pixelRatio,ee=k.x===void 0?Math.floor(M.x):k.x,se=k.y===void 0?Math.floor(M.y):k.y,ne=k.offset||0,le=k.drawBorder||!1,he=k.hitCanvasPixelRatio||1;if(!N||!V){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}N+=ne*2+1,V+=ne*2+1,ee-=ne,se-=ne;var we=new i.SceneCanvas({pixelRatio:G,width:N,height:V}),pe=new i.SceneCanvas({pixelRatio:G,width:0,height:0,willReadFrequently:!0}),ke=new i.HitCanvas({pixelRatio:he,width:N,height:V}),ce=we.getContext(),ye=ke.getContext();return ke.isCache=!0,we.isCache=!0,this._cache.delete(c),this._filterUpToDate=!1,k.imageSmoothingEnabled===!1&&(we.getContext()._context.imageSmoothingEnabled=!1,pe.getContext()._context.imageSmoothingEnabled=!1),ce.save(),ye.save(),ce.translate(-ee,-se),ye.translate(-ee,-se),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this.drawScene(we,this),this.drawHit(ke,this),this._isUnderCache=!1,ce.restore(),ye.restore(),le&&(ce.save(),ce.beginPath(),ce.rect(0,0,N,V),ce.closePath(),ce.setAttr("strokeStyle","red"),ce.setAttr("lineWidth",5),ce.stroke(),ce.restore()),this._cache.set(c,{scene:we,filter:pe,hit:ke,x:ee,y:se}),this._requestDraw(),this}isCached(){return this._cache.has(c)}getClientRect(S){throw new Error('abstract "getClientRect" method call')}_transformedRect(S,k){var M=[{x:S.x,y:S.y},{x:S.x+S.width,y:S.y},{x:S.x+S.width,y:S.y+S.height},{x:S.x,y:S.y+S.height}],N=1/0,V=1/0,G=-1/0,ee=-1/0,se=this.getAbsoluteTransform(k);return M.forEach(function(ne){var le=se.point(ne);N===void 0&&(N=G=le.x,V=ee=le.y),N=Math.min(N,le.x),V=Math.min(V,le.y),G=Math.max(G,le.x),ee=Math.max(ee,le.y)}),{x:N,y:V,width:G-N,height:ee-V}}_drawCachedSceneCanvas(S){S.save(),S._applyOpacity(this),S._applyGlobalCompositeOperation(this);const k=this._getCanvasCache();S.translate(k.x,k.y);var M=this._getCachedSceneCanvas(),N=M.pixelRatio;S.drawImage(M._canvas,0,0,M.width/N,M.height/N),S.restore()}_drawCachedHitCanvas(S){var k=this._getCanvasCache(),M=k.hit;S.save(),S.translate(k.x,k.y),S.drawImage(M._canvas,0,0,M.width/M.pixelRatio,M.height/M.pixelRatio),S.restore()}_getCachedSceneCanvas(){var S=this.filters(),k=this._getCanvasCache(),M=k.scene,N=k.filter,V=N.getContext(),G,ee,se,ne;if(S){if(!this._filterUpToDate){var le=M.pixelRatio;N.setSize(M.width/M.pixelRatio,M.height/M.pixelRatio);try{for(G=S.length,V.clear(),V.drawImage(M._canvas,0,0,M.getWidth()/le,M.getHeight()/le),ee=V.getImageData(0,0,N.getWidth(),N.getHeight()),se=0;se<G;se++){if(ne=S[se],typeof ne!="function"){t.Util.error("Filter should be type of function, but got "+typeof ne+" instead. Please check correct filters");continue}ne.call(this,ee),V.putImageData(ee,0,0)}}catch(he){t.Util.error("Unable to apply filter. "+he.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return N}return M}on(S,k){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);var M=S.split(b),N=M.length,V,G,ee,se,ne;for(V=0;V<N;V++)G=M[V],ee=G.split("."),se=ee[0],ne=ee[1]||"",this.eventListeners[se]||(this.eventListeners[se]=[]),this.eventListeners[se].push({name:ne,handler:k});return this}off(S,k){var M=(S||"").split(b),N=M.length,V,G,ee,se,ne,le;if(this._cache&&this._cache.delete(a),!S)for(G in this.eventListeners)this._off(G);for(V=0;V<N;V++)if(ee=M[V],se=ee.split("."),ne=se[0],le=se[1],ne)this.eventListeners[ne]&&this._off(ne,le,k);else for(G in this.eventListeners)this._off(G,le,k);return this}dispatchEvent(S){var k={target:this,type:S.type,evt:S};return this.fire(S.type,k),this}addEventListener(S,k){return this.on(S,function(M){k.call(this,M.evt)}),this}removeEventListener(S){return this.off(S),this}_delegate(S,k,M){var N=this;this.on(S,function(V){for(var G=V.target.findAncestors(k,!0,N),ee=0;ee<G.length;ee++)V=t.Util.cloneObject(V),V.currentTarget=G[ee],M.call(G[ee],V)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var S=this.getParent();S&&S.children&&(S.children.splice(this.index,1),S._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(S){var k="get"+t.Util._capitalize(S);return t.Util._isFunction(this[k])?this[k]():this.attrs[S]}getAncestors(){for(var S=this.getParent(),k=[];S;)k.push(S),S=S.getParent();return k}getAttrs(){return this.attrs||{}}setAttrs(S){return this._batchTransformChanges(()=>{var k,M;if(!S)return this;for(k in S)k!==h&&(M=C+t.Util._capitalize(k),t.Util._isFunction(this[M])?this[M](S[k]):this._setAttr(k,S[k]))}),this}isListening(){return this._getCache(f,this._isListening)}_isListening(S){if(!this.listening())return!1;const M=this.getParent();return M&&M!==S&&this!==S?M._isListening(S):!0}isVisible(){return this._getCache(j,this._isVisible)}_isVisible(S){if(!this.visible())return!1;const M=this.getParent();return M&&M!==S&&this!==S?M._isVisible(S):!0}shouldDrawHit(S,k=!1){if(S)return this._isVisible(S)&&this._isListening(S);var M=this.getLayer(),N=!1;s.DD._dragElements.forEach(G=>{G.dragStatus==="dragging"&&(G.node.nodeType==="Stage"||G.node.getLayer()===M)&&(N=!0)});var V=!k&&!n.Konva.hitOnDragEnabled&&N;return this.isListening()&&this.isVisible()&&!V}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var S=this.getDepth(),k=this,M=0,N,V,G,ee;function se(le){for(N=[],V=le.length,G=0;G<V;G++)ee=le[G],M++,ee.nodeType!==m&&(N=N.concat(ee.getChildren().slice())),ee._id===k._id&&(G=V);N.length>0&&N[0].getDepth()<=S&&se(N)}const ne=this.getStage();return k.nodeType!==L&&ne&&se(ne.getChildren()),M}getDepth(){for(var S=0,k=this.parent;k;)S++,k=k.parent;return S}_batchTransformChanges(S){this._batchingTransformChange=!0,S(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(B),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(S){return this._batchTransformChanges(()=>{this.x(S.x),this.y(S.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const S=this.getStage();if(!S)return null;var k=S.getPointerPosition();if(!k)return null;var M=this.getAbsoluteTransform().copy();return M.invert(),M.point(k)}getAbsolutePosition(S){let k=!1,M=this.parent;for(;M;){if(M.isCached()){k=!0;break}M=M.parent}k&&!S&&(S=!0);var N=this.getAbsoluteTransform(S).getMatrix(),V=new t.Transform,G=this.offset();return V.m=N.slice(),V.translate(G.x,G.y),V.getTranslation()}setAbsolutePosition(S){const{x:k,y:M,...N}=this._clearTransform();this.attrs.x=k,this.attrs.y=M,this._clearCache(B);var V=this._getAbsoluteTransform().copy();return V.invert(),V.translate(S.x,S.y),S={x:this.attrs.x+V.getTranslation().x,y:this.attrs.y+V.getTranslation().y},this._setTransform(N),this.setPosition({x:S.x,y:S.y}),this._clearCache(B),this._clearSelfAndDescendantCache(l),this}_setTransform(S){var k;for(k in S)this.attrs[k]=S[k]}_clearTransform(){var S={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,S}move(S){var k=S.x,M=S.y,N=this.x(),V=this.y();return k!==void 0&&(N+=k),M!==void 0&&(V+=M),this.setPosition({x:N,y:V}),this}_eachAncestorReverse(S,k){var M=[],N=this.getParent(),V,G;if(!(k&&k._id===this._id)){for(M.unshift(this);N&&(!k||N._id!==k._id);)M.unshift(N),N=N.parent;for(V=M.length,G=0;G<V;G++)S(M[G])}}rotate(S){return this.rotation(this.rotation()+S),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var S=this.index,k=this.parent.getChildren().length;return S<k-1?(this.parent.children.splice(S,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var S=this.index,k=this.parent.getChildren().length;return S<k-1?(this.parent.children.splice(S,1),this.parent.children.splice(S+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var S=this.index;return S>0?(this.parent.children.splice(S,1),this.parent.children.splice(S-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var S=this.index;return S>0?(this.parent.children.splice(S,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(S){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(S<0||S>=this.parent.children.length)&&t.Util.warn("Unexpected value "+S+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var k=this.index;return this.parent.children.splice(k,1),this.parent.children.splice(S,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var S=this.opacity(),k=this.getParent();return k&&!k._isUnderCache&&(S*=k.getAbsoluteOpacity()),S}moveTo(S){return this.getParent()!==S&&(this._remove(),S.add(this)),this}toObject(){var S={},k=this.getAttrs(),M,N,V,G,ee;S.attrs={};for(M in k)N=k[M],ee=t.Util.isObject(N)&&!t.Util._isPlainObject(N)&&!t.Util._isArray(N),!ee&&(V=typeof this[M]=="function"&&this[M],delete k[M],G=V?V.call(this):null,k[M]=N,G!==N&&(S.attrs[M]=N));return S.className=this.getClassName(),t.Util._prepareToStringify(S)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(S,k,M){var N=[];k&&this._isMatch(S)&&N.push(this);for(var V=this.parent;V;){if(V===M)return N;V._isMatch(S)&&N.push(V),V=V.parent}return N}isAncestorOf(S){return!1}findAncestor(S,k,M){return this.findAncestors(S,k,M)[0]}_isMatch(S){if(!S)return!1;if(typeof S=="function")return S(this);var k=S.replace(/ /g,"").split(","),M=k.length,N,V;for(N=0;N<M;N++)if(V=k[N],t.Util.isValidSelector(V)||(t.Util.warn('Selector "'+V+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),V.charAt(0)==="#"){if(this.id()===V.slice(1))return!0}else if(V.charAt(0)==="."){if(this.hasName(V.slice(1)))return!0}else if(this.className===V||this.nodeType===V)return!0;return!1}getLayer(){var S=this.getParent();return S?S.getLayer():null}getStage(){return this._getCache(_,this._getStage)}_getStage(){var S=this.getParent();return S?S.getStage():null}fire(S,k={},M){return k.target=k.target||this,M?this._fireAndBubble(S,k):this._fire(S,k),this}getAbsoluteTransform(S){return S?this._getAbsoluteTransform(S):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(S){var k;if(S)return k=new t.Transform,this._eachAncestorReverse(function(N){var V=N.transformsEnabled();V==="all"?k.multiply(N.getTransform()):V==="position"&&k.translate(N.x()-N.offsetX(),N.y()-N.offsetY())},S),k;k=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(k):k.reset();var M=this.transformsEnabled();if(M==="all")k.multiply(this.getTransform());else if(M==="position"){const N=this.attrs.x||0,V=this.attrs.y||0,G=this.attrs.offsetX||0,ee=this.attrs.offsetY||0;k.translate(N-G,V-ee)}return k.dirty=!1,k}getAbsoluteScale(S){for(var k=this;k;)k._isUnderCache&&(S=k),k=k.getParent();const N=this.getAbsoluteTransform(S).decompose();return{x:N.scaleX,y:N.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(B,this._getTransform)}_getTransform(){var S,k,M=this._cache.get(B)||new t.Transform;M.reset();var N=this.x(),V=this.y(),G=n.Konva.getAngle(this.rotation()),ee=(S=this.attrs.scaleX)!==null&&S!==void 0?S:1,se=(k=this.attrs.scaleY)!==null&&k!==void 0?k:1,ne=this.attrs.skewX||0,le=this.attrs.skewY||0,he=this.attrs.offsetX||0,we=this.attrs.offsetY||0;return(N!==0||V!==0)&&M.translate(N,V),G!==0&&M.rotate(G),(ne!==0||le!==0)&&M.skew(ne,le),(ee!==1||se!==1)&&M.scale(ee,se),(he!==0||we!==0)&&M.translate(-1*he,-1*we),M.dirty=!1,M}clone(S){var k=t.Util.cloneObject(this.attrs),M,N,V,G,ee;for(M in S)k[M]=S[M];var se=new this.constructor(k);for(M in this.eventListeners)for(N=this.eventListeners[M],V=N.length,G=0;G<V;G++)ee=N[G],ee.name.indexOf(g)<0&&(se.eventListeners[M]||(se.eventListeners[M]=[]),se.eventListeners[M].push(ee));return se}_toKonvaCanvas(S){S=S||{};var k=this.getClientRect(),M=this.getStage(),N=S.x!==void 0?S.x:Math.floor(k.x),V=S.y!==void 0?S.y:Math.floor(k.y),G=S.pixelRatio||1,ee=new i.SceneCanvas({width:S.width||Math.ceil(k.width)||(M?M.width():0),height:S.height||Math.ceil(k.height)||(M?M.height():0),pixelRatio:G}),se=ee.getContext();return S.imageSmoothingEnabled===!1&&(se._context.imageSmoothingEnabled=!1),se.save(),(N||V)&&se.translate(-1*N,-1*V),this.drawScene(ee),se.restore(),ee}toCanvas(S){return this._toKonvaCanvas(S)._canvas}toDataURL(S){S=S||{};var k=S.mimeType||null,M=S.quality||null,N=this._toKonvaCanvas(S).toDataURL(k,M);return S.callback&&S.callback(N),N}toImage(S){return new Promise((k,M)=>{try{const N=S==null?void 0:S.callback;N&&delete S.callback,t.Util._urlToImage(this.toDataURL(S),function(V){k(V),N==null||N(V)})}catch(N){M(N)}})}toBlob(S){return new Promise((k,M)=>{try{const N=S==null?void 0:S.callback;N&&delete S.callback,this.toCanvas(S).toBlob(V=>{k(V),N==null||N(V)})}catch(N){M(N)}})}setSize(S){return this.width(S.width),this.height(S.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(S,k,M){var N=this.eventListeners[S],V,G,ee;for(V=0;V<N.length;V++)if(G=N[V].name,ee=N[V].handler,(G!=="konva"||k==="konva")&&(!k||G===k)&&(!M||M===ee)){if(N.splice(V,1),N.length===0){delete this.eventListeners[S];break}V--}}_fireChangeEvent(S,k,M){this._fire(S+A,{oldVal:k,newVal:M})}addName(S){if(!this.hasName(S)){var k=this.name(),M=k?k+" "+S:S;this.name(M)}return this}hasName(S){if(!S)return!1;const k=this.name();if(!k)return!1;var M=(k||"").split(/\s/g);return M.indexOf(S)!==-1}removeName(S){var k=(this.name()||"").split(/\s/g),M=k.indexOf(S);return M!==-1&&(k.splice(M,1),this.name(k.join(" "))),this}setAttr(S,k){var M=this[C+t.Util._capitalize(S)];return t.Util._isFunction(M)?M.call(this,k):this._setAttr(S,k),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const S=this.getLayer()||this.getStage();S==null||S.batchDraw()}}_setAttr(S,k){var M=this.attrs[S];M===k&&!t.Util.isObject(k)||(k==null?delete this.attrs[S]:this.attrs[S]=k,this._shouldFireChangeEvents&&this._fireChangeEvent(S,M,k),this._requestDraw())}_setComponentAttr(S,k,M){var N;M!==void 0&&(N=this.attrs[S],N||(this.attrs[S]=this.getAttr(S)),this.attrs[S][k]=M,this._fireChangeEvent(S,N,M))}_fireAndBubble(S,k,M){k&&this.nodeType===m&&(k.target=this);var N=(S===y||S===E)&&(M&&(this===M||this.isAncestorOf&&this.isAncestorOf(M))||this.nodeType==="Stage"&&!M);if(!N){this._fire(S,k);var V=(S===y||S===E)&&M&&M.isAncestorOf&&M.isAncestorOf(this)&&!M.isAncestorOf(this.parent);(k&&!k.cancelBubble||!k)&&this.parent&&this.parent.isListening()&&!V&&(M&&M.parent?this._fireAndBubble.call(this.parent,S,k,M):this._fireAndBubble.call(this.parent,S,k))}}_getProtoListeners(S){var k,M,N;const V=(k=this._cache.get(a))!==null&&k!==void 0?k:{};let G=V==null?void 0:V[S];if(G===void 0){G=[];let ee=Object.getPrototypeOf(this);for(;ee;){const se=(N=(M=ee.eventListeners)===null||M===void 0?void 0:M[S])!==null&&N!==void 0?N:[];G.push(...se),ee=Object.getPrototypeOf(ee)}V[S]=G,this._cache.set(a,V)}return G}_fire(S,k){k=k||{},k.currentTarget=this,k.type=S;const M=this._getProtoListeners(S);if(M)for(var N=0;N<M.length;N++)M[N].handler.call(this,k);const V=this.eventListeners[S];if(V)for(var N=0;N<V.length;N++)V[N].handler.call(this,k)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(S){var k=S?S.pointerId:void 0,M=this.getStage(),N=this.getAbsolutePosition();if(M){var V=M._getPointerById(k)||M._changedPointerPositions[0]||N;s.DD._dragElements.set(this._id,{node:this,startPointerPos:V,offset:{x:V.x-N.x,y:V.y-N.y},dragStatus:"ready",pointerId:k})}}startDrag(S,k=!0){s.DD._dragElements.has(this._id)||this._createDragElement(S);const M=s.DD._dragElements.get(this._id);M.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:S&&S.evt},k)}_setDragPosition(S,k){const M=this.getStage()._getPointerById(k.pointerId);if(M){var N={x:M.x-k.offset.x,y:M.y-k.offset.y},V=this.dragBoundFunc();if(V!==void 0){const G=V.call(this,N,S);G?N=G:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==N.x||this._lastPos.y!==N.y)&&(this.setAbsolutePosition(N),this._requestDraw()),this._lastPos=N}}stopDrag(S){const k=s.DD._dragElements.get(this._id);k&&(k.dragStatus="stopped"),s.DD._endDragBefore(S),s.DD._endDragAfter(S)}setDraggable(S){this._setAttr("draggable",S),this._dragChange()}isDragging(){const S=s.DD._dragElements.get(this._id);return S?S.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(S){var k=S.evt.button!==void 0,M=!k||n.Konva.dragButtons.indexOf(S.evt.button)>=0;if(M&&!this.isDragging()){var N=!1;s.DD._dragElements.forEach(V=>{this.isAncestorOf(V.node)&&(N=!0)}),N||this._createDragElement(S)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var S=this.getStage();if(!S)return;const k=s.DD._dragElements.get(this._id),M=k&&k.dragStatus==="dragging",N=k&&k.dragStatus==="ready";M?this.stopDrag():N&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(S={x:0,y:0}){const k=this.getStage();if(!k)return!1;const M={x:-S.x,y:-S.y,width:k.width()+2*S.x,height:k.height()+2*S.y};return t.Util.haveIntersection(M,this.getClientRect())}static create(S,k){return t.Util._isString(S)&&(S=JSON.parse(S)),this._createNode(S,k)}static _createNode(S,k){var M=$.prototype.getClassName.call(S),N=S.children,V,G,ee;k&&(S.attrs.container=k),n.Konva[M]||(t.Util.warn('Can not find a node with class name "'+M+'". Fallback to "Shape".'),M="Shape");const se=n.Konva[M];if(V=new se(S.attrs),N)for(G=N.length,ee=0;ee<G;ee++)V.add($._createNode(N[ee]));return V}}Fd.Node=$,$.prototype.nodeType="Node",$.prototype._attrsAffectingSize=[],$.prototype.eventListeners={},$.prototype.on.call($.prototype,O,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(B),this._clearSelfAndDescendantCache(l)}),$.prototype.on.call($.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(j)}),$.prototype.on.call($.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(f)}),$.prototype.on.call($.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const D=e.Factory.addGetterSetter;return D($,"zIndex"),D($,"absolutePosition"),D($,"position"),D($,"x",0,(0,r.getNumberValidator)()),D($,"y",0,(0,r.getNumberValidator)()),D($,"globalCompositeOperation","source-over",(0,r.getStringValidator)()),D($,"opacity",1,(0,r.getNumberValidator)()),D($,"name","",(0,r.getStringValidator)()),D($,"id","",(0,r.getStringValidator)()),D($,"rotation",0,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter($,"scale",["x","y"]),D($,"scaleX",1,(0,r.getNumberValidator)()),D($,"scaleY",1,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter($,"skew",["x","y"]),D($,"skewX",0,(0,r.getNumberValidator)()),D($,"skewY",0,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter($,"offset",["x","y"]),D($,"offsetX",0,(0,r.getNumberValidator)()),D($,"offsetY",0,(0,r.getNumberValidator)()),D($,"dragDistance",null,(0,r.getNumberValidator)()),D($,"width",0,(0,r.getNumberValidator)()),D($,"height",0,(0,r.getNumberValidator)()),D($,"listening",!0,(0,r.getBooleanValidator)()),D($,"preventDefault",!0,(0,r.getBooleanValidator)()),D($,"filters",null,function(U){return this._filterUpToDate=!1,U}),D($,"visible",!0,(0,r.getBooleanValidator)()),D($,"transformsEnabled","all",(0,r.getStringValidator)()),D($,"size"),D($,"dragBoundFunc"),D($,"draggable",!1,(0,r.getBooleanValidator)()),e.Factory.backCompat($,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Fd}var Id={},NB;function uy(){if(NB)return Id;NB=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.Container=void 0;const t=Gt(),e=hn(),i=Wt();let n=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(r){if(!r)return this.children||[];const o=this.children||[];var a=[];return o.forEach(function(l){r(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.destroy()}),this.children=[],this._requestDraw(),this}add(...r){if(r.length===0)return this;if(r.length>1){for(var o=0;o<r.length;o++)this.add(r[o]);return this}const a=r[0];return a.getParent()?(a.moveTo(this),this):(this._validateAdd(a),a.index=this.getChildren().length,a.parent=this,a._clearCaches(),this.getChildren().push(a),this._fire("add",{child:a}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(r){return this._generalFind(r,!1)}findOne(r){var o=this._generalFind(r,!0);return o.length>0?o[0]:void 0}_generalFind(r,o){var a=[];return this._descendants(l=>{const u=l._isMatch(r);return u&&a.push(l),!!(u&&o)}),a}_descendants(r){let o=!1;const a=this.getChildren();for(const l of a){if(o=r(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(r),o))return!0}return!1}toObject(){var r=e.Node.prototype.toObject.call(this);return r.children=[],this.getChildren().forEach(o=>{r.children.push(o.toObject())}),r}isAncestorOf(r){for(var o=r.getParent();o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(r){var o=e.Node.prototype.clone.call(this,r);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(r){var o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(r)&&o.push(a)}),o}_clearSelfAndDescendantCache(r){var o;super._clearSelfAndDescendantCache(r),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(r)}))}_setChildrenIndices(){var r;(r=this.children)===null||r===void 0||r.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(r,o){var a=this.getLayer(),l=r||a&&a.getCanvas(),u=l&&l.getContext(),c=this._getCanvasCache(),A=c&&c.scene,h=l&&l.isCache;if(!this.isVisible()&&!h)return this;if(A){u.save();var g=this.getAbsoluteTransform(o).getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",l,o);return this}drawHit(r,o){if(!this.shouldDrawHit(o))return this;var a=this.getLayer(),l=r||a&&a.hitCanvas,u=l&&l.getContext(),c=this._getCanvasCache(),A=c&&c.hit;if(A){u.save();var h=this.getAbsoluteTransform(o).getMatrix();u.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(r,o,a){var l,u=o&&o.getContext(),c=this.clipWidth(),A=this.clipHeight(),h=this.clipFunc(),g=c&&A||h;const f=a===this;if(g){u.save();var y=this.getAbsoluteTransform(a),E=y.getMatrix();u.transform(E[0],E[1],E[2],E[3],E[4],E[5]),u.beginPath();let _;if(h)_=h.call(this,u,this);else{var C=this.clipX(),m=this.clipY();u.rect(C,m,c,A)}u.clip.apply(u,_),E=y.copy().invert().getMatrix(),u.transform(E[0],E[1],E[2],E[3],E[4],E[5])}var b=!f&&this.globalCompositeOperation()!=="source-over"&&r==="drawScene";b&&(u.save(),u._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(_){_[r](o,a)}),b&&u.restore(),g&&u.restore()}getClientRect(r={}){var o,a=r.skipTransform,l=r.relativeTo,u,c,A,h,g={x:1/0,y:1/0,width:0,height:0},f=this;(o=this.children)===null||o===void 0||o.forEach(function(b){if(b.visible()){var _=b.getClientRect({relativeTo:f,skipShadow:r.skipShadow,skipStroke:r.skipStroke});_.width===0&&_.height===0||(u===void 0?(u=_.x,c=_.y,A=_.x+_.width,h=_.y+_.height):(u=Math.min(u,_.x),c=Math.min(c,_.y),A=Math.max(A,_.x+_.width),h=Math.max(h,_.y+_.height)))}});for(var y=this.find("Shape"),E=!1,C=0;C<y.length;C++){var m=y[C];if(m._isVisible(this)){E=!0;break}}return E&&u!==void 0?g={x:u,y:c,width:A-u,height:h-c}:g={x:0,y:0,width:0,height:0},a?g:this._transformedRect(g,l)}};return Id.Container=n,t.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(n,"clipX",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipY",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipWidth",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipHeight",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipFunc"),Id}var dw={},nr={},HB;function HP(){if(HB)return nr;HB=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.releaseCapture=nr.setPointerCapture=nr.hasPointerCapture=nr.createEvent=nr.getCapturedShape=void 0;const t=Kt(),e=new Map,i=t.Konva._global.PointerEvent!==void 0;function n(l){return e.get(l)}nr.getCapturedShape=n;function s(l){return{evt:l,pointerId:l.pointerId}}nr.createEvent=s;function r(l,u){return e.get(l)===u}nr.hasPointerCapture=r;function o(l,u){a(l),u.getStage()&&(e.set(l,u),i&&u._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}nr.setPointerCapture=o;function a(l,u){const c=e.get(l);if(!c)return;const A=c.getStage();A&&A.content,e.delete(l),i&&c._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return nr.releaseCapture=a,nr}var QB;function ive(){return QB||(QB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=on(),i=Gt(),n=uy(),s=Kt(),r=ly(),o=YE(),a=Kt(),l=HP();var u="Stage",c="string",A="px",h="mouseout",g="mouseleave",f="mouseover",y="mouseenter",E="mousemove",C="mousedown",m="mouseup",b="pointermove",_="pointerdown",B="pointerup",L="pointercancel",j="lostpointercapture",O="pointerout",Q="pointerleave",$="pointerover",D="pointerenter",U="contextmenu",S="touchstart",k="touchend",M="touchmove",N="touchcancel",V="wheel",G=5,ee=[[y,"_pointerenter"],[C,"_pointerdown"],[E,"_pointermove"],[m,"_pointerup"],[g,"_pointerleave"],[S,"_pointerdown"],[M,"_pointermove"],[k,"_pointerup"],[N,"_pointercancel"],[f,"_pointerover"],[V,"_wheel"],[U,"_contextmenu"],[_,"_pointerdown"],[b,"_pointermove"],[B,"_pointerup"],[L,"_pointercancel"],[j,"_lostpointercapture"]];const se={mouse:{[O]:h,[Q]:g,[$]:f,[D]:y,[b]:E,[_]:C,[B]:m,[L]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[O]:"touchout",[Q]:"touchleave",[$]:"touchover",[D]:"touchenter",[b]:M,[_]:S,[B]:k,[L]:N,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[O]:O,[Q]:Q,[$]:$,[D]:D,[b]:b,[_]:_,[B]:B,[L]:L,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ne=ke=>ke.indexOf("pointer")>=0?"pointer":ke.indexOf("touch")>=0?"touch":"mouse",le=ke=>{const ce=ne(ke);if(ce==="pointer")return s.Konva.pointerEventsEnabled&&se.pointer;if(ce==="touch")return se.touch;if(ce==="mouse")return se.mouse};function he(ke={}){return(ke.clipFunc||ke.clipWidth||ke.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ke}const we="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class pe extends n.Container{constructor(ce){super(he(ce)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{he(this.attrs)}),this._checkVisibility()}_validateAdd(ce){const ye=ce.getType()==="Layer",ie=ce.getType()==="FastLayer";ye||ie||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ce=this.visible()?"":"none";this.content.style.display=ce}setContainer(ce){if(typeof ce===c){if(ce.charAt(0)==="."){var ye=ce.slice(1);ce=document.getElementsByClassName(ye)[0]}else{var ie;ce.charAt(0)!=="#"?ie=ce:ie=ce.slice(1),ce=document.getElementById(ie)}if(!ce)throw"Can not find container in document with id "+ie}return this._setAttr("container",ce),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ce.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var ce=this.children,ye=ce.length,ie;for(ie=0;ie<ye;ie++)ce[ie].clear();return this}clone(ce){return ce||(ce={}),ce.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,ce)}destroy(){super.destroy();var ce=this.content;ce&&e.Util._isInDocument(ce)&&this.container().removeChild(ce);var ye=t.stages.indexOf(this);return ye>-1&&t.stages.splice(ye,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ce=this._pointerPositions[0]||this._changedPointerPositions[0];return ce?{x:ce.x,y:ce.y}:(e.Util.warn(we),null)}_getPointerById(ce){return this._pointerPositions.find(ye=>ye.id===ce)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ce){ce=ce||{},ce.x=ce.x||0,ce.y=ce.y||0,ce.width=ce.width||this.width(),ce.height=ce.height||this.height();var ye=new r.SceneCanvas({width:ce.width,height:ce.height,pixelRatio:ce.pixelRatio||1}),ie=ye.getContext()._context,He=this.children;return(ce.x||ce.y)&&ie.translate(-1*ce.x,-1*ce.y),He.forEach(function($e){if($e.isVisible()){var ae=$e._toKonvaCanvas(ce);ie.drawImage(ae._canvas,ce.x,ce.y,ae.getWidth()/ae.getPixelRatio(),ae.getHeight()/ae.getPixelRatio())}}),ye}getIntersection(ce){if(!ce)return null;var ye=this.children,ie=ye.length,He=ie-1,$e;for($e=He;$e>=0;$e--){const ae=ye[$e].getIntersection(ce);if(ae)return ae}return null}_resizeDOM(){var ce=this.width(),ye=this.height();this.content&&(this.content.style.width=ce+A,this.content.style.height=ye+A),this.bufferCanvas.setSize(ce,ye),this.bufferHitCanvas.setSize(ce,ye),this.children.forEach(ie=>{ie.setSize({width:ce,height:ye}),ie.draw()})}add(ce,...ye){if(arguments.length>1){for(var ie=0;ie<arguments.length;ie++)this.add(arguments[ie]);return this}super.add(ce);var He=this.children.length;return He>G&&e.Util.warn("The stage has "+He+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ce.setSize({width:this.width(),height:this.height()}),ce.draw(),s.Konva.isBrowser&&this.content.appendChild(ce.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ce){return l.hasPointerCapture(ce,this)}setPointerCapture(ce){l.setPointerCapture(ce,this)}releaseCapture(ce){l.releaseCapture(ce,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&ee.forEach(([ce,ye])=>{this.content.addEventListener(ce,ie=>{this[ye](ie)},{passive:!1})})}_pointerenter(ce){this.setPointersPositions(ce);const ye=le(ce.type);ye&&this._fire(ye.pointerenter,{evt:ce,target:this,currentTarget:this})}_pointerover(ce){this.setPointersPositions(ce);const ye=le(ce.type);ye&&this._fire(ye.pointerover,{evt:ce,target:this,currentTarget:this})}_getTargetShape(ce){let ye=this[ce+"targetShape"];return ye&&!ye.getStage()&&(ye=null),ye}_pointerleave(ce){const ye=le(ce.type),ie=ne(ce.type);if(ye){this.setPointersPositions(ce);var He=this._getTargetShape(ie),$e=!o.DD.isDragging||s.Konva.hitOnDragEnabled;He&&$e?(He._fireAndBubble(ye.pointerout,{evt:ce}),He._fireAndBubble(ye.pointerleave,{evt:ce}),this._fire(ye.pointerleave,{evt:ce,target:this,currentTarget:this}),this[ie+"targetShape"]=null):$e&&(this._fire(ye.pointerleave,{evt:ce,target:this,currentTarget:this}),this._fire(ye.pointerout,{evt:ce,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(ce){const ye=le(ce.type),ie=ne(ce.type);if(ye){this.setPointersPositions(ce);var He=!1;this._changedPointerPositions.forEach($e=>{var ae=this.getIntersection($e);if(o.DD.justDragged=!1,s.Konva["_"+ie+"ListenClick"]=!0,!ae||!ae.isListening())return;s.Konva.capturePointerEventsEnabled&&ae.setPointerCapture($e.id),this[ie+"ClickStartShape"]=ae,ae._fireAndBubble(ye.pointerdown,{evt:ce,pointerId:$e.id}),He=!0;const W=ce.type.indexOf("touch")>=0;ae.preventDefault()&&ce.cancelable&&W&&ce.preventDefault()}),He||this._fire(ye.pointerdown,{evt:ce,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(ce){const ye=le(ce.type),ie=ne(ce.type);if(!ye)return;o.DD.isDragging&&o.DD.node.preventDefault()&&ce.cancelable&&ce.preventDefault(),this.setPointersPositions(ce);var He=!o.DD.isDragging||s.Konva.hitOnDragEnabled;if(!He)return;var $e={};let ae=!1;var W=this._getTargetShape(ie);this._changedPointerPositions.forEach(X=>{const re=l.getCapturedShape(X.id)||this.getIntersection(X),ve=X.id,xe={evt:ce,pointerId:ve};var Me=W!==re;if(Me&&W&&(W._fireAndBubble(ye.pointerout,{...xe},re),W._fireAndBubble(ye.pointerleave,{...xe},re)),re){if($e[re._id])return;$e[re._id]=!0}re&&re.isListening()?(ae=!0,Me&&(re._fireAndBubble(ye.pointerover,{...xe},W),re._fireAndBubble(ye.pointerenter,{...xe},W),this[ie+"targetShape"]=re),re._fireAndBubble(ye.pointermove,{...xe})):W&&(this._fire(ye.pointerover,{evt:ce,target:this,currentTarget:this,pointerId:ve}),this[ie+"targetShape"]=null)}),ae||this._fire(ye.pointermove,{evt:ce,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ce){const ye=le(ce.type),ie=ne(ce.type);if(!ye)return;this.setPointersPositions(ce);const He=this[ie+"ClickStartShape"],$e=this[ie+"ClickEndShape"];var ae={};let W=!1;this._changedPointerPositions.forEach(X=>{const re=l.getCapturedShape(X.id)||this.getIntersection(X);if(re){if(re.releaseCapture(X.id),ae[re._id])return;ae[re._id]=!0}const ve=X.id,xe={evt:ce,pointerId:ve};let Me=!1;s.Konva["_"+ie+"InDblClickWindow"]?(Me=!0,clearTimeout(this[ie+"DblTimeout"])):o.DD.justDragged||(s.Konva["_"+ie+"InDblClickWindow"]=!0,clearTimeout(this[ie+"DblTimeout"])),this[ie+"DblTimeout"]=setTimeout(function(){s.Konva["_"+ie+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),re&&re.isListening()?(W=!0,this[ie+"ClickEndShape"]=re,re._fireAndBubble(ye.pointerup,{...xe}),s.Konva["_"+ie+"ListenClick"]&&He&&He===re&&(re._fireAndBubble(ye.pointerclick,{...xe}),Me&&$e&&$e===re&&re._fireAndBubble(ye.pointerdblclick,{...xe}))):(this[ie+"ClickEndShape"]=null,s.Konva["_"+ie+"ListenClick"]&&this._fire(ye.pointerclick,{evt:ce,target:this,currentTarget:this,pointerId:ve}),Me&&this._fire(ye.pointerdblclick,{evt:ce,target:this,currentTarget:this,pointerId:ve}))}),W||this._fire(ye.pointerup,{evt:ce,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+ie+"ListenClick"]=!1,ce.cancelable&&ie!=="touch"&&ce.preventDefault()}_contextmenu(ce){this.setPointersPositions(ce);var ye=this.getIntersection(this.getPointerPosition());ye&&ye.isListening()?ye._fireAndBubble(U,{evt:ce}):this._fire(U,{evt:ce,target:this,currentTarget:this})}_wheel(ce){this.setPointersPositions(ce);var ye=this.getIntersection(this.getPointerPosition());ye&&ye.isListening()?ye._fireAndBubble(V,{evt:ce}):this._fire(V,{evt:ce,target:this,currentTarget:this})}_pointercancel(ce){this.setPointersPositions(ce);const ye=l.getCapturedShape(ce.pointerId)||this.getIntersection(this.getPointerPosition());ye&&ye._fireAndBubble(B,l.createEvent(ce)),l.releaseCapture(ce.pointerId)}_lostpointercapture(ce){l.releaseCapture(ce.pointerId)}setPointersPositions(ce){var ye=this._getContentPosition(),ie=null,He=null;ce=ce||window.event,ce.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ce.touches,$e=>{this._pointerPositions.push({id:$e.identifier,x:($e.clientX-ye.left)/ye.scaleX,y:($e.clientY-ye.top)/ye.scaleY})}),Array.prototype.forEach.call(ce.changedTouches||ce.touches,$e=>{this._changedPointerPositions.push({id:$e.identifier,x:($e.clientX-ye.left)/ye.scaleX,y:($e.clientY-ye.top)/ye.scaleY})})):(ie=(ce.clientX-ye.left)/ye.scaleX,He=(ce.clientY-ye.top)/ye.scaleY,this.pointerPos={x:ie,y:He},this._pointerPositions=[{x:ie,y:He,id:e.Util._getFirstPointerId(ce)}],this._changedPointerPositions=[{x:ie,y:He,id:e.Util._getFirstPointerId(ce)}])}_setPointerPosition(ce){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ce)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var ce=this.content.getBoundingClientRect();return{top:ce.top,left:ce.left,scaleX:ce.width/this.content.clientWidth||1,scaleY:ce.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new r.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new r.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!s.Konva.isBrowser){var ce=this.container();if(!ce)throw"Stage has no container. A container is required.";ce.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ce.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ce){ce.batchDraw()}),this}}t.Stage=pe,pe.prototype.nodeType=u,(0,a._registerNode)(pe),i.Factory.addGetterSetter(pe,"container")}(dw)),dw}var Ld={},fw={},$B;function Un(){return $B||($B=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Kt(),i=on(),n=Gt(),s=hn(),r=Wt(),o=Kt(),a=HP();var l="hasShadow",u="shadowRGBA",c="patternImage",A="linearGradient",h="radialGradient";let g;function f(){return g||(g=i.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};function y(Q){const $=this.attrs.fillRule;$?Q.fill($):Q.fill()}function E(Q){Q.stroke()}function C(Q){Q.fill()}function m(Q){Q.stroke()}function b(){this._clearCache(l)}function _(){this._clearCache(u)}function B(){this._clearCache(c)}function L(){this._clearCache(A)}function j(){this._clearCache(h)}class O extends s.Node{constructor($){super($);let D;for(;D=i.Util.getRandomColor(),!(D&&!(D in t.shapes)););this.colorKey=D,t.shapes[D]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var $=f();const D=$.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(D&&D.setTransform){const U=new i.Transform;U.translate(this.fillPatternX(),this.fillPatternY()),U.rotate(e.Konva.getAngle(this.fillPatternRotation())),U.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),U.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const S=U.getMatrix(),k=typeof DOMMatrix>"u"?{a:S[0],b:S[1],c:S[2],d:S[3],e:S[4],f:S[5]}:new DOMMatrix(S);D.setTransform(k)}return D}}_getLinearGradient(){return this._getCache(A,this.__getLinearGradient)}__getLinearGradient(){var $=this.fillLinearGradientColorStops();if($){for(var D=f(),U=this.fillLinearGradientStartPoint(),S=this.fillLinearGradientEndPoint(),k=D.createLinearGradient(U.x,U.y,S.x,S.y),M=0;M<$.length;M+=2)k.addColorStop($[M],$[M+1]);return k}}_getRadialGradient(){return this._getCache(h,this.__getRadialGradient)}__getRadialGradient(){var $=this.fillRadialGradientColorStops();if($){for(var D=f(),U=this.fillRadialGradientStartPoint(),S=this.fillRadialGradientEndPoint(),k=D.createRadialGradient(U.x,U.y,this.fillRadialGradientStartRadius(),S.x,S.y,this.fillRadialGradientEndRadius()),M=0;M<$.length;M+=2)k.addColorStop($[M],$[M+1]);return k}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var $=i.Util.colorToRGBA(this.shadowColor());if($)return"rgba("+$.r+","+$.g+","+$.b+","+$.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const $=this.hitStrokeWidth();return $==="auto"?this.hasStroke():this.strokeEnabled()&&!!$}intersects($){var D=this.getStage();if(!D)return!1;const U=D.bufferHitCanvas;return U.getContext().clear(),this.drawHit(U,void 0,!0),U.context.getImageData(Math.round($.x),Math.round($.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas($){var D;if(!this.getStage()||!((D=this.attrs.perfectDrawEnabled)!==null&&D!==void 0?D:!0))return!1;const S=$||this.hasFill(),k=this.hasStroke(),M=this.getAbsoluteOpacity()!==1;if(S&&k&&M)return!0;const N=this.hasShadow(),V=this.shadowForStrokeEnabled();return!!(S&&k&&N&&V)}setStrokeHitEnabled($){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),$?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var $=this.size();return{x:this._centroid?-$.width/2:0,y:this._centroid?-$.height/2:0,width:$.width,height:$.height}}getClientRect($={}){const D=$.skipTransform,U=$.relativeTo,S=this.getSelfRect(),M=!$.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,N=S.width+M,V=S.height+M,G=!$.skipShadow&&this.hasShadow(),ee=G?this.shadowOffsetX():0,se=G?this.shadowOffsetY():0,ne=N+Math.abs(ee),le=V+Math.abs(se),he=G&&this.shadowBlur()||0,we=ne+he*2,pe=le+he*2,ke={width:we,height:pe,x:-(M/2+he)+Math.min(ee,0)+S.x,y:-(M/2+he)+Math.min(se,0)+S.y};return D?ke:this._transformedRect(ke,U)}drawScene($,D){var U=this.getLayer(),S=$||U.getCanvas(),k=S.getContext(),M=this._getCanvasCache(),N=this.getSceneFunc(),V=this.hasShadow(),G,ee,se,ne=S.isCache,le=D===this;if(!this.isVisible()&&!le)return this;if(M){k.save();var he=this.getAbsoluteTransform(D).getMatrix();return k.transform(he[0],he[1],he[2],he[3],he[4],he[5]),this._drawCachedSceneCanvas(k),k.restore(),this}if(!N)return this;if(k.save(),this._useBufferCanvas()&&!ne){G=this.getStage(),ee=G.bufferCanvas,se=ee.getContext(),se.clear(),se.save(),se._applyLineJoin(this);var we=this.getAbsoluteTransform(D).getMatrix();se.transform(we[0],we[1],we[2],we[3],we[4],we[5]),N.call(this,se,this),se.restore();var pe=ee.pixelRatio;V&&k._applyShadow(this),k._applyOpacity(this),k._applyGlobalCompositeOperation(this),k.drawImage(ee._canvas,0,0,ee.width/pe,ee.height/pe)}else{if(k._applyLineJoin(this),!le){var we=this.getAbsoluteTransform(D).getMatrix();k.transform(we[0],we[1],we[2],we[3],we[4],we[5]),k._applyOpacity(this),k._applyGlobalCompositeOperation(this)}V&&k._applyShadow(this),N.call(this,k,this)}return k.restore(),this}drawHit($,D,U=!1){if(!this.shouldDrawHit(D,U))return this;var S=this.getLayer(),k=$||S.hitCanvas,M=k&&k.getContext(),N=this.hitFunc()||this.sceneFunc(),V=this._getCanvasCache(),G=V&&V.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){M.save();var ee=this.getAbsoluteTransform(D).getMatrix();return M.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedHitCanvas(M),M.restore(),this}if(!N)return this;if(M.save(),M._applyLineJoin(this),!(this===D)){var ne=this.getAbsoluteTransform(D).getMatrix();M.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5])}return N.call(this,M,this),M.restore(),this}drawHitFromCache($=0){var D=this._getCanvasCache(),U=this._getCachedSceneCanvas(),S=D.hit,k=S.getContext(),M=S.getWidth(),N=S.getHeight(),V,G,ee,se,ne,le;k.clear(),k.drawImage(U._canvas,0,0,M,N);try{for(V=k.getImageData(0,0,M,N),G=V.data,ee=G.length,se=i.Util._hexToRgb(this.colorKey),ne=0;ne<ee;ne+=4)le=G[ne+3],le>$?(G[ne]=se.r,G[ne+1]=se.g,G[ne+2]=se.b,G[ne+3]=255):G[ne+3]=0;k.putImageData(V,0,0)}catch(he){i.Util.error("Unable to draw hit graph from cached scene canvas. "+he.message)}return this}hasPointerCapture($){return a.hasPointerCapture($,this)}setPointerCapture($){a.setPointerCapture($,this)}releaseCapture($){a.releaseCapture($,this)}}t.Shape=O,O.prototype._fillFunc=y,O.prototype._strokeFunc=E,O.prototype._fillFuncHit=C,O.prototype._strokeFuncHit=m,O.prototype._centroid=!1,O.prototype.nodeType="Shape",(0,o._registerNode)(O),O.prototype.eventListeners={},O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",B),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",L),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",j),n.Factory.addGetterSetter(O,"stroke",void 0,(0,r.getStringOrGradientValidator)()),n.Factory.addGetterSetter(O,"strokeWidth",2,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(O,"hitStrokeWidth","auto",(0,r.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(O,"strokeHitEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(O,"perfectDrawEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(O,"shadowForStrokeEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(O,"lineJoin"),n.Factory.addGetterSetter(O,"lineCap"),n.Factory.addGetterSetter(O,"sceneFunc"),n.Factory.addGetterSetter(O,"hitFunc"),n.Factory.addGetterSetter(O,"dash"),n.Factory.addGetterSetter(O,"dashOffset",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowColor",void 0,(0,r.getStringValidator)()),n.Factory.addGetterSetter(O,"shadowBlur",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowOpacity",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(O,"shadowOffsetX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowOffsetY",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternImage"),n.Factory.addGetterSetter(O,"fill",void 0,(0,r.getStringOrGradientValidator)()),n.Factory.addGetterSetter(O,"fillPatternX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternY",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(O,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(O,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(O,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(O,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(O,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(O,"fillEnabled",!0),n.Factory.addGetterSetter(O,"strokeEnabled",!0),n.Factory.addGetterSetter(O,"shadowEnabled",!0),n.Factory.addGetterSetter(O,"dashEnabled",!0),n.Factory.addGetterSetter(O,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(O,"fillPriority","color"),n.Factory.addComponentsGetterSetter(O,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(O,"fillPatternOffsetX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternOffsetY",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(O,"fillPatternScaleX",1,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternScaleY",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(O,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(O,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(O,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(O,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(O,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(O,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(O,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(O,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(O,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(O,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(O,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(O,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(O,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(O,"fillPatternRotation",0),n.Factory.addGetterSetter(O,"fillRule",void 0,(0,r.getStringValidator)()),n.Factory.backCompat(O,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(fw)),fw}var jB;function QP(){if(jB)return Ld;jB=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.Layer=void 0;const t=on(),e=uy(),i=hn(),n=Gt(),s=ly(),r=Wt(),o=Un(),a=Kt();var l="#",u="beforeDraw",c="draw",A=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],h=A.length;let g=class extends e.Container{constructor(y){super(y),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),y<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[y+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=i.Node.prototype.moveUp.call(this);if(!y)return!1;var E=this.getStage();return!E||!E.content?!1:(E.content.removeChild(this.getNativeCanvasElement()),this.index<E.children.length-1?E.content.insertBefore(this.getNativeCanvasElement(),E.children[this.index+1].getCanvas()._canvas):E.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var E=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),E[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var E=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),E[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:E}){return this.canvas.setSize(y,E),this.hitCanvas.setSize(y,E),this._setSmoothEnabled(),this}_validateAdd(y){var E=y.getType();E!=="Group"&&E!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var E=1,C=!1;;){for(let m=0;m<h;m++){const b=A[m],_=this._getIntersection({x:y.x+b.x*E,y:y.y+b.y*E}),B=_.shape;if(B)return B;if(C=!!_.antialiased,!_.antialiased)break}if(C)E+=1;else return null}}_getIntersection(y){const E=this.hitCanvas.pixelRatio,C=this.hitCanvas.context.getImageData(Math.round(y.x*E),Math.round(y.y*E),1,1).data,m=C[3];if(m===255){const b=t.Util._rgbToHex(C[0],C[1],C[2]),_=o.shapes[l+b];return _?{shape:_}:{antialiased:!0}}else if(m>0)return{antialiased:!0};return{}}drawScene(y,E){var C=this.getLayer(),m=y||C&&C.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&m.getContext().clear(),e.Container.prototype.drawScene.call(this,m,E),this._fire(c,{node:this}),this}drawHit(y,E){var C=this.getLayer(),m=y||C&&C.hitCanvas;return C&&C.clearBeforeDraw()&&C.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,m,E),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,E=!!this.hitCanvas._canvas.parentNode;E?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Ld.Layer=g,g.prototype.nodeType="Layer",(0,a._registerNode)(g),n.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(g,"clearBeforeDraw",!0),n.Factory.addGetterSetter(g,"hitGraphEnabled",!0,(0,r.getBooleanValidator)()),Ld}var Pd={},VB;function nve(){if(VB)return Pd;VB=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.FastLayer=void 0;const t=on(),e=QP(),i=Kt();let n=class extends e.Layer{constructor(r){super(r),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Pd.FastLayer=n,n.prototype.nodeType="FastLayer",(0,i._registerNode)(n),Pd}var Md={},zB;function XE(){if(zB)return Md;zB=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.Group=void 0;const t=on(),e=uy(),i=Kt();let n=class extends e.Container{_validateAdd(r){var o=r.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Md.Group=n,n.prototype.nodeType="Group",(0,i._registerNode)(n),Md}var Rd={},GB;function JE(){if(GB)return Rd;GB=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Animation=void 0;const t=Kt(),e=on(),i=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class MA{constructor(r,o){this.id=MA.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=r,this.setLayers(o)}setLayers(r){let o=[];return r&&(o=Array.isArray(r)?r:[r]),this.layers=o,this}getLayers(){return this.layers}addLayer(r){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===r._id)return!1;return this.layers.push(r),!0}isRunning(){const o=MA.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),MA._addAnimation(this),this}stop(){return MA._removeAnimation(this),this}_updateFrameObject(r){this.frame.timeDiff=r-this.frame.lastTime,this.frame.lastTime=r,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(r){this.animations.push(r),this._handleAnimation()}static _removeAnimation(r){const o=r.id,a=this.animations,l=a.length;for(let u=0;u<l;u++)if(a[u].id===o){this.animations.splice(u,1);break}}static _runFrames(){const r={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],u=l.layers,c=l.func;l._updateFrameObject(i());const A=u.length;let h;if(c?h=c.call(l,l.frame)!==!1:h=!0,!!h)for(let g=0;g<A;g++){const f=u[g];f._id!==void 0&&(r[f._id]=f)}}for(let a in r)r.hasOwnProperty(a)&&r[a].batchDraw()}static _animationLoop(){const r=MA;r.animations.length?(r._runFrames(),e.Util.requestAnimFrame(r._animationLoop)):r.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Rd.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Rd}var pw={},KB;function sve(){return KB||(KB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=on(),i=JE(),n=hn(),s=Kt();var r={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,u=0,c=["fill","stroke","shadowColor"];class A{constructor(f,y,E,C,m,b,_){this.prop=f,this.propFunc=y,this.begin=C,this._pos=C,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=m-this.begin,this.pause()}fire(f){var y=this[f];y&&y()}setTime(f){f>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():f<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=f,this.update())}getTime(){return this._time}setPosition(f){this.prevPos=this._pos,this.propFunc(f),this._pos=f}getPosition(f){return f===void 0&&(f=this._time),this.func(f,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(f){this.pause(),this._time=f,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var f=this.getTimer()-this._startTime;this.state===a?this.setTime(f):this.state===l&&this.setTime(this.duration-f)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class h{constructor(f){var y=this,E=f.node,C=E._id,m,b=f.easing||t.Easings.Linear,_=!!f.yoyo,B;typeof f.duration>"u"?m=.3:f.duration===0?m=.001:m=f.duration,this.node=E,this._id=u++;var L=E.getLayer()||(E instanceof s.Konva.Stage?E.getLayers():null);L||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){y.tween.onEnterFrame()},L),this.tween=new A(B,function(j){y._tweenFunc(j)},b,0,1,m*1e3,_),this._addListeners(),h.attrs[C]||(h.attrs[C]={}),h.attrs[C][this._id]||(h.attrs[C][this._id]={}),h.tweens[C]||(h.tweens[C]={});for(B in f)r[B]===void 0&&this._addAttr(B,f[B]);this.reset(),this.onFinish=f.onFinish,this.onReset=f.onReset,this.onUpdate=f.onUpdate}_addAttr(f,y){var E=this.node,C=E._id,m,b,_,B,L,j,O,Q;if(_=h.tweens[C][f],_&&delete h.attrs[C][_][f],m=E.getAttr(f),e.Util._isArray(y))if(b=[],L=Math.max(y.length,m.length),f==="points"&&y.length!==m.length&&(y.length>m.length?(O=m,m=e.Util._prepareArrayForTween(m,y,E.closed())):(j=y,y=e.Util._prepareArrayForTween(y,m,E.closed()))),f.indexOf("fill")===0)for(B=0;B<L;B++)if(B%2===0)b.push(y[B]-m[B]);else{var $=e.Util.colorToRGBA(m[B]);Q=e.Util.colorToRGBA(y[B]),m[B]=$,b.push({r:Q.r-$.r,g:Q.g-$.g,b:Q.b-$.b,a:Q.a-$.a})}else for(B=0;B<L;B++)b.push(y[B]-m[B]);else c.indexOf(f)!==-1?(m=e.Util.colorToRGBA(m),Q=e.Util.colorToRGBA(y),b={r:Q.r-m.r,g:Q.g-m.g,b:Q.b-m.b,a:Q.a-m.a}):b=y-m;h.attrs[C][this._id][f]={start:m,diff:b,end:y,trueEnd:j,trueStart:O},h.tweens[C][f]=this._id}_tweenFunc(f){var y=this.node,E=h.attrs[y._id][this._id],C,m,b,_,B,L,j,O;for(C in E){if(m=E[C],b=m.start,_=m.diff,O=m.end,e.Util._isArray(b))if(B=[],j=Math.max(b.length,O.length),C.indexOf("fill")===0)for(L=0;L<j;L++)L%2===0?B.push((b[L]||0)+_[L]*f):B.push("rgba("+Math.round(b[L].r+_[L].r*f)+","+Math.round(b[L].g+_[L].g*f)+","+Math.round(b[L].b+_[L].b*f)+","+(b[L].a+_[L].a*f)+")");else for(L=0;L<j;L++)B.push((b[L]||0)+_[L]*f);else c.indexOf(C)!==-1?B="rgba("+Math.round(b.r+_.r*f)+","+Math.round(b.g+_.g*f)+","+Math.round(b.b+_.b*f)+","+(b.a+_.a*f)+")":B=b+_*f;y.setAttr(C,B)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var f=this.node,y=h.attrs[f._id][this._id];y.points&&y.points.trueEnd&&f.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var f=this.node,y=h.attrs[f._id][this._id];y.points&&y.points.trueStart&&f.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(f){return this.tween.seek(f*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var f=this.node._id,y=this._id,E=h.tweens[f],C;this.pause();for(C in E)delete h.tweens[f][C];delete h.attrs[f][y]}}t.Tween=h,h.attrs={},h.tweens={},n.Node.prototype.to=function(g){var f=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),f&&f()};var y=new h(g);y.play()},t.Easings={BackEaseIn(g,f,y,E){var C=1.70158;return y*(g/=E)*g*((C+1)*g-C)+f},BackEaseOut(g,f,y,E){var C=1.70158;return y*((g=g/E-1)*g*((C+1)*g+C)+1)+f},BackEaseInOut(g,f,y,E){var C=1.70158;return(g/=E/2)<1?y/2*(g*g*(((C*=1.525)+1)*g-C))+f:y/2*((g-=2)*g*(((C*=1.525)+1)*g+C)+2)+f},ElasticEaseIn(g,f,y,E,C,m){var b=0;return g===0?f:(g/=E)===1?f+y:(m||(m=E*.3),!C||C<Math.abs(y)?(C=y,b=m/4):b=m/(2*Math.PI)*Math.asin(y/C),-(C*Math.pow(2,10*(g-=1))*Math.sin((g*E-b)*(2*Math.PI)/m))+f)},ElasticEaseOut(g,f,y,E,C,m){var b=0;return g===0?f:(g/=E)===1?f+y:(m||(m=E*.3),!C||C<Math.abs(y)?(C=y,b=m/4):b=m/(2*Math.PI)*Math.asin(y/C),C*Math.pow(2,-10*g)*Math.sin((g*E-b)*(2*Math.PI)/m)+y+f)},ElasticEaseInOut(g,f,y,E,C,m){var b=0;return g===0?f:(g/=E/2)===2?f+y:(m||(m=E*(.3*1.5)),!C||C<Math.abs(y)?(C=y,b=m/4):b=m/(2*Math.PI)*Math.asin(y/C),g<1?-.5*(C*Math.pow(2,10*(g-=1))*Math.sin((g*E-b)*(2*Math.PI)/m))+f:C*Math.pow(2,-10*(g-=1))*Math.sin((g*E-b)*(2*Math.PI)/m)*.5+y+f)},BounceEaseOut(g,f,y,E){return(g/=E)<1/2.75?y*(7.5625*g*g)+f:g<2/2.75?y*(7.5625*(g-=1.5/2.75)*g+.75)+f:g<2.5/2.75?y*(7.5625*(g-=2.25/2.75)*g+.9375)+f:y*(7.5625*(g-=2.625/2.75)*g+.984375)+f},BounceEaseIn(g,f,y,E){return y-t.Easings.BounceEaseOut(E-g,0,y,E)+f},BounceEaseInOut(g,f,y,E){return g<E/2?t.Easings.BounceEaseIn(g*2,0,y,E)*.5+f:t.Easings.BounceEaseOut(g*2-E,0,y,E)*.5+y*.5+f},EaseIn(g,f,y,E){return y*(g/=E)*g+f},EaseOut(g,f,y,E){return-y*(g/=E)*(g-2)+f},EaseInOut(g,f,y,E){return(g/=E/2)<1?y/2*g*g+f:-y/2*(--g*(g-2)-1)+f},StrongEaseIn(g,f,y,E){return y*(g/=E)*g*g*g*g+f},StrongEaseOut(g,f,y,E){return y*((g=g/E-1)*g*g*g*g+1)+f},StrongEaseInOut(g,f,y,E){return(g/=E/2)<1?y/2*g*g*g*g*g+f:y/2*((g-=2)*g*g*g*g+2)+f},Linear(g,f,y,E){return y*g/E+f}}}(pw)),pw}var WB;function rve(){return WB||(WB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Kt(),i=on(),n=hn(),s=uy(),r=ive(),o=QP(),a=nve(),l=XE(),u=YE(),c=Un(),A=JE(),h=sve(),g=NP(),f=ly();t.Konva=i.Util._assign(e.Konva,{Util:i.Util,Transform:i.Transform,Node:n.Node,Container:s.Container,Stage:r.Stage,stages:r.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:u.DD,Shape:c.Shape,shapes:c.shapes,Animation:A.Animation,Tween:h.Tween,Easings:h.Easings,Context:g.Context,Canvas:f.Canvas}),t.default=t.Konva}(lw)),lw}var Od={},qB;function ove(){if(qB)return Od;qB=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Arc=void 0;const t=Gt(),e=Un(),i=Kt(),n=Wt(),s=Kt();let r=class extends e.Shape{_sceneFunc(a){var l=i.Konva.getAngle(this.angle()),u=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,u),a.arc(0,0,this.innerRadius(),l,0,!u),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),c=i.Konva.getAngle(u?360-this.angle():this.angle()),A=Math.cos(Math.min(c,Math.PI)),h=1,g=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),f=Math.sin(Math.min(c,Math.PI/2)),y=A*(A>0?a:l),E=h*l,C=g*(g>0?a:l),m=f*(f>0?l:a);return{x:y,y:u?-1*m:C,width:E-y,height:m-C}}};return Od.Arc=r,r.prototype._centroid=!0,r.prototype.className="Arc",r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(r),t.Factory.addGetterSetter(r,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clockwise",!1,(0,n.getBooleanValidator)()),Od}var Ud={},Nd={},YB;function $P(){if(YB)return Nd;YB=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.Line=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();function s(a,l,u,c,A,h,g){var f=Math.sqrt(Math.pow(u-a,2)+Math.pow(c-l,2)),y=Math.sqrt(Math.pow(A-u,2)+Math.pow(h-c,2)),E=g*f/(f+y),C=g*y/(f+y),m=u-E*(A-a),b=c-E*(h-l),_=u+C*(A-a),B=c+C*(h-l);return[m,b,_,B]}function r(a,l){var u=a.length,c=[],A,h;for(A=2;A<u-2;A+=2)h=s(a[A-2],a[A-1],a[A],a[A+1],a[A+2],a[A+3],l),!isNaN(h[0])&&(c.push(h[0]),c.push(h[1]),c.push(a[A]),c.push(a[A+1]),c.push(h[2]),c.push(h[3]));return c}let o=class extends e.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){var u=this.points(),c=u.length,A=this.tension(),h=this.closed(),g=this.bezier(),f,y,E;if(c){if(l.beginPath(),l.moveTo(u[0],u[1]),A!==0&&c>4){for(f=this.getTensionPoints(),y=f.length,E=h?0:4,h||l.quadraticCurveTo(f[0],f[1],f[2],f[3]);E<y-2;)l.bezierCurveTo(f[E++],f[E++],f[E++],f[E++],f[E++],f[E++]);h||l.quadraticCurveTo(f[y-2],f[y-1],u[c-2],u[c-1])}else if(g)for(E=2;E<c;)l.bezierCurveTo(u[E++],u[E++],u[E++],u[E++],u[E++],u[E++]);else for(E=2;E<c;E+=2)l.lineTo(u[E],u[E+1]);h?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r(this.points(),this.tension())}_getTensionPointsClosed(){var l=this.points(),u=l.length,c=this.tension(),A=s(l[u-2],l[u-1],l[0],l[1],l[2],l[3],c),h=s(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],c),g=r(l,c),f=[A[2],A[3]].concat(g).concat([h[0],h[1],l[u-2],l[u-1],h[2],h[3],A[0],A[1],l[0],l[1]]);return f}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();for(var u=l[0],c=l[0],A=l[1],h=l[1],g,f,y=0;y<l.length/2;y++)g=l[y*2],f=l[y*2+1],u=Math.min(u,g),c=Math.max(c,g),A=Math.min(A,f),h=Math.max(h,f);return{x:u,y:A,width:c-u,height:h-A}}};return Nd.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,n._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,i.getNumberArrayValidator)()),Nd}var Hd={},gw={},XB;function ave(){return XB||(XB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let u,c,A;u=l/2,c=0;for(let g=0;g<20;g++)A=u*t.tValues[20][g]+u,c+=t.cValues[20][g]*n(o,a,A);return u*c};t.getCubicArcLength=e;const i=(o,a,l)=>{l===void 0&&(l=1);const u=o[0]-2*o[1]+o[2],c=a[0]-2*a[1]+a[2],A=2*o[1]-2*o[0],h=2*a[1]-2*a[0],g=4*(u*u+c*c),f=4*(u*A+c*h),y=A*A+h*h;if(g===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const E=f/(2*g),C=y/g,m=l+E,b=C-E*E,_=m*m+b>0?Math.sqrt(m*m+b):0,B=E*E+b>0?Math.sqrt(E*E+b):0,L=E+Math.sqrt(E*E+b)!==0?b*Math.log(Math.abs((m+_)/(E+B))):0;return Math.sqrt(g)/2*(m*_-E*B+L)};t.getQuadraticArcLength=i;function n(o,a,l){const u=s(1,l,o),c=s(1,l,a),A=u*u+c*c;return Math.sqrt(A)}const s=(o,a,l)=>{const u=l.length-1;let c,A;if(u===0)return 0;if(o===0){A=0;for(let h=0;h<=u;h++)A+=t.binomialCoefficients[u][h]*Math.pow(1-a,u-h)*Math.pow(a,h)*l[h];return A}else{c=new Array(u);for(let h=0;h<u;h++)c[h]=u*(l[h+1]-l[h]);return s(o-1,a,c)}},r=(o,a,l)=>{let u=1,c=o/a,A=(o-l(c))/a,h=0;for(;u>.001;){const g=l(c+A),f=Math.abs(o-g)/a;if(f<u)u=f,c+=A;else{const y=l(c-A),E=Math.abs(o-y)/a;E<u?(u=E,c-=A):A/=2}if(h++,h>500)break}return c};t.t2length=r}(gw)),gw}var JB;function ZE(){if(JB)return Hd;JB=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.Path=void 0;const t=Gt(),e=Un(),i=Kt(),n=ave();let s=class Ms extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ms.parsePathData(this.data()),this.pathLength=Ms.getPathLength(this.dataArray)}_sceneFunc(o){var a=this.dataArray;o.beginPath();for(var l=!1,u=0;u<a.length;u++){var c=a[u].command,A=a[u].points;switch(c){case"L":o.lineTo(A[0],A[1]);break;case"M":o.moveTo(A[0],A[1]);break;case"C":o.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case"Q":o.quadraticCurveTo(A[0],A[1],A[2],A[3]);break;case"A":var h=A[0],g=A[1],f=A[2],y=A[3],E=A[4],C=A[5],m=A[6],b=A[7],_=f>y?f:y,B=f>y?1:f/y,L=f>y?y/f:1;o.translate(h,g),o.rotate(m),o.scale(B,L),o.arc(0,0,_,E,E+C,1-b),o.scale(1/B,1/L),o.rotate(-m),o.translate(-h,-g);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){var o=[];this.dataArray.forEach(function(f){if(f.command==="A"){var y=f.points[4],E=f.points[5],C=f.points[4]+E,m=Math.PI/180;if(Math.abs(y-C)<m&&(m=Math.abs(y-C)),E<0)for(let b=y-m;b>C;b-=m){const _=Ms.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],b,0);o.push(_.x,_.y)}else for(let b=y+m;b<C;b+=m){const _=Ms.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],b,0);o.push(_.x,_.y)}}else if(f.command==="C")for(let b=0;b<=1;b+=.01){const _=Ms.getPointOnCubicBezier(b,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);o.push(_.x,_.y)}else o=o.concat(f.points)});for(var a=o[0],l=o[0],u=o[1],c=o[1],A,h,g=0;g<o.length/2;g++)A=o[g*2],h=o[g*2+1],isNaN(A)||(a=Math.min(a,A),l=Math.max(l,A)),isNaN(h)||(u=Math.min(u,h),c=Math.max(c,h));return{x:a,y:u,width:l-a,height:c-u}}getLength(){return this.pathLength}getPointAtLength(o){return Ms.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,u){return Math.sqrt((l-o)*(l-o)+(u-a)*(u-a))}static getPathLength(o){let a=0;for(var l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){var l,u=0,c=a.length;if(!c)return null;for(;u<c&&o>a[u].pathLength;)o-=a[u].pathLength,++u;if(u===c)return l=a[u-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[u].points.slice(0,2),{x:l[0],y:l[1]};var A=a[u],h=A.points;switch(A.command){case"L":return Ms.getPointOnLine(o,A.start.x,A.start.y,h[0],h[1]);case"C":return Ms.getPointOnCubicBezier((0,n.t2length)(o,Ms.getPathLength(a),_=>(0,n.getCubicArcLength)([A.start.x,h[0],h[2],h[4]],[A.start.y,h[1],h[3],h[5]],_)),A.start.x,A.start.y,h[0],h[1],h[2],h[3],h[4],h[5]);case"Q":return Ms.getPointOnQuadraticBezier((0,n.t2length)(o,Ms.getPathLength(a),_=>(0,n.getQuadraticArcLength)([A.start.x,h[0],h[2]],[A.start.y,h[1],h[3]],_)),A.start.x,A.start.y,h[0],h[1],h[2],h[3]);case"A":var g=h[0],f=h[1],y=h[2],E=h[3],C=h[4],m=h[5],b=h[6];return C+=m*o/A.pathLength,Ms.getPointOnEllipticalArc(g,f,y,E,C,b)}return null}static getPointOnLine(o,a,l,u,c,A,h){A===void 0&&(A=a),h===void 0&&(h=l);var g=(c-l)/(u-a+1e-8),f=Math.sqrt(o*o/(1+g*g));u<a&&(f*=-1);var y=g*f,E;if(u===a)E={x:A,y:h+y};else if((h-l)/(A-a+1e-8)===g)E={x:A+f,y:h+y};else{var C,m,b=this.getLineLength(a,l,u,c),_=(A-a)*(u-a)+(h-l)*(c-l);_=_/(b*b),C=a+_*(u-a),m=l+_*(c-l);var B=this.getLineLength(A,h,C,m),L=Math.sqrt(o*o-B*B);f=Math.sqrt(L*L/(1+g*g)),u<a&&(f*=-1),y=g*f,E={x:C+f,y:m+y}}return E}static getPointOnCubicBezier(o,a,l,u,c,A,h,g,f){function y(B){return B*B*B}function E(B){return 3*B*B*(1-B)}function C(B){return 3*B*(1-B)*(1-B)}function m(B){return(1-B)*(1-B)*(1-B)}var b=g*y(o)+A*E(o)+u*C(o)+a*m(o),_=f*y(o)+h*E(o)+c*C(o)+l*m(o);return{x:b,y:_}}static getPointOnQuadraticBezier(o,a,l,u,c,A,h){function g(m){return m*m}function f(m){return 2*m*(1-m)}function y(m){return(1-m)*(1-m)}var E=A*g(o)+u*f(o)+a*y(o),C=h*g(o)+c*f(o)+l*y(o);return{x:E,y:C}}static getPointOnEllipticalArc(o,a,l,u,c,A){var h=Math.cos(A),g=Math.sin(A),f={x:l*Math.cos(c),y:u*Math.sin(c)};return{x:o+(f.x*h-f.y*g),y:a+(f.x*g+f.y*h)}}static parsePathData(o){if(!o)return[];var a=o,l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)a=a.replace(new RegExp(l[u],"g"),"|"+l[u]);var c=a.split("|"),A=[],h=[],g=0,f=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,E;for(u=1;u<c.length;u++){var C=c[u],m=C.charAt(0);for(C=C.slice(1),h.length=0;E=y.exec(C);)h.push(E[0]);for(var b=[],_=0,B=h.length;_<B;_++){if(h[_]==="00"){b.push(0,0);continue}var L=parseFloat(h[_]);isNaN(L)?b.push(0):b.push(L)}for(;b.length>0&&!isNaN(b[0]);){var j="",O=[],Q=g,$=f,D,U,S,k,M,N,V,G,ee,se;switch(m){case"l":g+=b.shift(),f+=b.shift(),j="L",O.push(g,f);break;case"L":g=b.shift(),f=b.shift(),O.push(g,f);break;case"m":var ne=b.shift(),le=b.shift();if(g+=ne,f+=le,j="M",A.length>2&&A[A.length-1].command==="z"){for(var he=A.length-2;he>=0;he--)if(A[he].command==="M"){g=A[he].points[0]+ne,f=A[he].points[1]+le;break}}O.push(g,f),m="l";break;case"M":g=b.shift(),f=b.shift(),j="M",O.push(g,f),m="L";break;case"h":g+=b.shift(),j="L",O.push(g,f);break;case"H":g=b.shift(),j="L",O.push(g,f);break;case"v":f+=b.shift(),j="L",O.push(g,f);break;case"V":f=b.shift(),j="L",O.push(g,f);break;case"C":O.push(b.shift(),b.shift(),b.shift(),b.shift()),g=b.shift(),f=b.shift(),O.push(g,f);break;case"c":O.push(g+b.shift(),f+b.shift(),g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),j="C",O.push(g,f);break;case"S":U=g,S=f,D=A[A.length-1],D.command==="C"&&(U=g+(g-D.points[2]),S=f+(f-D.points[3])),O.push(U,S,b.shift(),b.shift()),g=b.shift(),f=b.shift(),j="C",O.push(g,f);break;case"s":U=g,S=f,D=A[A.length-1],D.command==="C"&&(U=g+(g-D.points[2]),S=f+(f-D.points[3])),O.push(U,S,g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),j="C",O.push(g,f);break;case"Q":O.push(b.shift(),b.shift()),g=b.shift(),f=b.shift(),O.push(g,f);break;case"q":O.push(g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),j="Q",O.push(g,f);break;case"T":U=g,S=f,D=A[A.length-1],D.command==="Q"&&(U=g+(g-D.points[0]),S=f+(f-D.points[1])),g=b.shift(),f=b.shift(),j="Q",O.push(U,S,g,f);break;case"t":U=g,S=f,D=A[A.length-1],D.command==="Q"&&(U=g+(g-D.points[0]),S=f+(f-D.points[1])),g+=b.shift(),f+=b.shift(),j="Q",O.push(U,S,g,f);break;case"A":k=b.shift(),M=b.shift(),N=b.shift(),V=b.shift(),G=b.shift(),ee=g,se=f,g=b.shift(),f=b.shift(),j="A",O=this.convertEndpointToCenterParameterization(ee,se,g,f,V,G,k,M,N);break;case"a":k=b.shift(),M=b.shift(),N=b.shift(),V=b.shift(),G=b.shift(),ee=g,se=f,g+=b.shift(),f+=b.shift(),j="A",O=this.convertEndpointToCenterParameterization(ee,se,g,f,V,G,k,M,N);break}A.push({command:j||m,points:O,start:{x:Q,y:$},pathLength:this.calcLength(Q,$,j||m,O)})}(m==="z"||m==="Z")&&A.push({command:"z",points:[],start:void 0,pathLength:0})}return A}static calcLength(o,a,l,u){var c,A,h,g,f=Ms;switch(l){case"L":return f.getLineLength(o,a,u[0],u[1]);case"C":return(0,n.getCubicArcLength)([o,u[0],u[2],u[4]],[a,u[1],u[3],u[5]],1);case"Q":return(0,n.getQuadraticArcLength)([o,u[0],u[2]],[a,u[1],u[3]],1);case"A":c=0;var y=u[4],E=u[5],C=u[4]+E,m=Math.PI/180;if(Math.abs(y-C)<m&&(m=Math.abs(y-C)),A=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),E<0)for(g=y-m;g>C;g-=m)h=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],g,0),c+=f.getLineLength(A.x,A.y,h.x,h.y),A=h;else for(g=y+m;g<C;g+=m)h=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],g,0),c+=f.getLineLength(A.x,A.y,h.x,h.y),A=h;return h=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],C,0),c+=f.getLineLength(A.x,A.y,h.x,h.y),c}return 0}static convertEndpointToCenterParameterization(o,a,l,u,c,A,h,g,f){var y=f*(Math.PI/180),E=Math.cos(y)*(o-l)/2+Math.sin(y)*(a-u)/2,C=-1*Math.sin(y)*(o-l)/2+Math.cos(y)*(a-u)/2,m=E*E/(h*h)+C*C/(g*g);m>1&&(h*=Math.sqrt(m),g*=Math.sqrt(m));var b=Math.sqrt((h*h*(g*g)-h*h*(C*C)-g*g*(E*E))/(h*h*(C*C)+g*g*(E*E)));c===A&&(b*=-1),isNaN(b)&&(b=0);var _=b*h*C/g,B=b*-g*E/h,L=(o+l)/2+Math.cos(y)*_-Math.sin(y)*B,j=(a+u)/2+Math.sin(y)*_+Math.cos(y)*B,O=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},Q=function(M,N){return(M[0]*N[0]+M[1]*N[1])/(O(M)*O(N))},$=function(M,N){return(M[0]*N[1]<M[1]*N[0]?-1:1)*Math.acos(Q(M,N))},D=$([1,0],[(E-_)/h,(C-B)/g]),U=[(E-_)/h,(C-B)/g],S=[(-1*E-_)/h,(-1*C-B)/g],k=$(U,S);return Q(U,S)<=-1&&(k=Math.PI),Q(U,S)>=1&&(k=0),A===0&&k>0&&(k=k-2*Math.PI),A===1&&k<0&&(k=k+2*Math.PI),[L,j,h,g,D,k,y,A]}};return Hd.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Hd}var ZB;function lve(){if(ZB)return Ud;ZB=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.Arrow=void 0;const t=Gt(),e=$P(),i=Wt(),n=Kt(),s=ZE();let r=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);var l=Math.PI*2,u=this.points(),c=u,A=this.tension()!==0&&u.length>4;A&&(c=this.getTensionPoints());var h=this.pointerLength(),g=u.length,f,y;if(A){const m=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],u[g-2],u[g-1]],b=s.Path.calcLength(c[c.length-4],c[c.length-3],"C",m),_=s.Path.getPointOnQuadraticBezier(Math.min(1,1-h/b),m[0],m[1],m[2],m[3],m[4],m[5]);f=u[g-2]-_.x,y=u[g-1]-_.y}else f=u[g-2]-u[g-4],y=u[g-1]-u[g-3];var E=(Math.atan2(y,f)+l)%l,C=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(u[g-2],u[g-1]),a.rotate(E),a.moveTo(0,0),a.lineTo(-h,C/2),a.lineTo(-h,-C/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(u[0],u[1]),A?(f=(c[0]+c[2])/2-u[0],y=(c[1]+c[3])/2-u[1]):(f=u[2]-u[0],y=u[3]-u[1]),a.rotate((Math.atan2(-y,-f)+l)%l),a.moveTo(0,0),a.lineTo(-h,C/2),a.lineTo(-h,-C/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){var l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x-l,y:a.y-l,width:a.width+l*2,height:a.height+l*2}}};return Ud.Arrow=r,r.prototype.className="Arrow",(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"pointerLength",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"pointerWidth",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"pointerAtBeginning",!1),t.Factory.addGetterSetter(r,"pointerAtEnding",!0),Ud}var Qd={},e4;function uve(){if(e4)return Qd;e4=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.Circle=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();let s=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Qd.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),Qd}var $d={},t4;function cve(){if(t4)return $d;t4=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.Ellipse=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();let s=class extends e.Shape{_sceneFunc(o){var a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return $d.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,i.getNumberValidator)()),$d}var jd={},i4;function Ave(){if(i4)return jd;i4=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.Image=void 0;const t=on(),e=Gt(),i=Un(),n=Kt(),s=Wt();class r extends i.Shape{constructor(a){super(a),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),u=this.getHeight(),c=this.cornerRadius(),A=this.attrs.image;let h;if(A){const g=this.attrs.cropWidth,f=this.attrs.cropHeight;g&&f?h=[A,this.cropX(),this.cropY(),g,f,0,0,l,u]:h=[A,0,0,l,u]}(this.hasFill()||this.hasStroke()||c)&&(a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)),A&&(c&&a.clip(),a.drawImage.apply(a,h))}_hitFunc(a){var l=this.width(),u=this.height(),c=this.cornerRadius();a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,u=null){var c=t.Util.createImageElement();c.onload=function(){var A=new r({image:c});l(A)},c.onerror=u,c.crossOrigin="Anonymous",c.src=a}}return jd.Image=r,r.prototype.className="Image",(0,n._registerNode)(r),e.Factory.addGetterSetter(r,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(r,"image"),e.Factory.addComponentsGetterSetter(r,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(r,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropHeight",0,(0,s.getNumberValidator)()),jd}var sc={},n4;function hve(){if(n4)return sc;n4=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Tag=sc.Label=void 0;const t=Gt(),e=Un(),i=XE(),n=Wt(),s=Kt();var r=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",u="right",c="down",A="left",h=r.length;let g=class extends i.Group{constructor(E){super(E),this.on("add.konva",function(C){this._addListeners(C.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(E){var C=this,m,b=function(){C._sync()};for(m=0;m<h;m++)E.on(r[m]+o,b)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var E=this.getText(),C=this.getTag(),m,b,_,B,L,j,O;if(E&&C){switch(m=E.width(),b=E.height(),_=C.pointerDirection(),B=C.pointerWidth(),O=C.pointerHeight(),L=0,j=0,_){case l:L=m/2,j=-1*O;break;case u:L=m+B,j=b/2;break;case c:L=m/2,j=b+O;break;case A:L=-1*B,j=b/2;break}C.setAttrs({x:-1*L,y:-1*j,width:m,height:b}),E.setAttrs({x:-1*L,y:-1*j})}}};sc.Label=g,g.prototype.className="Label",(0,s._registerNode)(g);class f extends e.Shape{_sceneFunc(E){var C=this.width(),m=this.height(),b=this.pointerDirection(),_=this.pointerWidth(),B=this.pointerHeight(),L=this.cornerRadius();let j=0,O=0,Q=0,$=0;typeof L=="number"?j=O=Q=$=Math.min(L,C/2,m/2):(j=Math.min(L[0]||0,C/2,m/2),O=Math.min(L[1]||0,C/2,m/2),$=Math.min(L[2]||0,C/2,m/2),Q=Math.min(L[3]||0,C/2,m/2)),E.beginPath(),E.moveTo(j,0),b===l&&(E.lineTo((C-_)/2,0),E.lineTo(C/2,-1*B),E.lineTo((C+_)/2,0)),E.lineTo(C-O,0),E.arc(C-O,O,O,Math.PI*3/2,0,!1),b===u&&(E.lineTo(C,(m-B)/2),E.lineTo(C+_,m/2),E.lineTo(C,(m+B)/2)),E.lineTo(C,m-$),E.arc(C-$,m-$,$,0,Math.PI/2,!1),b===c&&(E.lineTo((C+_)/2,m),E.lineTo(C/2,m+B),E.lineTo((C-_)/2,m)),E.lineTo(Q,m),E.arc(Q,m-Q,Q,Math.PI/2,Math.PI,!1),b===A&&(E.lineTo(0,(m+B)/2),E.lineTo(-1*_,m/2),E.lineTo(0,(m-B)/2)),E.lineTo(0,j),E.arc(j,j,j,Math.PI,Math.PI*3/2,!1),E.closePath(),E.fillStrokeShape(this)}getSelfRect(){var E=0,C=0,m=this.pointerWidth(),b=this.pointerHeight(),_=this.pointerDirection(),B=this.width(),L=this.height();return _===l?(C-=b,L+=b):_===c?L+=b:_===A?(E-=m*1.5,B+=m):_===u&&(B+=m*1.5),{x:E,y:C,width:B,height:L}}}return sc.Tag=f,f.prototype.className="Tag",(0,s._registerNode)(f),t.Factory.addGetterSetter(f,"pointerDirection",a),t.Factory.addGetterSetter(f,"pointerWidth",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(f,"pointerHeight",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(f,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),sc}var Vd={},s4;function jP(){if(s4)return Vd;s4=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.Rect=void 0;const t=Gt(),e=Un(),i=Kt(),n=on(),s=Wt();let r=class extends e.Shape{_sceneFunc(a){var l=this.cornerRadius(),u=this.width(),c=this.height();a.beginPath(),l?n.Util.drawRoundedRectPath(a,u,c,l):a.rect(0,0,u,c),a.closePath(),a.fillStrokeShape(this)}};return Vd.Rect=r,r.prototype.className="Rect",(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Vd}var zd={},r4;function dve(){if(r4)return zd;r4=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.RegularPolygon=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();let s=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(var l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(var u=0;u<o;u++)l.push({x:a*Math.sin(u*2*Math.PI/o),y:-1*a*Math.cos(u*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();var a=o[0].x,l=o[0].y,u=o[0].x,c=o[0].y;return o.forEach(A=>{a=Math.min(a,A.x),l=Math.max(l,A.x),u=Math.min(u,A.y),c=Math.max(c,A.y)}),{x:a,y:u,width:l-a,height:c-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return zd.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,i.getNumberValidator)()),zd}var Gd={},o4;function fve(){if(o4)return Gd;o4=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Ring=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();var s=Math.PI*2;let r=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,s,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),s,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Gd.Ring=r,r.prototype.className="Ring",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,i.getNumberValidator)()),Gd}var Kd={},a4;function pve(){if(a4)return Kd;a4=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.Sprite=void 0;const t=Gt(),e=Un(),i=JE(),n=Wt(),s=Kt();let r=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new i.Animation(()=>{var l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){var l=this.animation(),u=this.frameIndex(),c=u*4,A=this.animations()[l],h=this.frameOffsets(),g=A[c+0],f=A[c+1],y=A[c+2],E=A[c+3],C=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,y,E),a.closePath(),a.fillStrokeShape(this)),C)if(h){var m=h[l],b=u*2;a.drawImage(C,g,f,y,E,m[b+0],m[b+1],y,E)}else a.drawImage(C,g,f,y,E,0,0,y,E)}_hitFunc(a){var l=this.animation(),u=this.frameIndex(),c=u*4,A=this.animations()[l],h=this.frameOffsets(),g=A[c+2],f=A[c+3];if(a.beginPath(),h){var y=h[l],E=u*2;a.rect(y[E+0],y[E+1],g,f)}else a.rect(0,0,g,f);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var a=this.frameIndex(),l=this.animation(),u=this.animations(),c=u[l],A=c.length/4;a<A-1?this.frameIndex(a+1):this.frameIndex(0)}};return Kd.Sprite=r,r.prototype.className="Sprite",(0,s._registerNode)(r),t.Factory.addGetterSetter(r,"animation"),t.Factory.addGetterSetter(r,"animations"),t.Factory.addGetterSetter(r,"frameOffsets"),t.Factory.addGetterSetter(r,"image"),t.Factory.addGetterSetter(r,"frameIndex",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"frameRate",17,(0,n.getNumberValidator)()),t.Factory.backCompat(r,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kd}var Wd={},l4;function gve(){if(l4)return Wd;l4=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.Star=void 0;const t=Gt(),e=Un(),i=Wt(),n=Kt();let s=class extends e.Shape{_sceneFunc(o){var a=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(var c=1;c<u*2;c++){var A=c%2===0?l:a,h=A*Math.sin(c*Math.PI/u),g=-1*A*Math.cos(c*Math.PI/u);o.lineTo(h,g)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Wd.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),Wd}var rc={},u4;function VP(){if(u4)return rc;u4=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Text=rc.stringToArray=void 0;const t=on(),e=Gt(),i=Un(),n=Wt(),s=Kt();function r(ne){return Array.from(ne)}rc.stringToArray=r;var o="auto",a="center",l="inherit",u="justify",c="Change.konva",A="2d",h="-",g="left",f="text",y="Text",E="top",C="bottom",m="middle",b="normal",_="px ",B=" ",L="right",j="rtl",O="word",Q="char",$="none",D="…",U=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],S=U.length;function k(ne){return ne.split(",").map(le=>{le=le.trim();const he=le.indexOf(" ")>=0,we=le.indexOf('"')>=0||le.indexOf("'")>=0;return he&&!we&&(le='"'.concat(le,'"')),le}).join(", ")}var M;function N(){return M||(M=t.Util.createCanvasElement().getContext(A),M)}function V(ne){ne.fillText(this._partialText,this._partialTextX,this._partialTextY)}function G(ne){ne.setAttr("miterLimit",2),ne.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ee(ne){return ne=ne||{},!ne.fillLinearGradientColorStops&&!ne.fillRadialGradientColorStops&&!ne.fillPatternImage&&(ne.fill=ne.fill||"black"),ne}let se=class extends i.Shape{constructor(le){super(ee(le)),this._partialTextX=0,this._partialTextY=0;for(var he=0;he<S;he++)this.on(U[he]+c,this._setTextData);this._setTextData()}_sceneFunc(le){var he=this.textArr,we=he.length;if(this.text()){var pe=this.padding(),ke=this.fontSize(),ce=this.lineHeight()*ke,ye=this.verticalAlign(),ie=this.direction(),He=0,$e=this.align(),ae=this.getWidth(),W=this.letterSpacing(),X=this.fill(),re=this.textDecoration(),ve=re.indexOf("underline")!==-1,xe=re.indexOf("line-through")!==-1,Me;ie=ie===l?le.direction:ie;var Fe=0,Fe=ce/2,Ie=0,Le=0;for(ie===j&&le.setAttr("direction",ie),le.setAttr("font",this._getContextFont()),le.setAttr("textBaseline",m),le.setAttr("textAlign",g),ye===m?He=(this.getHeight()-we*ce-pe*2)/2:ye===C&&(He=this.getHeight()-we*ce-pe*2),le.translate(pe,He+pe),Me=0;Me<we;Me++){var Ie=0,Le=0,Ge=he[Me],ze=Ge.text,_e=Ge.width,Te=Ge.lastInParagraph,je,nt,st;if(le.save(),$e===L?Ie+=ae-_e-pe*2:$e===a&&(Ie+=(ae-_e-pe*2)/2),ve){le.save(),le.beginPath(),le.moveTo(Ie,Fe+Le+Math.round(ke/2)),je=ze.split(" ").length-1,nt=je===0,st=$e===u&&!Te?ae-pe*2:_e,le.lineTo(Ie+Math.round(st),Fe+Le+Math.round(ke/2)),le.lineWidth=ke/15;const si=this._getLinearGradient();le.strokeStyle=si||X,le.stroke(),le.restore()}if(xe){le.save(),le.beginPath(),le.moveTo(Ie,Fe+Le),je=ze.split(" ").length-1,nt=je===0,st=$e===u&&Te&&!nt?ae-pe*2:_e,le.lineTo(Ie+Math.round(st),Fe+Le),le.lineWidth=ke/15;const si=this._getLinearGradient();le.strokeStyle=si||X,le.stroke(),le.restore()}if(ie!==j&&(W!==0||$e===u)){je=ze.split(" ").length-1;for(var bt=r(ze),ct=0;ct<bt.length;ct++){var $t=bt[ct];$t===" "&&!Te&&$e===u&&(Ie+=(ae-pe*2-_e)/je),this._partialTextX=Ie,this._partialTextY=Fe+Le,this._partialText=$t,le.fillStrokeShape(this),Ie+=this.measureSize($t).width+W}}else W!==0&&le.setAttr("letterSpacing","".concat(W,"px")),this._partialTextX=Ie,this._partialTextY=Fe+Le,this._partialText=ze,le.fillStrokeShape(this);le.restore(),we>1&&(Fe+=ce)}}}_hitFunc(le){var he=this.getWidth(),we=this.getHeight();le.beginPath(),le.rect(0,0,he,we),le.closePath(),le.fillStrokeShape(this)}setText(le){var he=t.Util._isString(le)?le:le==null?"":le+"";return this._setAttr(f,he),this}getWidth(){var le=this.attrs.width===o||this.attrs.width===void 0;return le?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var le=this.attrs.height===o||this.attrs.height===void 0;return le?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(le){var he=N(),we=this.fontSize(),pe;return he.save(),he.font=this._getContextFont(),pe=he.measureText(le),he.restore(),{width:pe.width,height:we}}_getContextFont(){return this.fontStyle()+B+this.fontVariant()+B+(this.fontSize()+_)+k(this.fontFamily())}_addTextLine(le){this.align()===u&&(le=le.trim());var we=this._getTextWidth(le);return this.textArr.push({text:le,width:we,lastInParagraph:!1})}_getTextWidth(le){var he=this.letterSpacing(),we=le.length;return N().measureText(le).width+(we?he*(we-1):0)}_setTextData(){var le=this.text().split("\n"),he=+this.fontSize(),we=0,pe=this.lineHeight()*he,ke=this.attrs.width,ce=this.attrs.height,ye=ke!==o&&ke!==void 0,ie=ce!==o&&ce!==void 0,He=this.padding(),$e=ke-He*2,ae=ce-He*2,W=0,X=this.wrap(),re=X!==$,ve=X!==Q&&re,xe=this.ellipsis();this.textArr=[],N().font=this._getContextFont();for(var Me=xe?this._getTextWidth(D):0,Fe=0,Ie=le.length;Fe<Ie;++Fe){var Le=le[Fe],Ge=this._getTextWidth(Le);if(ye&&Ge>$e)for(;Le.length>0;){for(var ze=0,_e=Le.length,Te="",je=0;ze<_e;){var nt=ze+_e>>>1,st=Le.slice(0,nt+1),bt=this._getTextWidth(st)+Me;bt<=$e?(ze=nt+1,Te=st,je=bt):_e=nt}if(Te){if(ve){var ct,$t=Le[Te.length],_t=$t===B||$t===h;_t&&je<=$e?ct=Te.length:ct=Math.max(Te.lastIndexOf(B),Te.lastIndexOf(h))+1,ct>0&&(ze=ct,Te=Te.slice(0,ze),je=this._getTextWidth(Te))}Te=Te.trimRight(),this._addTextLine(Te),we=Math.max(we,je),W+=pe;var gt=this._shouldHandleEllipsis(W);if(gt){this._tryToAddEllipsisToLastLine();break}if(Le=Le.slice(ze),Le=Le.trimLeft(),Le.length>0&&(Ge=this._getTextWidth(Le),Ge<=$e)){this._addTextLine(Le),W+=pe,we=Math.max(we,Ge);break}}else break}else this._addTextLine(Le),W+=pe,we=Math.max(we,Ge),this._shouldHandleEllipsis(W)&&Fe<Ie-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ie&&W+pe>ae)break}this.textHeight=he,this.textWidth=we}_shouldHandleEllipsis(le){var he=+this.fontSize(),we=this.lineHeight()*he,pe=this.attrs.height,ke=pe!==o&&pe!==void 0,ce=this.padding(),ye=pe-ce*2,ie=this.wrap(),He=ie!==$;return!He||ke&&le+we>ye}_tryToAddEllipsisToLastLine(){var le=this.attrs.width,he=le!==o&&le!==void 0,we=this.padding(),pe=le-we*2,ke=this.ellipsis(),ce=this.textArr[this.textArr.length-1];if(!(!ce||!ke)){if(he){var ye=this._getTextWidth(ce.text+D)<pe;ye||(ce.text=ce.text.slice(0,ce.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ce.text+D)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const le=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,he=this.hasShadow();return le&&he?!0:super._useBufferCanvas()}};return rc.Text=se,se.prototype._fillFunc=V,se.prototype._strokeFunc=G,se.prototype.className=y,se.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(se),e.Factory.overWriteSetter(se,"width",(0,n.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(se,"height",(0,n.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(se,"direction",l),e.Factory.addGetterSetter(se,"fontFamily","Arial"),e.Factory.addGetterSetter(se,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(se,"fontStyle",b),e.Factory.addGetterSetter(se,"fontVariant",b),e.Factory.addGetterSetter(se,"padding",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(se,"align",g),e.Factory.addGetterSetter(se,"verticalAlign",E),e.Factory.addGetterSetter(se,"lineHeight",1,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(se,"wrap",O),e.Factory.addGetterSetter(se,"ellipsis",!1,(0,n.getBooleanValidator)()),e.Factory.addGetterSetter(se,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(se,"text","",(0,n.getStringValidator)()),e.Factory.addGetterSetter(se,"textDecoration",""),rc}var qd={},c4;function mve(){if(c4)return qd;c4=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.TextPath=void 0;const t=on(),e=Gt(),i=Un(),n=ZE(),s=VP(),r=Wt(),o=Kt();var a="",l="normal";function u(h){h.fillText(this.partialText,0,0)}function c(h){h.strokeText(this.partialText,0,0)}let A=class extends i.Shape{constructor(g){super(g),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(g){if(!this.attrs.data)return null;const f=this.pathLength;return g-1>f?null:n.Path.getPointAtLengthOfDataArray(g,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(g){g.setAttr("font",this._getContextFont()),g.setAttr("textBaseline",this.textBaseline()),g.setAttr("textAlign","left"),g.save();var f=this.textDecoration(),y=this.fill(),E=this.fontSize(),C=this.glyphInfo;f==="underline"&&g.beginPath();for(var m=0;m<C.length;m++){g.save();var b=C[m].p0;g.translate(b.x,b.y),g.rotate(C[m].rotation),this.partialText=C[m].text,g.fillStrokeShape(this),f==="underline"&&(m===0&&g.moveTo(0,E/2+1),g.lineTo(E,E/2+1)),g.restore()}f==="underline"&&(g.strokeStyle=y,g.lineWidth=E/20,g.stroke()),g.restore()}_hitFunc(g){g.beginPath();var f=this.glyphInfo;if(f.length>=1){var y=f[0].p0;g.moveTo(y.x,y.y)}for(var E=0;E<f.length;E++){var C=f[E].p1;g.lineTo(C.x,C.y)}g.setAttr("lineWidth",this.fontSize()),g.setAttr("strokeStyle",this.colorKey),g.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(g){return s.Text.prototype.setText.call(this,g)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(g){var f=this.dummyCanvas,y=f.getContext("2d");y.save(),y.font=this._getContextFont();var E=y.measureText(g);return y.restore(),{width:E.width,height:parseInt("".concat(this.fontSize()),10)}}_setTextData(){const{width:g,height:f}=this._getTextSize(this.attrs.text);if(this.textWidth=g,this.textHeight=f,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),E=this.align(),C=this.kerningFunc(),m=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let b=0;E==="center"&&(b=Math.max(0,this.pathLength/2-m/2)),E==="right"&&(b=Math.max(0,this.pathLength-m));const _=(0,s.stringToArray)(this.text());let B=b;for(var L=0;L<_.length;L++){const j=this._getPointAtLength(B);if(!j)return;let O=this._getTextSize(_[L]).width+y;if(_[L]===" "&&E==="justify"){const k=this.text().split(" ").length-1;O+=(this.pathLength-m)/k}const Q=this._getPointAtLength(B+O);if(!Q)return;const $=n.Path.getLineLength(j.x,j.y,Q.x,Q.y);let D=0;if(C)try{D=C(_[L-1],_[L])*this.fontSize()}catch{D=0}j.x+=D,Q.x+=D,this.textWidth+=D;const U=n.Path.getPointOnLine(D+$/2,j.x,j.y,Q.x,Q.y),S=Math.atan2(Q.y-j.y,Q.x-j.x);this.glyphInfo.push({transposeX:U.x,transposeY:U.y,text:_[L],rotation:S,p0:j,p1:Q}),B+=O}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var g=[];this.glyphInfo.forEach(function(L){g.push(L.p0.x),g.push(L.p0.y),g.push(L.p1.x),g.push(L.p1.y)});for(var f=g[0]||0,y=g[0]||0,E=g[1]||0,C=g[1]||0,m,b,_=0;_<g.length/2;_++)m=g[_*2],b=g[_*2+1],f=Math.min(f,m),y=Math.max(y,m),E=Math.min(E,b),C=Math.max(C,b);var B=this.fontSize();return{x:f-B/2,y:E-B/2,width:y-f+B,height:C-E+B}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return qd.TextPath=A,A.prototype._fillFunc=u,A.prototype._strokeFunc=c,A.prototype._fillFuncHit=u,A.prototype._strokeFuncHit=c,A.prototype.className="TextPath",A.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(A),e.Factory.addGetterSetter(A,"data"),e.Factory.addGetterSetter(A,"fontFamily","Arial"),e.Factory.addGetterSetter(A,"fontSize",12,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(A,"fontStyle",l),e.Factory.addGetterSetter(A,"align","left"),e.Factory.addGetterSetter(A,"letterSpacing",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(A,"textBaseline","middle"),e.Factory.addGetterSetter(A,"fontVariant",l),e.Factory.addGetterSetter(A,"text",a),e.Factory.addGetterSetter(A,"textDecoration",null),e.Factory.addGetterSetter(A,"kerningFunc",null),qd}var Yd={},A4;function vve(){if(A4)return Yd;A4=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.Transformer=void 0;const t=on(),e=Gt(),i=hn(),n=Un(),s=jP(),r=XE(),o=Kt(),a=Wt(),l=Kt();var u="tr-konva",c=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(O=>O+".".concat(u)).join(" "),A="nodesRect",h=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const f="ontouchstart"in o.Konva._global;function y(O,Q,$){if(O==="rotater")return $;Q+=t.Util.degToRad(g[O]||0);var D=(t.Util.radToDeg(Q)%360+360)%360;return t.Util._inRange(D,315+22.5,360)||t.Util._inRange(D,0,22.5)?"ns-resize":t.Util._inRange(D,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(D,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(D,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(D,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(D,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(D,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(D,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+D),"pointer")}var E=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],C=1e8;function m(O){return{x:O.x+O.width/2*Math.cos(O.rotation)+O.height/2*Math.sin(-O.rotation),y:O.y+O.height/2*Math.cos(O.rotation)+O.width/2*Math.sin(O.rotation)}}function b(O,Q,$){const D=$.x+(O.x-$.x)*Math.cos(Q)-(O.y-$.y)*Math.sin(Q),U=$.y+(O.x-$.x)*Math.sin(Q)+(O.y-$.y)*Math.cos(Q);return{...O,rotation:O.rotation+Q,x:D,y:U}}function _(O,Q){const $=m(O);return b(O,Q,$)}function B(O,Q,$){let D=Q;for(let U=0;U<O.length;U++){const S=o.Konva.getAngle(O[U]),k=Math.abs(S-Q)%(Math.PI*2);Math.min(k,Math.PI*2-k)<$&&(D=S)}return D}let L=class extends r.Group{constructor(Q){super(Q),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(c,this.update),this.getNode()&&this.update()}attachTo(Q){return this.setNode(Q),this}setNode(Q){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([Q])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(Q=[]){this._nodes&&this._nodes.length&&this.detach();const $=Q.filter(U=>U.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=Q=$,Q.length===1&&this.useSingleNodeRotation()?this.rotation(Q[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(U=>{const S=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},k=U._attrsAffectingSize.map(M=>M+"Change."+this._getEventNamespace()).join(" ");U.on(k,S),U.on(h.map(M=>M+".".concat(this._getEventNamespace())).join(" "),S),U.on("absoluteTransformChange.".concat(this._getEventNamespace()),S),this._proxyDrag(U)}),this._resetTransformCache();var D=!!this.findOne(".top-left");return D&&this.update(),this}_proxyDrag(Q){let $;Q.on("dragstart.".concat(this._getEventNamespace()),D=>{$=Q.getAbsolutePosition(),!this.isDragging()&&Q!==this.findOne(".back")&&this.startDrag(D,!1)}),Q.on("dragmove.".concat(this._getEventNamespace()),D=>{if(!$)return;const U=Q.getAbsolutePosition(),S=U.x-$.x,k=U.y-$.y;this.nodes().forEach(M=>{if(M===Q||M.isDragging())return;const N=M.getAbsolutePosition();M.setAbsolutePosition({x:N.x+S,y:N.y+k}),M.startDrag(D)}),$=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(Q=>{Q.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(A),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(A,this.__getNodeRect)}__getNodeShape(Q,$=this.rotation(),D){var U=Q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),S=Q.getAbsoluteScale(D),k=Q.getAbsolutePosition(D),M=U.x*S.x-Q.offsetX()*S.x,N=U.y*S.y-Q.offsetY()*S.y;const V=(o.Konva.getAngle(Q.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),G={x:k.x+M*Math.cos(V)+N*Math.sin(-V),y:k.y+N*Math.cos(V)+M*Math.sin(V),width:U.width*S.x,height:U.height*S.y,rotation:V};return b(G,-o.Konva.getAngle($),{x:0,y:0})}__getNodeRect(){var Q=this.getNode();if(!Q)return{x:-C,y:-C,width:0,height:0,rotation:0};const $=[];this.nodes().map(V=>{const G=V.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var ee=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],se=V.getAbsoluteTransform();ee.forEach(function(ne){var le=se.point(ne);$.push(le)})});const D=new t.Transform;D.rotate(-o.Konva.getAngle(this.rotation()));var U=1/0,S=1/0,k=-1/0,M=-1/0;$.forEach(function(V){var G=D.point(V);U===void 0&&(U=k=G.x,S=M=G.y),U=Math.min(U,G.x),S=Math.min(S,G.y),k=Math.max(k,G.x),M=Math.max(M,G.y)}),D.invert();const N=D.point({x:U,y:S});return{x:N.x,y:N.y,width:k-U,height:M-S,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),E.forEach(Q=>{this._createAnchor(Q)}),this._createAnchor("rotater")}_createAnchor(Q){var $=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:Q+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:f?10:"auto"}),D=this;$.on("mousedown touchstart",function(U){D._handleMouseDown(U)}),$.on("dragstart",U=>{$.stopDrag(),U.cancelBubble=!0}),$.on("dragend",U=>{U.cancelBubble=!0}),$.on("mouseenter",()=>{var U=o.Konva.getAngle(this.rotation()),S=this.rotateAnchorCursor(),k=y(Q,U,S);$.getStage().content&&($.getStage().content.style.cursor=k),this._cursorChange=!0}),$.on("mouseout",()=>{$.getStage().content&&($.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add($)}_createBack(){var Q=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc($,D){var U=D.getParent(),S=U.padding();$.beginPath(),$.rect(-S,-S,D.width()+S*2,D.height()+S*2),$.moveTo(D.width()/2,-S),U.rotateEnabled()&&$.lineTo(D.width()/2,-U.rotateAnchorOffset()*t.Util._sign(D.height())-S),$.fillStrokeShape(D)},hitFunc:($,D)=>{if(this.shouldOverdrawWholeArea()){var U=this.padding();$.beginPath(),$.rect(-U,-U,D.width()+U*2,D.height()+U*2),$.fillStrokeShape(D)}}});this.add(Q),this._proxyDrag(Q),Q.on("dragstart",$=>{$.cancelBubble=!0}),Q.on("dragmove",$=>{$.cancelBubble=!0}),Q.on("dragend",$=>{$.cancelBubble=!0}),this.on("dragmove",$=>{this.update()})}_handleMouseDown(Q){this._movingAnchorName=Q.target.name().split(" ")[0];var $=this._getNodeRect(),D=$.width,U=$.height,S=Math.sqrt(Math.pow(D,2)+Math.pow(U,2));this.sin=Math.abs(U/S),this.cos=Math.abs(D/S),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var k=Q.target.getAbsolutePosition(),M=Q.target.getStage().getPointerPosition();this._anchorDragOffset={x:M.x-k.x,y:M.y-k.y},this._fire("transformstart",{evt:Q.evt,target:this.getNode()}),this._nodes.forEach(N=>{N._fire("transformstart",{evt:Q.evt,target:N})})}_handleMouseMove(Q){var $,D,U,S=this.findOne("."+this._movingAnchorName),k=S.getStage();k.setPointersPositions(Q);const M=k.getPointerPosition();let N={x:M.x-this._anchorDragOffset.x,y:M.y-this._anchorDragOffset.y};const V=S.getAbsolutePosition();this.anchorDragBoundFunc()&&(N=this.anchorDragBoundFunc()(V,N,Q)),S.setAbsolutePosition(N);const G=S.getAbsolutePosition();if(!(V.x===G.x&&V.y===G.y)){if(this._movingAnchorName==="rotater"){var ee=this._getNodeRect();$=S.x()-ee.width/2,D=-S.y()+ee.height/2;let xe=Math.atan2(-D,$)+Math.PI/2;ee.height<0&&(xe-=Math.PI);var se=o.Konva.getAngle(this.rotation());const Me=se+xe,Fe=o.Konva.getAngle(this.rotationSnapTolerance()),Le=B(this.rotationSnaps(),Me,Fe)-ee.rotation,Ge=_(ee,Le);this._fitNodesInto(Ge,Q);return}var ne=this.shiftBehavior(),le;ne==="inverted"?le=this.keepRatio()&&!Q.shiftKey:ne==="none"?le=this.keepRatio():le=this.keepRatio()||Q.shiftKey;var ce=this.centeredScaling()||Q.altKey;if(this._movingAnchorName==="top-left"){if(le){var he=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};U=Math.sqrt(Math.pow(he.x-S.x(),2)+Math.pow(he.y-S.y(),2));var we=this.findOne(".top-left").x()>he.x?-1:1,pe=this.findOne(".top-left").y()>he.y?-1:1;$=U*this.cos*we,D=U*this.sin*pe,this.findOne(".top-left").x(he.x-$),this.findOne(".top-left").y(he.y-D)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(S.y());else if(this._movingAnchorName==="top-right"){if(le){var he=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};U=Math.sqrt(Math.pow(S.x()-he.x,2)+Math.pow(he.y-S.y(),2));var we=this.findOne(".top-right").x()<he.x?-1:1,pe=this.findOne(".top-right").y()>he.y?-1:1;$=U*this.cos*we,D=U*this.sin*pe,this.findOne(".top-right").x(he.x+$),this.findOne(".top-right").y(he.y-D)}var ke=S.position();this.findOne(".top-left").y(ke.y),this.findOne(".bottom-right").x(ke.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(S.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(S.x());else if(this._movingAnchorName==="bottom-left"){if(le){var he=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};U=Math.sqrt(Math.pow(he.x-S.x(),2)+Math.pow(S.y()-he.y,2));var we=he.x<S.x()?-1:1,pe=S.y()<he.y?-1:1;$=U*this.cos*we,D=U*this.sin*pe,S.x(he.x-$),S.y(he.y+D)}ke=S.position(),this.findOne(".top-left").x(ke.x),this.findOne(".bottom-right").y(ke.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(S.y());else if(this._movingAnchorName==="bottom-right"){if(le){var he=ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};U=Math.sqrt(Math.pow(S.x()-he.x,2)+Math.pow(S.y()-he.y,2));var we=this.findOne(".bottom-right").x()<he.x?-1:1,pe=this.findOne(".bottom-right").y()<he.y?-1:1;$=U*this.cos*we,D=U*this.sin*pe,this.findOne(".bottom-right").x(he.x+$),this.findOne(".bottom-right").y(he.y+D)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var ce=this.centeredScaling()||Q.altKey;if(ce){var ye=this.findOne(".top-left"),ie=this.findOne(".bottom-right"),He=ye.x(),$e=ye.y(),ae=this.getWidth()-ie.x(),W=this.getHeight()-ie.y();ie.move({x:-He,y:-$e}),ye.move({x:ae,y:W})}var X=this.findOne(".top-left").getAbsolutePosition();$=X.x,D=X.y;var re=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ve=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:$,y:D,width:re,height:ve,rotation:o.Konva.getAngle(this.rotation())},Q)}}_handleMouseUp(Q){this._removeEvents(Q)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(Q){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var $=this.getNode();this._fire("transformend",{evt:Q,target:$}),$&&this._nodes.forEach(D=>{D._fire("transformend",{evt:Q,target:D})}),this._movingAnchorName=null}}_fitNodesInto(Q,$){var D=this._getNodeRect();const U=1;if(t.Util._inRange(Q.width,-this.padding()*2-U,U)){this.update();return}if(t.Util._inRange(Q.height,-this.padding()*2-U,U)){this.update();return}var S=new t.Transform;if(S.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&Q.width<0&&this._movingAnchorName.indexOf("left")>=0){const se=S.point({x:-this.padding()*2,y:0});Q.x+=se.x,Q.y+=se.y,Q.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y}else if(this._movingAnchorName&&Q.width<0&&this._movingAnchorName.indexOf("right")>=0){const se=S.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,Q.width+=this.padding()*2}if(this._movingAnchorName&&Q.height<0&&this._movingAnchorName.indexOf("top")>=0){const se=S.point({x:0,y:-this.padding()*2});Q.x+=se.x,Q.y+=se.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,Q.height+=this.padding()*2}else if(this._movingAnchorName&&Q.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const se=S.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=se.x,this._anchorDragOffset.y-=se.y,Q.height+=this.padding()*2}if(this.boundBoxFunc()){const se=this.boundBoxFunc()(D,Q);se?Q=se:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const k=1e7,M=new t.Transform;M.translate(D.x,D.y),M.rotate(D.rotation),M.scale(D.width/k,D.height/k);const N=new t.Transform,V=Q.width/k,G=Q.height/k;this.flipEnabled()===!1?(N.translate(Q.x,Q.y),N.rotate(Q.rotation),N.translate(Q.width<0?Q.width:0,Q.height<0?Q.height:0),N.scale(Math.abs(V),Math.abs(G))):(N.translate(Q.x,Q.y),N.rotate(Q.rotation),N.scale(V,G));const ee=N.multiply(M.invert());this._nodes.forEach(se=>{var ne;const le=se.getParent().getAbsoluteTransform(),he=se.getTransform().copy();he.translate(se.offsetX(),se.offsetY());const we=new t.Transform;we.multiply(le.copy().invert()).multiply(ee).multiply(le).multiply(he);const pe=we.decompose();se.setAttrs(pe),this._fire("transform",{evt:$,target:se}),se._fire("transform",{evt:$,target:se}),(ne=se.getLayer())===null||ne===void 0||ne.batchDraw()}),this.rotation(t.Util._getRotation(Q.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(Q,$){this.findOne(Q).setAttrs($)}update(){var Q,$=this._getNodeRect();this.rotation(t.Util._getRotation($.rotation));var D=$.width,U=$.height,S=this.enabledAnchors(),k=this.resizeEnabled(),M=this.padding(),N=this.anchorSize();const V=this.find("._anchor");V.forEach(ee=>{ee.setAttrs({width:N,height:N,offsetX:N/2,offsetY:N/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:N/2+M,offsetY:N/2+M,visible:k&&S.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:D/2,y:0,offsetY:N/2+M,visible:k&&S.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:D,y:0,offsetX:N/2-M,offsetY:N/2+M,visible:k&&S.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:U/2,offsetX:N/2+M,visible:k&&S.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:D,y:U/2,offsetX:N/2-M,visible:k&&S.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:U,offsetX:N/2+M,offsetY:N/2-M,visible:k&&S.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:D/2,y:U,offsetY:N/2-M,visible:k&&S.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:D,y:U,offsetX:N/2-M,offsetY:N/2-M,visible:k&&S.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:D/2,y:-this.rotateAnchorOffset()*t.Util._sign(U)-M,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:D,height:U,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const G=this.anchorStyleFunc();G&&V.forEach(ee=>{G(ee)}),(Q=this.getLayer())===null||Q===void 0||Q.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var Q=this.findOne("."+this._movingAnchorName);Q&&Q.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),r.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(Q){var $=i.Node.prototype.clone.call(this,Q);return $}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Yd.Transformer=L;function j(O){return O instanceof Array||t.Util.warn("enabledAnchors value should be an array"),O instanceof Array&&O.forEach(function(Q){E.indexOf(Q)===-1&&t.Util.warn("Unknown anchor name: "+Q+". Available names are: "+E.join(", "))}),O||[]}return L.prototype.className="Transformer",(0,l._registerNode)(L),e.Factory.addGetterSetter(L,"enabledAnchors",E,j),e.Factory.addGetterSetter(L,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(L,"resizeEnabled",!0),e.Factory.addGetterSetter(L,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"rotateEnabled",!0),e.Factory.addGetterSetter(L,"rotationSnaps",[]),e.Factory.addGetterSetter(L,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(L,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"borderEnabled",!0),e.Factory.addGetterSetter(L,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(L,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"anchorFill","white"),e.Factory.addGetterSetter(L,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(L,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"borderDash"),e.Factory.addGetterSetter(L,"keepRatio",!0),e.Factory.addGetterSetter(L,"shiftBehavior","default"),e.Factory.addGetterSetter(L,"centeredScaling",!1),e.Factory.addGetterSetter(L,"ignoreStroke",!1),e.Factory.addGetterSetter(L,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(L,"node"),e.Factory.addGetterSetter(L,"nodes"),e.Factory.addGetterSetter(L,"boundBoxFunc"),e.Factory.addGetterSetter(L,"anchorDragBoundFunc"),e.Factory.addGetterSetter(L,"anchorStyleFunc"),e.Factory.addGetterSetter(L,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(L,"useSingleNodeRotation",!0),e.Factory.backCompat(L,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Yd}var Xd={},h4;function bve(){if(h4)return Xd;h4=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.Wedge=void 0;const t=Gt(),e=Un(),i=Kt(),n=Wt(),s=Kt();let r=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Xd.Wedge=r,r.prototype.className="Wedge",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clockwise",!1),t.Factory.backCompat(r,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Xd}var Jd={},d4;function yve(){if(d4)return Jd;d4=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.Blur=void 0;const t=Gt(),e=hn(),i=Wt();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,u){var c=l.data,A=l.width,h=l.height,g,f,y,E,C,m,b,_,B,L,j,O,Q,$,D,U,S,k,M,N,V,G,ee,se,ne=u+u+1,le=A-1,he=h-1,we=u+1,pe=we*(we+1)/2,ke=new n,ce=null,ye=ke,ie=null,He=null,$e=s[u],ae=r[u];for(y=1;y<ne;y++)ye=ye.next=new n,y===we&&(ce=ye);for(ye.next=ke,b=m=0,f=0;f<h;f++){for(U=S=k=M=_=B=L=j=0,O=we*(N=c[m]),Q=we*(V=c[m+1]),$=we*(G=c[m+2]),D=we*(ee=c[m+3]),_+=pe*N,B+=pe*V,L+=pe*G,j+=pe*ee,ye=ke,y=0;y<we;y++)ye.r=N,ye.g=V,ye.b=G,ye.a=ee,ye=ye.next;for(y=1;y<we;y++)E=m+((le<y?le:y)<<2),_+=(ye.r=N=c[E])*(se=we-y),B+=(ye.g=V=c[E+1])*se,L+=(ye.b=G=c[E+2])*se,j+=(ye.a=ee=c[E+3])*se,U+=N,S+=V,k+=G,M+=ee,ye=ye.next;for(ie=ke,He=ce,g=0;g<A;g++)c[m+3]=ee=j*$e>>ae,ee!==0?(ee=255/ee,c[m]=(_*$e>>ae)*ee,c[m+1]=(B*$e>>ae)*ee,c[m+2]=(L*$e>>ae)*ee):c[m]=c[m+1]=c[m+2]=0,_-=O,B-=Q,L-=$,j-=D,O-=ie.r,Q-=ie.g,$-=ie.b,D-=ie.a,E=b+((E=g+u+1)<le?E:le)<<2,U+=ie.r=c[E],S+=ie.g=c[E+1],k+=ie.b=c[E+2],M+=ie.a=c[E+3],_+=U,B+=S,L+=k,j+=M,ie=ie.next,O+=N=He.r,Q+=V=He.g,$+=G=He.b,D+=ee=He.a,U-=N,S-=V,k-=G,M-=ee,He=He.next,m+=4;b+=A}for(g=0;g<A;g++){for(S=k=M=U=B=L=j=_=0,m=g<<2,O=we*(N=c[m]),Q=we*(V=c[m+1]),$=we*(G=c[m+2]),D=we*(ee=c[m+3]),_+=pe*N,B+=pe*V,L+=pe*G,j+=pe*ee,ye=ke,y=0;y<we;y++)ye.r=N,ye.g=V,ye.b=G,ye.a=ee,ye=ye.next;for(C=A,y=1;y<=u;y++)m=C+g<<2,_+=(ye.r=N=c[m])*(se=we-y),B+=(ye.g=V=c[m+1])*se,L+=(ye.b=G=c[m+2])*se,j+=(ye.a=ee=c[m+3])*se,U+=N,S+=V,k+=G,M+=ee,ye=ye.next,y<he&&(C+=A);for(m=g,ie=ke,He=ce,f=0;f<h;f++)E=m<<2,c[E+3]=ee=j*$e>>ae,ee>0?(ee=255/ee,c[E]=(_*$e>>ae)*ee,c[E+1]=(B*$e>>ae)*ee,c[E+2]=(L*$e>>ae)*ee):c[E]=c[E+1]=c[E+2]=0,_-=O,B-=Q,L-=$,j-=D,O-=ie.r,Q-=ie.g,$-=ie.b,D-=ie.a,E=g+((E=f+we)<he?E:he)*A<<2,_+=U+=ie.r=c[E],B+=S+=ie.g=c[E+1],L+=k+=ie.b=c[E+2],j+=M+=ie.a=c[E+3],ie=ie.next,O+=N=He.r,Q+=V=He.g,$+=G=He.b,D+=ee=He.a,U-=N,S-=V,k-=G,M-=ee,He=He.next,m+=A}}const a=function(u){var c=Math.round(this.blurRadius());c>0&&o(u,c)};return Jd.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Jd}var Zd={},f4;function wve(){if(f4)return Zd;f4=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.Brighten=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=this.brightness()*255,o=s.data,a=o.length,l;for(l=0;l<a;l+=4)o[l]+=r,o[l+1]+=r,o[l+2]+=r};return Zd.Brighten=n,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Zd}var ef={},p4;function _ve(){if(p4)return ef;p4=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.Contrast=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=Math.pow((this.contrast()+100)/100,2),o=s.data,a=o.length,l=150,u=150,c=150,A;for(A=0;A<a;A+=4)l=o[A],u=o[A+1],c=o[A+2],l/=255,l-=.5,l*=r,l+=.5,l*=255,u/=255,u-=.5,u*=r,u+=.5,u*=255,c/=255,c-=.5,c*=r,c+=.5,c*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,c=c<0?0:c>255?255:c,o[A]=l,o[A+1]=u,o[A+2]=c};return ef.Contrast=n,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ef}var tf={},g4;function Cve(){if(g4)return tf;g4=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.Emboss=void 0;const t=Gt(),e=hn(),i=on(),n=Wt(),s=function(r){var o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),c=0,A=0,h=r.data,g=r.width,f=r.height,y=g*4,E=f;switch(l){case"top-left":c=-1,A=-1;break;case"top":c=-1,A=0;break;case"top-right":c=-1,A=1;break;case"right":c=0,A=1;break;case"bottom-right":c=1,A=1;break;case"bottom":c=1,A=0;break;case"bottom-left":c=1,A=-1;break;case"left":c=0,A=-1;break;default:i.Util.error("Unknown emboss direction: "+l)}do{var C=(E-1)*y,m=c;E+m<1&&(m=0),E+m>f&&(m=0);var b=(E-1+m)*g*4,_=g;do{var B=C+(_-1)*4,L=A;_+L<1&&(L=0),_+L>g&&(L=0);var j=b+(_-1+L)*4,O=h[B]-h[j],Q=h[B+1]-h[j+1],$=h[B+2]-h[j+2],D=O,U=D>0?D:-D,S=Q>0?Q:-Q,k=$>0?$:-$;if(S>U&&(D=Q),k>U&&(D=$),D*=o,u){var M=h[B]+D,N=h[B+1]+D,V=h[B+2]+D;h[B]=M>255?255:M<0?0:M,h[B+1]=N>255?255:N<0?0:N,h[B+2]=V>255?255:V<0?0:V}else{var G=a-D;G<0?G=0:G>255&&(G=255),h[B]=h[B+1]=h[B+2]=G}}while(--_)}while(--E)};return tf.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),tf}var nf={},m4;function Eve(){if(m4)return nf;m4=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.Enhance=void 0;const t=Gt(),e=hn(),i=Wt();function n(r,o,a,l,u){var c=a-o,A=u-l,h;return c===0?l+A/2:A===0?l:(h=(r-o)/c,h=A*h+l,h)}const s=function(r){var o=r.data,a=o.length,l=o[0],u=l,c,A=o[1],h=A,g,f=o[2],y=f,E,C,m=this.enhance();if(m!==0){for(C=0;C<a;C+=4)c=o[C+0],c<l?l=c:c>u&&(u=c),g=o[C+1],g<A?A=g:g>h&&(h=g),E=o[C+2],E<f?f=E:E>y&&(y=E);u===l&&(u=255,l=0),h===A&&(h=255,A=0),y===f&&(y=255,f=0);var b,_,B,L,j,O,Q,$,D;for(m>0?(_=u+m*(255-u),B=l-m*(l-0),j=h+m*(255-h),O=A-m*(A-0),$=y+m*(255-y),D=f-m*(f-0)):(b=(u+l)*.5,_=u+m*(u-b),B=l+m*(l-b),L=(h+A)*.5,j=h+m*(h-L),O=A+m*(A-L),Q=(y+f)*.5,$=y+m*(y-Q),D=f+m*(f-Q)),C=0;C<a;C+=4)o[C+0]=n(o[C+0],l,u,B,_),o[C+1]=n(o[C+1],A,h,O,j),o[C+2]=n(o[C+2],f,y,D,$)}};return nf.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),nf}var sf={},v4;function Tve(){if(v4)return sf;v4=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.Grayscale=void 0;const t=function(e){var i=e.data,n=i.length,s,r;for(s=0;s<n;s+=4)r=.34*i[s]+.5*i[s+1]+.16*i[s+2],i[s]=r,i[s+1]=r,i[s+2]=r};return sf.Grayscale=t,sf}var rf={},b4;function xve(){if(b4)return rf;b4=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.HSL=void 0;const t=Gt(),e=hn(),i=Wt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter);const n=function(s){var r=s.data,o=r.length,a=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=this.luminance()*127,A,h=a*l*Math.cos(u*Math.PI/180),g=a*l*Math.sin(u*Math.PI/180),f=.299*a+.701*h+.167*g,y=.587*a-.587*h+.33*g,E=.114*a-.114*h-.497*g,C=.299*a-.299*h-.328*g,m=.587*a+.413*h+.035*g,b=.114*a-.114*h+.293*g,_=.299*a-.3*h+1.25*g,B=.587*a-.586*h-1.05*g,L=.114*a+.886*h-.2*g,j,O,Q,$;for(A=0;A<o;A+=4)j=r[A+0],O=r[A+1],Q=r[A+2],$=r[A+3],r[A+0]=f*j+y*O+E*Q+c,r[A+1]=C*j+m*O+b*Q+c,r[A+2]=_*j+B*O+L*Q+c,r[A+3]=$};return rf.HSL=n,rf}var of={},y4;function Sve(){if(y4)return of;y4=1,Object.defineProperty(of,"__esModule",{value:!0}),of.HSV=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=s.data,o=r.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c,A=a*l*Math.cos(u*Math.PI/180),h=a*l*Math.sin(u*Math.PI/180),g=.299*a+.701*A+.167*h,f=.587*a-.587*A+.33*h,y=.114*a-.114*A-.497*h,E=.299*a-.299*A-.328*h,C=.587*a+.413*A+.035*h,m=.114*a-.114*A+.293*h,b=.299*a-.3*A+1.25*h,_=.587*a-.586*A-1.05*h,B=.114*a+.886*A-.2*h,L,j,O,Q;for(c=0;c<o;c+=4)L=r[c+0],j=r[c+1],O=r[c+2],Q=r[c+3],r[c+0]=g*L+f*j+y*O,r[c+1]=E*L+C*j+m*O,r[c+2]=b*L+_*j+B*O,r[c+3]=Q};return of.HSV=n,t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),of}var af={},w4;function Bve(){if(w4)return af;w4=1,Object.defineProperty(af,"__esModule",{value:!0}),af.Invert=void 0;const t=function(e){var i=e.data,n=i.length,s;for(s=0;s<n;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2]};return af.Invert=t,af}var lf={},_4;function kve(){if(_4)return lf;_4=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.Kaleidoscope=void 0;const t=Gt(),e=hn(),i=on(),n=Wt();var s=function(a,l,u){var c=a.data,A=l.data,h=a.width,g=a.height,f=u.polarCenterX||h/2,y=u.polarCenterY||g/2,E,C,m,b=0,_=0,B=0,L=0,j,O=Math.sqrt(f*f+y*y);C=h-f,m=g-y,j=Math.sqrt(C*C+m*m),O=j>O?j:O;var Q=g,$=h,D,U,S=360/$*Math.PI/180,k,M;for(U=0;U<$;U+=1)for(k=Math.sin(U*S),M=Math.cos(U*S),D=0;D<Q;D+=1)C=Math.floor(f+O*D/Q*M),m=Math.floor(y+O*D/Q*k),E=(m*h+C)*4,b=c[E+0],_=c[E+1],B=c[E+2],L=c[E+3],E=(U+D*h)*4,A[E+0]=b,A[E+1]=_,A[E+2]=B,A[E+3]=L},r=function(a,l,u){var c=a.data,A=l.data,h=a.width,g=a.height,f=u.polarCenterX||h/2,y=u.polarCenterY||g/2,E,C,m,b,_,B=0,L=0,j=0,O=0,Q,$=Math.sqrt(f*f+y*y);C=h-f,m=g-y,Q=Math.sqrt(C*C+m*m),$=Q>$?Q:$;var D=g,U=h,S,k,M=u.polarRotation||0,N,V;for(C=0;C<h;C+=1)for(m=0;m<g;m+=1)b=C-f,_=m-y,S=Math.sqrt(b*b+_*_)*D/$,k=(Math.atan2(_,b)*180/Math.PI+360+M)%360,k=k*U/360,N=Math.floor(k),V=Math.floor(S),E=(V*h+N)*4,B=c[E+0],L=c[E+1],j=c[E+2],O=c[E+3],E=(m*h+C)*4,A[E+0]=B,A[E+1]=L,A[E+2]=j,A[E+3]=O};const o=function(a){var l=a.width,u=a.height,c,A,h,g,f,y,E,C,m,b,_=Math.round(this.kaleidoscopePower()),B=Math.round(this.kaleidoscopeAngle()),L=Math.floor(l*(B%360)/360);if(!(_<1)){var j=i.Util.createCanvasElement();j.width=l,j.height=u;var O=j.getContext("2d").getImageData(0,0,l,u);i.Util.releaseCanvas(j),s(a,O,{polarCenterX:l/2,polarCenterY:u/2});for(var Q=l/Math.pow(2,_);Q<=8;)Q=Q*2,_-=1;Q=Math.ceil(Q);var $=Q,D=0,U=$,S=1;for(L+Q>l&&(D=$,U=0,S=-1),A=0;A<u;A+=1)for(c=D;c!==U;c+=S)h=Math.round(c+L)%l,m=(l*A+h)*4,f=O.data[m+0],y=O.data[m+1],E=O.data[m+2],C=O.data[m+3],b=(l*A+c)*4,O.data[b+0]=f,O.data[b+1]=y,O.data[b+2]=E,O.data[b+3]=C;for(A=0;A<u;A+=1)for($=Math.floor(Q),g=0;g<_;g+=1){for(c=0;c<$+1;c+=1)m=(l*A+c)*4,f=O.data[m+0],y=O.data[m+1],E=O.data[m+2],C=O.data[m+3],b=(l*A+$*2-c-1)*4,O.data[b+0]=f,O.data[b+1]=y,O.data[b+2]=E,O.data[b+3]=C;$*=2}r(O,a,{polarRotation:0})}};return lf.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),lf}var uf={},C4;function Dve(){if(C4)return uf;C4=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.Mask=void 0;const t=Gt(),e=hn(),i=Wt();function n(h,g,f){var y=(f*h.width+g)*4,E=[];return E.push(h.data[y++],h.data[y++],h.data[y++],h.data[y++]),E}function s(h,g){return Math.sqrt(Math.pow(h[0]-g[0],2)+Math.pow(h[1]-g[1],2)+Math.pow(h[2]-g[2],2))}function r(h){for(var g=[0,0,0],f=0;f<h.length;f++)g[0]+=h[f][0],g[1]+=h[f][1],g[2]+=h[f][2];return g[0]/=h.length,g[1]/=h.length,g[2]/=h.length,g}function o(h,g){var f=n(h,0,0),y=n(h,h.width-1,0),E=n(h,0,h.height-1),C=n(h,h.width-1,h.height-1),m=g||10;if(s(f,y)<m&&s(y,C)<m&&s(C,E)<m&&s(E,f)<m){for(var b=r([y,f,C,E]),_=[],B=0;B<h.width*h.height;B++){var L=s(b,[h.data[B*4],h.data[B*4+1],h.data[B*4+2]]);_[B]=L<m?0:255}return _}}function a(h,g){for(var f=0;f<h.width*h.height;f++)h.data[4*f+3]=g[f]}function l(h,g,f){for(var y=[1,1,1,1,0,1,1,1,1],E=Math.round(Math.sqrt(y.length)),C=Math.floor(E/2),m=[],b=0;b<f;b++)for(var _=0;_<g;_++){for(var B=b*g+_,L=0,j=0;j<E;j++)for(var O=0;O<E;O++){var Q=b+j-C,$=_+O-C;if(Q>=0&&Q<f&&$>=0&&$<g){var D=Q*g+$,U=y[j*E+O];L+=h[D]*U}}m[B]=L===255*8?255:0}return m}function u(h,g,f){for(var y=[1,1,1,1,1,1,1,1,1],E=Math.round(Math.sqrt(y.length)),C=Math.floor(E/2),m=[],b=0;b<f;b++)for(var _=0;_<g;_++){for(var B=b*g+_,L=0,j=0;j<E;j++)for(var O=0;O<E;O++){var Q=b+j-C,$=_+O-C;if(Q>=0&&Q<f&&$>=0&&$<g){var D=Q*g+$,U=y[j*E+O];L+=h[D]*U}}m[B]=L>=255*4?255:0}return m}function c(h,g,f){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],E=Math.round(Math.sqrt(y.length)),C=Math.floor(E/2),m=[],b=0;b<f;b++)for(var _=0;_<g;_++){for(var B=b*g+_,L=0,j=0;j<E;j++)for(var O=0;O<E;O++){var Q=b+j-C,$=_+O-C;if(Q>=0&&Q<f&&$>=0&&$<g){var D=Q*g+$,U=y[j*E+O];L+=h[D]*U}}m[B]=L}return m}const A=function(h){var g=this.threshold(),f=o(h,g);return f&&(f=l(f,h.width,h.height),f=u(f,h.width,h.height),f=c(f,h.width,h.height),a(h,f)),h};return uf.Mask=A,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),uf}var cf={},E4;function Fve(){if(E4)return cf;E4=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.Noise=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=this.noise()*255,o=s.data,a=o.length,l=r/2,u;for(u=0;u<a;u+=4)o[u+0]+=l-2*l*Math.random(),o[u+1]+=l-2*l*Math.random(),o[u+2]+=l-2*l*Math.random()};return cf.Noise=n,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),cf}var Af={},T4;function Ive(){if(T4)return Af;T4=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.Pixelate=void 0;const t=Gt(),e=on(),i=hn(),n=Wt(),s=function(r){var o=Math.ceil(this.pixelSize()),a=r.width,l=r.height,u,c,A,h,g,f,y,E=Math.ceil(a/o),C=Math.ceil(l/o),m,b,_,B,L,j,O,Q=r.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(L=0;L<E;L+=1)for(j=0;j<C;j+=1){for(h=0,g=0,f=0,y=0,m=L*o,b=m+o,_=j*o,B=_+o,O=0,u=m;u<b;u+=1)if(!(u>=a))for(c=_;c<B;c+=1)c>=l||(A=(a*c+u)*4,h+=Q[A+0],g+=Q[A+1],f+=Q[A+2],y+=Q[A+3],O+=1);for(h=h/O,g=g/O,f=f/O,y=y/O,u=m;u<b;u+=1)if(!(u>=a))for(c=_;c<B;c+=1)c>=l||(A=(a*c+u)*4,Q[A+0]=h,Q[A+1]=g,Q[A+2]=f,Q[A+3]=y)}};return Af.Pixelate=s,t.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),Af}var hf={},x4;function Lve(){if(x4)return hf;x4=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.Posterize=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=Math.round(this.levels()*254)+1,o=s.data,a=o.length,l=255/r,u;for(u=0;u<a;u+=1)o[u]=Math.floor(o[u]/l)*l};return hf.Posterize=n,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),hf}var df={},S4;function Pve(){if(S4)return df;S4=1,Object.defineProperty(df,"__esModule",{value:!0}),df.RGB=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=s.data,o=r.length,a=this.red(),l=this.green(),u=this.blue(),c,A;for(c=0;c<o;c+=4)A=(.34*r[c]+.5*r[c+1]+.16*r[c+2])/255,r[c]=A*a,r[c+1]=A*l,r[c+2]=A*u,r[c+3]=r[c+3]};return df.RGB=n,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),df}var ff={},B4;function Mve(){if(B4)return ff;B4=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.RGBA=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=s.data,o=r.length,a=this.red(),l=this.green(),u=this.blue(),c=this.alpha(),A,h;for(A=0;A<o;A+=4)h=1-c,r[A]=a*c+r[A]*h,r[A+1]=l*c+r[A+1]*h,r[A+2]=u*c+r[A+2]*h};return ff.RGBA=n,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),ff}var pf={},k4;function Rve(){if(k4)return pf;k4=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.Sepia=void 0;const t=function(e){var i=e.data,n=i.length,s,r,o,a;for(s=0;s<n;s+=4)r=i[s+0],o=i[s+1],a=i[s+2],i[s+0]=Math.min(255,r*.393+o*.769+a*.189),i[s+1]=Math.min(255,r*.349+o*.686+a*.168),i[s+2]=Math.min(255,r*.272+o*.534+a*.131)};return pf.Sepia=t,pf}var gf={},D4;function Ove(){if(D4)return gf;D4=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.Solarize=void 0;const t=function(e){var i=e.data,n=e.width,s=e.height,r=n*4,o=s;do{var a=(o-1)*r,l=n;do{var u=a+(l-1)*4,c=i[u],A=i[u+1],h=i[u+2];c>127&&(c=255-c),A>127&&(A=255-A),h>127&&(h=255-h),i[u]=c,i[u+1]=A,i[u+2]=h}while(--l)}while(--o)};return gf.Solarize=t,gf}var mf={},F4;function Uve(){if(F4)return mf;F4=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.Threshold=void 0;const t=Gt(),e=hn(),i=Wt(),n=function(s){var r=this.threshold()*255,o=s.data,a=o.length,l;for(l=0;l<a;l+=1)o[l]=o[l]<r?0:255};return mf.Threshold=n,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),mf}var I4;function Nve(){if(I4)return Dd;I4=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.Konva=void 0;const t=rve(),e=ove(),i=lve(),n=uve(),s=cve(),r=Ave(),o=hve(),a=$P(),l=ZE(),u=jP(),c=dve(),A=fve(),h=pve(),g=gve(),f=VP(),y=mve(),E=vve(),C=bve(),m=yve(),b=wve(),_=_ve(),B=Cve(),L=Eve(),j=Tve(),O=xve(),Q=Sve(),$=Bve(),D=kve(),U=Dve(),S=Fve(),k=Ive(),M=Lve(),N=Pve(),V=Mve(),G=Rve(),ee=Ove(),se=Uve();return Dd.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:i.Arrow,Circle:n.Circle,Ellipse:s.Ellipse,Image:r.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:c.RegularPolygon,Ring:A.Ring,Sprite:h.Sprite,Star:g.Star,Text:f.Text,TextPath:y.TextPath,Transformer:E.Transformer,Wedge:C.Wedge,Filters:{Blur:m.Blur,Brighten:b.Brighten,Contrast:_.Contrast,Emboss:B.Emboss,Enhance:L.Enhance,Grayscale:j.Grayscale,HSL:O.HSL,HSV:Q.HSV,Invert:$.Invert,Kaleidoscope:D.Kaleidoscope,Mask:U.Mask,Noise:S.Noise,Pixelate:k.Pixelate,Posterize:M.Posterize,RGB:N.RGB,RGBA:V.RGBA,Sepia:G.Sepia,Solarize:ee.Solarize,Threshold:se.Threshold}}),Dd}var Hve=O0.exports,L4;function zP(){if(L4)return O0.exports;L4=1,Object.defineProperty(Hve,"__esModule",{value:!0});const t=Nve();return O0.exports=t.Konva,O0.exports}var Qve=zP();const $ve=us(Qve),jve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAGsUlEQVR4nO3dW4xdVR3H8c9Upx060wtSrC0IBaY3BCTIg2GKxGtC0hgiqYkmJEbExKYJRXzhxU5VUQrGYGKExJeiaOKjAbEJphgpPHAtWplOubVFx8IMU9rp0BY7xxebDJPOzN5nrbPWOaf7m/zeutb+rf+va82evfes1aH5+ShWY9UkXYBuzMciLMApjGMUxzCOf2Hw/xrAIEbS2i9HR24DZ2AZ1uELWIfLI/c/hCfxOHZgf+T+24LL8SO8glpivYwfYGXDR9nkLMF38bz0IUynp/AdnNvAcTcdF+N+jMkfwHQaw/24oEE1KMQqbMMOPIrNWIBYrMZDOCl/wYvqPfwSKyLWoRC34cQZDO3DVYF9L8R9WiuIqTqBn6AbDed6nMJ0ZoZxdR39duAbGELugsbSG7ipjlqU4k8FjJQN5ULsLNBvq+oRLC9Rj1K8VdDEKK4t0N9NGEbuojVab+HGAvUoTRkTM82Uc/Bgyf5aXafwY3x49jIXp6yJM4WyBLsSFKBZ9Vd8pGC9Z6UeA5OXr0sxgNxFya1/4qIyhZ+Oeg0M45uK/ww6G3QAa8uV/4N0oIaKeIzgRjxTT+MqkMYwguvxctmGrRTIOJ7BAPZhEEcwhlHMRTe6cR5WohdrcS26Evs9gD68WbZh7nV3Jj2Lu3AdOssObBJd+Ay24KWE/veo4+4rd9Gn6j/YilVoFFdhG95OMJ6d+FAZc7kDOK29uA0pl5Zu3I79aOTYfljGVO4g3sHtCFmSQunEnTiCRozxFL5Y1EzOMLbjPDQLy/E7jRnrIQUfSOYIYgQbitcpOV/Du+KP+49FLp46jBfw8VLlyUOvxrzv//JsF04Zxp+xEK1CNx5FzBrsN8ubx1RhvI9P1VmYnHRiO2LW4u6ZLphyhtT7Ojg3c/Bb8epwwgzLdspAaoq/eWw2OvEIYtXhF9NdKHUgrTxT5uM5cWowjo8BAECOQFp5plyGw+LUYBsAAOQKpJVnys3ijP8oFgMA5AyklWfKw+KM/9sAALkDadVQlmIUoWP/GwBA7jBOaxhXBBYpNZuEj3sClwFA7iAma0Ci72cj0Yk3EDruLQCQO4SpujW4TGnZKHzMLwFA7gCm6qEIRUpJl/APyiewFOZgHM1E1M8yE3Ac2xFCBz4Lc/BiqKPIPJvbQB38JkIfnwPYIP8ydVojmusNYhlCH6m8AgA/C+wsho7hS3Fqk4UtwmuwuAMA67EJV+IcpGIIT2MbBhNeNzY34InAPj4dwUcFYB7GETJDbpmT3Hb7cgLPI4Q1VSBx2RvYfnUVSFz2BbZfWgUSl9BAFlaBxOWdwPYLqkDiciywfRVIZMYC21eBROb90A6qQOKyKLD90SqQuCwGAChJFUhkqhnSZPQGtq8CicyawPaHqkDiErql7UAVSDy6cCVC2FsFEo8+4S/2qkAi8vkIfYQ+nKyYxN+FvS18jeo39VhcI/y75L9QBRKLWyL0sTNCHxXoRugmNhNYhooI3CH8e6w9yV23KfPwJkID2ZraeLvyPXG+2jzrzy6JwTJxNqh5KrXxduUP4syOjamNtyNfFyeMY1r3a/+moVe8vbR+nth729GDFxEjjOMyH6nU6nTiMXHCqOFXae23Fx3ibs90EpckHcEU5mI+WpFOccOo4d6kI5jCHRjHBH6ttTYG6BZ3marhIHqQhf4zGNqNS9HsrMQLiBlGTcbdWPtnMDWCr+QyVoCvasw2sTtSDmIy/QXM1fB7LEGzsEzjNlIelml73P6SRt/GZszL4BVgLjajEbOihgmsTzaaSfSXNDpZr+Nb0v5Jdhc24UCA7yLKclfVX4fR6WbM3Rr7SPoK3CPNKaS7ZDhooD/Q9HTaje/jOoQsafNwA7ZKe1z4IM4vY7Rj9n8yK3eZZafmSBzHc/gHXsVrGMYYjmAOenAuFqIXq7EGV0v/i+kQ+vB6yotegv9K9z+uVXQYn6ynoKGfAV2s5HE+ZwHvYj1257h4j8bfobSS/q3OmRGTT+BV5C5Gbg3K/AR3MkvwBHIXJZd2KXk3lYJOPCB/cVJqAvci54Fms7LB2XHA/WHcjJZgmfhHBTWTdmiNc7Q+QAduRTsd731Qc58uV4hFuAfvyV/QenUS98n4pq8RrMDDaKXf7I/jATTN7WwjWIGfinPUQyODeBAXNqYEzcki3Ind8gdwWk9jI0ofud1urMEW7JE+hD3Yiqb4k4AYj99jsxx9WIc+XCOuzyE8icfxGA5G7DuYZgxkKudjLXqxEr24CD2Yj0XoQQ1jOIyjGMMh7MVkjaa1X47/AQvxi29+EyE2AAAAAElFTkSuQmCC",Vve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAGkUlEQVR4nO3df2heVx3H8Vefpe2WZNE2XTsb1s6GPalzzooqw+FkbIAKQymDDVCRiT/HZB0gqDDDCrYGqCjiUBH3ExAQQFeHtDKZmcqW2TKYZm3sfshWu7q2aZPUtq4RIIW0PGme5znn3nNvct/w+S98z/d8P5x7T+45zzlLFJ9eDMyoPqM+dKILK9CJS3AC45ic0RvYN0ujOJxv+q2xJHUCDViDm3DrjDZEjn8Qw9iNXXg5cvwFQR1bMYrpnLUPD2Bj5r0sOCvxdfxF/ibMpRFsQS8WDasxiHGkNmAuTeCHWJdNCYrBu/Eg/it9wZvVaTyEOmLRgy3Yid9jCNdEjD8vXRjCaekL3K5OYQiXB9bieozNEf+LgbGbYjNea5BAWfUGPq+92ekm/Ocisd/GjW3EbYo+/O4ijZddf0AfmmU+M87piRZiNs0tOIjURctaR3FHE/V4Pw6jmZj/biJe03RgG8422fhC0U9w6Rw1aXZkzFYUevGnDDtddA2jFwDQjhlRDFmLFwpQlNQawwBo7TEV1ZBrLaxZVKjexF3aGxnTmA75uPgRPImVqIhEu4Zci6ctsm8+edCOIeswjKsi5zIfJzGCUezHGN7CJCZxGivQjR7UUccAPoxOLDhW4e/yeybvxf34GJYH5L0UH8W38HyO+bejpunA08jjxfh9vK+V5FpkAA/gUA79ycyQbRkn8gruke+j5VJ8BfuR2oiWDPkE3kYWCYzjXixFKpZiC47Kpo9RDenDm8ii8cdwZXM1y4VVeFTBDdmZQaPjmvswl4o7cEQBDdmcQYMj4u8kyYJ12IvCGNKJlxGzsV3CV93ypBu/URBDhiI39JC0L+52+SDOSGzI1eKugT+imJvy5qPdT+jRDXkwYgO/RQfKRsgn9KiGrMVJxAj+HC4LLEwKUoyMOQ3ZESnwUeWYTV1IqpHR0JAVmEBo0LP4THhtciflyGhoyNciBX04vDa5k3pkNDTkzxECHsFqlImimHGeIXVxtvB8NUaFcuQ66R9TDQ3ZGiHYAeWa4nbjJelNaGhIjJXAso2OL0tvQEND1kYI9LqwZdYUPC69AeepBrg5QuceximUiaI9XidjGvJIhBh581zqBC5gD8ABYUPt2TyzjsgV0i1ENdJmWInQQN+JWKS8+SSmpDdjCDowAAjhjxFipOJJfADfxA14V45tn8QL+DF2AnxBmLOTWJZTBxY8NeEjZASnURGBGIa8FCORCqAmfF/UvhiJVAA1dCOEsRiJVAA19CCEIzESqQBqwvdJTcZIpAKI8ciaipFIBVCb/0/m5X8RYlQAaphACGXaGlp4ajiBEEInBRWziGHIihiJVAAxHlll3AxXWGrCT6B5T4xEKoCa8G9RlSERiWHIJuXb3FBYYhjSiRtQEYEaRhHKLRFiVMziFWGrhnsAAFQE8Uvhi/TX5571AqQGeCpCrM9FiFEB6BM+Qg4p58/XCkuMmwm+kXvWC5jvCTfkX6otQdHYKM4OvHvzTnwh86xwQ45r7RjuillcAgBYjk8FxlyOtfh1YJwKrEKsjcdFPn6pVPxIHENOiLORe9FzFU4hhil/QxcqAvm5OIZMYzeqqXAg/eKeEVXW45kKRaxDaM7pUeU8wAy6kHyU9+B1xDRlp3Id+d2FX+AsprAFSblTXEOm8Tz68+xEm/RrfC/KYMKcwG7ENuUYbs+zEy1yu4v/OncwWWZYL7ufDhftIOUr8CvN5T6YJkXg07K77OsY7kHKl+Zy3Kf1U4EGE+QK4AcNEoqpV3G3uW88y4LL8CVhewoGc8z3PJbhr/MkF0MHsR3vzbAv12AbYp2TNZhhrhdljXyvdhjBIG4S9khbjhvxXdndKDcYkB+Adv577scw8n4ZT2EPRrEP+3EcxzCBs+hBN1ahHxtwHT4kn92V38Y25M4mxb4PPZXO4Gq0Tbs/aduL2zCOCgA6sB7J2GRxXETcrF5VgOWGDYp1h1Mq/VO2M8OWWCOfKXFR9ZQCXrK5DDuwGK/vLvSywm14C6kLlbWO4rORapY567ELqYuWlZ6Q78lz0bhT/EWulDqEu1BqerADed7jFFsnsR0L6pCEfvxMvC1GeegMHsP6DOpRGNZgOyalL/hcOo6foo5FQy/uRpH+f9mL+/CODPtdCurYijzvaj+nF3E/NmbeyyYo4ua11fg4bp1R7LNUDuAZDOMZvIjCUERDLmQl6tiIAdRxJbpwOd6JbizBBMYxhQm8hv0Ym9E/cBiF5f/uGoOmH8paIQAAAABJRU5ErkJggg==",zve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAABjCAYAAADD0bNtAAAEFklEQVR4nOXcf6hfcxzH8ce1wWRlFIzCVDFWrSHStNiKRFlFZEUVWoVKKBUp/lsp/tOKvzcVSq1VSZKE7Sq1Udmi2u7F7uZO7s+Pv27de+18v99zPp/P+Xyv86zXv5/369n53nM753zOAXgEhzGN73GvDrAT8wiLMoOd+F9z2FLphUzhoYK9sjPl3OIB/+D+ctXyUiW9WP6BYu0y0k884Cy2FeqXjUHEAyZxT6GOWRhUPOA07ihTMz11xAMmcFuRpompKx7wJzaXKJuSJuIBY7ilQN9kNBUPOIGb26+chhjxgF+xofXWCYgVDziOG9ouHksK8YBjuK7d6nGkEg/4Cevbrd+clOIBR3BVqwYNSS0eMIrL25RoQg7xgEO4rEWP2uQSD/gO69pTqUdO8YCvsLY1mxrkFg/4Epe0JTQobYgHHMRFLTkNRFviAQcMkXyb4gGf4cJWzPrQtnjAR1jdhlwvSogH7FNYvpR4wAc4L7thBSXFA/YqJF9aPOB9jOQWXU5p6YW8k1t0OaWFF2dPZtcllJZdnjey2i6itOi58lpWY0Bpyaq8mlPaEAj2yksZvYvL9co8dndRfEH+mS6KB8zhyS6KB8zi8S6KL8g/2kXxIOE2tNIiTeUf7KJ4wN8it56WFohJ1Da00uVjM4mtXRQPmMDtXRQPOIUtXRQPGMetXRQPOImNXRQPOIGbuigeDLANrXTBnDmO67soHvCzip1YpYu1kaO4uoviAUdwZRfFg0Xb0EYQ0CW+xbYuisN7XRUfL/ZQvjCruip+oIs/9ePYWnznUQ8+xjRSMYVR7MUpFP/fWpWkDw/ORWnBqnyRU9oQCPbKplzSw35Wfy7XwsN+Vv8L1+JM6oWH/YivxRO5Fi/9d9wvoytNfDbhWnenls71Uz+JHZhBCrKc5FIf6TFsBOxPtOYUrhhm8XFsAsB9Cdd+eVjFq55d/Zho/WNYlU47TakJ1R/NeDHRjCDx92hiy/R7Pn0pJpFC/JMkxoCYIoPuSNgbOWchc3o8GalL0xJ19qBsjpizPG9FuC6hyfAmu46+aThrecYkem+t7uBpPNxgztMNZlXlsQbz/0OdgbMRQ9fgj5rzqvJ5ww5LqCMde6W0p8a8fhl4y0cVgwyZw67YQbgRc0gh/m5smX4D5vFs7JBFHBxg5iA5I/KF/F6Xj/PSXxnt7DGvbqI28B/tsfDzMQtXsBq/9ZhZJ4diiuyuWDTnizCvV8xskrtiiryC0wgYw1Mxiw3AeswghfiHsWXOxwa09VhpnzTi4y31TUaqmxRzWIMVwwiOIFb8h7aLpyD2JsUMdmDFsQ5n0UT6a9zZfuV01LlJMYtPsb1I08Rs0V/4d7yNawp1zEbVUT+KF3BxuWp5uQBv4hecxH5sR7YPZvwLn2ylOCSM5nEAAAAASUVORK5CYII=",Gve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAABs1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVO0FJAAAAkHRSTlMAgIgs6SroBAMoHyKp+aXh3udO+IH+30vmAeq94gpPkyX9r7v8qDCX3O4Xdfb346cTRPRMduWW8fAFdAszpOtRP9rThMtFh9tWlXOUNLG4779Y1S9gR347a6vkHfo5DokhFC63NrYZBqMJ81P7YlD1SbU3csAYkdmiWz53jQyfqiPGoXwW0W0IrW8xbNDtxZ19LDSKAAACc0lEQVR4Xu3U51cTQRTG4XdDNIsYBDFiANOD9C4de++99957772X/ZP9oCcjkuHO7N27fsnve85z3rl7guCK7S7WdY3s2bwKcu1f7f2pOQOhxgteqfb1EMnx/i6+UNJQiqShFElDKTIGX9m79va68xu2kYaqoRF29R1O/P7l9g6NwVdq2kq/bJmjMbjKvMWeKlpFGMRdCEMpGoOh1LR405tberFOBVB3oQ2dUhWllX5Dg6W0ZyzuUf4u1UtIJU/uWKAA31uemOzgbkkb7GBvWUPv4G/ZSe/gbxmwMdp8Khv1N6/715g/ttXf9S+Z76h1kVzma8sm8x0xAMm0jy0PYxY7APjZUui3NADHs1W2WLyVMvTXry9jRBgGoXANWuEbtMI3aIU2jpp/V/Q35qB8O0iDVpoIY6JAGMaK3kCsm7qH8V0i0DZM7DDe4kDf0l2EYagMAbMpzcRbUS+mIhTa4Cu0wVcmcp6XGCbuQd2F7uC+VijDsk7YZm9E/otRMSpGxagYB6yNRbDtUAg7HmfljcFj8sbxLvl7dByR3+Hm5Q2cDMG4kRC/B043ye9AMQSjMQTjRI+8gbT4zYFTcfkd6A3BOJOVN3A2BOMc/+Z0U/I7cCEub8AJwbhYL29gJf/mdL3yO3D5iqHhwH9XzYjEOBgVjYxr18HIHTUxbt4Cp0kTo+cOWN01MO7dB68cffIHMfBKrqCM6CC4VVPGoz6oZP5TlqfAD09nI+LPniOIXuiJ7MtXCKbXWiPfiqDSfFwNbyYRXN1lz/32HYLs/QxhZCo1hmD7MF0YrU19ROC5uRIQ/fT5iwuR3K/fBr7/+DmUykCqX+TUaOK655oeAAAAAElFTkSuQmCC",Kve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAA2FBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABX8LpaAAAAR3RSTlMAAQIEBhIUFhgZGhsdHh8gP0BBQkVGSElLU1ZXWG5vcHFyc3V3eHl6e3yora6vsLe4ubu8ztDR0tTV193m6Orr7fLz9Pz9/mopR8sAAAI1SURBVHhe7drRUtpQEMbxJdJa1VKstlYEUlAQRWqjgoKASpvs+79RnSLzXeQimyxfLzr+X+B3ceYcsjtIzvavfy2iqlALY30pbjCN7/pah2pAIRpQmAYUpgGFaUBhGlCYBhSmAYVpQGEaUJgGFLIBxW/QlZYaavqMr7EFiQ9cyFhN3XqMLTX23oF8siLbDiR4tBnTkjg6tyEn4qnctxgXG+IqqF2OH1Y9AXh6WHXfPwpkjXUct/wNcbVTCYoipcoHE3F4r/rYKxdByt2Z6tDwWrYSfUn7QX4kWF6quGn+jarlR+rGA2vrqkF+ZKCrQpuhd/mRO4Vimw0m+ZGJoo7BcCNQ0oYfgZJt+BEoacOPQMky/AgUGAQECoy1IlBgsBAobQBofpruCsjVabo5ABTiPIh1YBBriOzHbCSuyo3S+ykLPvL8b5CIj0RS5R/8nkiDCOA6hgnV6MrfQuaz0pbXwoT2QHZFoBAQGFAICAwo60ZgQPEjWQYUPwIjQ3EjMNKKH4GRofgRGGkFyMg1OrRFLMplfuSHzcC56JFjnOtKRs14uZMpPpgmLcns4FZ1erJRaMTuzVVHX8TSu49SfFmw/V/sVt6Q4HiQsR4cD+qB8Bed2i+7kJ6aOvMYpZkNmZccyK4a23Ugm1ZkUxwNbcZQPH3+bTGSb+KqaUFa4ixMLN/tPAUGT4HBU2DwFBg8BQZPgcFTYPAUGDwFBk+BwVNg8BQYPAUGr8byT2ShUKtGz4toLyfwByDa7D6rgkxQAAAAAElFTkSuQmCC",Wve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMABwgUFRYXHyAhLzAyMzQ1cXJzdHV2k5SVl5iZtru8vb6/3d7f4OHi4+Tl8/T1+Pn6+2CiDiIAAADtSURBVHhe7dpbcoJAFIThVkU0qImQi3dUZBITHWD2v7hUiVXDAqZ96n8D30u/nYO2yfvBVC5o1uTZGL7RunGUmlWER4lxtH5fW2N2c8SuUwCILo7a9xDAxpFbApOGjdQxPhy9FEc+ksPwkTMqD5x2ATt5xKJj9BCwXuGVDrJF0LZPQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJECO3A3C86SOWVYhewjmFROnoFDnxkj4yPvGH8jJcSrNjIJ4Doh2uYAQBMr0zjL8G9F+KML3M8Gi5rDlF/DeCL07y0YQF73i/iFvgH2E7OZ+WWFL8AAAAASUVORK5CYII=",qve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAilBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAggvAAAALXRSTlMAFBUWFx8gIS8wMjM0NXFyc3R1dpOUlZeYmby9vr/e3+Dh4uPk5fP09fj5+vtoMG2kAAAAzElEQVR4Xu3aORKCQBSE4UYE3MVdAYVxH2Dufz2rxCpSA5qo/wt8SWfvoSlaZ6Z0nWZNugrRNjzWjlJ98PFrbBytx7wxpm9H7DUBAP/uqF0HAE6O3B6IajZSBdg4ejHOfCSF4SM5Sj5i4XpIyF8JESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiJB+TuUFH7kg4yMJVnxkgbCPlxIc2MgWgH/jGsYDgMmLaTzH+DYizvg+w6/BvuIQ1c5DWxCnhe0WsHmyDBrgA1/Py24jwiZBAAAAAElFTkSuQmCC",Yve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACUlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD1eKC/AAAAxXRSTlMA/vkX3ccZGrPxkfsS2V74Be7mvxOtAQbtTYjMxP33596Zju+Psr7c4KofZR2G2jImYhvGENscyDgCr8EeO9YOCyRm8COKFArr5Mu89ZsiKZCHT1roUWs5mD76kowWWzEnVcU/4bghZ1+fGPZoOrYRbdLXgyC0Q8rRyUFu6q595aINQKYVnQfOMJbTafLfPWC6WYuJ0JWCSdUtwo1MqERCZKMPLkh746lYBL3pJVT8RkdqpLuUoVYvflCltQw0LF2XM+Kck7OqwgsAAASnSURBVHhevdoFe9RYFAbgL6OdduoutLSUlrpABSiUQilS3GWBxVncFnfZhYXFFmfd3d3t+1/7PNu5uUk6kmRuef9A7knuOTk5ubArb09byST/AV+2x5PtO+A/XdK2Jw8q7dxYOZpR5NRNr4cSCxc3M470poVI0sDJuUzo6P4BuNeTOo+2ZFY2wp1tqeW0bc25Z+HctJI0OpKW2guHit+nYzkZBXBgWw1dGayHbcvHMLoxHaU1KSk1pR0zGF32EtjzQqrG4abea9jshc67ueHqQQ6nVRfChsBcWpV/sDSAKALr68ppddyLhPp8tChrmICYJkzfRIvafiTw6CzNvlmJBFrqNJosa0Fcm0M0GfsDbLjyC01CqxHHO+ZtNWcjbCp+mUbX48TSt4wGo0pmwbZZM0fRoKIfMaxrpsGpd+HIGzk08O2MkR+mvVsTgEPBXBp0Rc+XtTR4KwuOfXSZBlWI4lWNUupEuFAwk5K2HMNsG0PpPbh0hlL2YVgU1FB6Bq5VURqExXpKX0+EawXPUfoQJm9XUPdxFpKQNZm6nN5YO+uTIJLiNay3Ggaffi7z/HUk6UuZ+2l9kC5TV4Kk3aFuPnSNHgpbpiFps2S1XFMP4VvqiqHAcupSEXFpF4WxUGIvhV2i9T9JQWuBElc0CiswZK4xENWhdOF/C6mbAkW6qRvqkRdTKIMy4ykcAgA0U2iAMrspTAWAdgrlE6DMvkwK7QAyKLwGhfIprAcga/NtKCTX/g+ALYzQAlCok8JoYMDwhJRKpxDGFAr3oNQqCivRRuFNKLWdwg68QuEGlLpAoQmTKHihVIBCvsz/GVAsJKvVS4xIh2IdjDiGcYwohWIvykQpYkQuFNMbsNnwyBeWYimMyHwqF3kqt+upPPgR3MK1cguPXDJel8koy8pOKBWkkG8okKuh1AkKTWiz9irq+5Ud2EPh6ki9tLoRpnAQSjVTCEMmCoNQqJHCaFNLtBQK7aAw39Qg1UGhSaa1B0ekTQ1nmtu5dArTocw1Cg8BAE0UNkEZP4X7AIBW9R9BWGn9CMJRCs9Dka0U/Biyn7q/oMQGjcJXGDKwS4aiOpB5eYj4l7olUOAz6haN2NhDVqo1PdDNp24mklZFXSWkvjQKo75Akh5oFNIWwKCaulNBJKV9dqxhZu9Z6nKzkITCx9TNOQ+T25QuJjPo/I7S97AYpFQF1xZRugWr+mxKZ+DSj5SKehKM0dcqGKP/lChS/pwFxwovMuGYvPA4DSYH4VDnYxr4Y6zyUjoNZj+AI0cqaFDrRQz95t9NdxzUsV+rNBpULEBMjyw/zjJgU/E4GoU2II7VIZrsbYENv22lyYwbiOv3OTQrO4IEpqRoNKnYgAT6a2kxfncYMYWv+WnRsQAJebtolZn/Rzui6Mw47aGVfx1sKKzWOFz6n9svBKALnti+qpnDaU/sZvGSbEYXqi3NTUnJLfWFGF1RMWyrH6Qrt3rgRPHfbg5iwKHeaqdHSp6ch3OHnRyO8ZxrhTveEtvHfDrhXt6KLibkX5GHJLUemso4Ht5vhRLrNlb6Yhwia4RK4e6bi/M33fUVeTxFvrtl+U03u/fBpv8Ay7jXK2LgI/kAAAAASUVORK5CYII=",Xve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAABsFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD78RVyAAAAj3RSTlMAAQQFBgcLDQ4PERITFBUWFxgZGhscHR4fICEiIyQlJicpLC0uMTI3ODo7PT4/TE1OT1BRVFVWWFlaW15fYGJmamttboGCg4aHiImMjY6PkJGSk5SZmpucnZ+iqq2ur7q8vsTFx8jJysvQ0dLT1dbZ2tzd3uDh4uPk5ebn6Orr7O3u7/Dx8vX29/j5+vv8/o25xJoAAAK0SURBVHhevdqJVxJRFAbwz6K0REUzVEzRzNKybLNF01IzpEWpKMvMLdwyl6BNbUEjTSS+f7lDesQ8iDPDu+/3D8yZeffe9+bdC6Ps9W3ewcB0cDkaXQ5OB1572+rtUKmwyR9iCouvbpdCierueaYx56lGhvI6J7mviY48WFfiW6Uh634nrHH5ftOwjf4qmHfYG6MpMV8OTGr8TNMWW7JggmuElgyXwrBLy7Qo0gRjDnrjtM5vgwFFk8zIuAP7cs0zQ6FK7KNmgRn7ehppnY9QgUgD0ji1QiV+pXmXE0tU5JsbeyiYpzLBQqR0aJIKjdmQymMq9QgpXIhTqfiVFBtUmIqtuLBL1giVG8YuzRRwHf/JWaCApSNykZXUgx0q/1BErAJJLyjkGbY5oxSykdz0n1KMD1vy1yhmzY5NnRTUjk2TFDSGf6opqgoJ3RTVhYR5ipoFgGIKKwbQQmHNAF5SWB+AjxQWAvIoLhdnKa4ObRR3C/cpzoNBihtAgOJG8Y7i3uIDxYUQprjviFLcupaHaPlcWhZeSwhrSUYtZUVLgdRT6usp7gxydWy/8okS0nEkeq7jcHcTwDHKihcBwBxFzSDBQ1F3keDW8ROECQoKYFMHBd3Bprw1ilm1Y8sTiunVce1Rgm19FOJHUkWMImLl2KGHIh5gp+wvGq4HcYMCrmGXYSo3hN2cP6jYcpmGa/TLSKFXLrKSbONUKHAQKeXPUZn3DuyhXF27qRJ7qlmhEpFapNEQoQI/zyGtkwrqy1KtrrZseo4xZiRQAAMOZNIqj/tsMOZi2PKSX4VhpcO0ZKgEZjR+sjKIAZNyesyOlDzMhnllZoZjov1uWOPwGh7zOQ7r7O0GsibQbkeG3PdmmcZMlxtKFDT5g3sMkTmhUm5da/fAm6lgOBoNB6dGBzytdUdh0F+YRx0B0whRNgAAAABJRU5ErkJggg==",Jve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABgCAYAAADrc9dCAAAFVElEQVR4nO3dSYwUVQDG8V9PM4CgwiiCCyJuGEFuenG7SKKJBk0UNC6JJu5RryR6wZtXLyQkHkzcopG4xZi4IiqKgriBCzKIoBNDZAzEgwjixUqGSM9M17xXr6qr/sl3nNff9755VZXu16+pLlNxPzbgDwzjY9yDqWgokLn4DIc7aANOTeauZvThA53LyLQe7UQea8VDxi4j00OJPNaGqfjF+AsZwjFJnNaEB42/jEwPJHFaAybjJ90XsgtTirfb+9yn+zIy3ZvAb0/Tjx3yF7ITk9EQiLvkLyPTnYW77lHa+MHEC9mOSQV770nuMPEyMt1erPXeo43vhSvkR80qmRC3CVdGplsLTdBD9OEb4Qv5Fn1o6JKbhC8j040F5ugJWvhKvEK2aFZJV9wgXhmZri8sTcVpYaP4hXyBFhrG4Drxy8h0bUGZKs2niivkc80qGZVrFFdGpqsLSVZRPlJ8IZ8UkqyCXKX4MjJdWUC+yjGenSSxtL6AfJViiXRlZLoiesoK8b70hayNHbIqXCJ9GZkuj5x1TIp8Bm9hHs4doQW4EHMK9DEav2EjfsC2EfoZhxGdGIUM4Kz/tAgLcRbOw7ERXq8IDmA3BrEVWzD4n3YIWFbeQkZO+sjJvwAzwlirDH9hO0aWNIgtGOp2sNEKmYLTHPlfPlINYzPsyJKy1bUN+8b64xaW43nd7Z9tlE+/4Hksc5SFMYB3SmCyrnoLAwCT8F4JTNVd76Ldwi14WkMZuLmNx3FmaicNYGYLw5iZ2kkD+L1P84lZmWj1YRAN5WBHH55N7aIBwDNwDDZL/9hXd32NaQALMITUpuqqISzAESzAbqQ2VzcNYRGOynwMIrXJuuhnnNOpjIwzsB2pzfa6duLsscrImIdtSG26V7VDjndHTsYWpDbfa/oec5GLOfgaqUP0ir4T4Nio2fiyBGGqrq04pcu578iAYnel95o2Y1bXsz4GM/EJUoermjbhxBzzPS5mYD1Sh6yKNuKEXDPdBdPxLlKHLbs+xPE557hrpuHtyIGqrHU4Lvfs5mQa3pyg8V7UWgl3aE7BK6OYq5veUIIzHifjJeknI7VeV6IDnPuxRvpJSaXXlPBcxzaekn5yitYL6EcpaeNJ6SepKD2nAudvtdXj8rVGhKPMY5yIcwi70evswiEEJdYRRRdEGrdMRMkYq5COH9r3EFEyxthGOgt7IoxbRmYLnDXGClkcYcyyEnyVxCikDvePjOBZYxRSh/tHRrNCSkbwrDFu6r8r4FOykjAscNbQK2Su+pQBAzgt5IChC6nT5SojaOamkIlT6kLq9ISVETRzs0ImTtDMIZ+y+rAP0wOOWQX+xPH4J8RgIVfImepXBkzH/FCDhSykjperjGDZm0LCUMpC6viElREse7NCwhAse6inrH7sl2Zv0mG8DLhOmrNb/sJx+DvBax+VhdLs/PgQlwHgIryGFF7On8D8BWe5YsN/iiXoxKVYhyI9LetyzqLyqGJCb9Xh0MgOLMEXKMLbynF6KoTYG+N24m75Nqb1YRl+jOzxxRzeohHy51FHag9WCLOrvB9349dIXr8L4DEIU3FQ2HD78Zg4XwmbjhUYDuz5oBJ8NwTmIVSoP/E4Zhfg+wSsxL6A/k8vwPeYnG3iQQ5glQCnHOTgVKzCgS78dlIpTndtY698AQ7hBZxbuOv/cwZWy3/53SvCbvi8PKH7AK8q5y7HxXgV3eZZncJsJ+ZgD8ZjfC0uTuKyOy7GWown0284KYnLUVhs9CMCN6nmz9NdiU3olGuXEr/TfSwewQYMYwhrsFS1D2xuYSlexK/Yi4/xsMDfSf8XEA3lfGYYInwAAAAASUVORK5CYII=",Zve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABeCAYAAADVA7GfAAAFJElEQVR4nO3df6ieYxzH8dd2NoczEQYbwKBmFkE2U0WLRaJIIVJQpE2pVOEIDFGlVCm0Yq1S23+rASynas5EKxSMSWaBtcac7fhLnk47537u+76u+7qe59zv+v51nh/X9Xk/131f5+l7Pzct3bIML+Ez/Iox7MDbWIUT0g1terEQmzFeUHvwJA5NM8zpwR3YgyIZnTWCeSkG28/MwLByIjrrO5zW7JD7l0G8obqMTimnNzv0/mMuPlJfRislAIvwrXAyWik1WI7fhZfRSqnAXdgnnoxWSpfU3Um1UgIyB+s1K6OVMgnzsUUaGa2UCSzGdmlltFIAV+MP6UV01nbTVMqDGENqAQerbzAf04IBvITUoRfVJxiKlEE2HIGN0ofdbT0VJ4Y8OBWfSx9ymdqDeQMx0kjMJXgHZ6QeSElm44d+E3IjNuCo1AOpSF/5WIn90h966tT24Kkk4BC8Kn2YIeqvwNk0zlF4B6mDDFU7w8bTLAvwhfQhhqwtM4NG1BxL8DHOST2QwHyQegBVuA1/IfWnOUZdHDCn6MzAMA5IH1yM2hQsqQYYxBrpQ4tVu3F2sLQiM1d3rZy9Wgdwc7C0InMmvpQ+tJj1SLC0IrMMv0gfWMxaixnInjvxt/SBxawPMYisSdGak6K+xrFhIovL69KHFbt24axAeUXnMvwpfWixah+uCJZWQ/SrlAO4PWBOjdKPUh4PmlAELi34++XYjdRBhqg3Zby9HcBqjOPRgsf2w0rZLOMLQedgAzoH/FjBc5bqXSnf4LiyITXFVE3O/SjlD5xbNqSmWIzvTT2BfpKyD1eWDakpVui+yblfpNxbNqSmqNKa0+tSsm0JfVj1SRVJyXX3tU6m29sV6jet9ZqUERxWMqfGGBFmkqsL3mepPC7C+RbHlw2pKRYIO9nhgvdLvVJ+w0JkywrhJ53rStmH5cia68WZ/HDB+6ZYKXeXTicBC8ULoGilLNHcSnm2QjZJmIVdiBVE0dfYTfyf8hZ6qg03dlNb0acz5krZgjnoKW6S/pARQ8oOnFgtkrQcrpmG6Cal/InF6FmauiS5CSljuLZyEplwn2aENCHl/uox5MOJmr10oEjKhfgVZV/3hRoZZMdWzQkZxxMF4ym7Utbrse3tVFyNvZoVMo7nCsbV7UoZ1YPb28lIJSOUlB9xUp0AciK1jLpSduP8OgHkRC4yqkoZw3V1AsiJ3GRUkfJAnQBy4hp5X6pc1HhwKZ6uE0BO5LoyJtbzsQLIiV6RMS2k9JqMvpeySfpwq1bfnC86ORwfInW4VWoM54WPJD1DeFf6gMvWqhhh5EKvSXklTgx50StSNmIWpgW5S9mGI6PNPlNylfITTok472QM4kUcPcVj5uB96SX8V3twUe2ZZ8hsbMA4RjUnZSfeU+3uBvtxQ+2ZZ8gA1qJzslsxF5MxpP5PuO7EeYCjcRPW6O6OantxS815Z8mAye98OYpjpnhunZXSKWMig7gKL+OHCc/7B+vQ0z1UkzETr5k6uK2KpbxX8BoHk7GoxDjn4XJcoI93UjPwMroJ8FPhDl9TrYxpzXPKfapDSGllTMIzqh3360hpZUzCE+rtjKpIaWVMwkPqySgj5W2M42etjIMSSka3u68hrEO2P9CSkgeEldHtSmk5CPeI26W+prmp9D4DOAZ7cbLwzcWjuBV70VKSmViG1fhK/HNIS0nOxTC2aWVkxxlYic2KzzetjIY5BSuxCf+gU0bRt78tkTke92IjRtCrd9jMhn8BIQKkBEDSEyoAAAAASUVORK5CYII=",ebe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAxAQMAAAAWb55TAAAABlBMVEXKyv8AAABotHKWAAAAAXRSTlMAQObYZgAAABxJREFUeF5jGO6g/j8CPGD4jwQ+DAcemv+GOQAAL+DaBU2boRMAAAAASUVORK5CYII=",tbe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAxCAMAAAAbf/wiAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMAERIbHB00Njc4PT4/QEFCQ0VHSFpbZoiLkJGUl5jM1NXb3ODh4urs7e7v8PHz9PX5/bhZZfcAAADvSURBVHhe3dhJTsNAFIThDrQTjDNPzFMwOHHiZ6j7Hw4hg94mu6Rq0f8FPllWvx7CucqeynpzexGYzVr89tEnGpmhqx7wkHv8t7+iIc9wJWchnxAoFTwccgECKwQIbMhEXGEirggQ2IiJuMJEXBEgsLHPttX69AzHaq5D16IFK1dewazp1v43aPmEAbl24gj3W0BvGwUIHhTIuwL5knxJKv+kimmsk3asml0viik8N8F+Ei6XxJ1RsMePFKeVNM5dNlSchdM41VsR6MghD3RkTzCYt1/9Pf5O8SIRG8HbSpgafiv7gVl83OzebnpHgR+RhqxiG3lUYwAAAABJRU5ErkJggg==",ibe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACNFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgSgbbAAAAu3RSTlMARKqA/SJ6A88B/vkT94RCAgYMEua9LGb8vgTvnMTWwMiG9FnhEZKRN3B9V2NDRSOyBxCxCxv73vr1yQjg0yRbZOro8W/F7p92Cm4UTj9ykGcYpZs4Oxq1+MbsUOfdhdnwpi3tWKd3TeTzJRkuaq9R35ar8kZ7XyidrtCoFlrMqXGznjpcZZOt5bnU0R9geW1P0im8PtuVujmPlOuYQbeaBXwXTEhsw0uwHA6N2DIzNot14w9zabTpR8cNlJ1bWQAAA4VJREFUeF7t2WV3VFcYhuF7YIZpJgoRIkCQYBGSAIWWtlix4u5erEDd3d3d3d31+XNd+fqe2WfvOft8a68/8K71fJi519kEGr7huIzjd5fI1aY2VfFUA3lqUlVN5KjuJlXVV0d+9sjhUfLzjhyeIDfl1XJY1U1ebpPTAvKyXk6PkJPRHjldfQX5uFEpDpGPcUrxILlYPFMpLp9EHh5TqhXkYZ9S/UE8WuuV6rIG4m2Xx2TidZkDtzaaI11E29tpjky9xxwpXkqsrTJu3injIWItkzF5g4xlRBquyLhznqzzxOmXsaqu3CPjY+I8I+MWGJExjSgXZb0I82WdJMYMWcvhvKwZRKhbKuMBgEtkXBmTRm/J2gAwQdZuspsjaxigJGsumZUPy5gOVff6s5usCrK2QvW9hsjqLhmV56D6XlPIaOK1MqaCY6+eUbJ5SdZGcO21mWzulfOfoyTrdF4p1Atmr+g0ul/W9eDeaxZZPCyjeAHce42Qwex6Ge1g9opOo8cd7ePca2UOKaQl90HaXu3U7EKnjKfB7BWdRvNlDUL6XmviU8g2b0nWdGpUqsjYB569tJza3C7rDvDtNYHaXCWjfjZGSZFpdFLWIvDv1RGZQivAv9fRuBRq/AaLkqLSaLesJyFkr3mEmytrAEL22kawcpuM4qFCFdtltZUJNaTMmgk1RZntyp5C4daNEmazIpwlzGlFOEGQa65ThMA0mqUopwgxoiiLCDB7v6LUt+K3UpEG8WtXpFfx2tGpSMW9+KxRtI34TFe0v2tPIT07LtURWZUShrdztIdUzyvhhVpTSIdbSLWwXtbLpHpFCXPw+EA1ptFRJbyGx2CtD2qvy1pdxqNhiawjdbjNU8IbeL2phB9x25apDCYr4W2cWs7Jercbr01LakmjZiW8R7bf1Pdx2ZXx9e13JXyIw0cHZR3sJsAnnbLWTaS6s8r6GatXCZ9S3QklfEaQz5WwMziFeiYSZEdR1szFVHNKCesJ9IUSBqhmkRK+zP5pQV+RxML9EW+uX1c8adSwpTCmSQlTC2M6yqQodxTGLFVCU2HMllag/G1RHt99j9MPx+RR/KmFn+X3y684LDwnv984pgADUXE+jaIC9OPQrwBFFGI8DuMV4r965P8jjQpwBoczCtDIAQVYgMNfCrCWQkVeXS04tPTKq9gMQwc8i/XNnYTTP3P6PFutbeZfLX08wPEtHkEAAAAASUVORK5CYII=",nbe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABKCAYAAABNRPESAAAACXBIWXMAACcEAAAnBAEigMbBAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0pJREFUeJzt3U+oVVUUx/HPe0VhDgoqJeqJDm3wimxiIv0hIhpoNJOoIIigmdgwqlnoTIggIqK/NBWEbKQhjiJn0r+RJJVGGEVqPb23wfaSPd67nXvOPufs++76whrcc/dZnL1/7HXP3f/WnNXZgqfwGBawEXNjyjfhZsy35LsOv+J7HMNHONXnw9yJd3EZwzADfIrbmjRqXXbg7AQPO0v2Ex6q3bI12IlLGSuwFu0P3F+3gSdhAec6rty02lncVa+Zq/NxARWdJvtCiy8hW3GlgEpOm71cp7Gr8FoBlZtGu4R7a7T3WOal/xnB5Nwohfp1OZ3OY3NOhzPG3dif0+EclnB9TqczxhBP4EgOZ3NXHQbNOIdF6ZW4ESWNH00zG/B2DkchSD5244WmTiJk5eVPbMO3dR1ED8nLeulV+Ia6DkKQ/GzDq3VvjpDVDgM8Io15TUQI0h4/4B6cn+SmCFntsYCDdW7se5Burdue6lJEyOqC36RR4dNVCkfIap9b8CGuq1I4BOmGndhXpWCErO5Yklb1fDmuUAjSLV9Lq1YurFYgQla3bMWBcQWih3TPELtweKUvQ5B++EWa0Pp5+RcRsvrhdrxnhcXrIUh/PI4Xl1+MkNUvF6Th+m9GF6KH9MtNlk1ohSD9cx9eH32IkFUGAzyKoyFIOZzBYghSFp/Eb0hhRA8phzNYjB5SBgM8i/MhSBnsx1EiZJXASWzH34QgfRNDJ4WxzzViED2kT45IO6/+0/4hSD/EBFVBDPG8FcQgBOmDt6wyn06ErK6JZUAFsYTnjBGDEKRLXvE/qxaJkNUVx/GwdMjPWEKQ9ontCIXxkopijOh7h9Fatg8m0AERstokNn0WxADPmFAMQpC2eEONPepEyGqDr/CAqxNOkxKC5CUOnymMvRqIQfSQnBzCk02dhCB5yHrE3+XGjzPbDKVR3MZikATJ4miGeVOmE0lHnND/EMO02iktHKT8eU6HM8RfeBoXczuOw/jrWWuH8ZNOq+m7gtNkraarICUoiYQu1ayThC5EyqMq9rs0NNIZO6QFXH1XvET7EQ/Wb9r63IF3RNq8kV2R9pLf2qRRqzIuUeRm/yaW3GR2EksOpcSS3+EzvC/N/nXCP2P8OxWawj1rAAAAAElFTkSuQmCC",sbe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCAQMAAACwzYK+AAAABlBMVEUAB/oAAAD+nJMcAAAAAXRSTlMAQObYZgAAAUtJREFUeF7tlcGNwzAMBM/Iw0+XkFKus1NKu1JUgp55GN4EIBeLu2kh+kggZe9YppZf/8Zn3B+9+HFkzJo3OaVV802/Tj1rsWs6ddbi0HLqagU9nVItvnU61RpDl1OtIW8e0ixNb5a0SjObS2OvSG0+WzOPX62ZiFrTkdYYibSG/kRm5s6twjFPAe2JjAI6SsGq1xvHFF468R7ePvw1fqUFfAqaW0MYUevWgAEyToCMEyDjBMg4AVLjBMg4ATJOgIwTIOMEyDgBMk6AGidAwQlQcAK0EtmMkxGcABknQMYJkHECZJwABSdAwWGET/HNVCchv4JfytPgifFUefL8O/yD/MusBFYLK4pVx8pk9bLCeQt4U3ibeON4K3lzebvpAHQJOgndho5E16Kz0f3okHRROi3dmI5NV6fzszuwg7DLsBOxW7GjsetlfMYLR23RXcVV1soAAAAASUVORK5CYII=";const rbe={name:"Annotation",props:{panneaux:Array,annotations:Object,largeur:Number,hauteur:Number,nav:Boolean},data(){return{modale:!1,confirmation:!1,dimensionsCanva:{w:0,h:0},texte:"",id:0,nom:"",objet:"",objetVerrouille:!1,outilSelectionner:!0,outilDeplacer:!1,outilDessiner:!1,items:[],dessin:!1,historique:[],positionHistorique:0,positionActuelleHistorique:0,selection:!1,positionX1:0,positionY1:0,positionX2:0,positionY2:0,positionSelectionX:0,positionSelectionY:0,largeurSelection:0,hauteurSelection:0,positionStylo:[],couleurStylo:"#000000",couleurSelecteur:"#000000",epaisseurStylo:2,transparenceStylo:1,outil:"",creation:!1,positionObjetX:0,positionObjetY:0,largeurObjet:0,hauteurObjet:0}},watch:{panneaux:function(){this.reinitialiserOutils(),this.definirOutilPrincipal("deplacer")},largeur:function(){this.$nextTick((function(){const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.w=t.width}).bind(this))},hauteur:function(){this.$nextTick((function(){const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.h=t.height}).bind(this))},outilSelectionner:function(t){t===!0&&this.activerDeplacement(),this.reinitialiserSelection()},outilDeplacer:function(t){t===!0&&this.desactiverDeplacement(),this.reinitialiserSelection()},outilDessiner:function(t){t===!0?(this.desactiverDeplacement(),this.couleurStylo="#000000",this.couleurSelecteur="#000000"):this.couleurSelecteur="#000000",this.positionStylo=[],this.reinitialiserSelection()},outil:function(t){t===""?this.activerDeplacement():this.desactiverDeplacement()}},mounted(){if(Object.keys(this.annotations).length>0){if(this.id=this.annotations.id,this.annotations.hasOwnProperty("rectangles")){const e=this.annotations.rectangles.concat(this.annotations.cercles,this.annotations.etoiles,this.annotations.lignes,this.annotations.fleches,this.annotations.ancres,this.annotations.textes,this.annotations.dessins);this.items=e}else this.items=this.annotations.items;this.activerDeplacement()}this.enregistrer();const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.w=t.width,this.dimensionsCanva.h=t.height,window.addEventListener("keydown",this.gererClavier,!1)},beforeUnmount(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").removeEventListener("change",this.modifierCouleurSelecteur),window.removeEventListener("keydown",this.gererClavier,!1)},methods:{definirOutilPrincipal(t){this.outilSelectionner=!1,this.outilDeplacer=!1,this.outilDessiner=!1,t==="selectionner"?(this.outilSelectionner=!0,this.$emit("outilDeplacer",!1),this.desactiverSelecteur()):t==="deplacer"?(this.outilDeplacer=!0,this.$emit("outilDeplacer",!0),this.desactiverSelecteur()):t==="dessiner"&&(this.outilDessiner=!0,this.$emit("outilDeplacer",!1),this.activerSelecteur())},selectionnerOutil(t){const e=document.querySelectorAll("#outils-annotation .outil.actif");let i="";e.forEach(function(n){n.id&&(i=n.id)}),this.definirOutilPrincipal("selectionner"),this.reinitialiserOutils(),"outil-"+t!==i&&(this.outil=t)},ajouter(t){switch(this.definirOutilPrincipal("selectionner"),this.objetVerrouille=!1,this.id++,t){case"rectangle":this.items.push({name:"rect"+this.id,objet:"rectangle",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"transparent",stroke:"#ff0000",strokeWidth:3,strokeScaleEnabled:!1,opacity:1,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="rectangle";break;case"rectangle-plein":this.items.push({name:"rect"+this.id,objet:"rectangle-plein",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#cccccc",opacity:1,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="rectangle-plein";break;case"cercle":this.items.push({name:"circ"+this.id,objet:"cercle",x:this.positionObjetX+this.largeurObjet/2,y:this.positionObjetY+this.hauteurObjet/2,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"transparent",stroke:"#ff0000",strokeWidth:3,strokeScaleEnabled:!1,opacity:1,draggable:!0,verrouille:!1}),this.nom="circ"+this.id,this.objet="cercle";break;case"cercle-plein":this.items.push({name:"circ"+this.id,objet:"cercle-plein",x:this.positionObjetX+this.largeurObjet/2,y:this.positionObjetY+this.hauteurObjet/2,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#cccccc",opacity:1,draggable:!0,verrouille:!1}),this.nom="circ"+this.id,this.objet="cercle-plein";break;case"etoile":this.items.push({name:"star"+this.id,objet:"etoile",x:this.positionX1,y:this.positionY1,scaleX:1,scaleY:1,width:this.convertirRem(12),height:this.convertirRem(12),rotation:0,fill:"#ffff00",stroke:"black",strokeWidth:3,strokeScaleEnabled:!1,numPoints:5,innerRadius:20,outerRadius:45,opacity:1,draggable:!0,verrouille:!1}),this.nom="star"+this.id,this.objet="etoile";break;case"surlignage":this.items.push({name:"rect"+this.id,objet:"surlignage",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#ffff00",opacity:.5,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="surlignage";break;case"ligne":this.items.push({name:"line"+this.id,objet:"ligne",x:0,y:0,scaleX:1,scaleY:1,points:[this.positionX1,this.positionY1,this.positionX2,this.positionY2],fill:"#ff0000",stroke:"#ff0000",strokeWidth:3,hitStrokeWidth:50,opacity:1,draggable:!0,verrouille:!1}),this.items.push({name:"ancr_line"+this.id+"_1",objet:"ancre",x:this.positionX1,y:this.positionY1,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.items.push({name:"ancr_line"+this.id+"_2",objet:"ancre",x:this.positionX2,y:this.positionY2,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.nom="line"+this.id,this.objet="ligne";break;case"fleche":this.items.push({name:"flec"+this.id,objet:"fleche",x:0,y:0,scaleX:1,scaleY:1,points:[this.positionX1,this.positionY1,this.positionX2,this.positionY2],pointerLength:15,pointerWidth:12,fill:"#ff0000",stroke:"#ff0000",strokeWidth:3,hitStrokeWidth:50,opacity:1,draggable:!0,verrouille:!1}),this.items.push({name:"ancr_flec"+this.id+"_1",objet:"ancre",x:this.positionX1,y:this.positionY1,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.items.push({name:"ancr_flec"+this.id+"_2",objet:"ancre",x:this.positionX2,y:this.positionY2,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.nom="flec"+this.id,this.objet="fleche";break;case"texte":this.items.push({name:"text"+this.id,objet:"texte",text:this.texte,fontSize:30,lineHeight:1.25,verticalAlign:"middle",padding:10,x:this.positionX1,y:this.positionY1,rotation:0,scaleX:1,scaleY:1,fill:"#ff0000",opacity:1,wrap:"word",draggable:!0,verrouille:!1}),this.nom="text"+this.id,this.objet="texte";break;case"label":this.items.push({name:"labl"+this.id,objet:"label",x:this.positionX1,y:this.positionY1,rotation:0,opacity:1,draggable:!0,verrouille:!1,tag:{name:"labl"+this.id,objet:"label",shadowColor:"#222222",shadowBlur:10,shadowOffset:[7,7],shadowOpacity:.2,fill:"#ffff00"},text:{name:"labl"+this.id,objet:"label",text:this.texte,fontSize:25,lineHeight:1.25,verticalAlign:"middle",fill:"#000000",padding:15,wrap:"word",align:"center"}}),this.nom="labl"+this.id,this.objet="label";break}this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},verrouiller(){let t;if(this.objet!=="selection")t=this.items.find(e=>e.name===this.nom),t&&(t.draggable=!1,t.verrouille=!0);else{const e=this.$refs.transformer.getNode().nodes();for(let i=0;i<e.length;i++)t=this.items.find(n=>n.name===e[i].getAttrs().name),t&&(t.draggable=!1,t.verrouille=!0)}this.objetVerrouille=!0,this.items.forEach((function(e,i){e.objet==="ancre"&&(this.items[i].visible=!1)}).bind(this)),this.objet!=="selection"?this.transformer():this.$refs.transformer.getNode().getLayer().batchDraw(),this.enregistrer()},deverrouiller(){let t;if(this.objet!=="selection")t=this.items.find(i=>i.name===this.nom),t&&(t.draggable=!0,t.verrouille=!1);else{const i=this.$refs.transformer.getNode().nodes();for(let n=0;n<i.length;n++)t=this.items.find(s=>s.name===i[n].getAttrs().name),t&&(t.draggable=!0,t.verrouille=!1)}this.nom=t.name,this.objet=t.objet,this.objetVerrouille=!1;const e=this.nom.substring(0,4);if(e==="flec"||e==="line"){const i=this.items.find(s=>s.name==="ancr_"+this.nom+"_1"),n=this.items.find(s=>s.name==="ancr_"+this.nom+"_2");i.visible=!0,n.visible=!0}this.objet!=="selection"?this.transformer():this.$refs.transformer.getNode().getLayer().batchDraw(),this.enregistrer()},mettreDevant(){this.items.forEach((function(t,e){t.name===this.nom&&e<this.items.length&&(this.items.splice(e,1),this.items.splice(e+1,0,t))}).bind(this)),this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},mettreDerriere(){this.items.forEach((function(t,e){t.name===this.nom&&e>0&&(this.items.splice(e,1),this.items.splice(e-1,0,t))}).bind(this)),this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},reduireTransparence(){const t=this.items.find(i=>i.name===this.nom),e=parseFloat(t.opacity.toFixed(1));e>.1&&(t.opacity=e-.1),this.enregistrer()},augmenterTransparence(){const t=this.items.find(i=>i.name===this.nom),e=parseFloat(t.opacity.toFixed(1));e<1&&(t.opacity=e+.1),this.enregistrer()},dupliquer(){const t=new Date().getTime()+Math.random().toString(16).slice(10),e=[];let i,n;JSON.parse(JSON.stringify(this.items)).forEach((function(s){s.name.includes(this.nom)&&e.push(s)}).bind(this)),e.forEach(function(s){const r=s.name.substring(0,4);r==="ancr"?(s.name=s.name.substring(0,9)+t+s.name.substring(s.name.length-2),s.x=s.x+20,s.y=s.y+20):(i=r+t,n=s.objet,s.name=i,s.x=s.x+20,s.y=s.y+20),r==="labl"&&(s.tag.name=r+t,s.text.name=r+t)}),this.items.forEach((function(s,r){s.objet==="ancre"&&(this.items[r].visible=!1)}).bind(this)),this.$nextTick((function(){this.items.push(...e),this.nom=i,this.objet=n,this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))}).bind(this))},supprimer(){const t=this.nom.substring(0,4),e=this.nom;t==="ancr"?this.items=this.items.filter(i=>!i.name.includes(e.split("_")[1])):this.items=this.items.filter(i=>!i.name.includes(e)),this.nom="",this.objet="",this.enregistrer(),this.transformer()},supprimerSelection(){const t=this.$refs.transformer.getNode().nodes();for(let e=0;e<t.length;e++)this.nom=t[e].getAttrs().name,this.supprimer()},gererClavier(t){if(t.ctrlKey&&t.key==="d"&&this.modale!=="texte")t.preventDefault(),this.dupliquer();else if((t.key==="Backspace"||t.key==="Delete")&&this.modale!=="texte")this.nom!==""&&this.objet!=="selection"?this.supprimer():this.nom!==""&&this.objet==="selection"&&this.supprimerSelection();else if(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="ArrowLeft"||t.key==="ArrowRight"){let e,i,n,s;if(this.objet!=="selection")e=this.items.find(r=>r.name===this.nom),i=this.nom.substring(0,4),e&&t.key==="ArrowDown"?(e.y=e.y+2,(i==="flec"||i==="line")&&(n=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),s=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),n.y=n.y+2,s.y=s.y+2)):e&&t.key==="ArrowUp"?(e.y=e.y-2,(i==="flec"||i==="line")&&(n=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),s=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),n.y=n.y-2,s.y=s.y-2)):e&&t.key==="ArrowLeft"?(e.x=e.x-2,(i==="flec"||i==="line")&&(n=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),s=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),n.x=n.x-2,s.x=s.x-2)):e&&t.key==="ArrowRight"&&(e.x=e.x+2,(i==="flec"||i==="line")&&(n=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),s=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),n.x=n.x+2,s.x=s.x+2));else{const r=this.$refs.transformer.getNode().nodes();for(let o=0;o<r.length;o++)e=this.items.find(a=>a.name===r[o].getAttrs().name),i=r[o].getAttrs().name.substring(0,4),e&&t.key==="ArrowDown"?(e.y=e.y+2,(i==="flec"||i==="line")&&(n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),n.y=n.y+2,s.y=s.y+2)):e&&t.key==="ArrowUp"?(e.y=e.y-2,(i==="flec"||i==="line")&&(n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),n.y=n.y-2,s.y=s.y-2)):e&&t.key==="ArrowLeft"?(e.x=e.x-2,(i==="flec"||i==="line")&&(n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),n.x=n.x-2,s.x=s.x-2)):e&&t.key==="ArrowRight"&&(e.x=e.x+2,(i==="flec"||i==="line")&&(n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),n.x=n.x+2,s.x=s.x+2))}}},afficherReinitialiser(){this.confirmation=!0},reinitialiser(){this.definirOutilPrincipal("selectionner"),this.id=0,this.nom="",this.objet="",this.objetVerrouille=!1,this.items=[],this.historique=[],this.positionHistorique=0,this.positionActuelleHistorique=0,this.transformer(),this.enregistrer(),this.confirmation=!1},deplacerFin(t){let e;if(this.objet!=="selection")e=this.items.find(i=>i.name===this.nom),e&&(e.x=t.target.x(),e.y=t.target.y());else{const i=this.$refs.transformer.getNode().nodes();for(let n=0;n<i.length;n++)e=this.items.find(s=>s.name===i[n].getAttrs().name),e&&(e.x=i[n].getAttrs().x,e.y=i[n].getAttrs().y)}this.enregistrer()},redimensionnerTexte(t){this.nom.substring(0,4)==="text"&&t.target.setAttrs({width:Math.max(t.target.width()*t.target.scaleX(),70),scaleX:1,scaleY:1})},redimensionnerFin(t){const e=this.items.find(i=>i.name===this.nom);e&&(e.x=t.target.x(),e.y=t.target.y(),e.width=t.target.width(),e.height=t.target.height(),e.scaleX=t.target.scaleX(),e.scaleY=t.target.scaleY()),this.enregistrer()},selectionnerDebut(t){const e=t.target.getStage();if(this.outilSelectionner){if(this.outil!==""&&this.creation===!0)return this.selectionnerFin(),!1;if(this.positionX1=e.getPointerPosition().x,this.positionY1=e.getPointerPosition().y,this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.largeurSelection=0,this.hauteurSelection=0,this.largeurObjet=0,this.hauteurObjet=0,this.outil===""){if(t.target.getParent()&&t.target.getParent().className==="Transformer")return!1;if(t.target!==t.target.getStage())return this.selectionnerObjet(t),!1;this.selection=!0,this.nom="",this.objet="",this.items.forEach((function(i,n){i.objet==="ancre"&&(this.items[n].visible=!1)}).bind(this)),this.transformer()}else this.creation=!0,this.nom="",this.objet="",this.items.forEach((function(i,n){i.objet==="ancre"&&(this.items[n].visible=!1)}).bind(this)),this.outil==="etoile"?(this.dessinerForme("etoile"),this.creation=!1,this.activerSelecteur()):(this.outil==="texte"||this.outil==="label")&&(this.modale=!0,this.creation=!1,setTimeout(function(){document.querySelector("#annotation-texte textarea").focus()},10)),this.transformer()}else this.outilDessiner&&(this.dessin=!0,this.positionStylo=e.getPointerPosition(),this.id++,this.items.push({name:"dess"+this.id,objet:"dessin",points:[this.positionStylo.x,this.positionStylo.y],globalCompositeOperation:"source-over",stroke:this.couleurStylo,strokeWidth:this.epaisseurStylo,opacity:this.transparenceStylo,hitStrokeWidth:25,lineJoin:"round",draggable:!1,verrouille:!1}),this.nom="dess"+this.id,this.objet="dessin",this.$nextTick((function(){this.$refs.objets.getNode().getLayer().batchDraw()}).bind(this)))},selectionnerMouvement(t){const e=t.target.getStage();if(this.outilSelectionner){if(this.outil===""){if(!this.selection)return!1;this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.positionSelectionX=Math.min(this.positionX1,this.positionX2),this.positionSelectionY=Math.min(this.positionY1,this.positionY2),this.largeurSelection=Math.abs(this.positionX2-this.positionX1),this.hauteurSelection=Math.abs(this.positionY2-this.positionY1)}else{if(!this.creation)return!1;this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.positionObjetX=Math.min(this.positionX1,this.positionX2),this.positionObjetY=Math.min(this.positionY1,this.positionY2),this.largeurObjet=Math.abs(this.positionX2-this.positionX1),this.hauteurObjet=Math.abs(this.positionY2-this.positionY1)}this.transformer()}else if(this.outilDessiner){if(!this.dessin)return!1;this.positionStylo=e.getPointerPosition();const i=this.items.find(s=>s.name===this.nom),n=i.points.concat([this.positionStylo.x,this.positionStylo.y]);i.points=n,this.$refs.objets.getNode().getLayer().batchDraw()}},selectionnerFin(){if(this.outilSelectionner){if(this.outil===""){if(!this.selection)return!1;if(this.largeurSelection<10&&this.hauteurSelection<10)return this.selection=!1,!1;this.selection=!1;const t=this.$refs.transformer.getNode(),e=t.getStage(),i=e.find(r=>r.getAttrs().objet&&r.getAttrs().name.substring(0,4)!=="ancr"),n=e.findOne(".selection").getClientRect(),s=i.filter(r=>$ve.Util.haveIntersection(n,r.getClientRect()));if(s.length>1)this.nom="selection",this.objet="selection",s.filter(o=>o.getAttrs().verrouille===!0).length===s.length?this.objetVerrouille=!0:this.objetVerrouille=!1,t.nodes(s),t.getLayer().batchDraw(),this.desactiverSelecteur();else if(s.length===1){const r=s[0].getAttrs().name;this.selectionner(r),this.transformer()}else this.nom="",this.objet="",this.objetVerrouille=!1,this.desactiverSelecteur()}else if(this.outil!==""&&this.outil!=="etoile"&&this.outil!=="texte"&&this.outil!=="label"&&this.largeurObjet>0&&this.hauteurObjet>0){if(!this.creation)return!1;this.dessinerForme(this.outil),this.activerSelecteur()}}else this.outilDessiner&&(this.dessin=!1,this.enregistrer())},dessinerForme(t){this.ajouter(t),this.reinitialiserOutils(),this.creation=!1},reinitialiserOutils(){this.outil="",this.largeurObjet=0,this.hauteurObjet=0,this.positionX1=0,this.positionY1=0,this.positionX2=0,this.positionY2=0},reinitialiserSelection(){this.nom="",this.objet="",this.objetVerrouille=!1,this.items.forEach((function(t,e){t.objet==="ancre"&&(this.items[e].visible=!1)}).bind(this)),this.transformer()},selectionnerObjet(t){if(this.outilSelectionner){if(t.target===t.target.getStage())return this.reinitialiserSelection(),!1;if(this.objet==="selection"&&t.target.getAttrs().objet&&t.target.getAttrs().name.substring(0,4)!=="ancr")return!1;if(t.target.getParent().className==="Transformer")return this.reinitialiserSelection(),!1;this.selectionner(t.target.name()),this.transformer()}},selectionner(t){let e,i;const n=t.substring(0,4),s=this.items.find(r=>r.name===t);s?(this.nom=t,this.objet=s.objet,s.draggable?this.objetVerrouille=!1:this.objetVerrouille=!0,this.outilDessiner||this.definirCouleurSelecteur(this.objet,s),this.activerSelecteur()):(this.nom="",this.objet="",this.objetVerrouille=!1,this.desactiverSelecteur()),n==="flec"||n==="line"?(this.items.forEach((function(r,o){r.objet==="ancre"&&(this.items[o].visible=!1)}).bind(this)),e=this.items.find(r=>r.name==="ancr_"+t+"_1"),i=this.items.find(r=>r.name==="ancr_"+t+"_2"),s.verrouille?(e.visible=!1,i.visible=!1):(e.visible=!0,i.visible=!0)):n!=="ancr"&&this.items.forEach((function(r,o){r.objet==="ancre"&&(this.items[o].visible=!1)}).bind(this))},transformer(){const t=this.$refs.transformer.getNode(),i=t.getStage().findOne("."+this.nom);i&&this.nom.substring(0,4)!=="ancr"?t.nodes([i]):t.nodes([]),t.getLayer().batchDraw()},ajouterTexte(){this.ajouter(this.outil),this.reinitialiserOutils(),this.fermerModale(),this.selection=!1,this.activerSelecteur()},modifierTexte(t){this.texte=t.target.text(),this.modale=!0,setTimeout(function(){document.querySelector("#annotation-texte textarea").focus()},10)},enregistrerTexte(){const t=this.nom.substring(0,4),e=this.items.find(n=>n.name===this.nom),i=this.texte;t==="text"?e.text=i:(e.text.text=i,this.$nextTick((function(){this.transformer()}).bind(this))),this.fermerModale(),this.enregistrer()},fermerModale(){this.texte="",this.modale=!1},reduireTailleTexte(){const t=this.items.find(i=>i.name===this.nom);let e=t.fontSize;e=e-2,t.fontSize=e,this.enregistrer()},augmenterTailleTexte(){const t=this.items.find(i=>i.name===this.nom);let e=t.fontSize;e=e+2,t.fontSize=e,this.enregistrer()},definirCouleurSelecteur(t,e){switch(t){case"rectangle":case"cercle":case"ligne":case"fleche":case"dessin":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.stroke)===!1&&(this.couleurSelecteur=e.stroke);break;case"rectangle-plein":case"cercle-plein":case"etoile":case"surlignage":case"texte":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.fill)===!1&&(this.couleurSelecteur=e.fill);break;case"label":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.tag.fill)===!1&&(this.couleurSelecteur=e.tag.fill);break}},definirCouleur(){const t=document.querySelector("#couleur-annotation").value;this.outilDessiner&&this.couleurSelecteur!=="#000000"?this.couleurStylo=t:!this.outilDessiner&&this.couleurSelecteur!=="#000000"&&this.modifierCouleur(t)},modifierCouleurSelecteur(t){this.couleurSelecteur=t.target.value,this.modifierCouleur(t.target.value)},modifierCouleur(t){if(this.outilSelectionner){let e=this.items.find(i=>i.name===this.nom);switch(this.objet==="ancre"&&(e=this.items.find(i=>i.name===this.nom.split("_")[1])),this.objet){case"rectangle":case"cercle":case"dessin":e.stroke=t;break;case"rectangle-plein":case"cercle-plein":case"etoile":case"surlignage":case"texte":e.fill=t;break;case"ligne":case"fleche":case"ancre":e.stroke=t,e.fill=t;break;case"label":e.tag.fill=t;break}}else this.outilDessiner&&(this.couleurStylo=t);this.enregistrer()},modifierEpaisseur(t){this.epaisseurStylo=t},modifierTransparence(t){this.transparenceStylo=t},definirAncres(){let t=[];if(this.objetVerrouille===!1)switch(this.nom.substring(0,4)){case"rect":case"circ":t=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];break;case"labl":case"imag":case"star":t=["top-left","top-right","bottom-left","bottom-right"];break;case"text":t=["middle-right","middle-left"];break}return t},definirCouleurBordure(){return this.objet==="selection"&&!this.objetVerrouille?"#01ced1":"#ddd"},definirLimites(t,e){return this.nom.substring(0,4)==="text"&&e.width<70?t:e},deplacerForme(t){let e,i,n;if(this.objet!=="selection")e=this.items.find(s=>s.name===this.nom),e&&(e.points=t.target.points(),e.x=t.target.x(),e.y=t.target.y(),e.scaleX=t.target.scaleX(),e.scaleY=t.target.scaleY(),i=this.items.find(s=>s.name==="ancr_"+this.nom+"_1"),n=this.items.find(s=>s.name==="ancr_"+this.nom+"_2"),i.x=t.target.points()[0]+t.target.x(),i.y=t.target.points()[1]+t.target.y(),i.scaleX=t.target.scaleX(),i.scaleY=t.target.scaleY(),n.x=t.target.points()[2]+t.target.x(),n.y=t.target.points()[3]+t.target.y(),n.scaleX=t.target.scaleX(),n.scaleY=t.target.scaleY());else{const s=this.$refs.transformer.getNode().nodes();for(let r=0;r<s.length;r++)(s[r].getAttrs().name.substring(0,4)==="flec"||s[r].getAttrs().name.substring(0,4)==="line")&&(e=this.items.find(o=>o.name===s[r].getAttrs().name)),e&&(e.points=s[r].getAttrs().points,e.x=s[r].getAttrs().x,e.y=s[r].getAttrs().y,e.scaleX=s[r].getAttrs().scaleX,e.scaleY=s[r].getAttrs().scaleY,i=this.items.find(o=>o.name==="ancr_"+s[r].getAttrs().name+"_1"),n=this.items.find(o=>o.name==="ancr_"+s[r].getAttrs().name+"_2"),i.x=s[r].getAttrs().points[0]+s[r].getAttrs().x,i.y=s[r].getAttrs().points[1]+s[r].getAttrs().y,i.scaleX=s[r].getAttrs().scaleX,i.scaleY=s[r].getAttrs().scaleY,n.x=s[r].getAttrs().points[2]+s[r].getAttrs().x,n.y=s[r].getAttrs().points[3]+s[r].getAttrs().y,n.scaleX=s[r].getAttrs().scaleX,n.scaleY=s[r].getAttrs().scaleY),e=null}},deplacerAncre(t){let e,i,n,s,r,o;if(this.objet!=="selection")e=this.nom.split("_"),i=parseInt(e[2]),n=this.items.find(a=>a.name===e[1]),n&&(i===1?(s=this.items.find(a=>a.name==="ancr_"+e[1]+"_2"),r=[t.target.x()-n.x,t.target.y()-n.y,s.x-n.x,s.y-n.y]):(s=this.items.find(a=>a.name==="ancr_"+e[1]+"_1"),r=[s.x-n.x,s.y-n.y,t.target.x()-n.x,t.target.y()-n.y]),n.points=r,o=this.items.find(a=>a.name==="ancr_"+e[1]+"_"+i),o.x=t.target.x(),o.y=t.target.y(),o.scaleX=t.target.scaleX(),o.scaleY=t.target.scaleY());else{const a=this.$refs.transformer.getNode().nodes();for(let l=0;l<a.length;l++)e=a[l].getAttrs().name.split("_"),i=parseInt(e[2]),(e[1].substring(0,4)==="flec"||e[1].substring(0,4)==="line")&&(n=this.items.find(u=>u.name===e[1])),n&&(i===1?(s=this.items.find(u=>u.name==="ancr_"+e[1]+"_2"),r=[a[l].getAttrs().x-n.x,a[l].getAttrs().y-n.y,s.x-n.x,s.y-n.y]):(s=this.items.find(u=>u.name==="ancr_"+e[1]+"_1"),r=[s.x-n.x,s.y-n.y,a[l].getAttrs().x-n.x,a[l].getAttrs().y-n.y]),n.points=r,o=this.items.find(u=>u.name==="ancr_"+e[1]+"_"+i),o.x=a[l].getAttrs().x,o.y=a[l].getAttrs().y,o.scaleX=a[l].getAttrs().scaleX,o.scaleY=a[l].getAttrs().scaleY)}},enregistrer(){this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:this.items};const t=JSON.parse(JSON.stringify(this.items));if(!this.historique.includes(t)&&this.positionActuelleHistorique===0)this.historique.push(t),this.positionHistorique+=1;else if(!this.historique.includes(t)&&this.positionActuelleHistorique!==0){const e=[];for(let i=0;i<this.positionActuelleHistorique;i++)e.push(this.historique[i]);e.push(t),this.historique=e,this.positionHistorique=this.positionActuelleHistorique+1,this.positionActuelleHistorique=0}},defaire(){if(this.positionHistorique===0)return!1;if(this.positionHistorique-=1,this.positionActuelleHistorique=this.positionHistorique,this.historique[this.positionHistorique-1]){const t=JSON.parse(JSON.stringify(this.historique[this.positionHistorique-1]));this.items=t,this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:t}}this.$nextTick((function(){this.reinitialiserSelection()}).bind(this))},refaire(){if(this.positionHistorique===this.historique.length)return!1;if(this.historique[this.positionHistorique]){const t=JSON.parse(JSON.stringify(this.historique[this.positionHistorique]));this.items=t,this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:t},this.positionHistorique+=1}this.$nextTick((function(){this.reinitialiserSelection()}).bind(this))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},activerDeplacement(){this.items.forEach(function(t){t.verrouille?t.draggable=!1:t.draggable=!0})},desactiverDeplacement(){this.items.forEach(function(t){t.draggable=!1})},activerSelecteur(){this.$nextTick((function(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").addEventListener("change",this.modifierCouleurSelecteur)}).bind(this))},desactiverSelecteur(){this.$nextTick((function(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").removeEventListener("change",this.modifierCouleurSelecteur)}).bind(this))}}},obe={id:"outils-annotation",key:"outils"},abe=["title"],lbe=["alt"],ube=["title"],cbe=["alt"],Abe=d("span",{class:"separateur"},null,-1),hbe=["title"],dbe=["alt"],fbe=["title"],pbe=["alt"],gbe=["title"],mbe=["alt"],vbe=d("span",{class:"separateur"},null,-1),bbe=["title"],ybe=["alt"],wbe=["title"],_be=["alt"],Cbe=["title"],Ebe=["alt"],Tbe=["title"],xbe=["alt"],Sbe=["title"],Bbe=["alt"],kbe=["title"],Dbe=["alt"],Fbe=["title"],Ibe=["alt"],Lbe=["title"],Pbe=["alt"],Mbe=["title"],Rbe=["alt"],Obe=["title"],Ube=["alt"],Nbe=d("span",{class:"separateur"},null,-1),Hbe=["title"],Qbe=["alt"],$be=["title"],jbe=["alt"],Vbe={id:"options",key:"options"},zbe=["title"],Gbe=d("span",null,[d("i",{class:"material-icons"},"lock")],-1),Kbe=[Gbe],Wbe=["title"],qbe=d("span",null,[d("i",{class:"material-icons"},"lock_open")],-1),Ybe=[qbe],Xbe=["title"],Jbe=d("span",null,[d("i",{class:"material-icons"},"flip_to_front")],-1),Zbe=[Jbe],eye=["title"],tye=d("span",null,[d("i",{class:"material-icons"},"flip_to_back")],-1),iye=[tye],nye={key:4,class:"separateur"},sye=["title"],rye=d("span",{class:"couleur noir"},null,-1),oye=[rye],aye=["title"],lye=d("span",{class:"couleur blanc"},null,-1),uye=[lye],cye=["title"],Aye=d("span",{class:"couleur rouge"},null,-1),hye=[Aye],dye=["title"],fye=d("span",{class:"couleur jaune"},null,-1),pye=[fye],gye=["title"],mye=d("span",{class:"couleur vert"},null,-1),vye=[mye],bye=["title"],yye=d("span",{class:"couleur bleu"},null,-1),wye=[yye],_ye=d("label",{for:"couleur-annotation"},[d("i",{class:"material-icons"},"colorize")],-1),Cye=["value","title"],Eye={key:12,class:"separateur"},Tye={key:13,class:"option label-epaisseur"},xye=d("span",null,[d("i",{class:"material-icons"},"line_weight")],-1),Sye=[xye],Bye=d("span",null,"2",-1),kye=[Bye],Dye=d("span",null,"5",-1),Fye=[Dye],Iye=d("span",null,"10",-1),Lye=[Iye],Pye=d("span",null,"20",-1),Mye=[Pye],Rye=d("span",null,"40",-1),Oye=[Rye],Uye=d("span",null,"80",-1),Nye=[Uye],Hye={key:20,class:"option label-transparence"},Qye=d("span",null,[d("i",{class:"material-icons"},"opacity")],-1),$ye=[Qye],jye=d("span",null,"0.4",-1),Vye=[jye],zye=d("span",null,"0.6",-1),Gye=[zye],Kye=d("span",null,"1",-1),Wye=[Kye],qye={key:24,class:"separateur"},Yye={key:25,class:"option label-transparence"},Xye=d("span",null,[d("i",{class:"material-icons"},"opacity")],-1),Jye=[Xye],Zye=["title"],e1e=d("span",null,[d("i",{class:"material-icons"},"remove")],-1),t1e=[e1e],i1e=["title"],n1e=d("span",null,[d("i",{class:"material-icons"},"add")],-1),s1e=[n1e],r1e={key:28,class:"option label-taille"},o1e=d("span",null,[d("i",{class:"material-icons"},"format_size")],-1),a1e=[o1e],l1e=["title"],u1e=d("span",null,[d("i",{class:"material-icons"},"remove")],-1),c1e=[u1e],A1e=["title"],h1e=d("span",null,[d("i",{class:"material-icons"},"add")],-1),d1e=[h1e],f1e={key:31,class:"separateur"},p1e=["title"],g1e=d("span",null,[d("i",{class:"material-icons"},"content_copy")],-1),m1e=[g1e],v1e=["title"],b1e=d("span",null,[d("i",{class:"material-icons"},"delete")],-1),y1e=[b1e],w1e=["title"],_1e=d("span",null,[d("i",{class:"material-icons"},"delete")],-1),C1e=[_1e],E1e={id:"annotation-texte",class:"conteneur-modale",key:"modale"},T1e={class:"modale"},x1e={class:"conteneur"},S1e={class:"contenu"},B1e=["value","placeholder"],k1e={class:"actions"},D1e={id:"confirmation",class:"conteneur-modale",key:"confirmation"},F1e={class:"modale"},I1e={class:"conteneur"},L1e={class:"contenu"},P1e=["innerHTML"],M1e={class:"actions"};function R1e(t,e,i,n,s,r){const o=Ke("v-rect"),a=Ke("v-ellipse"),l=Ke("v-star"),u=Ke("v-line"),c=Ke("v-arrow"),A=Ke("v-circle"),h=Ke("v-text"),g=Ke("v-tag"),f=Ke("v-label"),y=Ke("v-transformer"),E=Ke("v-layer"),C=Ke("v-stage");return Y(),Je(j3,{name:"fondu"},{default:Et(()=>[d("div",{id:"annotation",class:Ne({curseur:this.outilDeplacer,"avec-nav":i.nav}),key:"canva"},[Ct(C,{ref:"stage",config:{width:s.dimensionsCanva.w,height:s.dimensionsCanva.h},onMousedown:r.selectionnerDebut,onTouchstart:r.selectionnerDebut,onMousemove:r.selectionnerMouvement,onTouchmove:r.selectionnerMouvement,onMouseup:r.selectionnerFin,onTouchend:r.selectionnerFin},{default:Et(()=>[Ct(E,{ref:"objets"},{default:Et(()=>[(Y(!0),te(dt,null,ei(s.items,(m,b)=>(Y(),te(dt,null,[m.objet==="rectangle"||m.objet==="rectangle-plein"||m.objet==="surlignage"?(Y(),Je(o,{config:m,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"rectangle_"+b},null,8,["config","onDragstart","onDragend","onTransformend"])):m.objet==="cercle"||m.objet==="cercle-plein"?(Y(),Je(a,{config:m,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"cercle_"+b,onDragstart:r.selectionnerObjet},null,8,["config","onDragend","onTransformend","onDragstart"])):m.objet==="etoile"?(Y(),Je(l,{config:m,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"etoile_"+b},null,8,["config","onDragstart","onDragend","onTransformend"])):m.objet==="ligne"?(Y(),Je(u,{config:m,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerForme,onDragend:r.enregistrer,key:"ligne_"+b},null,8,["config","onDragstart","onDragmove","onDragend"])):m.objet==="fleche"?(Y(),Je(c,{config:m,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerForme,onDragend:r.enregistrer,key:"fleche_"+b},null,8,["config","onDragstart","onDragmove","onDragend"])):m.objet==="ancre"?(Y(),Je(A,{config:m,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerAncre,onDragend:r.enregistrer,key:"ancre_"+b},null,8,["config","onDragstart","onDragmove","onDragend"])):m.objet==="texte"?(Y(),Je(h,{config:m,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onDblclick:r.modifierTexte,onDbltap:r.modifierTexte,onTransform:r.redimensionnerTexte,onTransformend:r.redimensionnerFin,key:"texte_"+b},null,8,["config","onDragstart","onDragend","onDblclick","onDbltap","onTransform","onTransformend"])):m.objet==="label"?(Y(),Je(f,{config:m,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onDblclick:r.modifierTexte,onDbltap:r.modifierTexte,onTransformend:r.redimensionnerFin,key:"label_"+b},{default:Et(()=>[Ct(g,{config:m.tag},null,8,["config"]),Ct(h,{config:m.text},null,8,["config"])]),_:2},1032,["config","onDragstart","onDragend","onDblclick","onDbltap","onTransformend"])):m.objet==="dessin"?(Y(),Je(u,{config:m,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,key:"dessin_"+b},null,8,["config","onDragstart","onDragend"])):De("",!0)],64))),256)),Ct(o,{config:{name:"selection",fill:"rgba(1, 206, 209, 0.2)",visible:s.selection,x:s.positionSelectionX,y:s.positionSelectionY,width:s.largeurSelection,height:s.hauteurSelection},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(o,{config:{name:"objet-rectangle",fill:"transparent",visible:s.creation&&s.outil==="rectangle",x:s.positionObjetX,y:s.positionObjetY,width:s.largeurObjet,height:s.hauteurObjet,stroke:"#ff0000",strokeWidth:3,dash:[7,5]},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(o,{config:{name:"objet-rectangle",fill:"#cccccc",visible:s.creation&&s.outil==="rectangle-plein",x:s.positionObjetX,y:s.positionObjetY,width:s.largeurObjet,height:s.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(a,{config:{name:"objet-cercle",fill:"transparent",visible:s.creation&&s.outil==="cercle",x:s.positionObjetX+s.largeurObjet/2,y:s.positionObjetY+s.hauteurObjet/2,width:s.largeurObjet,height:s.hauteurObjet,stroke:"#ff0000",strokeWidth:3,dash:[7,5]},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(a,{config:{name:"objet-cercle",fill:"#cccccc",visible:s.creation&&s.outil==="cercle-plein",x:s.positionObjetX+s.largeurObjet/2,y:s.positionObjetY+s.hauteurObjet/2,width:s.largeurObjet,height:s.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(o,{config:{name:"objet-surlignage",fill:"#ffff00",opacity:.5,visible:s.creation&&s.outil==="surlignage",x:s.positionObjetX,y:s.positionObjetY,width:s.largeurObjet,height:s.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(u,{config:{name:"objet-ligne",fill:"#ff0000",visible:s.creation&&s.outil==="ligne",x:0,y:0,points:[s.positionX1,s.positionY1,s.positionX2,s.positionY2],fill:"#ff0000",stroke:"#ff0000",strokeWidth:3},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(c,{config:{name:"objet-fleche",fill:"#ff0000",visible:s.creation&&s.outil==="fleche",x:0,y:0,points:[s.positionX1,s.positionY1,s.positionX2,s.positionY2],pointerLength:15,pointerWidth:12,fill:"#ff0000",stroke:"#ff0000",strokeWidth:3},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Ct(y,{ref:"transformer",config:{anchorStroke:"#ff0000",anchorFill:"#ffff00",anchorSize:10,anchorCornerRadius:10,borderStroke:r.definirCouleurBordure(),borderDash:[3,3],borderStrokeWidth:1,enabledAnchors:r.definirAncres(),padding:7.5,rotateEnabled:!1,keepRatio:!0,boundBoxFunc:r.definirLimites}},null,8,["config"])]),_:1},512)]),_:1},8,["config","onMousedown","onTouchstart","onMousemove","onTouchmove","onMouseup","onTouchend"])],2),d("div",obe,[d("span",{class:"outil historique",title:t.$t("defaire"),onClick:e[0]||(e[0]=(...m)=>r.defaire&&r.defaire(...m))},[d("img",{src:jve,alt:t.$t("defaire")},null,8,lbe)],8,abe),d("span",{class:"outil historique",title:t.$t("refaire"),onClick:e[1]||(e[1]=(...m)=>r.refaire&&r.refaire(...m))},[d("img",{src:Vve,alt:t.$t("refaire")},null,8,cbe)],8,ube),Abe,d("span",{class:Ne(["outil",{actif:s.outilSelectionner}]),title:t.$t("selectionner"),onClick:e[2]||(e[2]=m=>r.definirOutilPrincipal("selectionner"))},[d("img",{src:zve,alt:t.$t("selectionner")},null,8,dbe)],10,hbe),d("span",{class:Ne(["outil",{actif:s.outilDessiner}]),title:t.$t("dessiner"),onClick:e[3]||(e[3]=m=>r.definirOutilPrincipal("dessiner"))},[d("img",{src:Gve,alt:t.$t("dessiner")},null,8,pbe)],10,fbe),d("span",{class:Ne(["outil",{actif:s.outilDeplacer}]),title:t.$t("deplacer"),onClick:e[4]||(e[4]=m=>r.definirOutilPrincipal("deplacer"))},[d("img",{src:Kve,alt:t.$t("deplacer")},null,8,mbe)],10,gbe),vbe,d("span",{id:"outil-rectangle",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="rectangle"}]),title:t.$t("rectangle"),onClick:e[5]||(e[5]=m=>r.selectionnerOutil("rectangle"))},[d("img",{src:Wve,alt:t.$t("rectangle")},null,8,ybe)],10,bbe),d("span",{id:"outil-rectangle-plein",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="rectangle-plein"}]),title:t.$t("rectanglePlein"),onClick:e[6]||(e[6]=m=>r.selectionnerOutil("rectangle-plein"))},[d("img",{src:qve,alt:t.$t("rectanglePlein")},null,8,_be)],10,wbe),d("span",{id:"outil-cercle",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="cercle"}]),title:t.$t("cercle"),onClick:e[7]||(e[7]=m=>r.selectionnerOutil("cercle"))},[d("img",{src:Yve,alt:t.$t("cercle")},null,8,Ebe)],10,Cbe),d("span",{id:"outil-cercle-plein",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="cercle-plein"}]),title:t.$t("cerclePlein"),onClick:e[8]||(e[8]=m=>r.selectionnerOutil("cercle-plein"))},[d("img",{src:Xve,alt:t.$t("cerclePlein")},null,8,xbe)],10,Tbe),d("span",{id:"outil-etoile",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="etoile"}]),title:t.$t("etoile"),onClick:e[9]||(e[9]=m=>r.selectionnerOutil("etoile"))},[d("img",{src:Jve,alt:t.$t("etoile")},null,8,Bbe)],10,Sbe),d("span",{id:"outil-surlignage",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="surlignage"}]),title:t.$t("surlignage"),onClick:e[10]||(e[10]=m=>r.selectionnerOutil("surlignage"))},[d("img",{src:Zve,alt:t.$t("surlignage")},null,8,Dbe)],10,kbe),d("span",{id:"outil-ligne",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="ligne"}]),title:t.$t("ligne"),onClick:e[11]||(e[11]=m=>r.selectionnerOutil("ligne"))},[d("img",{src:ebe,alt:t.$t("ligne")},null,8,Ibe)],10,Fbe),d("span",{id:"outil-fleche",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="fleche"}]),title:t.$t("fleche"),onClick:e[12]||(e[12]=m=>r.selectionnerOutil("fleche"))},[d("img",{src:tbe,alt:t.$t("fleche")},null,8,Pbe)],10,Lbe),d("span",{id:"outil-texte",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="texte"}]),title:t.$t("texte"),onClick:e[13]||(e[13]=m=>r.selectionnerOutil("texte"))},[d("img",{src:ibe,alt:t.$t("texte")},null,8,Rbe)],10,Mbe),d("span",{id:"outil-label",class:Ne(["outil",{actif:s.outilSelectionner&&s.outil==="label"}]),title:t.$t("label"),onClick:e[14]||(e[14]=m=>r.selectionnerOutil("label"))},[d("img",{src:nbe,alt:t.$t("label")},null,8,Ube)],10,Obe),Nbe,d("span",{class:"outil",title:t.$t("reinitialiser"),onClick:e[15]||(e[15]=(...m)=>r.afficherReinitialiser&&r.afficherReinitialiser(...m))},[d("img",{src:YF,alt:t.$t("reinitialiser")},null,8,Qbe)],8,Hbe),d("span",{class:"outil",title:t.$t("fermer"),onClick:e[16]||(e[16]=m=>t.$emit("fermer"))},[d("img",{src:sbe,alt:t.$t("fermer")},null,8,jbe)],8,$be)]),s.nom!==""||!s.outilSelectionner&&!s.outilDeplacer?(Y(),te("div",Vbe,[s.outilSelectionner&&!s.objetVerrouille?(Y(),te("span",{key:0,class:"option icone",title:t.$t("verrouiller"),onClick:e[17]||(e[17]=(...m)=>r.verrouiller&&r.verrouiller(...m))},Kbe,8,zbe)):s.outilSelectionner&&s.objetVerrouille?(Y(),te("span",{key:1,class:"option icone orange",title:t.$t("deverrouiller"),onClick:e[18]||(e[18]=(...m)=>r.deverrouiller&&r.deverrouiller(...m))},Ybe,8,Wbe)):De("",!0),s.outilSelectionner&&s.objet!=="selection"?(Y(),te("span",{key:2,class:"option icone",title:t.$t("mettreDevant"),onClick:e[19]||(e[19]=(...m)=>r.mettreDevant&&r.mettreDevant(...m))},Zbe,8,Xbe)):De("",!0),s.outilSelectionner&&s.objet!=="selection"?(Y(),te("span",{key:3,class:"option icone",title:t.$t("mettreDerriere"),onClick:e[20]||(e[20]=(...m)=>r.mettreDerriere&&r.mettreDerriere(...m))},iye,8,eye)):De("",!0),s.outilSelectionner?(Y(),te("span",nye)):De("",!0),s.nom!=="selection"&&s.objet!=="label"?(Y(),te("span",{key:5,class:Ne(["option noir",{actif:s.outilDessiner&&s.couleurStylo==="#000000"}]),title:t.$t("noir"),onClick:e[21]||(e[21]=m=>r.modifierCouleur("#000000"))},oye,10,sye)):De("",!0),s.nom!=="selection"&&s.objet!=="label"?(Y(),te("span",{key:6,class:Ne(["option blanc",{actif:s.outilDessiner&&s.couleurStylo==="#ffffff"}]),title:t.$t("blanc"),onClick:e[22]||(e[22]=m=>r.modifierCouleur("#ffffff"))},uye,10,aye)):De("",!0),s.nom!=="selection"?(Y(),te("span",{key:7,class:Ne(["option rouge",{actif:s.outilDessiner&&s.couleurStylo==="#ff0000"}]),title:t.$t("rouge"),onClick:e[23]||(e[23]=m=>r.modifierCouleur("#ff0000"))},hye,10,cye)):De("",!0),s.nom!=="selection"?(Y(),te("span",{key:8,class:Ne(["option jaune",{actif:s.outilDessiner&&s.couleurStylo==="#ffff00"}]),title:t.$t("jaune"),onClick:e[24]||(e[24]=m=>r.modifierCouleur("#ffff00"))},pye,10,dye)):De("",!0),s.nom!=="selection"?(Y(),te("span",{key:9,class:Ne(["option vert",{actif:s.outilDessiner&&s.couleurStylo==="#00ff00"}]),title:t.$t("vert"),onClick:e[25]||(e[25]=m=>r.modifierCouleur("#00ff00"))},vye,10,gye)):De("",!0),s.nom!=="selection"?(Y(),te("span",{key:10,class:Ne(["option bleu",{actif:s.outilDessiner&&s.couleurStylo==="#04fdff"}]),title:t.$t("bleu"),onClick:e[26]||(e[26]=m=>r.modifierCouleur("#04fdff"))},wye,10,bye)):De("",!0),s.nom!=="selection"?(Y(),te("span",{key:11,class:"option icone",onClick:e[27]||(e[27]=(...m)=>r.definirCouleur&&r.definirCouleur(...m))},[_ye,d("input",{type:"color",id:"couleur-annotation",value:s.couleurSelecteur,title:t.$t("selectionnerCouleur")},null,8,Cye)])):De("",!0),s.outilDessiner?(Y(),te("span",Eye)):De("",!0),s.outilDessiner?(Y(),te("span",Tye,Sye)):De("",!0),s.outilDessiner?(Y(),te("span",{key:14,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===2}]),onClick:e[28]||(e[28]=m=>r.modifierEpaisseur(2))},kye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:15,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===5}]),onClick:e[29]||(e[29]=m=>r.modifierEpaisseur(5))},Fye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:16,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===10}]),onClick:e[30]||(e[30]=m=>r.modifierEpaisseur(10))},Lye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:17,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===20}]),onClick:e[31]||(e[31]=m=>r.modifierEpaisseur(20))},Mye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:18,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===40}]),onClick:e[32]||(e[32]=m=>r.modifierEpaisseur(40))},Oye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:19,class:Ne(["option epaisseur",{actif:s.epaisseurStylo===80}]),onClick:e[33]||(e[33]=m=>r.modifierEpaisseur(80))},Nye,2)):De("",!0),s.outilDessiner?(Y(),te("span",Hye,$ye)):De("",!0),s.outilDessiner?(Y(),te("span",{key:21,class:Ne(["option transparence",{actif:s.transparenceStylo===.4}]),onClick:e[34]||(e[34]=m=>r.modifierTransparence(.4))},Vye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:22,class:Ne(["option transparence",{actif:s.transparenceStylo===.6}]),onClick:e[35]||(e[35]=m=>r.modifierTransparence(.6))},Gye,2)):De("",!0),s.outilDessiner?(Y(),te("span",{key:23,class:Ne(["option transparence",{actif:s.transparenceStylo===1}]),onClick:e[36]||(e[36]=m=>r.modifierTransparence(1))},Wye,2)):De("",!0),s.outilSelectionner&&s.nom!=="selection"?(Y(),te("span",qye)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&(s.objet==="rectangle-plein"||s.objet==="cercle-plein")?(Y(),te("span",Yye,Jye)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&(s.objet==="rectangle-plein"||s.objet==="cercle-plein")?(Y(),te("span",{key:26,class:"option icone",title:t.$t("reduireTransparence"),onClick:e[37]||(e[37]=(...m)=>r.reduireTransparence&&r.reduireTransparence(...m))},t1e,8,Zye)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&(s.objet==="rectangle-plein"||s.objet==="cercle-plein")?(Y(),te("span",{key:27,class:"option icone",title:t.$t("augmenterTransparence"),onClick:e[38]||(e[38]=(...m)=>r.augmenterTransparence&&r.augmenterTransparence(...m))},s1e,8,i1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&s.objet==="texte"?(Y(),te("span",r1e,a1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&s.objet==="texte"?(Y(),te("span",{key:29,class:"option icone",title:t.$t("reduireTaille"),onClick:e[39]||(e[39]=(...m)=>r.reduireTailleTexte&&r.reduireTailleTexte(...m))},c1e,8,l1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&s.objet==="texte"?(Y(),te("span",{key:30,class:"option icone",title:t.$t("augmenterTaille"),onClick:e[40]||(e[40]=(...m)=>r.augmenterTailleTexte&&r.augmenterTailleTexte(...m))},d1e,8,A1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"&&(s.objet==="texte"||s.objet==="rectangle-plein"||s.objet==="cercle-plein")?(Y(),te("span",f1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"?(Y(),te("span",{key:32,class:"option icone",title:t.$t("dupliquer"),onClick:e[41]||(e[41]=(...m)=>r.dupliquer&&r.dupliquer(...m))},m1e,8,p1e)):De("",!0),s.outilSelectionner&&s.nom!=="selection"?(Y(),te("span",{key:33,class:"option icone rouge",title:t.$t("supprimer"),onClick:e[42]||(e[42]=(...m)=>r.supprimer&&r.supprimer(...m))},y1e,8,v1e)):s.outilSelectionner&&s.nom==="selection"?(Y(),te("span",{key:34,class:"option icone rouge",title:t.$t("supprimer"),onClick:e[43]||(e[43]=(...m)=>r.supprimerSelection&&r.supprimerSelection(...m))},C1e,8,w1e)):De("",!0)])):De("",!0),s.modale?(Y(),te("div",E1e,[d("div",T1e,[d("div",x1e,[d("div",S1e,[d("textarea",{value:s.texte,onInput:e[44]||(e[44]=m=>s.texte=m.target.value),placeholder:t.$t("monTexte")},null,40,B1e),d("div",k1e,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[45]||(e[45]=(...m)=>r.fermerModale&&r.fermerModale(...m))},oe(t.$t("annuler")),1),s.outil==="texte"||s.outil==="label"?(Y(),te("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[46]||(e[46]=(...m)=>r.ajouterTexte&&r.ajouterTexte(...m))},oe(t.$t("valider")),1)):(Y(),te("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[47]||(e[47]=(...m)=>r.enregistrerTexte&&r.enregistrerTexte(...m))},oe(t.$t("valider")),1))])])])])])):De("",!0),s.confirmation?(Y(),te("div",D1e,[d("div",F1e,[d("div",I1e,[d("div",L1e,[d("p",{innerHTML:t.$t("reinitialiserAnnotations")},null,8,P1e),d("div",M1e,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[48]||(e[48]=m=>s.confirmation=!1)},oe(t.$t("annuler")),1),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[49]||(e[49]=(...m)=>r.reinitialiser&&r.reinitialiser(...m))},oe(t.$t("valider")),1)])])])])])):De("",!0)]),_:1})}const O1e=Ht(rbe,[["render",R1e]]);const U1e={name:"Chargement",props:{chargementPage:Boolean}},N1e=t=>(u2("data-v-4ddbecae"),t=t(),c2(),t),H1e={key:0,id:"conteneur-chargement-page"},Q1e=N1e(()=>d("div",{id:"chargement-page"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1)),$1e=[Q1e];function j1e(t,e,i,n,s,r){return i.chargementPage?(Y(),te("div",H1e,$1e)):De("",!0)}const V1e=Ht(U1e,[["render",j1e],["__scopeId","data-v-4ddbecae"]]);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dC=function(t,e){return dC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},dC(t,e)};function fo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dC(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var fC=function(){return fC=Object.assign||function(e){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fC.apply(this,arguments)};function ms(t,e,i,n){function s(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(c){try{u(n.next(c))}catch(A){o(A)}}function l(c){try{u(n.throw(c))}catch(A){o(A)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function is(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=u[0]&2?s.return:u[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,u[1])).done)return r;switch(s=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,s=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(u[0]===6&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(c){u=[6,c],s=0}finally{n=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Gm(t,e,i){if(i||arguments.length===2)for(var n=0,s=e.length,r;n<s;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||e)}var il=function(){function t(e,i,n,s){this.left=e,this.top=i,this.width=n,this.height=s}return t.prototype.add=function(e,i,n,s){return new t(this.left+e,this.top+i,this.width+n,this.height+s)},t.fromClientRect=function(e,i){return new t(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height)},t.fromDOMRectList=function(e,i){var n=Array.from(i).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),cy=function(t,e){return il.fromClientRect(t,e.getBoundingClientRect())},z1e=function(t){var e=t.body,i=t.documentElement;if(!e||!i)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,i.scrollWidth),Math.max(e.offsetWidth,i.offsetWidth),Math.max(e.clientWidth,i.clientWidth)),s=Math.max(Math.max(e.scrollHeight,i.scrollHeight),Math.max(e.offsetHeight,i.offsetHeight),Math.max(e.clientHeight,i.clientHeight));return new il(0,0,n,s)},Ay=function(t){for(var e=[],i=0,n=t.length;i<n;){var s=t.charCodeAt(i++);if(s>=55296&&s<=56319&&i<n){var r=t.charCodeAt(i++);(r&64512)===56320?e.push(((s&1023)<<10)+(r&1023)+65536):(e.push(s),i--)}else e.push(s)}return e},cn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var n=[],s=-1,r="";++s<i;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===i||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},P4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Km=0;Km<P4.length;Km++)G1e[P4.charCodeAt(Km)]=Km;var M4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wm=0;Wm<M4.length;Wm++)Hf[M4.charCodeAt(Wm)]=Wm;var K1e=function(t){var e=t.length*.75,i=t.length,n,s=0,r,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<i;n+=4)r=Hf[t.charCodeAt(n)],o=Hf[t.charCodeAt(n+1)],a=Hf[t.charCodeAt(n+2)],l=Hf[t.charCodeAt(n+3)],c[s++]=r<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|l&63;return u},W1e=function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i},q1e=function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i},Fc=5,eT=6+5,mw=2,Y1e=eT-Fc,GP=65536>>Fc,X1e=1<<Fc,vw=X1e-1,J1e=1024>>Fc,Z1e=GP+J1e,ewe=Z1e,twe=32,iwe=ewe+twe,nwe=65536>>eT,swe=1<<Y1e,rwe=swe-1,R4=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},owe=function(t,e,i){return t.slice?t.slice(e,i):new Uint32Array(Array.prototype.slice.call(t,e,i))},awe=function(t,e){var i=K1e(t),n=Array.isArray(i)?q1e(i):new Uint32Array(i),s=Array.isArray(i)?W1e(i):new Uint16Array(i),r=24,o=R4(s,r/2,n[4]/2),a=n[5]===2?R4(s,(r+n[4])/2):owe(n,Math.ceil((r+n[4])/4));return new lwe(n[0],n[1],n[2],n[3],o,a)},lwe=function(){function t(e,i,n,s,r,o){this.initialValue=e,this.errorValue=i,this.highStart=n,this.highValueIndex=s,this.index=r,this.data=o}return t.prototype.get=function(e){var i;if(e>=0){if(e<55296||e>56319&&e<=65535)return i=this.index[e>>Fc],i=(i<<mw)+(e&vw),this.data[i];if(e<=65535)return i=this.index[GP+(e-55296>>Fc)],i=(i<<mw)+(e&vw),this.data[i];if(e<this.highStart)return i=iwe-nwe+(e>>eT),i=this.index[i],i+=e>>Fc&rwe,i=this.index[i],i=(i<<mw)+(e&vw),this.data[i];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),O4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qm=0;qm<O4.length;qm++)uwe[O4.charCodeAt(qm)]=qm;var cwe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",U4=50,Awe=1,KP=2,WP=3,hwe=4,dwe=5,N4=7,qP=8,H4=9,jl=10,pC=11,Q4=12,gC=13,fwe=14,Qf=15,mC=16,Ym=17,vf=18,pwe=19,$4=20,vC=21,bf=22,bw=23,TA=24,or=25,$f=26,jf=27,xA=28,gwe=29,gc=30,mwe=31,Xm=32,Jm=33,bC=34,yC=35,wC=36,Gp=37,_C=38,U0=39,N0=40,yw=41,YP=42,vwe=43,bwe=[9001,65288],XP="!",Yt="×",Zm="÷",CC=awe(cwe),ka=[gc,wC],EC=[Awe,KP,WP,dwe],JP=[jl,qP],j4=[jf,$f],ywe=EC.concat(JP),V4=[_C,U0,N0,bC,yC],wwe=[Qf,gC],_we=function(t,e){e===void 0&&(e="strict");var i=[],n=[],s=[];return t.forEach(function(r,o){var a=CC.get(r);if(a>U4?(s.push(!0),a-=U4):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return n.push(o),i.push(mC);if(a===hwe||a===pC){if(o===0)return n.push(o),i.push(gc);var l=i[o-1];return ywe.indexOf(l)===-1?(n.push(n[o-1]),i.push(l)):(n.push(o),i.push(gc))}if(n.push(o),a===mwe)return i.push(e==="strict"?vC:Gp);if(a===YP||a===gwe)return i.push(gc);if(a===vwe)return r>=131072&&r<=196605||r>=196608&&r<=262141?i.push(Gp):i.push(gc);i.push(a)}),[n,i,s]},ww=function(t,e,i,n){var s=n[i];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var r=i;r<=n.length;){r++;var o=n[r];if(o===e)return!0;if(o!==jl)break}if(s===jl)for(var r=i;r>0;){r--;var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=i;l<=n.length;){l++;var o=n[l];if(o===e)return!0;if(o!==jl)break}if(a!==jl)break}return!1},z4=function(t,e){for(var i=t;i>=0;){var n=e[i];if(n===jl)i--;else return n}return 0},Cwe=function(t,e,i,n,s){if(i[n]===0)return Yt;var r=n-1;if(Array.isArray(s)&&s[r]===!0)return Yt;var o=r-1,a=r+1,l=e[r],u=o>=0?e[o]:0,c=e[a];if(l===KP&&c===WP)return Yt;if(EC.indexOf(l)!==-1)return XP;if(EC.indexOf(c)!==-1||JP.indexOf(c)!==-1)return Yt;if(z4(r,e)===qP)return Zm;if(CC.get(t[r])===pC||(l===Xm||l===Jm)&&CC.get(t[a])===pC||l===N4||c===N4||l===H4||[jl,gC,Qf].indexOf(l)===-1&&c===H4||[Ym,vf,pwe,TA,xA].indexOf(c)!==-1||z4(r,e)===bf||ww(bw,bf,r,e)||ww([Ym,vf],vC,r,e)||ww(Q4,Q4,r,e))return Yt;if(l===jl)return Zm;if(l===bw||c===bw)return Yt;if(c===mC||l===mC)return Zm;if([gC,Qf,vC].indexOf(c)!==-1||l===fwe||u===wC&&wwe.indexOf(l)!==-1||l===xA&&c===wC||c===$4||ka.indexOf(c)!==-1&&l===or||ka.indexOf(l)!==-1&&c===or||l===jf&&[Gp,Xm,Jm].indexOf(c)!==-1||[Gp,Xm,Jm].indexOf(l)!==-1&&c===$f||ka.indexOf(l)!==-1&&j4.indexOf(c)!==-1||j4.indexOf(l)!==-1&&ka.indexOf(c)!==-1||[jf,$f].indexOf(l)!==-1&&(c===or||[bf,Qf].indexOf(c)!==-1&&e[a+1]===or)||[bf,Qf].indexOf(l)!==-1&&c===or||l===or&&[or,xA,TA].indexOf(c)!==-1)return Yt;if([or,xA,TA,Ym,vf].indexOf(c)!==-1)for(var A=r;A>=0;){var h=e[A];if(h===or)return Yt;if([xA,TA].indexOf(h)!==-1)A--;else break}if([jf,$f].indexOf(c)!==-1)for(var A=[Ym,vf].indexOf(l)!==-1?o:r;A>=0;){var h=e[A];if(h===or)return Yt;if([xA,TA].indexOf(h)!==-1)A--;else break}if(_C===l&&[_C,U0,bC,yC].indexOf(c)!==-1||[U0,bC].indexOf(l)!==-1&&[U0,N0].indexOf(c)!==-1||[N0,yC].indexOf(l)!==-1&&c===N0||V4.indexOf(l)!==-1&&[$4,$f].indexOf(c)!==-1||V4.indexOf(c)!==-1&&l===jf||ka.indexOf(l)!==-1&&ka.indexOf(c)!==-1||l===TA&&ka.indexOf(c)!==-1||ka.concat(or).indexOf(l)!==-1&&c===bf&&bwe.indexOf(t[a])===-1||ka.concat(or).indexOf(c)!==-1&&l===vf)return Yt;if(l===yw&&c===yw){for(var g=i[r],f=1;g>0&&(g--,e[g]===yw);)f++;if(f%2!==0)return Yt}return l===Xm&&c===Jm?Yt:Zm},Ewe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var i=_we(t,e.lineBreak),n=i[0],s=i[1],r=i[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[or,gc,YP].indexOf(a)!==-1?Gp:a}));var o=e.wordBreak==="keep-all"?r.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,o]},Twe=function(){function t(e,i,n,s){this.codePoints=e,this.required=i===XP,this.start=n,this.end=s}return t.prototype.slice=function(){return cn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),xwe=function(t,e){var i=Ay(t),n=Ewe(i,e),s=n[0],r=n[1],o=n[2],a=i.length,l=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var c=Yt;u<a&&(c=Cwe(i,r,s,++u,o))===Yt;);if(c!==Yt||u===a){var A=new Twe(i,c,l,u);return l=u,{value:A,done:!1}}return{done:!0,value:null}}}},Swe=1,Bwe=2,Cg=4,G4=8,Zv=10,K4=47,yp=92,kwe=9,Dwe=32,e0=34,yf=61,Fwe=35,Iwe=36,Lwe=37,t0=39,i0=40,wf=41,Pwe=95,Hs=45,Mwe=33,Rwe=60,Owe=62,Uwe=64,Nwe=91,Hwe=93,Qwe=61,$we=123,n0=63,jwe=125,W4=124,Vwe=126,zwe=128,q4=65533,_w=42,wc=43,Gwe=44,Kwe=58,Wwe=59,Kp=46,qwe=0,Ywe=8,Xwe=11,Jwe=14,Zwe=31,e_e=127,xo=-1,ZP=48,eM=97,tM=101,t_e=102,i_e=117,n_e=122,iM=65,nM=69,sM=70,s_e=85,r_e=90,ns=function(t){return t>=ZP&&t<=57},o_e=function(t){return t>=55296&&t<=57343},SA=function(t){return ns(t)||t>=iM&&t<=sM||t>=eM&&t<=t_e},a_e=function(t){return t>=eM&&t<=n_e},l_e=function(t){return t>=iM&&t<=r_e},u_e=function(t){return a_e(t)||l_e(t)},c_e=function(t){return t>=zwe},s0=function(t){return t===Zv||t===kwe||t===Dwe},eb=function(t){return u_e(t)||c_e(t)||t===Pwe},Y4=function(t){return eb(t)||ns(t)||t===Hs},A_e=function(t){return t>=qwe&&t<=Ywe||t===Xwe||t>=Jwe&&t<=Zwe||t===e_e},Rl=function(t,e){return t!==yp?!1:e!==Zv},r0=function(t,e,i){return t===Hs?eb(e)||Rl(e,i):eb(t)?!0:!!(t===yp&&Rl(t,e))},Cw=function(t,e,i){return t===wc||t===Hs?ns(e)?!0:e===Kp&&ns(i):ns(t===Kp?e:t)},h_e=function(t){var e=0,i=1;(t[e]===wc||t[e]===Hs)&&(t[e]===Hs&&(i=-1),e++);for(var n=[];ns(t[e]);)n.push(t[e++]);var s=n.length?parseInt(cn.apply(void 0,n),10):0;t[e]===Kp&&e++;for(var r=[];ns(t[e]);)r.push(t[e++]);var o=r.length,a=o?parseInt(cn.apply(void 0,r),10):0;(t[e]===nM||t[e]===tM)&&e++;var l=1;(t[e]===wc||t[e]===Hs)&&(t[e]===Hs&&(l=-1),e++);for(var u=[];ns(t[e]);)u.push(t[e++]);var c=u.length?parseInt(cn.apply(void 0,u),10):0;return i*(s+a*Math.pow(10,-o))*Math.pow(10,l*c)},d_e={type:2},f_e={type:3},p_e={type:4},g_e={type:13},m_e={type:8},v_e={type:21},b_e={type:9},y_e={type:10},w_e={type:11},__e={type:12},C_e={type:14},o0={type:23},E_e={type:1},T_e={type:25},x_e={type:24},S_e={type:26},B_e={type:27},k_e={type:28},D_e={type:29},F_e={type:31},TC={type:32},rM=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ay(e))},t.prototype.read=function(){for(var e=[],i=this.consumeToken();i!==TC;)e.push(i),i=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case e0:return this.consumeStringToken(e0);case Fwe:var i=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Y4(i)||Rl(n,s)){var r=r0(i,n,s)?Bwe:Swe,o=this.consumeName();return{type:5,value:o,flags:r}}break;case Iwe:if(this.peekCodePoint(0)===yf)return this.consumeCodePoint(),g_e;break;case t0:return this.consumeStringToken(t0);case i0:return d_e;case wf:return f_e;case _w:if(this.peekCodePoint(0)===yf)return this.consumeCodePoint(),C_e;break;case wc:if(Cw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Gwe:return p_e;case Hs:var a=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Cw(a,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(r0(a,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Hs&&u===Owe)return this.consumeCodePoint(),this.consumeCodePoint(),x_e;break;case Kp:if(Cw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case K4:if(this.peekCodePoint(0)===_w)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===_w&&(c=this.consumeCodePoint(),c===K4))return this.consumeToken();if(c===xo)return this.consumeToken()}break;case Kwe:return S_e;case Wwe:return B_e;case Rwe:if(this.peekCodePoint(0)===Mwe&&this.peekCodePoint(1)===Hs&&this.peekCodePoint(2)===Hs)return this.consumeCodePoint(),this.consumeCodePoint(),T_e;break;case Uwe:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),g=this.peekCodePoint(2);if(r0(A,h,g)){var o=this.consumeName();return{type:7,value:o}}break;case Nwe:return k_e;case yp:if(Rl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Hwe:return D_e;case Qwe:if(this.peekCodePoint(0)===yf)return this.consumeCodePoint(),m_e;break;case $we:return w_e;case jwe:return __e;case i_e:case s_e:var f=this.peekCodePoint(0),y=this.peekCodePoint(1);return f===wc&&(SA(y)||y===n0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case W4:if(this.peekCodePoint(0)===yf)return this.consumeCodePoint(),b_e;if(this.peekCodePoint(0)===W4)return this.consumeCodePoint(),v_e;break;case Vwe:if(this.peekCodePoint(0)===yf)return this.consumeCodePoint(),y_e;break;case xo:return TC}return s0(e)?(this.consumeWhiteSpace(),F_e):ns(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):eb(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:cn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],i=this.consumeCodePoint();SA(i)&&e.length<6;)e.push(i),i=this.consumeCodePoint();for(var n=!1;i===n0&&e.length<6;)e.push(i),i=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(cn.apply(void 0,e.map(function(l){return l===n0?ZP:l})),16),r=parseInt(cn.apply(void 0,e.map(function(l){return l===n0?sM:l})),16);return{type:30,start:s,end:r}}var o=parseInt(cn.apply(void 0,e),16);if(this.peekCodePoint(0)===Hs&&SA(this.peekCodePoint(1))){this.consumeCodePoint(),i=this.consumeCodePoint();for(var a=[];SA(i)&&a.length<6;)a.push(i),i=this.consumeCodePoint();var r=parseInt(cn.apply(void 0,a),16);return{type:30,start:o,end:r}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===i0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===i0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xo)return{type:22,value:""};var i=this.peekCodePoint(0);if(i===t0||i===e0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xo||this.peekCodePoint(0)===wf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),o0)}for(;;){var s=this.consumeCodePoint();if(s===xo||s===wf)return{type:22,value:cn.apply(void 0,e)};if(s0(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xo||this.peekCodePoint(0)===wf?(this.consumeCodePoint(),{type:22,value:cn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),o0);if(s===e0||s===t0||s===i0||A_e(s))return this.consumeBadUrlRemnants(),o0;if(s===yp)if(Rl(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),o0;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;s0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===wf||e===xo)return;Rl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var i=5e4,n="";e>0;){var s=Math.min(i,e);n+=cn.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var i="",n=0;do{var s=this._value[n];if(s===xo||s===void 0||s===e)return i+=this.consumeStringSlice(n),{type:0,value:i};if(s===Zv)return this._value.splice(0,n),E_e;if(s===yp){var r=this._value[n+1];r!==xo&&r!==void 0&&(r===Zv?(i+=this.consumeStringSlice(n),n=-1,this._value.shift()):Rl(s,r)&&(i+=this.consumeStringSlice(n),i+=cn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],i=Cg,n=this.peekCodePoint(0);for((n===wc||n===Hs)&&e.push(this.consumeCodePoint());ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Kp&&ns(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),i=G4;ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===nM||n===tM)&&((s===wc||s===Hs)&&ns(r)||ns(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),i=G4;ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[h_e(e),i]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),i=e[0],n=e[1],s=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(r0(s,r,o)){var a=this.consumeName();return{type:15,number:i,flags:n,unit:a}}return s===Lwe?(this.consumeCodePoint(),{type:16,number:i,flags:n}):{type:17,number:i,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(SA(e)){for(var i=cn(e);SA(this.peekCodePoint(0))&&i.length<6;)i+=cn(this.consumeCodePoint());s0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(i,16);return n===0||o_e(n)||n>1114111?q4:n}return e===xo?q4:e},t.prototype.consumeName=function(){for(var e="";;){var i=this.consumeCodePoint();if(Y4(i))e+=cn(i);else if(Rl(i,this.peekCodePoint(0)))e+=cn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(i),e}},t}(),oM=function(){function t(e){this._tokens=e}return t.create=function(e){var i=new rM;return i.write(e),new t(i.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var i=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return i;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var i=this.consumeComponentValue();if(i.type===32)return e;e.push(i),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var i={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||L_e(n,e))return i;this.reconsumeToken(n),i.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var i={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return i;this.reconsumeToken(n),i.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?TC:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Eg=function(t){return t.type===15},ed=function(t){return t.type===17},_i=function(t){return t.type===20},I_e=function(t){return t.type===0},xC=function(t,e){return _i(t)&&t.value===e},aM=function(t){return t.type!==31},Oh=function(t){return t.type!==31&&t.type!==4},na=function(t){var e=[],i=[];return t.forEach(function(n){if(n.type===4){if(i.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(i),i=[];return}n.type!==31&&i.push(n)}),i.length&&e.push(i),e},L_e=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lu=function(t){return t.type===17||t.type===15},mn=function(t){return t.type===16||lu(t)},lM=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Gn={type:17,number:0,flags:Cg},tT={type:16,number:50,flags:Cg},Vl={type:16,number:100,flags:Cg},Vf=function(t,e,i){var n=t[0],s=t[1];return[Fi(n,e),Fi(typeof s<"u"?s:n,i)]},Fi=function(t,e){if(t.type===16)return t.number/100*e;if(Eg(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},uM="deg",cM="grad",AM="rad",hM="turn",hy={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case uM:return Math.PI*e.number/180;case cM:return Math.PI/200*e.number;case AM:return e.number;case hM:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},dM=function(t){return t.type===15&&(t.unit===uM||t.unit===cM||t.unit===AM||t.unit===hM)},fM=function(t){var e=t.filter(_i).map(function(i){return i.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gn,Gn];case"to top":case"bottom":return jr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gn,Vl];case"to right":case"left":return jr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vl,Vl];case"to bottom":case"top":return jr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vl,Gn];case"to left":case"right":return jr(270)}return 0},jr=function(t){return Math.PI*t/180},Yl={name:"color",parse:function(t,e){if(e.type===18){var i=P_e[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return i(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),r=e.value.substring(2,3);return zl(parseInt(n+n,16),parseInt(s+s,16),parseInt(r+r,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),r=e.value.substring(2,3),o=e.value.substring(3,4);return zl(parseInt(n+n,16),parseInt(s+s,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),r=e.value.substring(4,6);return zl(parseInt(n,16),parseInt(s,16),parseInt(r,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8);return zl(parseInt(n,16),parseInt(s,16),parseInt(r,16),parseInt(o,16)/255)}}if(e.type===20){var a=Ka[e.value.toUpperCase()];if(typeof a<"u")return a}return Ka.TRANSPARENT}},Xl=function(t){return(255&t)===0},Ln=function(t){var e=255&t,i=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+i+","+e/255+")":"rgb("+s+","+n+","+i+")"},zl=function(t,e,i,n){return(t<<24|e<<16|i<<8|Math.round(n*255)<<0)>>>0},X4=function(t,e){if(t.type===17)return t.number;if(t.type===16){var i=e===3?1:255;return e===3?t.number/100*i:Math.round(t.number/100*i)}return 0},J4=function(t,e){var i=e.filter(Oh);if(i.length===3){var n=i.map(X4),s=n[0],r=n[1],o=n[2];return zl(s,r,o,1)}if(i.length===4){var a=i.map(X4),s=a[0],r=a[1],o=a[2],l=a[3];return zl(s,r,o,l)}return 0};function Ew(t,e,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(e-t)*i*6+t:i<1/2?e:i<2/3?(e-t)*6*(2/3-i)+t:t}var Z4=function(t,e){var i=e.filter(Oh),n=i[0],s=i[1],r=i[2],o=i[3],a=(n.type===17?jr(n.number):hy.parse(t,n))/(Math.PI*2),l=mn(s)?s.number/100:0,u=mn(r)?r.number/100:0,c=typeof o<"u"&&mn(o)?Fi(o,1):1;if(l===0)return zl(u*255,u*255,u*255,1);var A=u<=.5?u*(l+1):u+l-u*l,h=u*2-A,g=Ew(h,A,a+1/3),f=Ew(h,A,a),y=Ew(h,A,a-1/3);return zl(g*255,f*255,y*255,c)},P_e={hsl:Z4,hsla:Z4,rgb:J4,rgba:J4},wp=function(t,e){return Yl.parse(t,oM.create(e).parseComponentValue())},Ka={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},M_e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(i){if(_i(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},R_e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dy=function(t,e){var i=Yl.parse(t,e[0]),n=e[1];return n&&mn(n)?{color:i,stop:n}:{color:i,stop:null}},ek=function(t,e){var i=t[0],n=t[t.length-1];i.stop===null&&(i.stop=Gn),n.stop===null&&(n.stop=Vl);for(var s=[],r=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Fi(a,e);l>r?s.push(l):s.push(r),r=l}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var c=s[o];if(c===null)u===null&&(u=o);else if(u!==null){for(var A=o-u,h=s[u-1],g=(c-h)/(A+1),f=1;f<=A;f++)s[u+f-1]=g*f;u=null}}return t.map(function(y,E){var C=y.color;return{color:C,stop:Math.max(Math.min(1,s[E]/e),0)}})},O_e=function(t,e,i){var n=e/2,s=i/2,r=Fi(t[0],e)-n,o=s-Fi(t[1],i);return(Math.atan2(o,r)+Math.PI*2)%(Math.PI*2)},U_e=function(t,e,i){var n=typeof t=="number"?t:O_e(t,e,i),s=Math.abs(e*Math.sin(n))+Math.abs(i*Math.cos(n)),r=e/2,o=i/2,a=s/2,l=Math.sin(n-Math.PI/2)*a,u=Math.cos(n-Math.PI/2)*a;return[s,r-u,r+u,o-l,o+l]},so=function(t,e){return Math.sqrt(t*t+e*e)},tk=function(t,e,i,n,s){var r=[[0,0],[0,e],[t,0],[t,e]];return r.reduce(function(o,a){var l=a[0],u=a[1],c=so(i-l,n-u);return(s?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:a,optimumDistance:c}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},N_e=function(t,e,i,n,s){var r=0,o=0;switch(t.size){case 0:t.shape===0?r=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-s)):t.shape===1&&(r=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(i),Math.abs(i-s)));break;case 2:if(t.shape===0)r=o=Math.min(so(e,i),so(e,i-s),so(e-n,i),so(e-n,i-s));else if(t.shape===1){var a=Math.min(Math.abs(i),Math.abs(i-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=tk(n,s,e,i,!0),u=l[0],c=l[1];r=so(u-e,(c-i)/a),o=a*r}break;case 1:t.shape===0?r=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-s)):t.shape===1&&(r=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(i),Math.abs(i-s)));break;case 3:if(t.shape===0)r=o=Math.max(so(e,i),so(e,i-s),so(e-n,i),so(e-n,i-s));else if(t.shape===1){var a=Math.max(Math.abs(i),Math.abs(i-s))/Math.max(Math.abs(e),Math.abs(e-n)),A=tk(n,s,e,i,!1),u=A[0],c=A[1];r=so(u-e,(c-i)/a),o=a*r}break}return Array.isArray(t.size)&&(r=Fi(t.size[0],n),o=t.size.length===2?Fi(t.size[1],s):r),[r,o]},H_e=function(t,e){var i=jr(180),n=[];return na(e).forEach(function(s,r){if(r===0){var o=s[0];if(o.type===20&&o.value==="to"){i=fM(s);return}else if(dM(o)){i=hy.parse(t,o);return}}var a=dy(t,s);n.push(a)}),{angle:i,stops:n,type:1}},a0=function(t,e){var i=jr(180),n=[];return na(e).forEach(function(s,r){if(r===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){i=fM(s);return}else if(dM(o)){i=(hy.parse(t,o)+jr(270))%jr(360);return}}var a=dy(t,s);n.push(a)}),{angle:i,stops:n,type:1}},Q_e=function(t,e){var i=jr(180),n=[],s=1,r=0,o=3,a=[];return na(e).forEach(function(l,u){var c=l[0];if(u===0){if(_i(c)&&c.value==="linear"){s=1;return}else if(_i(c)&&c.value==="radial"){s=2;return}}if(c.type===18){if(c.name==="from"){var A=Yl.parse(t,c.values[0]);n.push({stop:Gn,color:A})}else if(c.name==="to"){var A=Yl.parse(t,c.values[0]);n.push({stop:Vl,color:A})}else if(c.name==="color-stop"){var h=c.values.filter(Oh);if(h.length===2){var A=Yl.parse(t,h[1]),g=h[0];ed(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:A})}}}}),s===1?{angle:(i+jr(180))%jr(360),stops:n,type:s}:{size:o,shape:r,stops:n,position:a,type:s}},pM="closest-side",gM="farthest-side",mM="closest-corner",vM="farthest-corner",bM="circle",yM="ellipse",wM="cover",_M="contain",$_e=function(t,e){var i=0,n=3,s=[],r=[];return na(e).forEach(function(o,a){var l=!0;if(a===0){var u=!1;l=o.reduce(function(A,h){if(u)if(_i(h))switch(h.value){case"center":return r.push(tT),A;case"top":case"left":return r.push(Gn),A;case"right":case"bottom":return r.push(Vl),A}else(mn(h)||lu(h))&&r.push(h);else if(_i(h))switch(h.value){case bM:return i=0,!1;case yM:return i=1,!1;case"at":return u=!0,!1;case pM:return n=0,!1;case wM:case gM:return n=1,!1;case _M:case mM:return n=2,!1;case vM:return n=3,!1}else if(lu(h)||mn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return A},l)}if(l){var c=dy(t,o);s.push(c)}}),{size:n,shape:i,stops:s,position:r,type:2}},l0=function(t,e){var i=0,n=3,s=[],r=[];return na(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(c,A){if(_i(A))switch(A.value){case"center":return r.push(tT),!1;case"top":case"left":return r.push(Gn),!1;case"right":case"bottom":return r.push(Vl),!1}else if(mn(A)||lu(A))return r.push(A),!1;return c},l):a===1&&(l=o.reduce(function(c,A){if(_i(A))switch(A.value){case bM:return i=0,!1;case yM:return i=1,!1;case _M:case pM:return n=0,!1;case gM:return n=1,!1;case mM:return n=2,!1;case wM:case vM:return n=3,!1}else if(lu(A)||mn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return c},l)),l){var u=dy(t,o);s.push(u)}}),{size:n,shape:i,stops:s,position:r,type:2}},j_e=function(t){return t.type===1},V_e=function(t){return t.type===2},iT={name:"image",parse:function(t,e){if(e.type===22){var i={url:e.value,type:0};return t.cache.addImage(e.value),i}if(e.type===18){var n=CM[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function z_e(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!CM[t.name])}var CM={"linear-gradient":H_e,"-moz-linear-gradient":a0,"-ms-linear-gradient":a0,"-o-linear-gradient":a0,"-webkit-linear-gradient":a0,"radial-gradient":$_e,"-moz-radial-gradient":l0,"-ms-radial-gradient":l0,"-o-radial-gradient":l0,"-webkit-radial-gradient":l0,"-webkit-gradient":Q_e},G_e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var i=e[0];return i.type===20&&i.value==="none"?[]:e.filter(function(n){return Oh(n)&&z_e(n)}).map(function(n){return iT.parse(t,n)})}},K_e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(i){if(_i(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},W_e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return na(e).map(function(i){return i.filter(mn)}).map(lM)}},q_e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return na(e).map(function(i){return i.filter(_i).map(function(n){return n.value}).join(" ")}).map(Y_e)}},Y_e=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ah;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ah||(Ah={}));var X_e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return na(e).map(function(i){return i.filter(J_e)})}},J_e=function(t){return _i(t)||mn(t)},fy=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Z_e=fy("top"),eCe=fy("right"),tCe=fy("bottom"),iCe=fy("left"),py=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,i){return lM(i.filter(mn))}}},nCe=py("top-left"),sCe=py("top-right"),rCe=py("bottom-right"),oCe=py("bottom-left"),gy=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,i){switch(i){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},aCe=gy("top"),lCe=gy("right"),uCe=gy("bottom"),cCe=gy("left"),my=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,i){return Eg(i)?i.number:0}}},ACe=my("top"),hCe=my("right"),dCe=my("bottom"),fCe=my("left"),pCe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gCe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},mCe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(_i).reduce(function(i,n){return i|vCe(n.value)},0)}},vCe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bCe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},yCe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},tb;(function(t){t.NORMAL="normal",t.STRICT="strict"})(tb||(tb={}));var wCe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return tb.STRICT;case"normal":default:return tb.NORMAL}}},_Ce={name:"line-height",initialValue:"normal",prefix:!1,type:4},ik=function(t,e){return _i(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:mn(t)?Fi(t,e):e},CCe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:iT.parse(t,e)}},ECe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},SC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},vy=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},TCe=vy("top"),xCe=vy("right"),SCe=vy("bottom"),BCe=vy("left"),kCe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(_i).map(function(i){switch(i.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},DCe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},by=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},FCe=by("top"),ICe=by("right"),LCe=by("bottom"),PCe=by("left"),MCe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},RCe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},OCe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&xC(e[0],"none")?[]:na(e).map(function(i){for(var n={color:Ka.TRANSPARENT,offsetX:Gn,offsetY:Gn,blur:Gn},s=0,r=0;r<i.length;r++){var o=i[r];lu(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=Yl.parse(t,o)}return n})}},UCe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},NCe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var i=$Ce[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return i(e.values)}return null}},HCe=function(t){var e=t.filter(function(i){return i.type===17}).map(function(i){return i.number});return e.length===6?e:null},QCe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),i=e[0],n=e[1];e[2],e[3];var s=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[i,n,s,r,o,a]:null},$Ce={matrix:HCe,matrix3d:QCe},nk={type:16,number:50,flags:Cg},jCe=[nk,nk],VCe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var i=e.filter(mn);return i.length!==2?jCe:[i[0],i[1]]}},zCe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_p;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(_p||(_p={}));var GCe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return _p.BREAK_ALL;case"keep-all":return _p.KEEP_ALL;case"normal":default:return _p.NORMAL}}},KCe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ed(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},EM={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},WCe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ed(e)?e.number:1}},qCe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},YCe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(_i).map(function(i){switch(i.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(i){return i!==0})}},XCe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var i=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:i.push(s.value);break;case 17:i.push(s.number.toString());break;case 4:n.push(i.join(" ")),i.length=0;break}}),i.length&&n.push(i.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},JCe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ZCe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ed(e))return e.number;if(_i(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},e2e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(_i).map(function(i){return i.value})}},t2e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Tn=function(t,e){return(t&e)!==0},i2e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var i=e[0];return i.type===20&&i.value==="none"?[]:e}},n2e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var i=e[0];if(i.type===20&&i.value==="none")return null;for(var n=[],s=e.filter(aM),r=0;r<s.length;r++){var o=s[r],a=s[r+1];if(o.type===20){var l=a&&ed(a)?a.number:1;n.push({counter:o.value,increment:l})}}return n}},s2e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var i=[],n=e.filter(aM),s=0;s<n.length;s++){var r=n[s],o=n[s+1];if(_i(r)&&r.value!=="none"){var a=o&&ed(o)?o.number:0;i.push({counter:r.value,reset:a})}}return i}},r2e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Eg).map(function(i){return EM.parse(t,i)})}},o2e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var i=e[0];if(i.type===20&&i.value==="none")return null;var n=[],s=e.filter(I_e);if(s.length%2!==0)return null;for(var r=0;r<s.length;r+=2){var o=s[r].value,a=s[r+1].value;n.push({open:o,close:a})}return n}},sk=function(t,e,i){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?i?n.open:n.close:""},a2e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&xC(e[0],"none")?[]:na(e).map(function(i){for(var n={color:255,offsetX:Gn,offsetY:Gn,blur:Gn,spread:Gn,inset:!1},s=0,r=0;r<i.length;r++){var o=i[r];xC(o,"inset")?n.inset=!0:lu(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=Yl.parse(t,o)}return n})}},l2e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var i=[0,1,2],n=[];return e.filter(_i).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),i.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},u2e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},c2e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Eg(e)?e.number:0}},A2e=function(){function t(e,i){var n,s;this.animationDuration=ut(e,r2e,i.animationDuration),this.backgroundClip=ut(e,M_e,i.backgroundClip),this.backgroundColor=ut(e,R_e,i.backgroundColor),this.backgroundImage=ut(e,G_e,i.backgroundImage),this.backgroundOrigin=ut(e,K_e,i.backgroundOrigin),this.backgroundPosition=ut(e,W_e,i.backgroundPosition),this.backgroundRepeat=ut(e,q_e,i.backgroundRepeat),this.backgroundSize=ut(e,X_e,i.backgroundSize),this.borderTopColor=ut(e,Z_e,i.borderTopColor),this.borderRightColor=ut(e,eCe,i.borderRightColor),this.borderBottomColor=ut(e,tCe,i.borderBottomColor),this.borderLeftColor=ut(e,iCe,i.borderLeftColor),this.borderTopLeftRadius=ut(e,nCe,i.borderTopLeftRadius),this.borderTopRightRadius=ut(e,sCe,i.borderTopRightRadius),this.borderBottomRightRadius=ut(e,rCe,i.borderBottomRightRadius),this.borderBottomLeftRadius=ut(e,oCe,i.borderBottomLeftRadius),this.borderTopStyle=ut(e,aCe,i.borderTopStyle),this.borderRightStyle=ut(e,lCe,i.borderRightStyle),this.borderBottomStyle=ut(e,uCe,i.borderBottomStyle),this.borderLeftStyle=ut(e,cCe,i.borderLeftStyle),this.borderTopWidth=ut(e,ACe,i.borderTopWidth),this.borderRightWidth=ut(e,hCe,i.borderRightWidth),this.borderBottomWidth=ut(e,dCe,i.borderBottomWidth),this.borderLeftWidth=ut(e,fCe,i.borderLeftWidth),this.boxShadow=ut(e,a2e,i.boxShadow),this.color=ut(e,pCe,i.color),this.direction=ut(e,gCe,i.direction),this.display=ut(e,mCe,i.display),this.float=ut(e,bCe,i.cssFloat),this.fontFamily=ut(e,XCe,i.fontFamily),this.fontSize=ut(e,JCe,i.fontSize),this.fontStyle=ut(e,t2e,i.fontStyle),this.fontVariant=ut(e,e2e,i.fontVariant),this.fontWeight=ut(e,ZCe,i.fontWeight),this.letterSpacing=ut(e,yCe,i.letterSpacing),this.lineBreak=ut(e,wCe,i.lineBreak),this.lineHeight=ut(e,_Ce,i.lineHeight),this.listStyleImage=ut(e,CCe,i.listStyleImage),this.listStylePosition=ut(e,ECe,i.listStylePosition),this.listStyleType=ut(e,SC,i.listStyleType),this.marginTop=ut(e,TCe,i.marginTop),this.marginRight=ut(e,xCe,i.marginRight),this.marginBottom=ut(e,SCe,i.marginBottom),this.marginLeft=ut(e,BCe,i.marginLeft),this.opacity=ut(e,WCe,i.opacity);var r=ut(e,kCe,i.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=ut(e,DCe,i.overflowWrap),this.paddingTop=ut(e,FCe,i.paddingTop),this.paddingRight=ut(e,ICe,i.paddingRight),this.paddingBottom=ut(e,LCe,i.paddingBottom),this.paddingLeft=ut(e,PCe,i.paddingLeft),this.paintOrder=ut(e,l2e,i.paintOrder),this.position=ut(e,RCe,i.position),this.textAlign=ut(e,MCe,i.textAlign),this.textDecorationColor=ut(e,qCe,(n=i.textDecorationColor)!==null&&n!==void 0?n:i.color),this.textDecorationLine=ut(e,YCe,(s=i.textDecorationLine)!==null&&s!==void 0?s:i.textDecoration),this.textShadow=ut(e,OCe,i.textShadow),this.textTransform=ut(e,UCe,i.textTransform),this.transform=ut(e,NCe,i.transform),this.transformOrigin=ut(e,VCe,i.transformOrigin),this.visibility=ut(e,zCe,i.visibility),this.webkitTextStrokeColor=ut(e,u2e,i.webkitTextStrokeColor),this.webkitTextStrokeWidth=ut(e,c2e,i.webkitTextStrokeWidth),this.wordBreak=ut(e,GCe,i.wordBreak),this.zIndex=ut(e,KCe,i.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Xl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Tn(this.display,4)||Tn(this.display,33554432)||Tn(this.display,268435456)||Tn(this.display,536870912)||Tn(this.display,67108864)||Tn(this.display,134217728)},t}(),h2e=function(){function t(e,i){this.content=ut(e,i2e,i.content),this.quotes=ut(e,o2e,i.quotes)}return t}(),rk=function(){function t(e,i){this.counterIncrement=ut(e,n2e,i.counterIncrement),this.counterReset=ut(e,s2e,i.counterReset)}return t}(),ut=function(t,e,i){var n=new rM,s=i!==null&&typeof i<"u"?i.toString():e.initialValue;n.write(s);var r=new oM(n.read());switch(e.type){case 2:var o=r.parseComponentValue();return e.parse(t,_i(o)?o.value:e.initialValue);case 0:return e.parse(t,r.parseComponentValue());case 1:return e.parse(t,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return hy.parse(t,r.parseComponentValue());case"color":return Yl.parse(t,r.parseComponentValue());case"image":return iT.parse(t,r.parseComponentValue());case"length":var a=r.parseComponentValue();return lu(a)?a:Gn;case"length-percentage":var l=r.parseComponentValue();return mn(l)?l:Gn;case"time":return EM.parse(t,r.parseComponentValue())}break}},d2e="data-html2canvas-debug",f2e=function(t){var e=t.getAttribute(d2e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},BC=function(t,e){var i=f2e(t);return i===1||e===i},sa=function(){function t(e,i){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,BC(i,3))debugger;this.styles=new A2e(e,window.getComputedStyle(i,null)),FC(i)&&(this.styles.animationDuration.some(function(n){return n>0})&&(i.style.animationDuration="0s"),this.styles.transform!==null&&(i.style.transform="none")),this.bounds=cy(this.context,i),BC(i,4)&&(this.flags|=16)}return t}(),p2e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ok="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var u0=0;u0<ok.length;u0++)zf[ok.charCodeAt(u0)]=u0;var g2e=function(t){var e=t.length*.75,i=t.length,n,s=0,r,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<i;n+=4)r=zf[t.charCodeAt(n)],o=zf[t.charCodeAt(n+1)],a=zf[t.charCodeAt(n+2)],l=zf[t.charCodeAt(n+3)],c[s++]=r<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|l&63;return u},m2e=function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i},v2e=function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i},Ic=5,nT=6+5,Tw=2,b2e=nT-Ic,TM=65536>>Ic,y2e=1<<Ic,xw=y2e-1,w2e=1024>>Ic,_2e=TM+w2e,C2e=_2e,E2e=32,T2e=C2e+E2e,x2e=65536>>nT,S2e=1<<b2e,B2e=S2e-1,ak=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},k2e=function(t,e,i){return t.slice?t.slice(e,i):new Uint32Array(Array.prototype.slice.call(t,e,i))},D2e=function(t,e){var i=g2e(t),n=Array.isArray(i)?v2e(i):new Uint32Array(i),s=Array.isArray(i)?m2e(i):new Uint16Array(i),r=24,o=ak(s,r/2,n[4]/2),a=n[5]===2?ak(s,(r+n[4])/2):k2e(n,Math.ceil((r+n[4])/4));return new F2e(n[0],n[1],n[2],n[3],o,a)},F2e=function(){function t(e,i,n,s,r,o){this.initialValue=e,this.errorValue=i,this.highStart=n,this.highValueIndex=s,this.index=r,this.data=o}return t.prototype.get=function(e){var i;if(e>=0){if(e<55296||e>56319&&e<=65535)return i=this.index[e>>Ic],i=(i<<Tw)+(e&xw),this.data[i];if(e<=65535)return i=this.index[TM+(e-55296>>Ic)],i=(i<<Tw)+(e&xw),this.data[i];if(e<this.highStart)return i=T2e-x2e+(e>>nT),i=this.index[i],i+=e>>Ic&B2e,i=this.index[i],i=(i<<Tw)+(e&xw),this.data[i];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),lk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I2e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var c0=0;c0<lk.length;c0++)I2e[lk.charCodeAt(c0)]=c0;var L2e=1,Sw=2,Bw=3,uk=4,ck=5,P2e=7,Ak=8,kw=9,Dw=10,hk=11,dk=12,fk=13,pk=14,Fw=15,M2e=function(t){for(var e=[],i=0,n=t.length;i<n;){var s=t.charCodeAt(i++);if(s>=55296&&s<=56319&&i<n){var r=t.charCodeAt(i++);(r&64512)===56320?e.push(((s&1023)<<10)+(r&1023)+65536):(e.push(s),i--)}else e.push(s)}return e},R2e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var n=[],s=-1,r="";++s<i;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===i||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},O2e=D2e(p2e),Or="×",Iw="÷",U2e=function(t){return O2e.get(t)},N2e=function(t,e,i){var n=i-2,s=e[n],r=e[i-1],o=e[i];if(r===Sw&&o===Bw)return Or;if(r===Sw||r===Bw||r===uk||o===Sw||o===Bw||o===uk)return Iw;if(r===Ak&&[Ak,kw,hk,dk].indexOf(o)!==-1||(r===hk||r===kw)&&(o===kw||o===Dw)||(r===dk||r===Dw)&&o===Dw||o===fk||o===ck||o===P2e||r===L2e)return Or;if(r===fk&&o===pk){for(;s===ck;)s=e[--n];if(s===pk)return Or}if(r===Fw&&o===Fw){for(var a=0;s===Fw;)a++,s=e[--n];if(a%2===0)return Or}return Iw},H2e=function(t){var e=M2e(t),i=e.length,n=0,s=0,r=e.map(U2e);return{next:function(){if(n>=i)return{done:!0,value:null};for(var o=Or;n<i&&(o=N2e(e,r,++n))===Or;);if(o!==Or||n===i){var a=R2e.apply(null,e.slice(s,n));return s=n,{value:a,done:!1}}return{done:!0,value:null}}}},Q2e=function(t){for(var e=H2e(t),i=[],n;!(n=e.next()).done;)n.value&&i.push(n.value.slice());return i},$2e=function(t){var e=123;if(t.createRange){var i=t.createRange();if(i.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),i.selectNode(n);var s=i.getBoundingClientRect(),r=Math.round(s.height);if(t.body.removeChild(n),r===e)return!0}}return!1},j2e=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var i=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Ay(n.data).map(function(l){return cn(l)}),r=0,o={},a=s.every(function(l,u){i.setStart(n,r),i.setEnd(n,r+l.length);var c=i.getBoundingClientRect();r+=l.length;var A=c.x>o.x||c.y>o.y;return o=c,u===0?!0:A});return t.body.removeChild(e),a},V2e=function(){return typeof new Image().crossOrigin<"u"},z2e=function(){return typeof new XMLHttpRequest().responseType=="string"},G2e=function(t){var e=new Image,i=t.createElement("canvas"),n=i.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),i.toDataURL()}catch{return!1}return!0},gk=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},K2e=function(t){var e=t.createElement("canvas"),i=100;e.width=i,e.height=i;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,i,i);var s=new Image,r=e.toDataURL();s.src=r;var o=kC(i,i,0,0,s);return n.fillStyle="red",n.fillRect(0,0,i,i),mk(o).then(function(a){n.drawImage(a,0,0);var l=n.getImageData(0,0,i,i).data;n.fillStyle="red",n.fillRect(0,0,i,i);var u=t.createElement("div");return u.style.backgroundImage="url("+r+")",u.style.height=i+"px",gk(l)?mk(kC(i,i,0,0,u)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),gk(n.getImageData(0,0,i,i).data)}).catch(function(){return!1})},kC=function(t,e,i,n,s){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",i.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},mk=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},zn={get SUPPORT_RANGE_BOUNDS(){var t=$2e(document);return Object.defineProperty(zn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=zn.SUPPORT_RANGE_BOUNDS&&j2e(document);return Object.defineProperty(zn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=G2e(document);return Object.defineProperty(zn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?K2e(document):Promise.resolve(!1);return Object.defineProperty(zn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=V2e();return Object.defineProperty(zn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=z2e();return Object.defineProperty(zn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Cp=function(){function t(e,i){this.text=e,this.bounds=i}return t}(),W2e=function(t,e,i,n){var s=X2e(e,i),r=[],o=0;return s.forEach(function(a){if(i.textDecorationLine.length||a.trim().length>0)if(zn.SUPPORT_RANGE_BOUNDS){var l=vk(n,o,a.length).getClientRects();if(l.length>1){var u=sT(a),c=0;u.forEach(function(h){r.push(new Cp(h,il.fromDOMRectList(t,vk(n,c+o,h.length).getClientRects()))),c+=h.length})}else r.push(new Cp(a,il.fromDOMRectList(t,l)))}else{var A=n.splitText(a.length);r.push(new Cp(a,q2e(t,n))),n=A}else zn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));o+=a.length}),r},q2e=function(t,e){var i=e.ownerDocument;if(i){var n=i.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var r=cy(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),r}}return il.EMPTY},vk=function(t,e,i){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+i),s},sT=function(t){if(zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(i){return i.segment})}return Q2e(t)},Y2e=function(t,e){if(zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var i=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(i.segment(t)).map(function(n){return n.segment})}return Z2e(t,e)},X2e=function(t,e){return e.letterSpacing!==0?sT(t):Y2e(t,e)},J2e=[32,160,4961,65792,65793,4153,4241],Z2e=function(t,e){for(var i=xwe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,r=function(){if(s.value){var o=s.value.slice(),a=Ay(o),l="";a.forEach(function(u){J2e.indexOf(u)===-1?l+=cn(u):(l.length&&n.push(l),n.push(cn(u)),l="")}),l.length&&n.push(l)}};!(s=i.next()).done;)r();return n},eEe=function(){function t(e,i,n){this.text=tEe(i.data,n.textTransform),this.textBounds=W2e(e,this.text,n,i)}return t}(),tEe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(iEe,nEe);case 2:return t.toUpperCase();default:return t}},iEe=/(^|\s|:|-|\(|\))([a-z])/g,nEe=function(t,e,i){return t.length>0?e+i.toUpperCase():t},xM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(sa),SM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(sa),BM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this,r=new XMLSerializer,o=cy(i,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(sa),kM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.value=n.value,s}return e}(sa),DC=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(sa),sEe=[{type:15,flags:0,unit:"px",number:3}],rEe=[{type:16,flags:0,number:50}],oEe=function(t){return t.width>t.height?new il(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new il(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},aEe=function(t){var e=t.type===lEe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},ib="checkbox",nb="radio",lEe="password",bk=707406591,rT=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=aEe(n),(s.type===ib||s.type===nb)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=oEe(s.bounds)),s.type){case ib:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=sEe;break;case nb:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=rEe;break}return s}return e}(sa),DM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this,r=n.options[n.selectedIndex||0];return s.value=r&&r.text||"",s}return e}(sa),FM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.value=n.value,s}return e}(sa),IM=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=PM(i,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?wp(i,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ka.TRANSPARENT,o=n.contentWindow.document.body?wp(i,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ka.TRANSPARENT;s.backgroundColor=Xl(r)?Xl(o)?s.styles.backgroundColor:o:r}}catch{}return s}return e}(sa),uEe=["OL","UL","MENU"],H0=function(t,e,i,n){for(var s=e.firstChild,r=void 0;s;s=r)if(r=s.nextSibling,MM(s)&&s.data.trim().length>0)i.textNodes.push(new eEe(t,s,i.styles));else if(qA(s))if(NM(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return H0(t,a,i,n)});else{var o=LM(t,s);o.styles.isVisible()&&(cEe(s,o,n)?o.flags|=4:AEe(o.styles)&&(o.flags|=2),uEe.indexOf(s.tagName)!==-1&&(o.flags|=8),i.elements.push(o),s.slot,s.shadowRoot?H0(t,s.shadowRoot,o,n):!sb(s)&&!RM(s)&&!rb(s)&&H0(t,s,o,n))}},LM=function(t,e){return IC(e)?new xM(t,e):OM(e)?new SM(t,e):RM(e)?new BM(t,e):hEe(e)?new kM(t,e):dEe(e)?new DC(t,e):fEe(e)?new rT(t,e):rb(e)?new DM(t,e):sb(e)?new FM(t,e):UM(e)?new IM(t,e):new sa(t,e)},PM=function(t,e){var i=LM(t,e);return i.flags|=4,H0(t,e,i,i),i},cEe=function(t,e,i){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||oT(t)&&i.styles.isTransparent()},AEe=function(t){return t.isPositioned()||t.isFloating()},MM=function(t){return t.nodeType===Node.TEXT_NODE},qA=function(t){return t.nodeType===Node.ELEMENT_NODE},FC=function(t){return qA(t)&&typeof t.style<"u"&&!Q0(t)},Q0=function(t){return typeof t.className=="object"},hEe=function(t){return t.tagName==="LI"},dEe=function(t){return t.tagName==="OL"},fEe=function(t){return t.tagName==="INPUT"},pEe=function(t){return t.tagName==="HTML"},RM=function(t){return t.tagName==="svg"},oT=function(t){return t.tagName==="BODY"},OM=function(t){return t.tagName==="CANVAS"},yk=function(t){return t.tagName==="VIDEO"},IC=function(t){return t.tagName==="IMG"},UM=function(t){return t.tagName==="IFRAME"},wk=function(t){return t.tagName==="STYLE"},gEe=function(t){return t.tagName==="SCRIPT"},sb=function(t){return t.tagName==="TEXTAREA"},rb=function(t){return t.tagName==="SELECT"},NM=function(t){return t.tagName==="SLOT"},_k=function(t){return t.tagName.indexOf("-")>0},mEe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var i=this.counters[e];return i&&i.length?i[i.length-1]:1},t.prototype.getCounterValues=function(e){var i=this.counters[e];return i||[]},t.prototype.pop=function(e){var i=this;e.forEach(function(n){return i.counters[n].pop()})},t.prototype.parse=function(e){var i=this,n=e.counterIncrement,s=e.counterReset,r=!0;n!==null&&n.forEach(function(a){var l=i.counters[a.counter];l&&a.increment!==0&&(r=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return r&&s.forEach(function(a){var l=i.counters[a.counter];o.push(a.counter),l||(l=i.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),Ck={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ek={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},vEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},bEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},BA=function(t,e,i,n,s,r){return t<e||t>i?Wp(t,s,r.length>0):n.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=n.values[l];return o},"")+r},HM=function(t,e,i,n){var s="";do i||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},un=function(t,e,i,n,s){var r=i-e+1;return(t<0?"-":"")+(HM(Math.abs(t),r,n,function(o){return cn(Math.floor(o%r)+e)})+s)},oc=function(t,e,i){i===void 0&&(i=". ");var n=e.length;return HM(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+i},RA=1,Bl=2,kl=4,Gf=8,Da=function(t,e,i,n,s,r){if(t<-9999||t>9999)return Wp(t,4,s.length>0);var o=Math.abs(t),a=s;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var u=o%10;u===0&&Tn(r,RA)&&a!==""?a=e[u]+a:u>1||u===1&&l===0||u===1&&l===1&&Tn(r,Bl)||u===1&&l===1&&Tn(r,kl)&&t>100||u===1&&l>1&&Tn(r,Gf)?a=e[u]+(l>0?i[l-1]:"")+a:u===1&&l>0&&(a=i[l-1]+a),o=Math.floor(o/10)}return(t<0?n:"")+a},Tk="十百千萬",xk="拾佰仟萬",Sk="マイナス",Lw="마이너스",Wp=function(t,e,i){var n=i?". ":"",s=i?"、":"",r=i?", ":"",o=i?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=un(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return oc(t,"〇一二三四五六七八九",s);case 6:return BA(t,1,3999,Ck,3,n).toLowerCase();case 7:return BA(t,1,3999,Ck,3,n);case 8:return un(t,945,969,!1,n);case 9:return un(t,97,122,!1,n);case 10:return un(t,65,90,!1,n);case 11:return un(t,1632,1641,!0,n);case 12:case 49:return BA(t,1,9999,Ek,3,n);case 35:return BA(t,1,9999,Ek,3,n).toLowerCase();case 13:return un(t,2534,2543,!0,n);case 14:case 30:return un(t,6112,6121,!0,n);case 15:return oc(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return oc(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Da(t,"零一二三四五六七八九",Tk,"負",s,Bl|kl|Gf);case 47:return Da(t,"零壹貳參肆伍陸柒捌玖",xk,"負",s,RA|Bl|kl|Gf);case 42:return Da(t,"零一二三四五六七八九",Tk,"负",s,Bl|kl|Gf);case 41:return Da(t,"零壹贰叁肆伍陆柒捌玖",xk,"负",s,RA|Bl|kl|Gf);case 26:return Da(t,"〇一二三四五六七八九","十百千万",Sk,s,0);case 25:return Da(t,"零壱弐参四伍六七八九","拾百千万",Sk,s,RA|Bl|kl);case 31:return Da(t,"영일이삼사오육칠팔구","십백천만",Lw,r,RA|Bl|kl);case 33:return Da(t,"零一二三四五六七八九","十百千萬",Lw,r,0);case 32:return Da(t,"零壹貳參四五六七八九","拾百千",Lw,r,RA|Bl|kl);case 18:return un(t,2406,2415,!0,n);case 20:return BA(t,1,19999,bEe,3,n);case 21:return un(t,2790,2799,!0,n);case 22:return un(t,2662,2671,!0,n);case 22:return BA(t,1,10999,vEe,3,n);case 23:return oc(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return oc(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return un(t,3302,3311,!0,n);case 28:return oc(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return oc(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return un(t,3792,3801,!0,n);case 37:return un(t,6160,6169,!0,n);case 38:return un(t,4160,4169,!0,n);case 39:return un(t,2918,2927,!0,n);case 40:return un(t,1776,1785,!0,n);case 43:return un(t,3046,3055,!0,n);case 44:return un(t,3174,3183,!0,n);case 45:return un(t,3664,3673,!0,n);case 46:return un(t,3872,3881,!0,n);case 3:default:return un(t,48,57,!0,n)}},QM="data-html2canvas-ignore",Bk=function(){function t(e,i,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=i,this.counters=new mEe,this.quoteDepth=0,!i.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(i.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,i){var n=this,s=yEe(e,i);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,u=CEe(s).then(function(){return ms(n,void 0,void 0,function(){var c,A;return is(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(SEe),a&&(a.scrollTo(i.left,i.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==i.top||a.scrollX!==i.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-i.left,a.scrollY-i.top,0,0))),c=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_Ee(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,A)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(TEe(document.doctype)+"<html></html>"),xEe(this.referenceElement.ownerDocument,r,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(BC(e,2))debugger;if(OM(e))return this.createCanvasClone(e);if(yk(e))return this.createVideoClone(e);if(wk(e))return this.createStyleClone(e);var i=e.cloneNode(!1);return IC(i)&&(IC(e)&&e.currentSrc&&e.currentSrc!==e.src&&(i.src=e.currentSrc,i.srcset=""),i.loading==="lazy"&&(i.loading="eager")),_k(i)?this.createCustomElementClone(i):i},t.prototype.createCustomElementClone=function(e){var i=document.createElement("html2canvascustomelement");return Pw(e.style,i),i},t.prototype.createStyleClone=function(e){try{var i=e.sheet;if(i&&i.cssRules){var n=[].slice.call(i.cssRules,0).reduce(function(r,o){return o&&typeof o.cssText=="string"?r+o.cssText:r},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var i;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var r=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&r)o.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var a=(i=e.getContext("webgl2"))!==null&&i!==void 0?i:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var i=e.ownerDocument.createElement("canvas");i.width=e.offsetWidth,i.height=e.offsetHeight;var n=i.getContext("2d");try{return n&&(n.drawImage(e,0,0,i.width,i.height),this.options.allowTaint||n.getImageData(0,0,i.width,i.height)),i}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,i,n){(!qA(i)||!gEe(i)&&!i.hasAttribute(QM)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(i)))&&(!this.options.copyStyles||!qA(i)||!wk(i))&&e.appendChild(this.cloneNode(i,n))},t.prototype.cloneChildNodes=function(e,i,n){for(var s=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(qA(r)&&NM(r)&&typeof r.assignedNodes=="function"){var o=r.assignedNodes();o.length&&o.forEach(function(a){return s.appendChildNode(i,a,n)})}else this.appendChildNode(i,r,n)},t.prototype.cloneNode=function(e,i){if(MM(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&qA(e)&&(FC(e)||Q0(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var r=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&FC(s)&&(this.clonedReferenceElement=s),oT(s)&&DEe(s);var l=this.counters.parse(new rk(this.context,r)),u=this.resolvePseudoContent(e,s,o,Ep.BEFORE);_k(e)&&(i=!0),yk(e)||this.cloneChildNodes(e,s,i),u&&s.insertBefore(u,s.firstChild);var c=this.resolvePseudoContent(e,s,a,Ep.AFTER);return c&&s.appendChild(c),this.counters.pop(l),(r&&(this.options.copyStyles||Q0(e))&&!UM(e)||i)&&Pw(r,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(sb(e)||rb(e))&&(sb(s)||rb(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,i,n,s){var r=this;if(n){var o=n.content,a=i.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new rk(this.context,n));var l=new h2e(this.context,n),u=a.createElement("html2canvaspseudoelement");Pw(n,u),l.content.forEach(function(A){if(A.type===0)u.appendChild(a.createTextNode(A.value));else if(A.type===22){var h=a.createElement("img");h.src=A.value,h.style.opacity="1",u.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var g=A.values.filter(_i);g.length&&u.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(A.name==="counter"){var f=A.values.filter(Oh),y=f[0],E=f[1];if(y&&_i(y)){var C=r.counters.getCounterValue(y.value),m=E&&_i(E)?SC.parse(r.context,E.value):3;u.appendChild(a.createTextNode(Wp(C,m,!1)))}}else if(A.name==="counters"){var b=A.values.filter(Oh),y=b[0],_=b[1],E=b[2];if(y&&_i(y)){var B=r.counters.getCounterValues(y.value),L=E&&_i(E)?SC.parse(r.context,E.value):3,j=_&&_.type===0?_.value:"",O=B.map(function(D){return Wp(D,L,!1)}).join(j);u.appendChild(a.createTextNode(O))}}}else if(A.type===20)switch(A.value){case"open-quote":u.appendChild(a.createTextNode(sk(l.quotes,r.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(sk(l.quotes,--r.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(A.value))}}),u.className=LC+" "+PC;var c=s===Ep.BEFORE?" "+LC:" "+PC;return Q0(i)?i.className.baseValue+=c:i.className+=c,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Ep;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Ep||(Ep={}));var yEe=function(t,e){var i=t.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=e.width.toString(),i.height=e.height.toString(),i.scrolling="no",i.setAttribute(QM,"true"),t.body.appendChild(i),i},wEe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},_Ee=function(t){return Promise.all([].slice.call(t.images,0).map(wEe))},CEe=function(t){return new Promise(function(e,i){var n=t.contentWindow;if(!n)return i("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var r=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(r),e(t))},50)}})},EEe=["all","d","content"],Pw=function(t,e){for(var i=t.length-1;i>=0;i--){var n=t.item(i);EEe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},TEe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},xEe=function(t,e,i){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||i!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,i)},SEe=function(t){var e=t[0],i=t[1],n=t[2];e.scrollLeft=i,e.scrollTop=n},BEe=":before",kEe=":after",LC="___html2canvas___pseudoelement_before",PC="___html2canvas___pseudoelement_after",kk='{\n    content: "" !important;\n    display: none !important;\n}',DEe=function(t){FEe(t,"."+LC+BEe+kk+"\n         ."+PC+kEe+kk)},FEe=function(t,e){var i=t.ownerDocument;if(i){var n=i.createElement("style");n.textContent=e,t.appendChild(n)}},$M=function(){function t(){}return t.getOrigin=function(e){var i=t._link;return i?(i.href=e,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),IEe=function(){function t(e,i){this.context=e,this._options=i,this._cache={}}return t.prototype.addImage=function(e){var i=Promise.resolve();return this.has(e)||(Rw(e)||REe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),i},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ms(this,void 0,void 0,function(){var i,n,s,r,o=this;return is(this,function(a){switch(a.label){case 0:return i=$M.isSameOrigin(e),n=!Mw(e)&&this._options.useCORS===!0&&zn.SUPPORT_CORS_IMAGES&&!i,s=!Mw(e)&&!i&&!Rw(e)&&typeof this._options.proxy=="string"&&zn.SUPPORT_CORS_XHR&&!n,!i&&this._options.allowTaint===!1&&!Mw(e)&&!Rw(e)&&!s&&!n?[2]:(r=e,s?[4,this.proxy(r)]:[3,2]);case 1:r=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(OEe(r)||n)&&(c.crossOrigin="anonymous"),c.src=r,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var i=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(r,o){var a=zn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")r(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return r(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),i._options.imageTimeout){var c=i._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+s)}}l.send()})},t}(),LEe=/^data:image\/svg\+xml/i,PEe=/^data:image\/.*;base64,/i,MEe=/^data:image\/.*/i,REe=function(t){return zn.SUPPORT_SVG_DRAWING||!UEe(t)},Mw=function(t){return MEe.test(t)},OEe=function(t){return PEe.test(t)},Rw=function(t){return t.substr(0,4)==="blob"},UEe=function(t){return t.substr(-3).toLowerCase()==="svg"||LEe.test(t)},at=function(){function t(e,i){this.type=0,this.x=e,this.y=i}return t.prototype.add=function(e,i){return new t(this.x+e,this.y+i)},t}(),kA=function(t,e,i){return new at(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},A0=function(){function t(e,i,n,s){this.type=1,this.start=e,this.startControl=i,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,i){var n=kA(this.start,this.startControl,e),s=kA(this.startControl,this.endControl,e),r=kA(this.endControl,this.end,e),o=kA(n,s,e),a=kA(s,r,e),l=kA(o,a,e);return i?new t(this.start,n,o,l):new t(l,a,r,this.end)},t.prototype.add=function(e,i){return new t(this.start.add(e,i),this.startControl.add(e,i),this.endControl.add(e,i),this.end.add(e,i))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Nr=function(t){return t.type===1},NEe=function(){function t(e){var i=e.styles,n=e.bounds,s=Vf(i.borderTopLeftRadius,n.width,n.height),r=s[0],o=s[1],a=Vf(i.borderTopRightRadius,n.width,n.height),l=a[0],u=a[1],c=Vf(i.borderBottomRightRadius,n.width,n.height),A=c[0],h=c[1],g=Vf(i.borderBottomLeftRadius,n.width,n.height),f=g[0],y=g[1],E=[];E.push((r+l)/n.width),E.push((f+A)/n.width),E.push((o+y)/n.height),E.push((u+h)/n.height);var C=Math.max.apply(Math,E);C>1&&(r/=C,o/=C,l/=C,u/=C,A/=C,h/=C,f/=C,y/=C);var m=n.width-l,b=n.height-h,_=n.width-A,B=n.height-y,L=i.borderTopWidth,j=i.borderRightWidth,O=i.borderBottomWidth,Q=i.borderLeftWidth,$=Fi(i.paddingTop,e.bounds.width),D=Fi(i.paddingRight,e.bounds.width),U=Fi(i.paddingBottom,e.bounds.width),S=Fi(i.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?Ni(n.left+Q/3,n.top+L/3,r-Q/3,o-L/3,pi.TOP_LEFT):new at(n.left+Q/3,n.top+L/3),this.topRightBorderDoubleOuterBox=r>0||o>0?Ni(n.left+m,n.top+L/3,l-j/3,u-L/3,pi.TOP_RIGHT):new at(n.left+n.width-j/3,n.top+L/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?Ni(n.left+_,n.top+b,A-j/3,h-O/3,pi.BOTTOM_RIGHT):new at(n.left+n.width-j/3,n.top+n.height-O/3),this.bottomLeftBorderDoubleOuterBox=f>0||y>0?Ni(n.left+Q/3,n.top+B,f-Q/3,y-O/3,pi.BOTTOM_LEFT):new at(n.left+Q/3,n.top+n.height-O/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?Ni(n.left+Q*2/3,n.top+L*2/3,r-Q*2/3,o-L*2/3,pi.TOP_LEFT):new at(n.left+Q*2/3,n.top+L*2/3),this.topRightBorderDoubleInnerBox=r>0||o>0?Ni(n.left+m,n.top+L*2/3,l-j*2/3,u-L*2/3,pi.TOP_RIGHT):new at(n.left+n.width-j*2/3,n.top+L*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?Ni(n.left+_,n.top+b,A-j*2/3,h-O*2/3,pi.BOTTOM_RIGHT):new at(n.left+n.width-j*2/3,n.top+n.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=f>0||y>0?Ni(n.left+Q*2/3,n.top+B,f-Q*2/3,y-O*2/3,pi.BOTTOM_LEFT):new at(n.left+Q*2/3,n.top+n.height-O*2/3),this.topLeftBorderStroke=r>0||o>0?Ni(n.left+Q/2,n.top+L/2,r-Q/2,o-L/2,pi.TOP_LEFT):new at(n.left+Q/2,n.top+L/2),this.topRightBorderStroke=r>0||o>0?Ni(n.left+m,n.top+L/2,l-j/2,u-L/2,pi.TOP_RIGHT):new at(n.left+n.width-j/2,n.top+L/2),this.bottomRightBorderStroke=A>0||h>0?Ni(n.left+_,n.top+b,A-j/2,h-O/2,pi.BOTTOM_RIGHT):new at(n.left+n.width-j/2,n.top+n.height-O/2),this.bottomLeftBorderStroke=f>0||y>0?Ni(n.left+Q/2,n.top+B,f-Q/2,y-O/2,pi.BOTTOM_LEFT):new at(n.left+Q/2,n.top+n.height-O/2),this.topLeftBorderBox=r>0||o>0?Ni(n.left,n.top,r,o,pi.TOP_LEFT):new at(n.left,n.top),this.topRightBorderBox=l>0||u>0?Ni(n.left+m,n.top,l,u,pi.TOP_RIGHT):new at(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||h>0?Ni(n.left+_,n.top+b,A,h,pi.BOTTOM_RIGHT):new at(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||y>0?Ni(n.left,n.top+B,f,y,pi.BOTTOM_LEFT):new at(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||o>0?Ni(n.left+Q,n.top+L,Math.max(0,r-Q),Math.max(0,o-L),pi.TOP_LEFT):new at(n.left+Q,n.top+L),this.topRightPaddingBox=l>0||u>0?Ni(n.left+Math.min(m,n.width-j),n.top+L,m>n.width+j?0:Math.max(0,l-j),Math.max(0,u-L),pi.TOP_RIGHT):new at(n.left+n.width-j,n.top+L),this.bottomRightPaddingBox=A>0||h>0?Ni(n.left+Math.min(_,n.width-Q),n.top+Math.min(b,n.height-O),Math.max(0,A-j),Math.max(0,h-O),pi.BOTTOM_RIGHT):new at(n.left+n.width-j,n.top+n.height-O),this.bottomLeftPaddingBox=f>0||y>0?Ni(n.left+Q,n.top+Math.min(B,n.height-O),Math.max(0,f-Q),Math.max(0,y-O),pi.BOTTOM_LEFT):new at(n.left+Q,n.top+n.height-O),this.topLeftContentBox=r>0||o>0?Ni(n.left+Q+S,n.top+L+$,Math.max(0,r-(Q+S)),Math.max(0,o-(L+$)),pi.TOP_LEFT):new at(n.left+Q+S,n.top+L+$),this.topRightContentBox=l>0||u>0?Ni(n.left+Math.min(m,n.width+Q+S),n.top+L+$,m>n.width+Q+S?0:l-Q+S,u-(L+$),pi.TOP_RIGHT):new at(n.left+n.width-(j+D),n.top+L+$),this.bottomRightContentBox=A>0||h>0?Ni(n.left+Math.min(_,n.width-(Q+S)),n.top+Math.min(b,n.height+L+$),Math.max(0,A-(j+D)),h-(O+U),pi.BOTTOM_RIGHT):new at(n.left+n.width-(j+D),n.top+n.height-(O+U)),this.bottomLeftContentBox=f>0||y>0?Ni(n.left+Q+S,n.top+B,Math.max(0,f-(Q+S)),y-(O+U),pi.BOTTOM_LEFT):new at(n.left+Q+S,n.top+n.height-(O+U))}return t}(),pi;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(pi||(pi={}));var Ni=function(t,e,i,n,s){var r=4*((Math.sqrt(2)-1)/3),o=i*r,a=n*r,l=t+i,u=e+n;switch(s){case pi.TOP_LEFT:return new A0(new at(t,u),new at(t,u-a),new at(l-o,e),new at(l,e));case pi.TOP_RIGHT:return new A0(new at(t,e),new at(t+o,e),new at(l,u-a),new at(l,u));case pi.BOTTOM_RIGHT:return new A0(new at(l,e),new at(l,e+a),new at(t+o,u),new at(t,u));case pi.BOTTOM_LEFT:default:return new A0(new at(l,u),new at(l-o,u),new at(t,e+a),new at(t,e))}},ob=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},HEe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ab=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},QEe=function(){function t(e,i,n){this.offsetX=e,this.offsetY=i,this.matrix=n,this.type=0,this.target=6}return t}(),h0=function(){function t(e,i){this.path=e,this.target=i,this.type=1}return t}(),$Ee=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),jEe=function(t){return t.type===0},jM=function(t){return t.type===1},VEe=function(t){return t.type===2},Dk=function(t,e){return t.length===e.length?t.some(function(i,n){return i===e[n]}):!1},zEe=function(t,e,i,n,s){return t.map(function(r,o){switch(o){case 0:return r.add(e,i);case 1:return r.add(e+n,i);case 2:return r.add(e+n,i+s);case 3:return r.add(e,i+s)}return r})},VM=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),zM=function(){function t(e,i){if(this.container=e,this.parent=i,this.effects=[],this.curves=new NEe(this.container),this.container.styles.opacity<1&&this.effects.push(new $Ee(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new QEe(n,s,r))}if(this.container.styles.overflowX!==0){var o=ob(this.curves),a=ab(this.curves);Dk(o,a)?this.effects.push(new h0(o,6)):(this.effects.push(new h0(o,2)),this.effects.push(new h0(a,4)))}}return t.prototype.getEffects=function(e){for(var i=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var r=n.effects.filter(function(l){return!jM(l)});if(i||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,r),i=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=ob(n.curves),a=ab(n.curves);Dk(o,a)||s.unshift(new h0(a,6))}}else s.unshift.apply(s,r);n=n.parent}return s.filter(function(l){return Tn(l.target,e)})},t}(),MC=function(t,e,i,n){t.container.elements.forEach(function(s){var r=Tn(s.flags,4),o=Tn(s.flags,2),a=new zM(s,t);Tn(s.styles.display,2048)&&n.push(a);var l=Tn(s.flags,8)?[]:n;if(r||o){var u=r||s.styles.isPositioned()?i:e,c=new VM(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var A=s.styles.zIndex.order;if(A<0){var h=0;u.negativeZIndex.some(function(f,y){return A>f.element.container.styles.zIndex.order?(h=y,!1):h>0}),u.negativeZIndex.splice(h,0,c)}else if(A>0){var g=0;u.positiveZIndex.some(function(f,y){return A>=f.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),u.positiveZIndex.splice(g,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);MC(a,c,r?c:i,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),MC(a,e,i,l);Tn(s.flags,8)&&GM(s,l)})},GM=function(t,e){for(var i=t instanceof DC?t.start:1,n=t instanceof DC?t.reversed:!1,s=0;s<e.length;s++){var r=e[s];r.container instanceof kM&&typeof r.container.value=="number"&&r.container.value!==0&&(i=r.container.value),r.listValue=Wp(i,r.container.styles.listStyleType,!0),i+=n?-1:1}},GEe=function(t){var e=new zM(t,null),i=new VM(e),n=[];return MC(e,i,i,n),GM(e.container,n),i},Fk=function(t,e){switch(e){case 0:return Vr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Vr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Vr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Vr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},KEe=function(t,e){switch(e){case 0:return Vr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Vr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Vr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Vr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},WEe=function(t,e){switch(e){case 0:return Vr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Vr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Vr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Vr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},qEe=function(t,e){switch(e){case 0:return d0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return d0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return d0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return d0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},d0=function(t,e){var i=[];return Nr(t)?i.push(t.subdivide(.5,!1)):i.push(t),Nr(e)?i.push(e.subdivide(.5,!0)):i.push(e),i},Vr=function(t,e,i,n){var s=[];return Nr(t)?s.push(t.subdivide(.5,!1)):s.push(t),Nr(i)?s.push(i.subdivide(.5,!0)):s.push(i),Nr(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Nr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},KM=function(t){var e=t.bounds,i=t.styles;return e.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},lb=function(t){var e=t.styles,i=t.bounds,n=Fi(e.paddingLeft,i.width),s=Fi(e.paddingRight,i.width),r=Fi(e.paddingTop,i.width),o=Fi(e.paddingBottom,i.width);return i.add(n+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+r+o))},YEe=function(t,e){return t===0?e.bounds:t===2?lb(e):KM(e)},XEe=function(t,e){return t===0?e.bounds:t===2?lb(e):KM(e)},Ow=function(t,e,i){var n=YEe(OA(t.styles.backgroundOrigin,e),t),s=XEe(OA(t.styles.backgroundClip,e),t),r=JEe(OA(t.styles.backgroundSize,e),i,n),o=r[0],a=r[1],l=Vf(OA(t.styles.backgroundPosition,e),n.width-o,n.height-a),u=ZEe(OA(t.styles.backgroundRepeat,e),l,r,n,s),c=Math.round(n.left+l[0]),A=Math.round(n.top+l[1]);return[u,c,A,o,a]},DA=function(t){return _i(t)&&t.value===Ah.AUTO},f0=function(t){return typeof t=="number"},JEe=function(t,e,i){var n=e[0],s=e[1],r=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(mn(o)&&a&&mn(a))return[Fi(o,i.width),Fi(a,i.height)];var l=f0(r);if(_i(o)&&(o.value===Ah.CONTAIN||o.value===Ah.COVER)){if(f0(r)){var u=i.width/i.height;return u<r!=(o.value===Ah.COVER)?[i.width,i.width/r]:[i.height*r,i.height]}return[i.width,i.height]}var c=f0(n),A=f0(s),h=c||A;if(DA(o)&&(!a||DA(a))){if(c&&A)return[n,s];if(!l&&!h)return[i.width,i.height];if(h&&l){var g=c?n:s*r,f=A?s:n/r;return[g,f]}var y=c?n:i.width,E=A?s:i.height;return[y,E]}if(l){var C=0,m=0;return mn(o)?C=Fi(o,i.width):mn(a)&&(m=Fi(a,i.height)),DA(o)?C=m*r:(!a||DA(a))&&(m=C/r),[C,m]}var b=null,_=null;if(mn(o)?b=Fi(o,i.width):a&&mn(a)&&(_=Fi(a,i.height)),b!==null&&(!a||DA(a))&&(_=c&&A?b/n*s:i.height),_!==null&&DA(o)&&(b=c&&A?_/s*n:i.width),b!==null&&_!==null)return[b,_];throw new Error("Unable to calculate background-size for element")},OA=function(t,e){var i=t[e];return typeof i>"u"?t[0]:i},ZEe=function(t,e,i,n,s){var r=e[0],o=e[1],a=i[0],l=i[1];switch(t){case 2:return[new at(Math.round(n.left),Math.round(n.top+o)),new at(Math.round(n.left+n.width),Math.round(n.top+o)),new at(Math.round(n.left+n.width),Math.round(l+n.top+o)),new at(Math.round(n.left),Math.round(l+n.top+o))];case 3:return[new at(Math.round(n.left+r),Math.round(n.top)),new at(Math.round(n.left+r+a),Math.round(n.top)),new at(Math.round(n.left+r+a),Math.round(n.height+n.top)),new at(Math.round(n.left+r),Math.round(n.height+n.top))];case 1:return[new at(Math.round(n.left+r),Math.round(n.top+o)),new at(Math.round(n.left+r+a),Math.round(n.top+o)),new at(Math.round(n.left+r+a),Math.round(n.top+o+l)),new at(Math.round(n.left+r),Math.round(n.top+o+l))];default:return[new at(Math.round(s.left),Math.round(s.top)),new at(Math.round(s.left+s.width),Math.round(s.top)),new at(Math.round(s.left+s.width),Math.round(s.height+s.top)),new at(Math.round(s.left),Math.round(s.height+s.top))]}},eTe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ik="Hidden Text",tTe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,i){var n=this._document.createElement("div"),s=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=i,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=eTe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=i,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(Ik)),n.appendChild(r),n.appendChild(s);var a=s.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(Ik)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,i){var n=e+" "+i;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,i)),this._data[n]},t}(),WM=function(){function t(e,i){this.context=e,this.options=i}return t}(),iTe=1e4,nTe=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new tTe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(i){for(var n=this;this._activeEffects.length;)this.popEffect();i.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(i){this.ctx.save(),VEe(i)&&(this.ctx.globalAlpha=i.opacity),jEe(i)&&(this.ctx.translate(i.offsetX,i.offsetY),this.ctx.transform(i.matrix[0],i.matrix[1],i.matrix[2],i.matrix[3],i.matrix[4],i.matrix[5]),this.ctx.translate(-i.offsetX,-i.offsetY)),jM(i)&&(this.path(i.path),this.ctx.clip()),this._activeEffects.push(i)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(i){return ms(this,void 0,void 0,function(){var n;return is(this,function(s){switch(s.label){case 0:return n=i.element.container.styles,n.isVisible()?[4,this.renderStackContent(i)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(i){return ms(this,void 0,void 0,function(){return is(this,function(n){switch(n.label){case 0:if(Tn(i.container.flags,16))debugger;return i.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(i)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(i)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(i,n,s){var r=this;if(n===0)this.ctx.fillText(i.text,i.bounds.left,i.bounds.top+s);else{var o=sT(i.text);o.reduce(function(a,l){return r.ctx.fillText(l,a,i.bounds.top+s),a+r.ctx.measureText(l).width},i.bounds.left)}},e.prototype.createFontStyle=function(i){var n=i.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=lTe(i.fontFamily).join(", "),r=Eg(i.fontSize)?""+i.fontSize.number+i.fontSize.unit:i.fontSize.number+"px";return[[i.fontStyle,n,i.fontWeight,r,s].join(" "),s,r]},e.prototype.renderTextNode=function(i,n){return ms(this,void 0,void 0,function(){var s,r,o,a,l,u,c,A,h=this;return is(this,function(g){return s=this.createFontStyle(n),r=s[0],o=s[1],a=s[2],this.ctx.font=r,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),u=l.baseline,c=l.middle,A=n.paintOrder,i.textBounds.forEach(function(f){A.forEach(function(y){switch(y){case 0:h.ctx.fillStyle=Ln(n.color),h.renderTextWithLetterSpacing(f,n.letterSpacing,u);var E=n.textShadow;E.length&&f.text.trim().length&&(E.slice(0).reverse().forEach(function(C){h.ctx.shadowColor=Ln(C.color),h.ctx.shadowOffsetX=C.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=C.offsetY.number*h.options.scale,h.ctx.shadowBlur=C.blur.number,h.renderTextWithLetterSpacing(f,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Ln(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(C){switch(C){case 1:h.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top+u),f.bounds.width,1);break;case 2:h.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top),f.bounds.width,1);break;case 3:h.ctx.fillRect(f.bounds.left,Math.ceil(f.bounds.top+c),f.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&f.text.trim().length&&(h.ctx.strokeStyle=Ln(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(f.text,f.bounds.left,f.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(i,n,s){if(s&&i.intrinsicWidth>0&&i.intrinsicHeight>0){var r=lb(i),o=ab(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,i.intrinsicWidth,i.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(i){return ms(this,void 0,void 0,function(){var n,s,r,o,a,l,m,m,u,c,A,h,_,g,f,B,y,E,C,m,b,_,B;return is(this,function(L){switch(L.label){case 0:this.applyEffects(i.getEffects(4)),n=i.container,s=i.curves,r=n.styles,o=0,a=n.textNodes,L.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,r)]):[3,4];case 2:L.sent(),L.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof xM))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return m=L.sent(),this.renderReplacedElement(n,s,m),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof SM&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof BM))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return m=L.sent(),this.renderReplacedElement(n,s,m),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof IM&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:c=L.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),L.label=14;case 14:if(n instanceof rT&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===ib?n.checked&&(this.ctx.save(),this.path([new at(n.bounds.left+A*.39363,n.bounds.top+A*.79),new at(n.bounds.left+A*.16,n.bounds.top+A*.5549),new at(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new at(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new at(n.bounds.left+A*.72983,n.bounds.top+A*.23),new at(n.bounds.left+A*.84,n.bounds.top+A*.34085),new at(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Ln(bk),this.ctx.fill(),this.ctx.restore()):n.type===nb&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ln(bk),this.ctx.fill(),this.ctx.restore())),sTe(n)&&n.value.length){switch(h=this.createFontStyle(r),_=h[0],g=h[1],f=this.fontMetrics.getMetrics(_,g).baseline,this.ctx.font=_,this.ctx.fillStyle=Ln(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=oTe(n.styles.textAlign),B=lb(n),y=0,n.styles.textAlign){case 1:y+=B.width/2;break;case 2:y+=B.width;break}E=B.add(y,0,0,-B.height/2+1),this.ctx.save(),this.path([new at(B.left,B.top),new at(B.left+B.width,B.top),new at(B.left+B.width,B.top+B.height),new at(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Cp(n.value,E),r.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Tn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(C=n.styles.listStyleImage,C.type!==0)return[3,18];m=void 0,b=C.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return m=L.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:i.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(r)[0],this.ctx.font=_,this.ctx.fillStyle=Ln(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new il(n.bounds.left,n.bounds.top+Fi(n.styles.paddingTop,n.bounds.width),n.bounds.width,ik(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Cp(i.listValue,B),r.letterSpacing,ik(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(i){return ms(this,void 0,void 0,function(){var n,s,C,r,o,C,a,l,C,u,c,C,A,h,C,g,f,C,y,E,C;return is(this,function(m){switch(m.label){case 0:if(Tn(i.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(i.element)];case 1:m.sent(),n=0,s=i.negativeZIndex,m.label=2;case 2:return n<s.length?(C=s[n],[4,this.renderStack(C)]):[3,5];case 3:m.sent(),m.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(i.element)];case 6:m.sent(),r=0,o=i.nonInlineLevel,m.label=7;case 7:return r<o.length?(C=o[r],[4,this.renderNode(C)]):[3,10];case 8:m.sent(),m.label=9;case 9:return r++,[3,7];case 10:a=0,l=i.nonPositionedFloats,m.label=11;case 11:return a<l.length?(C=l[a],[4,this.renderStack(C)]):[3,14];case 12:m.sent(),m.label=13;case 13:return a++,[3,11];case 14:u=0,c=i.nonPositionedInlineLevel,m.label=15;case 15:return u<c.length?(C=c[u],[4,this.renderStack(C)]):[3,18];case 16:m.sent(),m.label=17;case 17:return u++,[3,15];case 18:A=0,h=i.inlineLevel,m.label=19;case 19:return A<h.length?(C=h[A],[4,this.renderNode(C)]):[3,22];case 20:m.sent(),m.label=21;case 21:return A++,[3,19];case 22:g=0,f=i.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return g<f.length?(C=f[g],[4,this.renderStack(C)]):[3,26];case 24:m.sent(),m.label=25;case 25:return g++,[3,23];case 26:y=0,E=i.positiveZIndex,m.label=27;case 27:return y<E.length?(C=E[y],[4,this.renderStack(C)]):[3,30];case 28:m.sent(),m.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(i){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(i.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(i){this.ctx.beginPath(),this.formatPath(i),this.ctx.closePath()},e.prototype.formatPath=function(i){var n=this;i.forEach(function(s,r){var o=Nr(s)?s.start:s;r===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Nr(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(i,n,s,r){this.path(i),this.ctx.fillStyle=n,this.ctx.translate(s,r),this.ctx.fill(),this.ctx.translate(-s,-r)},e.prototype.resizeImage=function(i,n,s){var r;if(i.width===n&&i.height===s)return i;var o=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,a=o.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,s);var l=a.getContext("2d");return l.drawImage(i,0,0,i.width,i.height,0,0,n,s),a},e.prototype.renderBackgroundImage=function(i){return ms(this,void 0,void 0,function(){var n,s,r,o,a,l;return is(this,function(u){switch(u.label){case 0:n=i.styles.backgroundImage.length-1,s=function(c){var A,h,g,$,N,V,S,k,O,f,$,N,V,S,k,y,E,C,m,b,_,B,L,j,O,Q,$,D,U,S,k,M,N,V,G,ee,se,ne,le,he,we,pe;return is(this,function(ke){switch(ke.label){case 0:if(c.type!==0)return[3,5];A=void 0,h=c.url,ke.label=1;case 1:return ke.trys.push([1,3,,4]),[4,r.context.cache.match(h)];case 2:return A=ke.sent(),[3,4];case 3:return ke.sent(),r.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(g=Ow(i,n,[A.width,A.height,A.width/A.height]),$=g[0],N=g[1],V=g[2],S=g[3],k=g[4],O=r.ctx.createPattern(r.resizeImage(A,S,k),"repeat"),r.renderRepeat($,O,N,V)),[3,6];case 5:j_e(c)?(f=Ow(i,n,[null,null,null]),$=f[0],N=f[1],V=f[2],S=f[3],k=f[4],y=U_e(c.angle,S,k),E=y[0],C=y[1],m=y[2],b=y[3],_=y[4],B=document.createElement("canvas"),B.width=S,B.height=k,L=B.getContext("2d"),j=L.createLinearGradient(C,b,m,_),ek(c.stops,E).forEach(function(ce){return j.addColorStop(ce.stop,Ln(ce.color))}),L.fillStyle=j,L.fillRect(0,0,S,k),S>0&&k>0&&(O=r.ctx.createPattern(B,"repeat"),r.renderRepeat($,O,N,V))):V_e(c)&&(Q=Ow(i,n,[null,null,null]),$=Q[0],D=Q[1],U=Q[2],S=Q[3],k=Q[4],M=c.position.length===0?[tT]:c.position,N=Fi(M[0],S),V=Fi(M[M.length-1],k),G=N_e(c,N,V,S,k),ee=G[0],se=G[1],ee>0&&se>0&&(ne=r.ctx.createRadialGradient(D+N,U+V,0,D+N,U+V,ee),ek(c.stops,ee*2).forEach(function(ce){return ne.addColorStop(ce.stop,Ln(ce.color))}),r.path($),r.ctx.fillStyle=ne,ee!==se?(le=i.bounds.left+.5*i.bounds.width,he=i.bounds.top+.5*i.bounds.height,we=se/ee,pe=1/we,r.ctx.save(),r.ctx.translate(le,he),r.ctx.transform(1,0,0,we,0,0),r.ctx.translate(-le,-he),r.ctx.fillRect(D,pe*(U-he)+he,S,k*pe),r.ctx.restore()):r.ctx.fill())),ke.label=6;case 6:return n--,[2]}})},r=this,o=0,a=i.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(l=a[o],[5,s(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(i,n,s){return ms(this,void 0,void 0,function(){return is(this,function(r){return this.path(Fk(s,n)),this.ctx.fillStyle=Ln(i),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(i,n,s,r){return ms(this,void 0,void 0,function(){var o,a;return is(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(i,s,r)]:[3,2];case 1:return l.sent(),[2];case 2:return o=KEe(r,s),this.path(o),this.ctx.fillStyle=Ln(i),this.ctx.fill(),a=WEe(r,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(i){return ms(this,void 0,void 0,function(){var n,s,r,o,a,l,u,c,A=this;return is(this,function(h){switch(h.label){case 0:return this.applyEffects(i.getEffects(2)),n=i.container.styles,s=!Xl(n.backgroundColor)||n.backgroundImage.length,r=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=rTe(OA(n.backgroundClip,0),i.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Xl(n.backgroundColor)||(this.ctx.fillStyle=Ln(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(i.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){A.ctx.save();var f=ob(i.curves),y=g.inset?0:iTe,E=zEe(f,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(A.path(f),A.ctx.clip(),A.mask(E)):(A.mask(f),A.ctx.clip(),A.path(E)),A.ctx.shadowOffsetX=g.offsetX.number+y,A.ctx.shadowOffsetY=g.offsetY.number,A.ctx.shadowColor=Ln(g.color),A.ctx.shadowBlur=g.blur.number,A.ctx.fillStyle=g.inset?Ln(g.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:a=0,l=0,u=r,h.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!Xl(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,i.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,i.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,i.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,i.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(i,n,s,r,o){return ms(this,void 0,void 0,function(){var a,l,u,c,A,h,g,f,y,E,C,m,b,_,B,L,B,L;return is(this,function(j){return this.ctx.save(),a=qEe(r,s),l=Fk(r,s),o===2&&(this.path(l),this.ctx.clip()),Nr(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),Nr(l[1])?(A=l[1].end.x,h=l[1].end.y):(A=l[1].x,h=l[1].y),s===0||s===2?g=Math.abs(u-A):g=Math.abs(c-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),f=n<3?n*3:n*2,y=n<3?n*2:n,o===3&&(f=n,y=n),E=!0,g<=f*2?E=!1:g<=f*2+y?(C=g/(2*f+y),f*=C,y*=C):(m=Math.floor((g+y)/(f+y)),b=(g-m*f)/(m-1),_=(g-(m+1)*f)/m,y=_<=0||Math.abs(y-b)<Math.abs(y-_)?b:_),E&&(o===3?this.ctx.setLineDash([0,f+y]):this.ctx.setLineDash([f,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ln(i),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Nr(l[0])&&(B=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new at(B.end.x,B.end.y),new at(L.start.x,L.start.y)]),this.ctx.stroke()),Nr(l[1])&&(B=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new at(B.end.x,B.end.y),new at(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(i){return ms(this,void 0,void 0,function(){var n;return is(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=GEe(i),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(WM),sTe=function(t){return t instanceof FM||t instanceof DM?!0:t instanceof rT&&t.type!==nb&&t.type!==ib},rTe=function(t,e){switch(t){case 0:return ob(e);case 2:return HEe(e);case 1:default:return ab(e)}},oTe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},aTe=["-apple-system","system-ui"],lTe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return aTe.indexOf(e)===-1}):t},uTe=function(t){fo(e,t);function e(i,n){var s=t.call(this,i,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(i){return ms(this,void 0,void 0,function(){var n,s;return is(this,function(r){switch(r.label){case 0:return n=kC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,i),[4,cTe(n)];case 1:return s=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(WM),cTe=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ATe=function(){function t(e){var i=e.id,n=e.enabled;this.id=i,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Gm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Gm([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Gm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Gm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),hTe=function(){function t(e,i){var n;this.windowBounds=i,this.instanceName="#"+t.instanceCount++,this.logger=new ATe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new IEe(this,e)}return t.instanceCount=1,t}(),dTe=function(t,e){return e===void 0&&(e={}),fTe(t,e)};typeof window<"u"&&$M.setContext(window);var fTe=function(t,e){return ms(void 0,void 0,void 0,function(){var i,n,s,r,o,a,l,u,c,A,h,g,f,y,E,C,m,b,_,B,j,L,j,O,Q,$,D,U,S,k,M,N,V,G,ee,se,ne,le,he,we;return is(this,function(pe){switch(pe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(i=t.ownerDocument,!i)throw new Error("Element is not attached to a Document");if(n=i.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(Q=e.imageTimeout)!==null&&Q!==void 0?Q:15e3,proxy:e.proxy,useCORS:($=e.useCORS)!==null&&$!==void 0?$:!1},r=fC({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},s),o={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:n.innerHeight,scrollX:(k=e.scrollX)!==null&&k!==void 0?k:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},a=new il(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new hTe(r,a),u=(N=e.foreignObjectRendering)!==null&&N!==void 0?N:!1,c={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new Bk(l,t,c),h=A.clonedReferenceElement,h?[4,A.toIFrame(i,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=pe.sent(),f=oT(h)||pEe(h)?z1e(h.ownerDocument):cy(l,h),y=f.width,E=f.height,C=f.left,m=f.top,b=pTe(l,h,e.backgroundColor),_={canvas:e.canvas,backgroundColor:b,scale:(ee=(G=e.scale)!==null&&G!==void 0?G:n.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((se=e.x)!==null&&se!==void 0?se:0)+C,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+m,width:(le=e.width)!==null&&le!==void 0?le:Math.ceil(y),height:(he=e.height)!==null&&he!==void 0?he:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),j=new uTe(l,_),[4,j.render(h)]):[3,3];case 2:return B=pe.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+C+","+m+" with size "+y+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),L=PM(l,h),b===L.styles.backgroundColor&&(L.styles.backgroundColor=Ka.TRANSPARENT),l.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),j=new nTe(l,_),[4,j.render(L)];case 4:B=pe.sent(),pe.label=5;case 5:return(!((we=e.removeContainer)!==null&&we!==void 0)||we)&&(Bk.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,B]}})})},pTe=function(t,e,i){var n=e.ownerDocument,s=n.documentElement?wp(t,getComputedStyle(n.documentElement).backgroundColor):Ka.TRANSPARENT,r=n.body?wp(t,getComputedStyle(n.body).backgroundColor):Ka.TRANSPARENT,o=typeof i=="string"?wp(t,i):i===null?Ka.TRANSPARENT:4294967295;return e===n.documentElement?Xl(s)?Xl(r)?o:r:s:o},ar={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Lk=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Pk=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Mk=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Us=typeof window<"u"&&typeof window.document<"u"?window.document:{},Pr="fullscreenEnabled"in Us&&Object.keys(ar)||Lk[0]in Us&&Lk||Pk[0]in Us&&Pk||Mk[0]in Us&&Mk||[],gTe={requestFullscreen:function(t){return t[Pr[ar.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[Pr[ar.requestFullscreen]]},get exitFullscreen(){return Us[Pr[ar.exitFullscreen]].bind(Us)},get fullscreenPseudoClass(){return":"+Pr[ar.fullscreen]},addEventListener:function(t,e,i){return Us.addEventListener(Pr[ar[t]],e,i)},removeEventListener:function(t,e,i){return Us.removeEventListener(Pr[ar[t]],e,i)},get fullscreenEnabled(){return!!Us[Pr[ar.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return Us[Pr[ar.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return Us[("on"+Pr[ar.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return Us[("on"+Pr[ar.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return Us[("on"+Pr[ar.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return Us[("on"+Pr[ar.fullscreenerror]).toLowerCase()]=t}};const p0=gTe;var qM={exports:{}};(function(t,e){(function(i,n){n()})(Xi,function(){function i(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,A){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,c,A)},h.onerror=function(){console.error("could not download file")},h.send()}function s(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xi=="object"&&Xi.global===Xi?Xi:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,A){var h=o.URL||o.webkitURL,g=document.createElement("a");c=c||u.name||"download",g.download=c,g.rel="noopener",typeof u=="string"?(g.href=u,g.origin===location.origin?r(g):s(g.href)?n(u,c,A):r(g,g.target="_blank")):(g.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(g.href)},4e4),setTimeout(function(){r(g)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,A){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,A),c);else if(s(u))n(u,c,A);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){r(h)})}}:function(u,c,A,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,A);var g=u.type==="application/octet-stream",f=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||g&&f||a)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var b=E.result;b=y?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},E.readAsDataURL(u)}else{var C=o.URL||o.webkitURL,m=C.createObjectURL(u);h?h.location=m:location.href=m,h=null,setTimeout(function(){C.revokeObjectURL(m)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(qM);var Rk=qM.exports;const mTe={name:"App",components:{PCodeqr:aU,PTexte:e9,PTableau:lH,PImage:JH,PGalerie:bQ,PDessin:GQ,PDocument:r$,PAudio:j$,PSynthese:fj,PVideo:Mte,PWebcam:qte,PLien:gie,PIframe:Sie,PNuage:gne,POrdre:mse,PImagesSequentielles:Hse,PTrous:ure,PSurlignage:_re,PPendu:zre,PCartes:Zoe,PTirageTexte:bae,PTirageImage:Vae,PTirageAudio:Cle,PHistoire:Ole,PPlateau:sue,PDes:Due,PModalites:Vue,PGroupes:nce,PChrono:jce,PRebours:qAe,PHorloge:phe,PCalendrier:ode,PRetroaction:Gde,PSonometre:nfe,MGrille:yfe,MInfo:Vfe,MParametres:tve,Annotation:O1e,Chargement:V1e},data(){return{chargement:!0,alerte:!1,largeur:0,hauteur:0,pages:[{fond:"./static/img/digitale.png",grille:{},annotations:{},annotation:!1}],page:1,chargementPage:!1,modules:["codeqr","texte","image","galerie","document","audio","video","lien","iframe","nuage","tirage-texte","tirage-image","histoire","plateau","des","modalites","groupes","chrono","rebours","horloge","calendrier","retroaction","grille"],panneaux:[],panneauxPage:[],langue:"fr",pleinEcran:!1,listeVoix:[],modale:"",menu:!1,nav:!0,exportDonnees:!1,importDonnees:!1,importTermine:!1,retroaction:!1,modalites:!1,annotation:!1,defilement:!1,depart:0,distance:0,audio:"",audioInitialise:!1,evenementClavier:{touche:"",id:""},outilDeplacer:!1,panneauAffiche:"",lectureSeule:!1}},computed:{fond(){return this.pages[this.page-1].fond},grille(){return this.pages[this.page-1].grille},annotations(){return this.pages[this.page-1].annotations}},watch:{page:function(t){this.chargementPage=!0,this.annotation=!1,this.exportDonnees=!0,this.panneauxPage.forEach(function(i){document.querySelector("#"+i.id)&&document.querySelector("#"+i.id).close()});const e=this.panneaux.filter(function(i){return i.page===t});yc("main",{background:!0},(function(){this.panneauxPage=[],this.$nextTick((function(){this.exportDonnees=!1,this.pages[t-1].hasOwnProperty("annotation")?this.annotation=this.pages[t-1].annotation:this.annotation=!1,this.retroaction=!1,this.modalites=!1,setTimeout((function(){this.panneauxPage.push(...e);for(let i=0;i<this.panneauxPage.length;i++)this.panneauxPage[i].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[i].type==="modalites"&&(this.modalites=!0);this.$nextTick((function(){this.lectureSeule===!0&&document.querySelectorAll(".jsPanel").forEach(function(n){n.querySelector(".jsPanel-btn-close").style.display="none"})}).bind(this)),yc("main",{background:!0},(function(){this.chargementPage=!1}).bind(this))}).bind(this),150)}).bind(this))}).bind(this))},nav:function(t){t?this.hauteur=document.body.clientHeight-this.convertirRem(7.5):this.hauteur=document.body.clientHeight},lectureSeule:function(t){const e=document.querySelectorAll(".jsPanel");t===!0?(e.forEach(function(i){i.querySelector(".jsPanel-btn-close")&&(i.querySelector(".jsPanel-btn-close").style.display="none"),i.querySelector(".jsPanel-btn-send")&&(i.querySelector(".jsPanel-btn-send").style.display="none")}),this.nav=!1):(e.forEach(function(i){i.querySelector(".jsPanel-btn-close")&&(i.querySelector(".jsPanel-btn-close").style.display="block"),i.querySelector(".jsPanel-btn-send")&&(i.querySelector(".jsPanel-btn-send").style.display="block")}),this.nav=!0)}},mounted(){this.verifierDimensions(),this.activerDefilementHorizontal(),document.querySelector("#chargement").addEventListener("animationend",(function(){this.chargement=!1}).bind(this),!1);const t=new URLSearchParams(document.location.search),e=["fr","en","it","es","nl","de","hr"];let i=t.get("lang");e.includes(i)===!0&&(this.langue=i,localStorage.setItem("digiscreen_lang",i));const n=navigator.language.substring(0,2);e.includes(i)===!1&&e.includes(n)===!0&&(this.langue=n),localStorage.getItem("digiscreen_lang")&&(this.langue=localStorage.getItem("digiscreen_lang")),this.$root.$i18n.locale=this.langue,document.getElementsByTagName("html")[0].setAttribute("lang",this.langue),localStorage.getItem("digiscreen_modules")&&(this.modules=JSON.parse(localStorage.getItem("digiscreen_modules")));let s=0;const r=t.get("page");r&&parseInt(r)!==""&&(s=parseInt(r));const o=t.get("dgs");if(o&&o!==""){this.importDonnees=!0;const l=new XMLHttpRequest;l.onload=(function(){if(l.readyState===l.DONE&&l.status===200){let u=l.responseText;u!==""&&this.verifierJSON(u)===!0?(u=JSON.parse(u),this.modules=u.modules,this.panneaux=u.panneaux,(!i||e.includes(i)===!1)&&(this.langue=u.langue,this.$root.$i18n.locale=u.langue),u.hasOwnProperty("nav")&&(this.nav=u.nav),this.importTermine=!0,Object.keys(this.pages[0].annotations).length>0?this.annotation=!0:this.annotation=!1,this.$nextTick((function(){if(this.pages=u.pages,s>0&&s!==1?this.page=s:this.page=u.page,this.page===1){const c=this.panneaux.filter(function(A){return A.page===1});this.panneauxPage=c;for(let A=0;A<this.panneauxPage.length;A++)this.panneauxPage[A].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[A].type==="modalites"&&(this.modalites=!0)}}).bind(this))):this.importTermine=!0,this.$nextTick((function(){document.querySelector("#import").addEventListener("animationend",(function(){this.importDonnees=!1,this.importTermine=!1}).bind(this))}).bind(this))}}).bind(this),l.open("POST",window.location.href.split("?")[0]+"inc/recuperer_donnees_dgs.php",!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send("dgs="+o)}this.audio=new Audio,this.audio.autoplay=!0,this.audio.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",document.body.addEventListener("touchstart",(function(){this.audioInitialise===!1&&(this.audio.play(),this.audioInitialise=!0)}).bind(this)),document.body.addEventListener("click",(function(){this.audioInitialise===!1&&(this.audio.play(),this.audioInitialise=!0)}).bind(this)),this.recupererVoix();const a=window.speechSynthesis;a&&a.onvoiceschanged!==void 0&&(a.onvoiceschanged=this.recupererVoix),document.addEventListener("keydown",(function(l){if(l.ctrlKey&&l.key==="k")l.preventDefault(),this.capturer();else if(l.ctrlKey&&l.key==="m"&&!this.menu)l.preventDefault(),this.ouvrirMenu();else if(l.ctrlKey&&l.key==="m"&&this.menu)l.preventDefault(),this.fermerMenu();else if(l.ctrlKey&&l.key==="i")l.preventDefault(),this.modale==="info"?this.fermerModale():this.ouvrirModale("info");else if(l.ctrlKey&&l.key==="e"&&!this.pleinEcran)this.entrerPleinEcran();else if(l.ctrlKey&&l.key==="e"&&this.pleinEcran)this.sortirPleinEcran();else if(l.ctrlKey&&(l.key==="*"||l.key==="l"))l.preventDefault(),this.nav=!this.nav;else if(l.ctrlKey&&l.key==="ArrowLeft")l.preventDefault(),this.page===1?this.page=this.pages.length:this.page--;else if(l.ctrlKey&&l.key==="ArrowRight")l.preventDefault(),this.page===this.pages.length?this.page=1:this.page++;else if((!this.annotation||this.annotation&&this.outilDeplacer)&&l.target.tagName.toLowerCase()!=="input"&&l.target.tagName.toLowerCase()!=="textarea"&&!l.target.closest(".pell-content")&&(l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="ArrowUp"||l.key==="ArrowDown"||l.key==="m"||l.key==="f"))l.preventDefault(),this.panneauAffiche!==""&&(this.evenementClavier={touche:l.key,id:this.panneauAffiche});else if((!this.annotation||this.annotation&&this.outilDeplacer)&&l.target.tagName.toLowerCase()!=="input"&&l.target.tagName.toLowerCase()!=="textarea"&&!l.target.closest(".pell-content")&&l.key==="Delete"){l.preventDefault();let u="";this.panneauxPage.forEach((function(c){this.panneauAffiche===c.id&&(u=c.type)}).bind(this)),this.panneauAffiche!==""&&u!==""&&this.fermerPanneau(this.panneauAffiche,u)}}).bind(this),!1),document.querySelector("main").addEventListener("dragover",function(l){l.preventDefault(),l.stopPropagation()},!1),document.querySelector("main").addEventListener("dragcenter",function(l){l.preventDefault(),l.stopPropagation()},!1),document.querySelector("main").addEventListener("drop",(function(l){if(l.preventDefault(),l.stopPropagation(),l.dataTransfer.files&&l.dataTransfer.files.length>0){for(let u=0;u<l.dataTransfer.files.length;u++)if(l.dataTransfer.files[u].type.substring(0,5)==="image"||l.dataTransfer.files[u].type.substring(0,5)==="audio"||l.dataTransfer.files[u].type.substring(0,5)==="video"){const c="panneau_"+new Date().getTime()+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),A=document.body.clientWidth/2,h=(document.body.clientHeight-this.convertirRem(7.5))/2,g=l.dataTransfer.files[u].type.substring(0,5);let f,y;g==="image"?(y=new FileReader,y.readAsDataURL(l.dataTransfer.files[u]),y.onloadend=(function(E){const C=new Image;C.src=E.target.result,C.onload=(function(){if(C.width>1200){const b=document.createElement("canvas"),_=C.width/C.height,B=1200,L=1200/_;b.width=B,b.height=L,b.getContext("2d").drawImage(C,0,0,B,L),f=b.toDataURL("image/jpeg",.85)}else f=E.target.result;const m={page:this.page,id:c,type:g,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{image:f,requete:"",page:1,zoom:1},w:40,h:30,x:A-this.convertirRem(20),y:h-this.convertirRem(15)};this.panneaux.push(m),this.panneauxPage.push(m)}).bind(this)}).bind(this)):g==="audio"?(y=new FileReader,y.readAsDataURL(l.dataTransfer.files[u]),y.onloadend=(function(E){const C=E.target.result;f=window.URL.createObjectURL(l.dataTransfer.files[u]);const m={page:this.page,id:c,type:g,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{audio:f,dataURL:C,vitesse:1},w:40,h:14,x:A-this.convertirRem(20),y:h-this.convertirRem(7)};this.panneaux.push(m),this.panneauxPage.push(m)}).bind(this)):g==="video"&&(y=new FileReader,y.readAsDataURL(l.dataTransfer.files[u]),y.onloadend=(function(E){const C=E.target.result;f=window.URL.createObjectURL(l.dataTransfer.files[u]);const m={page:this.page,id:c,type:g,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{video:f,videoId:"",type:l.dataTransfer.files[u].type,dataURL:C,debutMinutes:"",debutSecondes:"",finMinutes:"",finSecondes:""},w:38,h:31.5,x:A-this.convertirRem(19),y:h-this.convertirRem(15.75)};this.panneaux.push(m),this.panneauxPage.push(m)}).bind(this))}}}).bind(this),!1),p0.addEventListener("fullscreenchange",(function(){p0.fullscreenElement===null?this.pleinEcran=!1:this.pleinEcran=!0}).bind(this)),window.addEventListener("resize",this.verifierDimensions,!1),window.addEventListener("beforeunload",function(l){l.preventDefault(),l.returnValue=""},!1),window.addEventListener("paste",(function(l){if((!this.annotation||this.annotation&&this.outilDeplacer)&&l.target.tagName.toLowerCase()!=="input"&&l.target.tagName.toLowerCase()!=="textarea"&&!l.target.closest(".pell-content")){const u=l.clipboardData.files,c=document.body.clientWidth/2,A=(document.body.clientHeight-this.convertirRem(7.5))/2;for(let h=0;h<u.length;h++)if(u[h].type.includes("image")){const g="panneau_"+new Date().getTime()+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);let f;const y=new FileReader;y.readAsDataURL(u[h]),y.onloadend=(function(E){const C=new Image;C.src=E.target.result,C.onload=(function(){if(C.width>1200){const b=document.createElement("canvas"),_=C.width/C.height,B=1200,L=1200/_;b.width=B,b.height=L,b.getContext("2d").drawImage(C,0,0,B,L),f=b.toDataURL("image/jpeg",.85)}else f=E.target.result;const m={page:this.page,id:g,type:"image",mode:"lecture",statut:"",dimensions:{},position:{},contenu:{image:f,requete:"",page:1,zoom:1},w:40,h:30,x:c-this.convertirRem(20),y:A-this.convertirRem(15)};this.panneaux.push(m),this.panneauxPage.push(m)}).bind(this)}).bind(this)}}}).bind(this),!1)},methods:{definirFond(){return this.fond.substring(0,1)==="#"?{"background-color":this.fond}:this.fond.split(".").pop()==="png"?{"background-image":"url("+this.fond+")","background-size":"auto","background-repeat":"repeat"}:{"background-image":"url("+this.fond+")"}},creerPanneau(t){if(t==="retroaction"&&this.retroaction===!0){for(let r=0;r<this.panneauxPage.length;r++)if(this.panneauxPage[r].type==="retroaction"){this.fermerPanneau(this.panneauxPage[r].id,t);break}return!1}else if(t==="modalites"&&this.modalites===!0){for(let r=0;r<this.panneauxPage.length;r++)if(this.panneauxPage[r].type==="modalites"){this.fermerPanneau(this.panneauxPage[r].id,t);break}return!1}const e="panneau_"+new Date().getTime(),i=document.body.clientWidth/2,n=(document.body.clientHeight-this.convertirRem(7.5))/2;let s;switch(t){case"codeqr":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:36,h:46,x:i-this.convertirRem(18),y:n-this.convertirRem(23)};break;case"texte":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:53,h:46,x:i-this.convertirRem(26.5),y:n-this.convertirRem(23)};break;case"tableau":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:50,h:45,x:i-this.convertirRem(25),y:n-this.convertirRem(22.5)};break;case"image":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:27,x:i-this.convertirRem(20),y:n-this.convertirRem(13.5)};break;case"galerie":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:34,x:i-this.convertirRem(30),y:n-this.convertirRem(17)};break;case"dessin":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:48,h:35,x:i-this.convertirRem(24),y:n-this.convertirRem(17.5)};break;case"document":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:16,x:i-this.convertirRem(20),y:n-this.convertirRem(8)};break;case"audio":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:32,x:i-this.convertirRem(20),y:n-this.convertirRem(16)};break;case"synthese":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:41,x:i-this.convertirRem(20),y:n-this.convertirRem(20.5)};break;case"video":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:27,x:i-this.convertirRem(20),y:n-this.convertirRem(13.5)};break;case"webcam":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:n-this.convertirRem(11)};break;case"lien":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:28,x:i-this.convertirRem(20),y:n-this.convertirRem(14)};break;case"iframe":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:n-this.convertirRem(11)};break;case"nuage":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:80,h:59.5,x:i-this.convertirRem(40),y:n-this.convertirRem(29.75)};break;case"ordre":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:50.4,x:i-this.convertirRem(23),y:n-this.convertirRem(25.2)};break;case"images-sequentielles":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:34,x:i-this.convertirRem(30),y:n-this.convertirRem(17)};break;case"trous":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:48,x:i-this.convertirRem(23),y:n-this.convertirRem(24)};break;case"surlignage":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:36,x:i-this.convertirRem(23),y:n-this.convertirRem(18)};break;case"pendu":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:64,x:i-this.convertirRem(20),y:n-this.convertirRem(32)};break;case"cartes":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:50,x:i-this.convertirRem(30),y:n-this.convertirRem(25)};break;case"tirage":case"tirage-texte":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:40,x:i-this.convertirRem(23),y:n-this.convertirRem(20)};break;case"tirage-image":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:40,x:i-this.convertirRem(30),y:n-this.convertirRem(20)};break;case"tirage-audio":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:40,x:i-this.convertirRem(30),y:n-this.convertirRem(20)};break;case"histoire":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:n-this.convertirRem(11)};break;case"plateau":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:50,x:i-this.convertirRem(20),y:n-this.convertirRem(25)};break;case"des":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:25.4,x:i-this.convertirRem(20),y:n-this.convertirRem(12.7)};break;case"modalites":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:38,h:56,x:i-this.convertirRem(19),y:n-this.convertirRem(28)},this.modalites=!0;break;case"groupes":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:42,x:i-this.convertirRem(23),y:n-this.convertirRem(21)};break;case"chrono":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:48,h:28.4,x:i-this.convertirRem(24),y:n-this.convertirRem(14.2)};break;case"rebours":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:42,h:32,x:i-this.convertirRem(21),y:n-this.convertirRem(16)};break;case"horloge":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:43.6,x:i-this.convertirRem(20),y:n-this.convertirRem(21.8)};break;case"calendrier":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:34,x:i-this.convertirRem(20),y:n-this.convertirRem(17)};break;case"retroaction":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:36,h:31,x:i-this.convertirRem(18),y:n-this.convertirRem(15.5)},this.retroaction=!0;break;case"sonometre":s={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:24,x:i-this.convertirRem(20),y:n-this.convertirRem(12)};break}this.panneaux.push(s),this.panneauxPage.push(s)},modifierPanneau(t){this.panneaux.forEach((function(e,i){e.id===t.id&&(this.panneaux[i].titre=t.titre,this.panneaux[i].mode=t.mode,this.panneaux[i].statut=t.statut,this.panneaux[i].dimensions=t.dimensions,this.panneaux[i].position=t.position,this.panneaux[i].contenu=t.contenu,this.panneaux[i].w=t.w,this.panneaux[i].h=t.h,this.panneaux[i].x=t.x,this.panneaux[i].y=t.y)}).bind(this))},afficherPanneau(t){this.panneauAffiche=t},fermerPanneau(t,e){const i=this.panneaux;i.forEach(function(n,s){n.id===t&&i.splice(s,1)}),this.panneaux=i,document.querySelector("#"+t)&&document.querySelector("#"+t).close(),e==="retroaction"?this.retroaction=!1:e==="modalites"&&(this.modalites=!1)},ouvrirModale(t){this.modale=t},fermerModale(){this.modale=""},ouvrirMenu(){this.menu=!0},fermerMenu(){this.menu=!1},reinitialiserGrille(){this.pages[this.page-1].grille={}},capturer(){dTe(document.body,{useCORS:!0}).then((function(t){this.audio.src="./static/audio/photo.mp3",this.audio.play(),Rk.saveAs(t.toDataURL("image/jpeg",.95).replace("image/jpeg","image/octet-stream"),"capture_"+new Date().getTime()+".jpg")}).bind(this))},annoter(){this.annotation=!0,this.pages[this.page-1].annotation=!0,this.outilDeplacer=!1},arreterAnnoter(){this.annotation=!1,this.pages[this.page-1].annotation=!1,this.outilDeplacer=!1},definirOutilDeplacer(t){this.outilDeplacer=t},entrerPleinEcran(){p0.requestFullscreen(document.body)},sortirPleinEcran(){p0.exitFullscreen()},afficherPage(t){this.page=t},importer(t){const e=t.target.files[0];if(e===null||e.length===0)return document.querySelector("#televerser").value="",!1;{this.importDonnees=!0;const i=this.page,n=new FileReader;n.onload=(function(s){if(this.verifierJSON(s.target.result)===!1)return this.importTermine=!0,!1;const r=JSON.parse(s.target.result);if(this.pages=r.pages,this.page=r.page,this.modules=r.modules,this.panneaux=r.panneaux,this.langue=r.langue,this.$root.$i18n.locale=r.langue,r.hasOwnProperty("nav")&&(this.nav=r.nav),r.hasOwnProperty("lectureSeule")&&(this.lectureSeule=r.lectureSeule),this.importTermine=!0,i===this.page){this.pages[this.page-1].annotation===!1?this.annotation=!1:this.annotation=!0,this.retroaction=!1,this.modalites=!1,this.panneauxPage.forEach(function(a){document.querySelector("#"+a.id)&&document.querySelector("#"+a.id).close()}),this.panneauxPage=[];const o=r.panneaux.filter(function(a){return a.page===r.page});yc("main",{background:!0},(function(){setTimeout((function(){this.panneauxPage.push(...o);for(let a=0;a<this.panneauxPage.length;a++)this.panneauxPage[a].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[a].type==="modalites"&&(this.modalites=!0);if(r.hasOwnProperty("ecran")&&r.ecran.largeur>document.body.clientWidth){const a=Math.ceil(document.body.clientWidth/r.ecran.largeur*100);alert(this.$t("alerteEcran",{zoom:a}))}this.$nextTick((function(){this.lectureSeule===!0&&document.querySelectorAll(".jsPanel").forEach(function(l){l.querySelector(".jsPanel-btn-close").style.display="none"})}).bind(this))}).bind(this),150)}).bind(this))}}).bind(this),n.readAsText(e),document.querySelector("#televerser").value="",this.$nextTick((function(){document.querySelector("#import").addEventListener("animationend",(function(){this.importDonnees=!1,this.importTermine=!1}).bind(this))}).bind(this))}},exporter(){const t=new Date,e=t.getFullYear();let i=t.getMonth()+1;i<10&&(i="0"+i);let n=t.getDate();n<10&&(n="0"+n);let s=t.getHours();s<10&&(s="0"+s);let r=t.getMinutes();r<10&&(r="0"+r);let o=t.getSeconds();o<10&&(o="0"+o);const a="digiscreen_"+n+"-"+i+"-"+e+"_"+s+"-"+r+"-"+o;this.exportDonnees=!0,this.$nextTick((function(){let l={};l.pages=this.pages,l.page=this.page,l.modules=this.modules,l.panneaux=this.panneaux,l.langue=this.langue,l.nav=this.nav,l.lectureSeule=this.lectureSeule,l.ecran={largeur:this.largeur,hauteur:this.hauteur};const u=new Blob([JSON.stringify(l)],{type:"text/json;charset=utf-8"});Rk.saveAs(u,a+".dgs"),this.exportDonnees=!1,this.fermerModale()}).bind(this))},modifierModule(t){const e=t.target.value;if(t.target.checked===!0)this.modules.push(e);else{const i=this.modules.indexOf(e);this.modules.splice(i,1)}localStorage.setItem("digiscreen_modules",JSON.stringify(this.modules))},recupererVoix(){const t=window.speechSynthesis;t&&(this.listeVoix=t.getVoices().sort(function(e,i){const n=e.name.toUpperCase(),s=i.name.toUpperCase();return n<s?-1:n==s?0:1}))},verifierJSON(t){try{return JSON.parse(t),!0}catch{return!1}},verifierDimensions(){const t=window.innerWidth;this.$nextTick((function(){this.largeur=document.body.clientWidth,this.nav?this.hauteur=document.body.clientHeight-this.convertirRem(7.5):this.hauteur=document.body.clientHeight}).bind(this)),t<1024?this.alerte=!0:this.alerte&&(this.alerte=!1,this.chargement=!0,this.$nextTick((function(){document.querySelector("#chargement").addEventListener("animationend",(function(){this.chargement=!1}).bind(this))}).bind(this)))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},activerDefilementHorizontal(){const t=document.querySelector("nav");t.addEventListener("mousedown",this.defilementHorizontalDebut),t.addEventListener("mouseleave",this.defilementHorizontalFin),t.addEventListener("mouseup",this.defilementHorizontalFin),t.addEventListener("mousemove",this.defilementHorizontalEnCours)},defilementHorizontalDebut(t){const e=document.querySelector("nav");this.defilement=!0,this.depart=t.pageX-e.offsetLeft,this.distance=e.scrollLeft},defilementHorizontalFin(){this.defilement=!1},defilementHorizontalEnCours(t){if(!this.defilement)return!1;t.preventDefault();const e=document.querySelector("nav"),n=(t.pageX-e.offsetLeft-this.depart)*1.5;e.scrollLeft=this.distance-n}}},vTe={key:0,id:"alerte"},bTe={class:"conteneur"},yTe=d("span",{class:"marque"},"Digiscreen by La Digitale",-1),wTe={class:"message"},_Te={key:1,id:"chargement"},CTe=d("div",{class:"chargement"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")],-1),ETe=[CTe],TTe=["title"],xTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"qr_code")],-1),STe={class:"titre"},BTe=["title"],kTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"title")],-1),DTe={class:"titre"},FTe=["title"],ITe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"table_chart")],-1),LTe={class:"titre"},PTe=["title"],MTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"insert_photo")],-1),RTe={class:"titre"},OTe=["title"],UTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_carousel")],-1),NTe={class:"titre"},HTe=["title"],QTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"gesture")],-1),$Te={class:"titre"},jTe=["title"],VTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"description")],-1),zTe={class:"titre"},GTe=["title"],KTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"volume_up")],-1),WTe={class:"titre"},qTe=["title"],YTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"record_voice_over")],-1),XTe={class:"titre"},JTe=["title"],ZTe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"movie_creation")],-1),exe={class:"titre"},txe=["title"],ixe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"photo_camera")],-1),nxe={class:"titre"},sxe=["title"],rxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"link")],-1),oxe={class:"titre"},axe=["title"],lxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"code")],-1),uxe={class:"titre"},cxe=["title"],Axe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"cloud")],-1),hxe={class:"titre"},dxe=["title"],fxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"sort_by_alpha")],-1),pxe={class:"titre"},gxe=["title"],mxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"category")],-1),vxe={class:"titre"},bxe=["title"],yxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"wysiwyg")],-1),wxe={class:"titre"},_xe=["title"],Cxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hdr_strong")],-1),Exe={class:"titre"},Txe=["title"],xxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"spellcheck")],-1),Sxe={class:"titre"},Bxe=["title"],kxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"style")],-1),Dxe={class:"titre"},Fxe=["title"],Ixe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"shuffle")],-1),Lxe={class:"titre"},Pxe=["title"],Mxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"collections")],-1),Rxe={class:"titre"},Oxe=["title"],Uxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"subscriptions")],-1),Nxe={class:"titre"},Hxe=["title"],Qxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"history_edu")],-1),$xe={class:"titre"},jxe=["title"],Vxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"grid_on")],-1),zxe={class:"titre"},Gxe=["title"],Kxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"casino")],-1),Wxe={class:"titre"},qxe=["title"],Yxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"group_work")],-1),Xxe={class:"titre"},Jxe=["title"],Zxe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"group")],-1),eSe={class:"titre"},tSe=["title"],iSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"timer")],-1),nSe={class:"titre"},sSe=["title"],rSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hourglass_empty")],-1),oSe={class:"titre"},aSe=["title"],lSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"query_builder")],-1),uSe={class:"titre"},cSe=["title"],ASe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"today")],-1),hSe={class:"titre"},dSe=["title"],fSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hearing")],-1),pSe={class:"titre"},gSe=["title"],mSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"thumb_up")],-1),vSe={class:"titre"},bSe=["title"],ySe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_module")],-1),wSe={class:"titre"},_Se=["title"],CSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_module")],-1),ESe={class:"titre"},TSe=d("div",{class:"separateur"},[d("span",null,"·")],-1),xSe=["title"],SSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"camera")],-1),BSe={class:"titre"},kSe=["title"],DSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"rate_review")],-1),FSe={class:"titre"},ISe=["title"],LSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"rate_review")],-1),PSe={class:"titre"},MSe=["title"],RSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"open_in_full")],-1),OSe={class:"titre"},USe=["title"],NSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"close_fullscreen")],-1),HSe={class:"titre"},QSe=["title"],$Se=d("span",{class:"icone"},[d("i",{class:"material-icons"},"settings")],-1),jSe={class:"titre"},VSe=["title"],zSe=d("span",{class:"icone"},[d("i",{class:"material-icons"},"info")],-1),GSe={class:"titre"},KSe=["title"],WSe=d("i",{class:"material-icons"},"camera",-1),qSe=[WSe],YSe=["title"],XSe=d("i",{class:"material-icons"},"rate_review",-1),JSe=[XSe],ZSe=["title"],eBe=d("i",{class:"material-icons"},"rate_review",-1),tBe=[eBe],iBe=["title"],nBe=d("i",{class:"material-icons"},"open_in_full",-1),sBe=[nBe],rBe=["title"],oBe=d("i",{class:"material-icons"},"close_fullscreen",-1),aBe=[oBe],lBe=["title"],uBe=d("i",{class:"material-icons"},"save",-1),cBe=[uBe],ABe=["title"],hBe=d("i",{class:"material-icons"},"expand_more",-1),dBe=[hBe],fBe=["title"],pBe=d("i",{class:"material-icons"},"expand_less",-1),gBe=[pBe],mBe=["title"],vBe=d("i",{class:"material-icons"},"lock",-1),bBe=[vBe],yBe=["title"],wBe=d("i",{class:"material-icons"},"lock_open",-1),_Be=[wBe],CBe=["onClick"];function EBe(t,e,i,n,s,r){const o=Ke("Chargement"),a=Ke("Annotation"),l=Ke("PCodeqr"),u=Ke("PTexte"),c=Ke("PTableau"),A=Ke("PImage"),h=Ke("PGalerie"),g=Ke("PDessin"),f=Ke("PDocument"),y=Ke("PAudio"),E=Ke("PSynthese"),C=Ke("PVideo"),m=Ke("PWebcam"),b=Ke("PLien"),_=Ke("PIframe"),B=Ke("PNuage"),L=Ke("POrdre"),j=Ke("PImagesSequentielles"),O=Ke("PTrous"),Q=Ke("PSurlignage"),$=Ke("PPendu"),D=Ke("PCartes"),U=Ke("PTirageTexte"),S=Ke("PTirageImage"),k=Ke("PTirageAudio"),M=Ke("PHistoire"),N=Ke("PPlateau"),V=Ke("PDes"),G=Ke("PModalites"),ee=Ke("PGroupes"),se=Ke("PChrono"),ne=Ke("PRebours"),le=Ke("PHorloge"),he=Ke("PCalendrier"),we=Ke("PRetroaction"),pe=Ke("PSonometre"),ke=Ke("MGrille"),ce=Ke("MInfo"),ye=Ke("MParametres");return Y(),te("main",{style:ti(r.definirFond())},[s.alerte?(Y(),te("div",vTe,[d("div",bTe,[yTe,d("span",wTe,oe(t.$t("alerte")),1)])])):De("",!0),s.chargement?(Y(),te("div",_Te,"Digiscreen by La Digitale")):De("",!0),s.importDonnees?(Y(),te("div",{key:2,id:"import",class:Ne({termine:s.importTermine})},ETe,2)):De("",!0),s.chargementPage?(Y(),Je(o,{key:3,chargementPage:s.chargementPage},null,8,["chargementPage"])):De("",!0),s.annotation?(Y(),Je(a,{key:4,panneaux:s.panneaux,annotations:r.annotations,largeur:s.largeur,hauteur:s.hauteur,nav:s.nav,onFermer:r.arreterAnnoter,onOutilDeplacer:r.definirOutilDeplacer},null,8,["panneaux","annotations","largeur","hauteur","nav","onFermer","onOutilDeplacer"])):De("",!0),Object.keys(r.grille).length>0?(Y(),te("div",{key:5,id:"grille",class:Ne(r.grille.couleur+" grille-"+r.grille.colonnes)},[(Y(!0),te(dt,null,ei(r.grille.colonnes*r.grille.lignes,ie=>(Y(),te("span",{key:"element_"+ie}))),128))],2)):De("",!0),s.alerte?De("",!0):(Y(),te("nav",{key:6,class:Ne({masque:!s.nav}),"data-html2canvas-ignore":!0},[s.modules.includes("codeqr")?(Y(),te("div",{key:0,onClick:e[0]||(e[0]=ie=>r.creerPanneau("codeqr")),title:t.$t("codeqr")},[xTe,d("span",STe,oe(t.$t("codeqr")),1)],8,TTe)):De("",!0),s.modules.includes("texte")?(Y(),te("div",{key:1,onClick:e[1]||(e[1]=ie=>r.creerPanneau("texte")),title:t.$t("texte")},[kTe,d("span",DTe,oe(t.$t("texte")),1)],8,BTe)):De("",!0),s.modules.includes("tableau")?(Y(),te("div",{key:2,onClick:e[2]||(e[2]=ie=>r.creerPanneau("tableau")),title:t.$t("tableau")},[ITe,d("span",LTe,oe(t.$t("tableau")),1)],8,FTe)):De("",!0),s.modules.includes("image")?(Y(),te("div",{key:3,onClick:e[3]||(e[3]=ie=>r.creerPanneau("image")),title:t.$t("image")},[MTe,d("span",RTe,oe(t.$t("image")),1)],8,PTe)):De("",!0),s.modules.includes("galerie")?(Y(),te("div",{key:4,onClick:e[4]||(e[4]=ie=>r.creerPanneau("galerie")),title:t.$t("galerieImages")},[UTe,d("span",NTe,oe(t.$t("galerie")),1)],8,OTe)):De("",!0),s.modules.includes("dessin")?(Y(),te("div",{key:5,onClick:e[5]||(e[5]=ie=>r.creerPanneau("dessin")),title:t.$t("dessin")},[QTe,d("span",$Te,oe(t.$t("dessin")),1)],8,HTe)):De("",!0),s.modules.includes("document")?(Y(),te("div",{key:6,onClick:e[6]||(e[6]=ie=>r.creerPanneau("document")),title:t.$t("document")},[VTe,d("span",zTe,oe(t.$t("doc")),1)],8,jTe)):De("",!0),s.modules.includes("audio")?(Y(),te("div",{key:7,onClick:e[7]||(e[7]=ie=>r.creerPanneau("audio")),title:t.$t("audio")},[KTe,d("span",WTe,oe(t.$t("audio")),1)],8,GTe)):De("",!0),s.modules.includes("synthese")?(Y(),te("div",{key:8,onClick:e[8]||(e[8]=ie=>r.creerPanneau("synthese")),title:t.$t("syntheseVocale")},[YTe,d("span",XTe,oe(t.$t("synthese")),1)],8,qTe)):De("",!0),s.modules.includes("video")?(Y(),te("div",{key:9,onClick:e[9]||(e[9]=ie=>r.creerPanneau("video")),title:t.$t("video")},[ZTe,d("span",exe,oe(t.$t("video")),1)],8,JTe)):De("",!0),s.modules.includes("webcam")?(Y(),te("div",{key:10,onClick:e[10]||(e[10]=ie=>r.creerPanneau("webcam")),title:t.$t("webcam")},[ixe,d("span",nxe,oe(t.$t("webcam")),1)],8,txe)):De("",!0),s.modules.includes("lien")?(Y(),te("div",{key:11,onClick:e[11]||(e[11]=ie=>r.creerPanneau("lien")),title:t.$t("lien")},[rxe,d("span",oxe,oe(t.$t("lien")),1)],8,sxe)):De("",!0),s.modules.includes("iframe")?(Y(),te("div",{key:12,onClick:e[12]||(e[12]=ie=>r.creerPanneau("iframe")),title:t.$t("contenuIntegre")},[lxe,d("span",uxe,oe(t.$t("iframe")),1)],8,axe)):De("",!0),s.modules.includes("nuage")?(Y(),te("div",{key:13,onClick:e[13]||(e[13]=ie=>r.creerPanneau("nuage")),title:t.$t("nuageMots")},[Axe,d("span",hxe,oe(t.$t("nuage")),1)],8,cxe)):De("",!0),s.modules.includes("ordre")?(Y(),te("div",{key:14,onClick:e[14]||(e[14]=ie=>r.creerPanneau("ordre")),title:t.$t("remiseOrdre")},[fxe,d("span",pxe,oe(t.$t("ordre")),1)],8,dxe)):De("",!0),s.modules.includes("images-sequentielles")?(Y(),te("div",{key:15,onClick:e[15]||(e[15]=ie=>r.creerPanneau("images-sequentielles")),title:t.$t("imagesSequentielles")},[mxe,d("span",vxe,oe(t.$t("ordreImage")),1)],8,gxe)):De("",!0),s.modules.includes("trous")?(Y(),te("div",{key:16,onClick:e[16]||(e[16]=ie=>r.creerPanneau("trous")),title:t.$t("texteATrous")},[yxe,d("span",wxe,oe(t.$t("trous")),1)],8,bxe)):De("",!0),s.modules.includes("surlignage")?(Y(),te("div",{key:17,onClick:e[17]||(e[17]=ie=>r.creerPanneau("surlignage")),title:t.$t("surlignage")},[Cxe,d("span",Exe,oe(t.$t("surlignage")),1)],8,_xe)):De("",!0),s.modules.includes("pendu")?(Y(),te("div",{key:18,onClick:e[18]||(e[18]=ie=>r.creerPanneau("pendu")),title:t.$t("pendu")},[xxe,d("span",Sxe,oe(t.$t("pendu")),1)],8,Txe)):De("",!0),s.modules.includes("cartes")?(Y(),te("div",{key:19,onClick:e[19]||(e[19]=ie=>r.creerPanneau("cartes")),title:t.$t("cartes")},[kxe,d("span",Dxe,oe(t.$t("cartes")),1)],8,Bxe)):De("",!0),s.modules.includes("tirage-texte")?(Y(),te("div",{key:20,onClick:e[20]||(e[20]=ie=>r.creerPanneau("tirage-texte")),title:t.$t("tirageSortTexte")},[Ixe,d("span",Lxe,oe(t.$t("tirageTexte")),1)],8,Fxe)):De("",!0),s.modules.includes("tirage-image")?(Y(),te("div",{key:21,onClick:e[21]||(e[21]=ie=>r.creerPanneau("tirage-image")),title:t.$t("tirageSortImage")},[Mxe,d("span",Rxe,oe(t.$t("tirageImage")),1)],8,Pxe)):De("",!0),s.modules.includes("tirage-audio")?(Y(),te("div",{key:22,onClick:e[22]||(e[22]=ie=>r.creerPanneau("tirage-audio")),title:t.$t("tirageSortAudio")},[Uxe,d("span",Nxe,oe(t.$t("tirageAudio")),1)],8,Oxe)):De("",!0),s.modules.includes("histoire")?(Y(),te("div",{key:23,onClick:e[23]||(e[23]=ie=>r.creerPanneau("histoire")),title:t.$t("histoire")},[Qxe,d("span",$xe,oe(t.$t("histoire")),1)],8,Hxe)):De("",!0),s.modules.includes("plateau")?(Y(),te("div",{key:24,onClick:e[24]||(e[24]=ie=>r.creerPanneau("plateau")),title:t.$t("plateau")},[Vxe,d("span",zxe,oe(t.$t("plateau")),1)],8,jxe)):De("",!0),s.modules.includes("des")?(Y(),te("div",{key:25,onClick:e[25]||(e[25]=ie=>r.creerPanneau("des")),title:t.$t("des")},[Kxe,d("span",Wxe,oe(t.$t("des")),1)],8,Gxe)):De("",!0),s.modules.includes("modalites")?(Y(),te("div",{key:26,onClick:e[26]||(e[26]=ie=>r.creerPanneau("modalites")),class:Ne({actif:s.modalites}),title:t.$t("modalitesTravail")},[Yxe,d("span",Xxe,oe(t.$t("modalites")),1)],10,qxe)):De("",!0),s.modules.includes("groupes")?(Y(),te("div",{key:27,onClick:e[27]||(e[27]=ie=>r.creerPanneau("groupes")),title:t.$t("groupes")},[Zxe,d("span",eSe,oe(t.$t("groupes")),1)],8,Jxe)):De("",!0),s.modules.includes("chrono")?(Y(),te("div",{key:28,onClick:e[28]||(e[28]=ie=>r.creerPanneau("chrono")),title:t.$t("chronometre")},[iSe,d("span",nSe,oe(t.$t("chrono")),1)],8,tSe)):De("",!0),s.modules.includes("rebours")?(Y(),te("div",{key:29,onClick:e[29]||(e[29]=ie=>r.creerPanneau("rebours")),title:t.$t("compteRebours")},[rSe,d("span",oSe,oe(t.$t("rebours")),1)],8,sSe)):De("",!0),s.modules.includes("horloge")?(Y(),te("div",{key:30,onClick:e[30]||(e[30]=ie=>r.creerPanneau("horloge")),title:t.$t("horloge")},[lSe,d("span",uSe,oe(t.$t("horloge")),1)],8,aSe)):De("",!0),s.modules.includes("calendrier")?(Y(),te("div",{key:31,onClick:e[31]||(e[31]=ie=>r.creerPanneau("calendrier")),title:t.$t("calendrier")},[ASe,d("span",hSe,oe(t.$t("calendrier")),1)],8,cSe)):De("",!0),s.modules.includes("sonometre")?(Y(),te("div",{key:32,onClick:e[32]||(e[32]=ie=>r.creerPanneau("sonometre")),title:t.$t("sonometre")},[fSe,d("span",pSe,oe(t.$t("volume")),1)],8,dSe)):De("",!0),s.modules.includes("retroaction")?(Y(),te("div",{key:33,onClick:e[33]||(e[33]=ie=>r.creerPanneau("retroaction")),class:Ne({actif:s.retroaction}),title:t.$t("retroaction")},[mSe,d("span",vSe,oe(t.$t("retroaction")),1)],10,gSe)):De("",!0),s.modules.includes("grille")&&Object.keys(r.grille).length===0?(Y(),te("div",{key:34,onClick:e[34]||(e[34]=ie=>r.ouvrirModale("grille")),title:t.$t("grille")},[ySe,d("span",wSe,oe(t.$t("grille")),1)],8,bSe)):s.modules.includes("grille")&&Object.keys(r.grille).length>0?(Y(),te("div",{key:35,onClick:e[35]||(e[35]=(...ie)=>r.reinitialiserGrille&&r.reinitialiserGrille(...ie)),class:"actif",title:t.$t("grille")},[CSe,d("span",ESe,oe(t.$t("grille")),1)],8,_Se)):De("",!0),TSe,d("div",{onClick:e[36]||(e[36]=(...ie)=>r.capturer&&r.capturer(...ie)),title:t.$t("capturer")},[SSe,d("span",BSe,oe(t.$t("capture")),1)],8,xSe),s.annotation?(Y(),te("div",{key:37,onClick:e[38]||(e[38]=(...ie)=>r.arreterAnnoter&&r.arreterAnnoter(...ie)),class:"actif",title:t.$t("annoter")},[LSe,d("span",PSe,oe(t.$t("annoter")),1)],8,ISe)):(Y(),te("div",{key:36,onClick:e[37]||(e[37]=(...ie)=>r.annoter&&r.annoter(...ie)),title:t.$t("annoter")},[DSe,d("span",FSe,oe(t.$t("annoter")),1)],8,kSe)),s.pleinEcran?(Y(),te("div",{key:39,onClick:e[40]||(e[40]=(...ie)=>r.sortirPleinEcran&&r.sortirPleinEcran(...ie)),title:t.$t("sortirPleinEcran")},[NSe,d("span",HSe,oe(t.$t("ecran")),1)],8,USe)):(Y(),te("div",{key:38,onClick:e[39]||(e[39]=(...ie)=>r.entrerPleinEcran&&r.entrerPleinEcran(...ie)),title:t.$t("mettrePleinEcran")},[RSe,d("span",OSe,oe(t.$t("ecran")),1)],8,MSe)),d("div",{onClick:e[41]||(e[41]=(...ie)=>r.ouvrirMenu&&r.ouvrirMenu(...ie)),title:t.$t("options")},[$Se,d("span",jSe,oe(t.$t("options")),1)],8,QSe),d("div",{onClick:e[42]||(e[42]=ie=>r.ouvrirModale("info")),title:t.$t("aPropos")},[zSe,d("span",GSe,oe(t.$t("aPropos")),1)],8,VSe)],2)),s.lectureSeule?(Y(),te("span",{key:7,class:"bouton-capture",onClick:e[43]||(e[43]=(...ie)=>r.capturer&&r.capturer(...ie)),title:t.$t("capturer"),"data-html2canvas-ignore":!0},qSe,8,KSe)):De("",!0),!s.annotation&&s.lectureSeule?(Y(),te("span",{key:8,class:"bouton-annotation",onClick:e[44]||(e[44]=(...ie)=>r.annoter&&r.annoter(...ie)),title:t.$t("annoter"),"data-html2canvas-ignore":!0},JSe,8,YSe)):s.annotation&&s.lectureSeule?(Y(),te("span",{key:9,class:"bouton-annotation vert",onClick:e[45]||(e[45]=(...ie)=>r.arreterAnnoter&&r.arreterAnnoter(...ie)),title:t.$t("annoter"),"data-html2canvas-ignore":!0},tBe,8,ZSe)):De("",!0),!s.pleinEcran&&s.lectureSeule?(Y(),te("span",{key:10,class:"bouton-plein-ecran",onClick:e[46]||(e[46]=(...ie)=>r.entrerPleinEcran&&r.entrerPleinEcran(...ie)),title:t.$t("mettrePleinEcran"),"data-html2canvas-ignore":!0},sBe,8,iBe)):s.pleinEcran&&s.lectureSeule?(Y(),te("span",{key:11,class:"bouton-plein-ecran",onClick:e[47]||(e[47]=(...ie)=>r.sortirPleinEcran&&r.sortirPleinEcran(...ie)),title:t.$t("sortirPleinEcran"),"data-html2canvas-ignore":!0},aBe,8,rBe)):De("",!0),s.lectureSeule?(Y(),te("span",{key:12,class:"bouton-export",onClick:e[48]||(e[48]=(...ie)=>r.exporter&&r.exporter(...ie)),title:t.$t("exporterEcran"),"data-html2canvas-ignore":!0},cBe,8,lBe)):De("",!0),s.nav&&!s.lectureSeule?(Y(),te("span",{key:13,class:"nav",onClick:e[49]||(e[49]=ie=>s.nav=!1),title:t.$t("masquerOutils"),"data-html2canvas-ignore":!0},dBe,8,ABe)):!s.nav&&!s.lectureSeule?(Y(),te("span",{key:14,class:"nav",onClick:e[50]||(e[50]=ie=>s.nav=!0),title:t.$t("afficherOutils"),"data-html2canvas-ignore":!0},gBe,8,fBe)):De("",!0),s.lectureSeule?(Y(),te("span",{key:15,class:"bouton-cadenas orange",onClick:e[51]||(e[51]=ie=>s.lectureSeule=!1),title:t.$t("deverrouiller"),"data-html2canvas-ignore":!0},bBe,8,mBe)):(Y(),te("span",{key:16,class:"bouton-cadenas",onClick:e[52]||(e[52]=ie=>s.lectureSeule=!0),title:t.$t("verrouiller"),"data-html2canvas-ignore":!0},_Be,8,yBe)),(Y(!0),te(dt,null,ei(s.panneauxPage,ie=>(Y(),te(dt,null,[ie.type==="codeqr"?(Y(),Je(l,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"codeqr_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="texte"?(Y(),Je(u,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"texte_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="tableau"?(Y(),Je(c,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tableau_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="image"?(Y(),Je(A,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"image_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="galerie"?(Y(),Je(h,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"galerie_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="dessin"?(Y(),Je(g,{panneau:ie,pages:s.pages,nav:s.nav,largeurPage:s.largeur,hauteurPage:s.hauteur,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"dessin_"+ie.id},null,8,["panneau","pages","nav","largeurPage","hauteurPage","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="document"?(Y(),Je(f,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"document_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="audio"?(Y(),Je(y,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"audio_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="synthese"?(Y(),Je(E,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,listeVoix:s.listeVoix,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"synthese_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","listeVoix","onFermer","onExport"])):ie.type==="video"?(Y(),Je(C,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"video_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="webcam"?(Y(),Je(m,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"webcam_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="lien"?(Y(),Je(b,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"lien_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="iframe"?(Y(),Je(_,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"iframe_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="nuage"?(Y(),Je(B,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"nuage_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="ordre"?(Y(),Je(L,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"ordre_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="images-sequentielles"?(Y(),Je(j,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"images-sequentielles_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="trous"?(Y(),Je(O,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"trous_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="surlignage"?(Y(),Je(Q,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"surlignage_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="pendu"?(Y(),Je($,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"pendu_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="cartes"?(Y(),Je(D,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"cartes_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="tirage"||ie.type==="tirage-texte"?(Y(),Je(U,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-texte_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="tirage-image"?(Y(),Je(S,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-image_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="tirage-audio"?(Y(),Je(k,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-audio_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="histoire"?(Y(),Je(M,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"histoire_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="plateau"?(Y(),Je(N,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"plateau_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="des"?(Y(),Je(V,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"des_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="modalites"?(Y(),Je(G,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"modalites_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="groupes"?(Y(),Je(ee,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"groupes_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="chrono"?(Y(),Je(se,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"chrono_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="rebours"?(Y(),Je(ne,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"rebours_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="horloge"?(Y(),Je(le,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,langue:s.langue,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"horloge_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","langue","onAfficher","onFermer","onExport"])):ie.type==="calendrier"?(Y(),Je(he,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"calendrier_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="retroaction"?(Y(),Je(we,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"retroaction_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):ie.type==="sonometre"?(Y(),Je(pe,{panneau:ie,pages:s.pages,nav:s.nav,export:s.exportDonnees,evenementClavier:s.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"sonometre_"+ie.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):De("",!0)],64))),256)),s.modale==="grille"?(Y(),Je(ke,{key:17})):s.modale==="info"?(Y(),Je(ce,{key:18})):De("",!0),s.menu?(Y(),Je(ye,{key:19})):De("",!0),s.pages.length>1?(Y(),te("div",{key:20,id:"pages",class:Ne({noir:Object.keys(s.pages[s.page-1].grille).length>0&&(s.pages[s.page-1].grille.couleur==="blanc"||s.pages[s.page-1].grille.couleur==="gris")}),"data-html2canvas-ignore":!0},[d("div",null,[(Y(!0),te(dt,null,ei(s.pages.length,ie=>(Y(),te("span",{class:Ne({selectionne:s.page===ie}),onClick:He=>r.afficherPage(ie),key:"page_"+ie},null,10,CBe))),128))])],2)):De("",!0)],4)}const TBe=Ht(mTe,[["render",EBe]]);/*!
  * shared v9.6.5
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const RC=typeof window<"u",du=(t,e=!1)=>e?Symbol.for(t):Symbol(t),xBe=(t,e,i)=>SBe({l:t,k:e,s:i}),SBe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),xn=t=>typeof t=="number"&&isFinite(t),BBe=t=>XM(t)==="[object Date]",uu=t=>XM(t)==="[object RegExp]",yy=t=>Lt(t)&&Object.keys(t).length===0,Kn=Object.assign;let Ok;const Ha=()=>Ok||(Ok=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uk(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const kBe=Object.prototype.hasOwnProperty;function qp(t,e){return kBe.call(t,e)}const Ri=Array.isArray,Yi=t=>typeof t=="function",ot=t=>typeof t=="string",Vt=t=>typeof t=="boolean",mi=t=>t!==null&&typeof t=="object",YM=Object.prototype.toString,XM=t=>YM.call(t),Lt=t=>{if(!mi(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},DBe=t=>t==null?"":Ri(t)||Lt(t)&&t.toString===YM?JSON.stringify(t,null,2):String(t);function FBe(t,e=""){return t.reduce((i,n,s)=>s===0?i+n:i+e+n,"")}function aT(t){let e=t;return()=>++e}function IBe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}/*!
  * message-compiler v9.6.5
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function LBe(t,e,i){return{line:t,column:e,offset:i}}function OC(t,e,i){const n={start:t,end:e};return i!=null&&(n.source=i),n}const PBe=/\{([0-9a-zA-Z]+)\}/g;function MBe(t,...e){return e.length===1&&RBe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(PBe,(i,n)=>e.hasOwnProperty(n)?e[n]:"")}const JM=Object.assign,Nk=t=>typeof t=="string",RBe=t=>t!==null&&typeof t=="object";function ZM(t,e=""){return t.reduce((i,n,s)=>s===0?i+n:i+e+n,"")}const St={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},OBe={[St.EXPECTED_TOKEN]:"Expected token: '{0}'",[St.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[St.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[St.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[St.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[St.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[St.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[St.EMPTY_PLACEHOLDER]:"Empty placeholder",[St.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[St.INVALID_LINKED_FORMAT]:"Invalid linked format",[St.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[St.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[St.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[St.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[St.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[St.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function td(t,e,i={}){const{domain:n,messages:s,args:r}=i,o=MBe((s||OBe)[t]||"",...r||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function UBe(t){throw t}const Fa=" ",NBe="\r",gs="\n",HBe=String.fromCharCode(8232),QBe=String.fromCharCode(8233);function $Be(t){const e=t;let i=0,n=1,s=1,r=0;const o=j=>e[j]===NBe&&e[j+1]===gs,a=j=>e[j]===gs,l=j=>e[j]===QBe,u=j=>e[j]===HBe,c=j=>o(j)||a(j)||l(j)||u(j),A=()=>i,h=()=>n,g=()=>s,f=()=>r,y=j=>o(j)||l(j)||u(j)?gs:e[j],E=()=>y(i),C=()=>y(i+r);function m(){return r=0,c(i)&&(n++,s=0),o(i)&&i++,i++,s++,e[i]}function b(){return o(i+r)&&r++,r++,e[i+r]}function _(){i=0,n=1,s=1,r=0}function B(j=0){r=j}function L(){const j=i+r;for(;j!==i;)m();r=0}return{index:A,line:h,column:g,peekOffset:f,charAt:y,currentChar:E,currentPeek:C,next:m,peek:b,reset:_,resetPeek:B,skipToPeek:L}}const Tl=void 0,jBe=".",Hk="'",VBe="tokenizer";function zBe(t,e={}){const i=e.location!==!1,n=$Be(t),s=()=>n.index(),r=()=>LBe(n.line(),n.column(),n.index()),o=r(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function A(W,X,re,...ve){const xe=u();if(X.column+=re,X.offset+=re,c){const Me=i?OC(xe.startLoc,X):null,Fe=td(W,Me,{domain:VBe,args:ve});c(Fe)}}function h(W,X,re){W.endLoc=r(),W.currentType=X;const ve={type:X};return i&&(ve.loc=OC(W.startLoc,W.endLoc)),re!=null&&(ve.value=re),ve}const g=W=>h(W,14);function f(W,X){return W.currentChar()===X?(W.next(),X):(A(St.EXPECTED_TOKEN,r(),0,X),"")}function y(W){let X="";for(;W.currentPeek()===Fa||W.currentPeek()===gs;)X+=W.currentPeek(),W.peek();return X}function E(W){const X=y(W);return W.skipToPeek(),X}function C(W){if(W===Tl)return!1;const X=W.charCodeAt(0);return X>=97&&X<=122||X>=65&&X<=90||X===95}function m(W){if(W===Tl)return!1;const X=W.charCodeAt(0);return X>=48&&X<=57}function b(W,X){const{currentType:re}=X;if(re!==2)return!1;y(W);const ve=C(W.currentPeek());return W.resetPeek(),ve}function _(W,X){const{currentType:re}=X;if(re!==2)return!1;y(W);const ve=W.currentPeek()==="-"?W.peek():W.currentPeek(),xe=m(ve);return W.resetPeek(),xe}function B(W,X){const{currentType:re}=X;if(re!==2)return!1;y(W);const ve=W.currentPeek()===Hk;return W.resetPeek(),ve}function L(W,X){const{currentType:re}=X;if(re!==8)return!1;y(W);const ve=W.currentPeek()===".";return W.resetPeek(),ve}function j(W,X){const{currentType:re}=X;if(re!==9)return!1;y(W);const ve=C(W.currentPeek());return W.resetPeek(),ve}function O(W,X){const{currentType:re}=X;if(!(re===8||re===12))return!1;y(W);const ve=W.currentPeek()===":";return W.resetPeek(),ve}function Q(W,X){const{currentType:re}=X;if(re!==10)return!1;const ve=()=>{const Me=W.currentPeek();return Me==="{"?C(W.peek()):Me==="@"||Me==="%"||Me==="|"||Me===":"||Me==="."||Me===Fa||!Me?!1:Me===gs?(W.peek(),ve()):C(Me)},xe=ve();return W.resetPeek(),xe}function $(W){y(W);const X=W.currentPeek()==="|";return W.resetPeek(),X}function D(W){const X=y(W),re=W.currentPeek()==="%"&&W.peek()==="{";return W.resetPeek(),{isModulo:re,hasSpace:X.length>0}}function U(W,X=!0){const re=(xe=!1,Me="",Fe=!1)=>{const Ie=W.currentPeek();return Ie==="{"?Me==="%"?!1:xe:Ie==="@"||!Ie?Me==="%"?!0:xe:Ie==="%"?(W.peek(),re(xe,"%",!0)):Ie==="|"?Me==="%"||Fe?!0:!(Me===Fa||Me===gs):Ie===Fa?(W.peek(),re(!0,Fa,Fe)):Ie===gs?(W.peek(),re(!0,gs,Fe)):!0},ve=re();return X&&W.resetPeek(),ve}function S(W,X){const re=W.currentChar();return re===Tl?Tl:X(re)?(W.next(),re):null}function k(W){return S(W,re=>{const ve=re.charCodeAt(0);return ve>=97&&ve<=122||ve>=65&&ve<=90||ve>=48&&ve<=57||ve===95||ve===36})}function M(W){return S(W,re=>{const ve=re.charCodeAt(0);return ve>=48&&ve<=57})}function N(W){return S(W,re=>{const ve=re.charCodeAt(0);return ve>=48&&ve<=57||ve>=65&&ve<=70||ve>=97&&ve<=102})}function V(W){let X="",re="";for(;X=M(W);)re+=X;return re}function G(W){E(W);const X=W.currentChar();return X!=="%"&&A(St.EXPECTED_TOKEN,r(),0,X),W.next(),"%"}function ee(W){let X="";for(;;){const re=W.currentChar();if(re==="{"||re==="}"||re==="@"||re==="|"||!re)break;if(re==="%")if(U(W))X+=re,W.next();else break;else if(re===Fa||re===gs)if(U(W))X+=re,W.next();else{if($(W))break;X+=re,W.next()}else X+=re,W.next()}return X}function se(W){E(W);let X="",re="";for(;X=k(W);)re+=X;return W.currentChar()===Tl&&A(St.UNTERMINATED_CLOSING_BRACE,r(),0),re}function ne(W){E(W);let X="";return W.currentChar()==="-"?(W.next(),X+="-".concat(V(W))):X+=V(W),W.currentChar()===Tl&&A(St.UNTERMINATED_CLOSING_BRACE,r(),0),X}function le(W){E(W),f(W,"'");let X="",re="";const ve=Me=>Me!==Hk&&Me!==gs;for(;X=S(W,ve);)X==="\\"?re+=he(W):re+=X;const xe=W.currentChar();return xe===gs||xe===Tl?(A(St.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),xe===gs&&(W.next(),f(W,"'")),re):(f(W,"'"),re)}function he(W){const X=W.currentChar();switch(X){case"\\":case"'":return W.next(),"\\".concat(X);case"u":return we(W,X,4);case"U":return we(W,X,6);default:return A(St.UNKNOWN_ESCAPE_SEQUENCE,r(),0,X),""}}function we(W,X,re){f(W,X);let ve="";for(let xe=0;xe<re;xe++){const Me=N(W);if(!Me){A(St.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,"\\".concat(X).concat(ve).concat(W.currentChar()));break}ve+=Me}return"\\".concat(X).concat(ve)}function pe(W){E(W);let X="",re="";const ve=xe=>xe!=="{"&&xe!=="}"&&xe!==Fa&&xe!==gs;for(;X=S(W,ve);)re+=X;return re}function ke(W){let X="",re="";for(;X=k(W);)re+=X;return re}function ce(W){const X=(re=!1,ve)=>{const xe=W.currentChar();return xe==="{"||xe==="%"||xe==="@"||xe==="|"||xe==="("||xe===")"||!xe||xe===Fa?ve:xe===gs||xe===jBe?(ve+=xe,W.next(),X(re,ve)):(ve+=xe,W.next(),X(!0,ve))};return X(!1,"")}function ye(W){E(W);const X=f(W,"|");return E(W),X}function ie(W,X){let re=null;switch(W.currentChar()){case"{":return X.braceNest>=1&&A(St.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),W.next(),re=h(X,2,"{"),E(W),X.braceNest++,re;case"}":return X.braceNest>0&&X.currentType===2&&A(St.EMPTY_PLACEHOLDER,r(),0),W.next(),re=h(X,3,"}"),X.braceNest--,X.braceNest>0&&E(W),X.inLinked&&X.braceNest===0&&(X.inLinked=!1),re;case"@":return X.braceNest>0&&A(St.UNTERMINATED_CLOSING_BRACE,r(),0),re=He(W,X)||g(X),X.braceNest=0,re;default:let xe=!0,Me=!0,Fe=!0;if($(W))return X.braceNest>0&&A(St.UNTERMINATED_CLOSING_BRACE,r(),0),re=h(X,1,ye(W)),X.braceNest=0,X.inLinked=!1,re;if(X.braceNest>0&&(X.currentType===5||X.currentType===6||X.currentType===7))return A(St.UNTERMINATED_CLOSING_BRACE,r(),0),X.braceNest=0,$e(W,X);if(xe=b(W,X))return re=h(X,5,se(W)),E(W),re;if(Me=_(W,X))return re=h(X,6,ne(W)),E(W),re;if(Fe=B(W,X))return re=h(X,7,le(W)),E(W),re;if(!xe&&!Me&&!Fe)return re=h(X,13,pe(W)),A(St.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,re.value),E(W),re;break}return re}function He(W,X){const{currentType:re}=X;let ve=null;const xe=W.currentChar();switch((re===8||re===9||re===12||re===10)&&(xe===gs||xe===Fa)&&A(St.INVALID_LINKED_FORMAT,r(),0),xe){case"@":return W.next(),ve=h(X,8,"@"),X.inLinked=!0,ve;case".":return E(W),W.next(),h(X,9,".");case":":return E(W),W.next(),h(X,10,":");default:return $(W)?(ve=h(X,1,ye(W)),X.braceNest=0,X.inLinked=!1,ve):L(W,X)||O(W,X)?(E(W),He(W,X)):j(W,X)?(E(W),h(X,12,ke(W))):Q(W,X)?(E(W),xe==="{"?ie(W,X)||ve:h(X,11,ce(W))):(re===8&&A(St.INVALID_LINKED_FORMAT,r(),0),X.braceNest=0,X.inLinked=!1,$e(W,X))}}function $e(W,X){let re={type:14};if(X.braceNest>0)return ie(W,X)||g(X);if(X.inLinked)return He(W,X)||g(X);switch(W.currentChar()){case"{":return ie(W,X)||g(X);case"}":return A(St.UNBALANCED_CLOSING_BRACE,r(),0),W.next(),h(X,3,"}");case"@":return He(W,X)||g(X);default:if($(W))return re=h(X,1,ye(W)),X.braceNest=0,X.inLinked=!1,re;const{isModulo:xe,hasSpace:Me}=D(W);if(xe)return Me?h(X,0,ee(W)):h(X,4,G(W));if(U(W))return h(X,0,ee(W));break}return re}function ae(){const{currentType:W,offset:X,startLoc:re,endLoc:ve}=l;return l.lastType=W,l.lastOffset=X,l.lastStartLoc=re,l.lastEndLoc=ve,l.offset=s(),l.startLoc=r(),n.currentChar()===Tl?h(l,14):$e(n,l)}return{nextToken:ae,currentOffset:s,currentPosition:r,context:u}}const GBe="parser",KBe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function WBe(t,e,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||i,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function qBe(t={}){const e=t.location!==!1,{onError:i}=t;function n(C,m,b,_,...B){const L=C.currentPosition();if(L.offset+=_,L.column+=_,i){const j=e?OC(b,L):null,O=td(m,j,{domain:GBe,args:B});i(O)}}function s(C,m,b){const _={type:C};return e&&(_.start=m,_.end=m,_.loc={start:b,end:b}),_}function r(C,m,b,_){_&&(C.type=_),e&&(C.end=m,C.loc&&(C.loc.end=b))}function o(C,m){const b=C.context(),_=s(3,b.offset,b.startLoc);return _.value=m,r(_,C.currentOffset(),C.currentPosition()),_}function a(C,m){const b=C.context(),{lastOffset:_,lastStartLoc:B}=b,L=s(5,_,B);return L.index=parseInt(m,10),C.nextToken(),r(L,C.currentOffset(),C.currentPosition()),L}function l(C,m){const b=C.context(),{lastOffset:_,lastStartLoc:B}=b,L=s(4,_,B);return L.key=m,C.nextToken(),r(L,C.currentOffset(),C.currentPosition()),L}function u(C,m){const b=C.context(),{lastOffset:_,lastStartLoc:B}=b,L=s(9,_,B);return L.value=m.replace(KBe,WBe),C.nextToken(),r(L,C.currentOffset(),C.currentPosition()),L}function c(C){const m=C.nextToken(),b=C.context(),{lastOffset:_,lastStartLoc:B}=b,L=s(8,_,B);return m.type!==12?(n(C,St.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),L.value="",r(L,_,B),{nextConsumeToken:m,node:L}):(m.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,So(m)),L.value=m.value||"",r(L,C.currentOffset(),C.currentPosition()),{node:L})}function A(C,m){const b=C.context(),_=s(7,b.offset,b.startLoc);return _.value=m,r(_,C.currentOffset(),C.currentPosition()),_}function h(C){const m=C.context(),b=s(6,m.offset,m.startLoc);let _=C.nextToken();if(_.type===9){const B=c(C);b.modifier=B.node,_=B.nextConsumeToken||C.nextToken()}switch(_.type!==10&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(_)),_=C.nextToken(),_.type===2&&(_=C.nextToken()),_.type){case 11:_.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(_)),b.key=A(C,_.value||"");break;case 5:_.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(_)),b.key=l(C,_.value||"");break;case 6:_.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(_)),b.key=a(C,_.value||"");break;case 7:_.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(_)),b.key=u(C,_.value||"");break;default:n(C,St.UNEXPECTED_EMPTY_LINKED_KEY,m.lastStartLoc,0);const B=C.context(),L=s(7,B.offset,B.startLoc);return L.value="",r(L,B.offset,B.startLoc),b.key=L,r(b,B.offset,B.startLoc),{nextConsumeToken:_,node:b}}return r(b,C.currentOffset(),C.currentPosition()),{node:b}}function g(C){const m=C.context(),b=m.currentType===1?C.currentOffset():m.offset,_=m.currentType===1?m.endLoc:m.startLoc,B=s(2,b,_);B.items=[];let L=null;do{const Q=L||C.nextToken();switch(L=null,Q.type){case 0:Q.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(Q)),B.items.push(o(C,Q.value||""));break;case 6:Q.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(Q)),B.items.push(a(C,Q.value||""));break;case 5:Q.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(Q)),B.items.push(l(C,Q.value||""));break;case 7:Q.value==null&&n(C,St.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,So(Q)),B.items.push(u(C,Q.value||""));break;case 8:const $=h(C);B.items.push($.node),L=$.nextConsumeToken||null;break}}while(m.currentType!==14&&m.currentType!==1);const j=m.currentType===1?m.lastOffset:C.currentOffset(),O=m.currentType===1?m.lastEndLoc:C.currentPosition();return r(B,j,O),B}function f(C,m,b,_){const B=C.context();let L=_.items.length===0;const j=s(1,m,b);j.cases=[],j.cases.push(_);do{const O=g(C);L||(L=O.items.length===0),j.cases.push(O)}while(B.currentType!==14);return L&&n(C,St.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),r(j,C.currentOffset(),C.currentPosition()),j}function y(C){const m=C.context(),{offset:b,startLoc:_}=m,B=g(C);return m.currentType===14?B:f(C,b,_,B)}function E(C){const m=zBe(C,JM({},t)),b=m.context(),_=s(0,b.offset,b.startLoc);return e&&_.loc&&(_.loc.source=C),_.body=y(m),t.onCacheKey&&(_.cacheKey=t.onCacheKey(C)),b.currentType!==14&&n(m,St.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,C[b.offset]||""),r(_,m.currentOffset(),m.currentPosition()),_}return{parse:E}}function So(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function YBe(t,e={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:r=>(i.helpers.add(r),r)}}function Qk(t,e){for(let i=0;i<t.length;i++)lT(t[i],e)}function lT(t,e){switch(t.type){case 1:Qk(t.cases,e),e.helper("plural");break;case 2:Qk(t.items,e);break;case 6:lT(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function XBe(t,e={}){const i=YBe(t);i.helper("normalize"),t.body&&lT(t.body,i);const n=i.context();t.helpers=Array.from(n.helpers)}function JBe(t){const e=t.body;return e.type===2?$k(e):e.cases.forEach(i=>$k(i)),t}function $k(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let i=0;i<t.items.length;i++){const n=t.items[i];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=ZM(e);for(let i=0;i<t.items.length;i++){const n=t.items[i];(n.type===3||n.type===9)&&delete n.value}}}}const ZBe="minifier";function UA(t){switch(t.t=t.type,t.type){case 0:const e=t;UA(e.body),e.b=e.body,delete e.body;break;case 1:const i=t,n=i.cases;for(let c=0;c<n.length;c++)UA(n[c]);i.c=n,delete i.cases;break;case 2:const s=t,r=s.items;for(let c=0;c<r.length;c++)UA(r[c]);s.i=r,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=t;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=t;UA(a.key),a.k=a.key,delete a.key,a.modifier&&(UA(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const l=t;l.i=l.index,delete l.index;break;case 4:const u=t;u.k=u.key,delete u.key;break;default:throw td(St.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ZBe,args:[t.type]})}delete t.type}const e4e="parser";function t4e(t,e){const{sourceMap:i,filename:n,breakLineCode:s,needIndent:r}=e,o=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const l=()=>a;function u(E,C){a.code+=E}function c(E,C=!0){const m=C?s:"";u(r?m+"  ".repeat(E):m)}function A(E=!0){const C=++a.indentLevel;E&&c(C)}function h(E=!0){const C=--a.indentLevel;E&&c(C)}function g(){c(a.indentLevel)}return{context:l,push:u,indent:A,deindent:h,newline:g,helper:E=>"_".concat(E),needIndent:()=>a.needIndent}}function i4e(t,e){const{helper:i}=t;t.push("".concat(i("linked"),"(")),Uh(t,e.key),e.modifier?(t.push(", "),Uh(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function n4e(t,e){const{helper:i,needIndent:n}=t;t.push("".concat(i("normalize"),"([")),t.indent(n());const s=e.items.length;for(let r=0;r<s&&(Uh(t,e.items[r]),r!==s-1);r++)t.push(", ");t.deindent(n()),t.push("])")}function s4e(t,e){const{helper:i,needIndent:n}=t;if(e.cases.length>1){t.push("".concat(i("plural"),"([")),t.indent(n());const s=e.cases.length;for(let r=0;r<s&&(Uh(t,e.cases[r]),r!==s-1);r++)t.push(", ");t.deindent(n()),t.push("])")}}function r4e(t,e){e.body?Uh(t,e.body):t.push("null")}function Uh(t,e){const{helper:i}=t;switch(e.type){case 0:r4e(t,e);break;case 1:s4e(t,e);break;case 2:n4e(t,e);break;case 6:i4e(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push("".concat(i("interpolate"),"(").concat(i("list"),"(").concat(e.index,"))"),e);break;case 4:t.push("".concat(i("interpolate"),"(").concat(i("named"),"(").concat(JSON.stringify(e.key),"))"),e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw td(St.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:e4e,args:[e.type]})}}const o4e=(t,e={})=>{const i=Nk(e.mode)?e.mode:"normal",n=Nk(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,r=e.breakLineCode!=null?e.breakLineCode:i==="arrow"?";":"\n",o=e.needIndent?e.needIndent:i!=="arrow",a=t.helpers||[],l=t4e(t,{mode:i,filename:n,sourceMap:s,breakLineCode:r,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push("const { ".concat(ZM(a.map(A=>"".concat(A,": _").concat(A)),", ")," } = ctx")),l.newline()),l.push("return "),Uh(l,t),l.deindent(o),l.push("}"),delete t.helpers;const{code:u,map:c}=l.context();return{ast:t,code:u,map:c?c.toJSON():void 0}};function a4e(t,e={}){const i=JM({},e),n=!!i.jit,s=!!i.minify,r=i.optimize==null?!0:i.optimize,a=qBe(i).parse(t);return n?(r&&JBe(a),s&&UA(a),{ast:a,code:""}):(XBe(a,i),o4e(a,i))}/*!
  * core-base v9.6.5
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function l4e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ha().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ha().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ha().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const fu=[];fu[0]={w:[0],i:[3,0],"[":[4],o:[7]};fu[1]={w:[1],".":[2],"[":[4],o:[7]};fu[2]={w:[2],i:[3,0],0:[3,0]};fu[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};fu[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};fu[5]={"'":[4,0],o:8,l:[5,0]};fu[6]={'"':[4,0],o:8,l:[6,0]};const u4e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function c4e(t){return u4e.test(t)}function A4e(t){const e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e===i&&(e===34||e===39)?t.slice(1,-1):t}function h4e(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function d4e(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:c4e(e)?A4e(e):"*"+e}function f4e(t){const e=[];let i=-1,n=0,s=0,r,o,a,l,u,c,A;const h=[];h[0]=()=>{o===void 0?o=a:o+=a},h[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},h[2]=()=>{h[0](),s++},h[3]=()=>{if(s>0)s--,n=4,h[0]();else{if(s=0,o===void 0||(o=d4e(o),o===!1))return!1;h[1]()}};function g(){const f=t[i+1];if(n===5&&f==="'"||n===6&&f==='"')return i++,a="\\"+f,h[0](),!0}for(;n!==null;)if(i++,r=t[i],!(r==="\\"&&g())){if(l=h4e(r),A=fu[n],u=A[l]||A.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=h[u[1]],c&&(a=r,c()===!1))))return;if(n===7)return e}}const jk=new Map;function p4e(t,e){return mi(t)?t[e]:null}function g4e(t,e){if(!mi(t))return null;let i=jk.get(e);if(i||(i=f4e(e),i&&jk.set(e,i)),!i)return null;const n=i.length;let s=t,r=0;for(;r<n;){const o=s[i[r]];if(o===void 0||Yi(s))return null;s=o,r++}return s}const m4e=t=>t,v4e=t=>"",b4e="text",y4e=t=>t.length===0?"":FBe(t),w4e=DBe;function Vk(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function _4e(t){const e=xn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(xn(t.named.count)||xn(t.named.n))?xn(t.named.count)?t.named.count:xn(t.named.n)?t.named.n:e:e}function C4e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function E4e(t={}){const e=t.locale,i=_4e(t),n=mi(t.pluralRules)&&ot(e)&&Yi(t.pluralRules[e])?t.pluralRules[e]:Vk,s=mi(t.pluralRules)&&ot(e)&&Yi(t.pluralRules[e])?Vk:void 0,r=C=>C[n(i,C.length,s)],o=t.list||[],a=C=>o[C],l=t.named||{};xn(t.pluralIndex)&&C4e(i,l);const u=C=>l[C];function c(C){const m=Yi(t.messages)?t.messages(C):mi(t.messages)?t.messages[C]:!1;return m||(t.parent?t.parent.message(C):v4e)}const A=C=>t.modifiers?t.modifiers[C]:m4e,h=Lt(t.processor)&&Yi(t.processor.normalize)?t.processor.normalize:y4e,g=Lt(t.processor)&&Yi(t.processor.interpolate)?t.processor.interpolate:w4e,f=Lt(t.processor)&&ot(t.processor.type)?t.processor.type:b4e,E={list:a,named:u,plural:r,linked:(C,...m)=>{const[b,_]=m;let B="text",L="";m.length===1?mi(b)?(L=b.modifier||L,B=b.type||B):ot(b)&&(L=b||L):m.length===2&&(ot(b)&&(L=b||L),ot(_)&&(B=_||B));const j=c(C)(E),O=B==="vnode"&&Ri(j)&&L?j[0]:j;return L?A(L)(O,B):O},message:c,type:f,interpolate:g,normalize:h,values:Kn({},o,l)};return E}let Yp=null;function T4e(t){Yp=t}function x4e(t,e,i){Yp&&Yp.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:i})}const S4e=B4e("function:translate");function B4e(t){return e=>Yp&&Yp.emit(t,e)}const k4e={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function uT(t,e){return e.locale!=null?zk(e.locale):zk(t.locale)}let Uw;function zk(t){return ot(t)?t:Uw!=null&&t.resolvedOnce?Uw:Uw=t()}function D4e(t,e,i){return[...new Set([i,...Ri(e)?e:mi(e)?Object.keys(e):ot(e)?[e]:[i]])]}function e8(t,e,i){const n=ot(i)?i:Nh,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(n);if(!r){r=[];let o=[i];for(;Ri(o);)o=Gk(r,o,e);const a=Ri(e)||!Lt(e)?e:e.default?e.default:null;o=ot(a)?[a]:a,Ri(o)&&Gk(r,o,!1),s.__localeChainCache.set(n,r)}return r}function Gk(t,e,i){let n=!0;for(let s=0;s<e.length&&Vt(n);s++){const r=e[s];ot(r)&&(n=F4e(t,e[s],i))}return n}function F4e(t,e,i){let n;const s=e.split("-");do{const r=s.join("-");n=I4e(t,r,i),s.splice(-1,1)}while(s.length&&n===!0);return n}function I4e(t,e,i){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Ri(i)||Lt(i))&&i[s]&&(n=i[s])}return n}const L4e="9.6.5",wy=-1,Nh="en-US",Kk="",Wk=t=>"".concat(t.charAt(0).toLocaleUpperCase()).concat(t.substr(1));function P4e(){return{upper:(t,e)=>e==="text"&&ot(t)?t.toUpperCase():e==="vnode"&&mi(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&ot(t)?t.toLowerCase():e==="vnode"&&mi(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&ot(t)?Wk(t):e==="vnode"&&mi(t)&&"__v_isVNode"in t?Wk(t.children):t}}let t8;function qk(t){t8=t}let i8;function M4e(t){i8=t}let n8;function R4e(t){n8=t}let s8=null;const O4e=t=>{s8=t},U4e=()=>s8;let r8=null;const Yk=t=>{r8=t},N4e=()=>r8;let Xk=0;function H4e(t={}){const e=Yi(t.onWarn)?t.onWarn:IBe,i=ot(t.version)?t.version:L4e,n=ot(t.locale)||Yi(t.locale)?t.locale:Nh,s=Yi(n)?Nh:n,r=Ri(t.fallbackLocale)||Lt(t.fallbackLocale)||ot(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=Lt(t.messages)?t.messages:{[s]:{}},a=Lt(t.datetimeFormats)?t.datetimeFormats:{[s]:{}},l=Lt(t.numberFormats)?t.numberFormats:{[s]:{}},u=Kn({},t.modifiers||{},P4e()),c=t.pluralRules||{},A=Yi(t.missing)?t.missing:null,h=Vt(t.missingWarn)||uu(t.missingWarn)?t.missingWarn:!0,g=Vt(t.fallbackWarn)||uu(t.fallbackWarn)?t.fallbackWarn:!0,f=!!t.fallbackFormat,y=!!t.unresolving,E=Yi(t.postTranslation)?t.postTranslation:null,C=Lt(t.processor)?t.processor:null,m=Vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter,_=Yi(t.messageCompiler)?t.messageCompiler:t8,B=Yi(t.messageResolver)?t.messageResolver:i8||p4e,L=Yi(t.localeFallbacker)?t.localeFallbacker:n8||D4e,j=mi(t.fallbackContext)?t.fallbackContext:void 0,O=t,Q=mi(O.__datetimeFormatters)?O.__datetimeFormatters:new Map,$=mi(O.__numberFormatters)?O.__numberFormatters:new Map,D=mi(O.__meta)?O.__meta:{};Xk++;const U={version:i,cid:Xk,locale:n,fallbackLocale:r,messages:o,modifiers:u,pluralRules:c,missing:A,missingWarn:h,fallbackWarn:g,fallbackFormat:f,unresolving:y,postTranslation:E,processor:C,warnHtmlMessage:m,escapeParameter:b,messageCompiler:_,messageResolver:B,localeFallbacker:L,fallbackContext:j,onWarn:e,__meta:D};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=Q,U.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&x4e(U,i,D),U}function cT(t,e,i,n,s){const{missing:r,onWarn:o}=t;if(r!==null){const a=r(t,i,e,s);return ot(a)?a:e}else return e}function _f(t,e,i){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,i,e)}function Nw(t){return i=>Q4e(i,t)}function Q4e(t,e){const i=e.b||e.body;if((i.t||i.type)===1){const n=i,s=n.c||n.cases;return t.plural(s.reduce((r,o)=>[...r,Jk(t,o)],[]))}else return Jk(t,i)}function Jk(t,e){const i=e.s||e.static;if(i)return t.type==="text"?i:t.normalize([i]);{const n=(e.i||e.items).reduce((s,r)=>[...s,UC(t,r)],[]);return t.normalize(n)}}function UC(t,e){const i=e.t||e.type;switch(i){case 3:const n=e;return n.v||n.value;case 9:const s=e;return s.v||s.value;case 4:const r=e;return t.interpolate(t.named(r.k||r.key));case 5:const o=e;return t.interpolate(t.list(o.i!=null?o.i:o.index));case 6:const a=e,l=a.m||a.modifier;return t.linked(UC(t,a.k||a.key),l?UC(t,l):void 0,t.type);case 7:const u=e;return u.v||u.value;case 8:const c=e;return c.v||c.value;default:throw new Error("unhandled node type on format message part: ".concat(i))}}const o8=St.__EXTEND_POINT__,g0=aT(o8),Gl={INVALID_ARGUMENT:o8,INVALID_DATE_ARGUMENT:g0(),INVALID_ISO_DATE_ARGUMENT:g0(),NOT_SUPPORT_NON_STRING_MESSAGE:g0(),__EXTEND_POINT__:g0()};function _c(t){return td(t,null,void 0)}const a8=t=>t;let YA=Object.create(null);const Hh=t=>mi(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function l8(t,e={}){let i=!1;const n=e.onError||UBe;return e.onError=s=>{i=!0,n(s)},{...a4e(t,e),detectError:i}}const $4e=(t,e)=>{if(!ot(t))throw _c(Gl.NOT_SUPPORT_NON_STRING_MESSAGE);{Vt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||a8)(t),s=YA[n];if(s)return s;const{code:r,detectError:o}=l8(t,e),a=new Function("return ".concat(r))();return o?a:YA[n]=a}};function j4e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&ot(t)){Vt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||a8)(t),s=YA[n];if(s)return s;const{ast:r,detectError:o}=l8(t,{...e,location:!1,jit:!0}),a=Nw(r);return o?a:YA[n]=a}else{const i=t.cacheKey;if(i){const n=YA[i];return n||(YA[i]=Nw(t))}else return Nw(t)}}const Zk=()=>"",Hr=t=>Yi(t);function eD(t,...e){const{fallbackFormat:i,postTranslation:n,unresolving:s,messageCompiler:r,fallbackLocale:o,messages:a}=t,[l,u]=NC(...e),c=Vt(u.missingWarn)?u.missingWarn:t.missingWarn,A=Vt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,h=Vt(u.escapeParameter)?u.escapeParameter:t.escapeParameter,g=!!u.resolvedMessage,f=ot(u.default)||Vt(u.default)?Vt(u.default)?r?l:()=>l:u.default:i?r?l:()=>l:"",y=i||f!=="",E=uT(t,u);h&&V4e(u);let[C,m,b]=g?[l,E,a[E]||{}]:u8(t,l,E,o,A,c),_=C,B=l;if(!g&&!(ot(_)||Hh(_)||Hr(_))&&y&&(_=f,B=_),!g&&(!(ot(_)||Hh(_)||Hr(_))||!ot(m)))return s?wy:l;let L=!1;const j=()=>{L=!0},O=Hr(_)?_:c8(t,l,m,_,B,j);if(L)return _;const Q=K4e(t,m,b,u),$=E4e(Q),D=z4e(t,O,$),U=n?n(D,l):D;if(__INTLIFY_PROD_DEVTOOLS__){const S={timestamp:Date.now(),key:ot(l)?l:Hr(_)?_.key:"",locale:m||(Hr(_)?_.locale:""),format:ot(_)?_:Hr(_)?_.source:"",message:U};S.meta=Kn({},t.__meta,U4e()||{}),S4e(S)}return U}function V4e(t){Ri(t.list)?t.list=t.list.map(e=>ot(e)?Uk(e):e):mi(t.named)&&Object.keys(t.named).forEach(e=>{ot(t.named[e])&&(t.named[e]=Uk(t.named[e]))})}function u8(t,e,i,n,s,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:u}=t,c=u(t,n,i);let A={},h,g=null;const f="translate";for(let y=0;y<c.length&&(h=c[y],A=o[h]||{},(g=l(A,e))===null&&(g=A[e]),!(ot(g)||Hh(g)||Hr(g)));y++){const E=cT(t,e,h,r,f);E!==e&&(g=E)}return[g,h,A]}function c8(t,e,i,n,s,r){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Hr(n)){const u=n;return u.locale=u.locale||i,u.key=u.key||e,u}if(o==null){const u=()=>n;return u.locale=i,u.key=e,u}const l=o(n,G4e(t,i,s,n,a,r));return l.locale=i,l.key=e,l.source=n,l}function z4e(t,e,i){return e(i)}function NC(...t){const[e,i,n]=t,s={};if(!ot(e)&&!xn(e)&&!Hr(e)&&!Hh(e))throw _c(Gl.INVALID_ARGUMENT);const r=xn(e)?String(e):(Hr(e),e);return xn(i)?s.plural=i:ot(i)?s.default=i:Lt(i)&&!yy(i)?s.named=i:Ri(i)&&(s.list=i),xn(n)?s.plural=n:ot(n)?s.default=n:Lt(n)&&Kn(s,n),[r,s]}function G4e(t,e,i,n,s,r){return{locale:e,key:i,warnHtmlMessage:s,onError:o=>{throw r&&r(o),o},onCacheKey:o=>xBe(e,i,o)}}function K4e(t,e,i,n){const{modifiers:s,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,h={locale:e,modifiers:s,pluralRules:r,messages:g=>{let f=o(i,g);if(f==null&&c){const[,,y]=u8(c,g,e,a,l,u);f=o(y,g)}if(ot(f)||Hh(f)){let y=!1;const C=c8(t,g,e,f,g,()=>{y=!0});return y?Zk:C}else return Hr(f)?f:Zk}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),xn(n.plural)&&(h.pluralIndex=n.plural),h}function tD(t,...e){const{datetimeFormats:i,unresolving:n,fallbackLocale:s,onWarn:r,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,u,c,A]=HC(...e),h=Vt(c.missingWarn)?c.missingWarn:t.missingWarn;Vt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,f=uT(t,c),y=o(t,s,f);if(!ot(l)||l==="")return new Intl.DateTimeFormat(f,A).format(u);let E={},C,m=null;const b="datetime format";for(let L=0;L<y.length&&(C=y[L],E=i[C]||{},m=E[l],!Lt(m));L++)cT(t,l,C,h,b);if(!Lt(m)||!ot(C))return n?wy:l;let _="".concat(C,"__").concat(l);yy(A)||(_="".concat(_,"__").concat(JSON.stringify(A)));let B=a.get(_);return B||(B=new Intl.DateTimeFormat(C,Kn({},m,A)),a.set(_,B)),g?B.formatToParts(u):B.format(u)}const A8=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function HC(...t){const[e,i,n,s]=t,r={};let o={},a;if(ot(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw _c(Gl.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?"".concat(l[1].trim()).concat(l[3].trim()):"".concat(l[1].trim(),"T").concat(l[3].trim()):l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw _c(Gl.INVALID_ISO_DATE_ARGUMENT)}}else if(BBe(e)){if(isNaN(e.getTime()))throw _c(Gl.INVALID_DATE_ARGUMENT);a=e}else if(xn(e))a=e;else throw _c(Gl.INVALID_ARGUMENT);return ot(i)?r.key=i:Lt(i)&&Object.keys(i).forEach(l=>{A8.includes(l)?o[l]=i[l]:r[l]=i[l]}),ot(n)?r.locale=n:Lt(n)&&(o=n),Lt(s)&&(o=s),[r.key||"",a,r,o]}function iD(t,e,i){const n=t;for(const s in i){const r="".concat(e,"__").concat(s);n.__datetimeFormatters.has(r)&&n.__datetimeFormatters.delete(r)}}function nD(t,...e){const{numberFormats:i,unresolving:n,fallbackLocale:s,onWarn:r,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,u,c,A]=QC(...e),h=Vt(c.missingWarn)?c.missingWarn:t.missingWarn;Vt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,f=uT(t,c),y=o(t,s,f);if(!ot(l)||l==="")return new Intl.NumberFormat(f,A).format(u);let E={},C,m=null;const b="number format";for(let L=0;L<y.length&&(C=y[L],E=i[C]||{},m=E[l],!Lt(m));L++)cT(t,l,C,h,b);if(!Lt(m)||!ot(C))return n?wy:l;let _="".concat(C,"__").concat(l);yy(A)||(_="".concat(_,"__").concat(JSON.stringify(A)));let B=a.get(_);return B||(B=new Intl.NumberFormat(C,Kn({},m,A)),a.set(_,B)),g?B.formatToParts(u):B.format(u)}const h8=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function QC(...t){const[e,i,n,s]=t,r={};let o={};if(!xn(e))throw _c(Gl.INVALID_ARGUMENT);const a=e;return ot(i)?r.key=i:Lt(i)&&Object.keys(i).forEach(l=>{h8.includes(l)?o[l]=i[l]:r[l]=i[l]}),ot(n)?r.locale=n:Lt(n)&&(o=n),Lt(s)&&(o=s),[r.key||"",a,r,o]}function sD(t,e,i){const n=t;for(const s in i){const r="".concat(e,"__").concat(s);n.__numberFormatters.has(r)&&n.__numberFormatters.delete(r)}}l4e();/*!
  * vue-i18n v9.6.5
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const W4e="9.6.5";function q4e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ha().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ha().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ha().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ha().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ha().__INTLIFY_PROD_DEVTOOLS__=!1)}const d8=k4e.__EXTEND_POINT__,xl=aT(d8);xl(),xl(),xl(),xl(),xl(),xl(),xl(),xl();const f8=Gl.__EXTEND_POINT__,Ps=aT(f8),yn={UNEXPECTED_RETURN_TYPE:f8,INVALID_ARGUMENT:Ps(),MUST_BE_CALL_SETUP_TOP:Ps(),NOT_INSTALLED:Ps(),NOT_AVAILABLE_IN_LEGACY_MODE:Ps(),REQUIRED_VALUE:Ps(),INVALID_VALUE:Ps(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ps(),NOT_INSTALLED_WITH_PROVIDE:Ps(),UNEXPECTED_ERROR:Ps(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ps(),BRIDGE_SUPPORT_VUE_2_ONLY:Ps(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ps(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ps(),__EXTEND_POINT__:Ps()};function Sn(t,...e){return td(t,null,void 0)}const $C=du("__translateVNode"),jC=du("__datetimeParts"),VC=du("__numberParts"),p8=du("__setPluralRules"),g8=du("__injectWithOption"),zC=du("__dispose");function Xp(t){if(!mi(t))return t;for(const e in t)if(qp(t,e))if(!e.includes("."))mi(t[e])&&Xp(t[e]);else{const i=e.split("."),n=i.length-1;let s=t,r=!1;for(let o=0;o<n;o++){if(i[o]in s||(s[i[o]]={}),!mi(s[i[o]])){r=!0;break}s=s[i[o]]}r||(s[i[n]]=t[e],delete t[e]),mi(s[i[n]])&&Xp(s[i[n]])}return t}function _y(t,e){const{messages:i,__i18n:n,messageResolver:s,flatJson:r}=e,o=Lt(i)?i:Ri(n)?{}:{[t]:{}};if(Ri(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(o[l]=o[l]||{},Tp(u,o[l])):Tp(u,o)}else ot(a)&&Tp(JSON.parse(a),o)}),s==null&&r)for(const a in o)qp(o,a)&&Xp(o[a]);return o}const m0=t=>!mi(t)||Ri(t);function Tp(t,e){if(m0(t)||m0(e))throw Sn(yn.INVALID_VALUE);for(const i in t)qp(t,i)&&(m0(t[i])||m0(e[i])?e[i]=t[i]:Tp(t[i],e[i]))}function m8(t){return t.type}function v8(t,e,i){let n=mi(e.messages)?e.messages:{};"__i18nGlobal"in i&&(n=_y(t.locale.value,{messages:n,__i18n:i.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(r=>{t.mergeLocaleMessage(r,n[r])});{if(mi(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(mi(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function rD(t){return Ct(tu,null,t,0)}const oD="__INTLIFY_META__",aD=()=>[],Y4e=()=>!1;let lD=0;function uD(t){return(e,i,n,s)=>t(i,n,Ks()||void 0,s)}const X4e=()=>{const t=Ks();let e=null;return t&&(e=m8(t)[oD])?{[oD]:e}:null};function AT(t={},e){const{__root:i,__injectWithOption:n}=t,s=i===void 0,r=t.flatJson;let o=Vt(t.inheritLocale)?t.inheritLocale:!0;const a=ss(i&&o?i.locale.value:ot(t.locale)?t.locale:Nh),l=ss(i&&o?i.fallbackLocale.value:ot(t.fallbackLocale)||Ri(t.fallbackLocale)||Lt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),u=ss(_y(a.value,t)),c=ss(Lt(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),A=ss(Lt(t.numberFormats)?t.numberFormats:{[a.value]:{}});let h=i?i.missingWarn:Vt(t.missingWarn)||uu(t.missingWarn)?t.missingWarn:!0,g=i?i.fallbackWarn:Vt(t.fallbackWarn)||uu(t.fallbackWarn)?t.fallbackWarn:!0,f=i?i.fallbackRoot:Vt(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,E=Yi(t.missing)?t.missing:null,C=Yi(t.missing)?uD(t.missing):null,m=Yi(t.postTranslation)?t.postTranslation:null,b=i?i.warnHtmlMessage:Vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter;const B=i?i.modifiers:Lt(t.modifiers)?t.modifiers:{};let L=t.pluralRules||i&&i.pluralRules,j;j=(()=>{s&&Yk(null);const _e={version:W4e,locale:a.value,fallbackLocale:l.value,messages:u.value,modifiers:B,pluralRules:L,missing:C===null?void 0:C,missingWarn:h,fallbackWarn:g,fallbackFormat:y,unresolving:!0,postTranslation:m===null?void 0:m,warnHtmlMessage:b,escapeParameter:_,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};_e.datetimeFormats=c.value,_e.numberFormats=A.value,_e.__datetimeFormatters=Lt(j)?j.__datetimeFormatters:void 0,_e.__numberFormatters=Lt(j)?j.__numberFormatters:void 0;const Te=H4e(_e);return s&&Yk(Te),Te})(),_f(j,a.value,l.value);function Q(){return[a.value,l.value,u.value,c.value,A.value]}const $=$r({get:()=>a.value,set:_e=>{a.value=_e,j.locale=a.value}}),D=$r({get:()=>l.value,set:_e=>{l.value=_e,j.fallbackLocale=l.value,_f(j,a.value,_e)}}),U=$r(()=>u.value),S=$r(()=>c.value),k=$r(()=>A.value);function M(){return Yi(m)?m:null}function N(_e){m=_e,j.postTranslation=_e}function V(){return E}function G(_e){_e!==null&&(C=uD(_e)),E=_e,j.missing=C}const ee=(_e,Te,je,nt,st,bt)=>{Q();let ct;try{__INTLIFY_PROD_DEVTOOLS__,s||(j.fallbackContext=i?N4e():void 0),ct=_e(j)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(j.fallbackContext=void 0)}if(je!=="translate exists"&&xn(ct)&&ct===wy||je==="translate exists"&&!ct){const[$t,_t]=Te();return i&&f?nt(i):st($t)}else{if(bt(ct))return ct;throw Sn(yn.UNEXPECTED_RETURN_TYPE)}};function se(..._e){return ee(Te=>Reflect.apply(eD,null,[Te,..._e]),()=>NC(..._e),"translate",Te=>Reflect.apply(Te.t,Te,[..._e]),Te=>Te,Te=>ot(Te))}function ne(..._e){const[Te,je,nt]=_e;if(nt&&!mi(nt))throw Sn(yn.INVALID_ARGUMENT);return se(Te,je,Kn({resolvedMessage:!0},nt||{}))}function le(..._e){return ee(Te=>Reflect.apply(tD,null,[Te,..._e]),()=>HC(..._e),"datetime format",Te=>Reflect.apply(Te.d,Te,[..._e]),()=>Kk,Te=>ot(Te))}function he(..._e){return ee(Te=>Reflect.apply(nD,null,[Te,..._e]),()=>QC(..._e),"number format",Te=>Reflect.apply(Te.n,Te,[..._e]),()=>Kk,Te=>ot(Te))}function we(_e){return _e.map(Te=>ot(Te)||xn(Te)||Vt(Te)?rD(String(Te)):Te)}const ke={normalize:we,interpolate:_e=>_e,type:"vnode"};function ce(..._e){return ee(Te=>{let je;const nt=Te;try{nt.processor=ke,je=Reflect.apply(eD,null,[nt,..._e])}finally{nt.processor=null}return je},()=>NC(..._e),"translate",Te=>Te[$C](..._e),Te=>[rD(Te)],Te=>Ri(Te))}function ye(..._e){return ee(Te=>Reflect.apply(nD,null,[Te,..._e]),()=>QC(..._e),"number format",Te=>Te[VC](..._e),aD,Te=>ot(Te)||Ri(Te))}function ie(..._e){return ee(Te=>Reflect.apply(tD,null,[Te,..._e]),()=>HC(..._e),"datetime format",Te=>Te[jC](..._e),aD,Te=>ot(Te)||Ri(Te))}function He(_e){L=_e,j.pluralRules=L}function $e(_e,Te){return ee(()=>{if(!_e)return!1;const je=ot(Te)?Te:a.value,nt=X(je),st=j.messageResolver(nt,_e);return Hh(st)||Hr(st)||ot(st)},()=>[_e],"translate exists",je=>Reflect.apply(je.te,je,[_e,Te]),Y4e,je=>Vt(je))}function ae(_e){let Te=null;const je=e8(j,l.value,a.value);for(let nt=0;nt<je.length;nt++){const st=u.value[je[nt]]||{},bt=j.messageResolver(st,_e);if(bt!=null){Te=bt;break}}return Te}function W(_e){const Te=ae(_e);return Te!=null?Te:i?i.tm(_e)||{}:{}}function X(_e){return u.value[_e]||{}}function re(_e,Te){if(r){const je={[_e]:Te};for(const nt in je)qp(je,nt)&&Xp(je[nt]);Te=je[_e]}u.value[_e]=Te,j.messages=u.value}function ve(_e,Te){u.value[_e]=u.value[_e]||{};const je={[_e]:Te};for(const nt in je)qp(je,nt)&&Xp(je[nt]);Te=je[_e],Tp(Te,u.value[_e]),j.messages=u.value}function xe(_e){return c.value[_e]||{}}function Me(_e,Te){c.value[_e]=Te,j.datetimeFormats=c.value,iD(j,_e,Te)}function Fe(_e,Te){c.value[_e]=Kn(c.value[_e]||{},Te),j.datetimeFormats=c.value,iD(j,_e,Te)}function Ie(_e){return A.value[_e]||{}}function Le(_e,Te){A.value[_e]=Te,j.numberFormats=A.value,sD(j,_e,Te)}function Ge(_e,Te){A.value[_e]=Kn(A.value[_e]||{},Te),j.numberFormats=A.value,sD(j,_e,Te)}lD++,i&&RC&&(Ho(i.locale,_e=>{o&&(a.value=_e,j.locale=_e,_f(j,a.value,l.value))}),Ho(i.fallbackLocale,_e=>{o&&(l.value=_e,j.fallbackLocale=_e,_f(j,a.value,l.value))}));const ze={id:lD,locale:$,fallbackLocale:D,get inheritLocale(){return o},set inheritLocale(_e){o=_e,_e&&i&&(a.value=i.locale.value,l.value=i.fallbackLocale.value,_f(j,a.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:U,get modifiers(){return B},get pluralRules(){return L||{}},get isGlobal(){return s},get missingWarn(){return h},set missingWarn(_e){h=_e,j.missingWarn=h},get fallbackWarn(){return g},set fallbackWarn(_e){g=_e,j.fallbackWarn=g},get fallbackRoot(){return f},set fallbackRoot(_e){f=_e},get fallbackFormat(){return y},set fallbackFormat(_e){y=_e,j.fallbackFormat=y},get warnHtmlMessage(){return b},set warnHtmlMessage(_e){b=_e,j.warnHtmlMessage=_e},get escapeParameter(){return _},set escapeParameter(_e){_=_e,j.escapeParameter=_e},t:se,getLocaleMessage:X,setLocaleMessage:re,mergeLocaleMessage:ve,getPostTranslationHandler:M,setPostTranslationHandler:N,getMissingHandler:V,setMissingHandler:G,[p8]:He};return ze.datetimeFormats=S,ze.numberFormats=k,ze.rt=ne,ze.te=$e,ze.tm=W,ze.d=le,ze.n=he,ze.getDateTimeFormat=xe,ze.setDateTimeFormat=Me,ze.mergeDateTimeFormat=Fe,ze.getNumberFormat=Ie,ze.setNumberFormat=Le,ze.mergeNumberFormat=Ge,ze[g8]=n,ze[$C]=ce,ze[jC]=ie,ze[VC]=ye,ze}function J4e(t){const e=ot(t.locale)?t.locale:Nh,i=ot(t.fallbackLocale)||Ri(t.fallbackLocale)||Lt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Yi(t.missing)?t.missing:void 0,s=Vt(t.silentTranslationWarn)||uu(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,r=Vt(t.silentFallbackWarn)||uu(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Vt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Lt(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=Yi(t.postTranslation)?t.postTranslation:void 0,A=ot(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,g=Vt(t.sync)?t.sync:!0;let f=t.messages;if(Lt(t.sharedMessages)){const B=t.sharedMessages;f=Object.keys(B).reduce((j,O)=>{const Q=j[O]||(j[O]={});return Kn(Q,B[O]),j},f||{})}const{__i18n:y,__root:E,__injectWithOption:C}=t,m=t.datetimeFormats,b=t.numberFormats,_=t.flatJson;return{locale:e,fallbackLocale:i,messages:f,flatJson:_,datetimeFormats:m,numberFormats:b,missing:n,missingWarn:s,fallbackWarn:r,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:A,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:g,__i18n:y,__root:E,__injectWithOption:C}}function GC(t={},e){{const i=AT(J4e(t)),{__extender:n}=t,s={id:i.id,get locale(){return i.locale.value},set locale(r){i.locale.value=r},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(r){i.fallbackLocale.value=r},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(r){},get missing(){return i.getMissingHandler()},set missing(r){i.setMissingHandler(r)},get silentTranslationWarn(){return Vt(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(r){i.missingWarn=Vt(r)?!r:r},get silentFallbackWarn(){return Vt(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(r){i.fallbackWarn=Vt(r)?!r:r},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(r){i.fallbackFormat=r},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(r){i.setPostTranslationHandler(r)},get sync(){return i.inheritLocale},set sync(r){i.inheritLocale=r},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){i.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(r){i.escapeParameter=r},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(r){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...r){const[o,a,l]=r,u={};let c=null,A=null;if(!ot(o))throw Sn(yn.INVALID_ARGUMENT);const h=o;return ot(a)?u.locale=a:Ri(a)?c=a:Lt(a)&&(A=a),Ri(l)?c=l:Lt(l)&&(A=l),Reflect.apply(i.t,i,[h,c||A||{},u])},rt(...r){return Reflect.apply(i.rt,i,[...r])},tc(...r){const[o,a,l]=r,u={plural:1};let c=null,A=null;if(!ot(o))throw Sn(yn.INVALID_ARGUMENT);const h=o;return ot(a)?u.locale=a:xn(a)?u.plural=a:Ri(a)?c=a:Lt(a)&&(A=a),ot(l)?u.locale=l:Ri(l)?c=l:Lt(l)&&(A=l),Reflect.apply(i.t,i,[h,c||A||{},u])},te(r,o){return i.te(r,o)},tm(r){return i.tm(r)},getLocaleMessage(r){return i.getLocaleMessage(r)},setLocaleMessage(r,o){i.setLocaleMessage(r,o)},mergeLocaleMessage(r,o){i.mergeLocaleMessage(r,o)},d(...r){return Reflect.apply(i.d,i,[...r])},getDateTimeFormat(r){return i.getDateTimeFormat(r)},setDateTimeFormat(r,o){i.setDateTimeFormat(r,o)},mergeDateTimeFormat(r,o){i.mergeDateTimeFormat(r,o)},n(...r){return Reflect.apply(i.n,i,[...r])},getNumberFormat(r){return i.getNumberFormat(r)},setNumberFormat(r,o){i.setNumberFormat(r,o)},mergeNumberFormat(r,o){i.mergeNumberFormat(r,o)},getChoiceIndex(r,o){return-1}};return s.__extender=n,s}}const hT={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Z4e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,s)=>[...n,...s.type===dt?s.children:[s]],[]):e.reduce((i,n)=>{const s=t[n];return s&&(i[n]=s()),i},{})}function b8(t){return dt}const eke=jc({name:"i18n-t",props:Kn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>xn(t)||!isNaN(t)}},hT),setup(t,e){const{slots:i,attrs:n}=e,s=t.i18n||dT({useScope:t.scope,__useComponent:!0});return()=>{const r=Object.keys(i).filter(A=>A!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=ot(t.plural)?+t.plural:t.plural);const a=Z4e(e,r),l=s[$C](t.keypath,a,o),u=Kn({},n),c=ot(t.tag)||mi(t.tag)?t.tag:b8();return lo(c,u,l)}}}),cD=eke;function tke(t){return Ri(t)&&!ot(t[0])}function y8(t,e,i,n){const{slots:s,attrs:r}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),ot(t.format)?o.key=t.format:mi(t.format)&&(ot(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((h,g)=>i.includes(g)?Kn({},h,{[g]:t.format[g]}):h,{}));const l=n(t.value,o,a);let u=[o.key];Ri(l)?u=l.map((h,g)=>{const f=s[h.type],y=f?f({[h.type]:h.value,index:g,parts:l}):[h.value];return tke(y)&&(y[0].key="".concat(h.type,"-").concat(g)),y}):ot(l)&&(u=[l]);const c=Kn({},r),A=ot(t.tag)||mi(t.tag)?t.tag:b8();return lo(A,c,u)}}const ike=jc({name:"i18n-n",props:Kn({value:{type:Number,required:!0},format:{type:[String,Object]}},hT),setup(t,e){const i=t.i18n||dT({useScope:"parent",__useComponent:!0});return y8(t,e,h8,(...n)=>i[VC](...n))}}),AD=ike,nke=jc({name:"i18n-d",props:Kn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},hT),setup(t,e){const i=t.i18n||dT({useScope:"parent",__useComponent:!0});return y8(t,e,A8,(...n)=>i[jC](...n))}}),hD=nke;function ske(t,e){const i=t;if(t.mode==="composition")return i.__getInstance(e)||t.global;{const n=i.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function rke(t){const e=o=>{const{instance:a,modifiers:l,value:u}=o;if(!a||!a.$)throw Sn(yn.UNEXPECTED_ERROR);const c=ske(t,a.$),A=dD(u);return[Reflect.apply(c.t,c,[...fD(A)]),c]};return{created:(o,a)=>{const[l,u]=e(a);RC&&t.global===u&&(o.__i18nWatcher=Ho(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{RC&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,u=dD(a);o.textContent=Reflect.apply(l.t,l,[...fD(u)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function dD(t){if(ot(t))return{path:t};if(Lt(t)){if(!("path"in t))throw Sn(yn.REQUIRED_VALUE,"path");return t}else throw Sn(yn.INVALID_VALUE)}function fD(t){const{path:e,locale:i,args:n,choice:s,plural:r}=t,o={},a=n||{};return ot(i)&&(o.locale=i),xn(s)&&(o.plural=s),xn(r)&&(o.plural=r),[e,a,o]}function oke(t,e,...i){const n=Lt(i[0])?i[0]:{},s=!!n.useI18nComponentName;(Vt(n.globalInstall)?n.globalInstall:!0)&&([s?"i18n":cD.name,"I18nT"].forEach(o=>t.component(o,cD)),[AD.name,"I18nN"].forEach(o=>t.component(o,AD)),[hD.name,"I18nD"].forEach(o=>t.component(o,hD))),t.directive("t",rke(e))}function ake(t,e,i){return{beforeCreate(){const n=Ks();if(!n)throw Sn(yn.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const r=s.i18n;if(s.__i18n&&(r.__i18n=s.__i18n),r.__root=e,this===this.$root)this.$i18n=pD(t,r);else{r.__injectWithOption=!0,r.__extender=i.__vueI18nExtend,this.$i18n=GC(r);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=pD(t,s);else{this.$i18n=GC({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:e});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&v8(e,s,s),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$tc=(...r)=>this.$i18n.tc(...r),this.$te=(r,o)=>this.$i18n.te(r,o),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),i.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Ks();if(!n)throw Sn(yn.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),i.__deleteInstance(n),delete this.$i18n}}}function pD(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[p8](e.pluralizationRules||t.pluralizationRules);const i=_y(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(i).forEach(n=>t.mergeLocaleMessage(n,i[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const lke=du("global-vue-i18n");function uke(t={},e){const i=__VUE_I18N_LEGACY_API__&&Vt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=Vt(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&i?!!t.allowComposition:!0,r=new Map,[o,a]=cke(t,i),l=du("");function u(h){return r.get(h)||null}function c(h,g){r.set(h,g)}function A(h){r.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(g,...f){if(g.__VUE_I18N_SYMBOL__=l,g.provide(g.__VUE_I18N_SYMBOL__,h),Lt(f[0])){const C=f[0];h.__composerExtend=C.__composerExtend,h.__vueI18nExtend=C.__vueI18nExtend}let y=null;!i&&n&&(y=bke(g,h.global)),__VUE_I18N_FULL_INSTALL__&&oke(g,h,...f),__VUE_I18N_LEGACY_API__&&i&&g.mixin(ake(a,a.__composer,h));const E=g.unmount;g.unmount=()=>{y&&y(),h.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:r,__getInstance:u,__setInstance:c,__deleteInstance:A};return h}}function dT(t={}){const e=Ks();if(e==null)throw Sn(yn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Sn(yn.NOT_INSTALLED);const i=Ake(e),n=dke(i),s=m8(e),r=hke(t,s);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!t.__useComponent){if(!i.allowComposition)throw Sn(yn.NOT_AVAILABLE_IN_LEGACY_MODE);return mke(e,r,n,t)}if(r==="global")return v8(n,t,s),n;if(r==="parent"){let l=fke(i,e,t.__useComponent);return l==null&&(l=n),l}const o=i;let a=o.__getInstance(e);if(a==null){const l=Kn({},t);"__i18n"in s&&(l.__i18n=s.__i18n),n&&(l.__root=n),a=AT(l),o.__composerExtend&&(a[zC]=o.__composerExtend(a)),gke(o,e,a),o.__setInstance(e,a)}return a}function cke(t,e,i){const n=wD();{const s=__VUE_I18N_LEGACY_API__&&e?n.run(()=>GC(t)):n.run(()=>AT(t));if(s==null)throw Sn(yn.UNEXPECTED_ERROR);return[n,s]}}function Ake(t){{const e=ih(t.isCE?lke:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Sn(t.isCE?yn.NOT_INSTALLED_WITH_PROVIDE:yn.UNEXPECTED_ERROR);return e}}function hke(t,e){return yy(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function dke(t){return t.mode==="composition"?t.global:t.global.__composer}function fke(t,e,i=!1){let n=null;const s=e.root;let r=pke(e,i);for(;r!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(r);a!=null&&(n=a.__composer,i&&n&&!n[g8]&&(n=null))}if(n!=null||s===r)break;r=r.parent}return n}function pke(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function gke(t,e,i){Vh(()=>{},e),ig(()=>{const n=i;t.__deleteInstance(e);const s=n[zC];s&&(s(),delete n[zC])},e)}function mke(t,e,i,n={}){const s=e==="local",r=OD(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Sn(yn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Vt(n.inheritLocale)?n.inheritLocale:!ot(n.locale),a=ss(!s||o?i.locale.value:ot(n.locale)?n.locale:Nh),l=ss(!s||o?i.fallbackLocale.value:ot(n.fallbackLocale)||Ri(n.fallbackLocale)||Lt(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),u=ss(_y(a.value,n)),c=ss(Lt(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),A=ss(Lt(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=s?i.missingWarn:Vt(n.missingWarn)||uu(n.missingWarn)?n.missingWarn:!0,g=s?i.fallbackWarn:Vt(n.fallbackWarn)||uu(n.fallbackWarn)?n.fallbackWarn:!0,f=s?i.fallbackRoot:Vt(n.fallbackRoot)?n.fallbackRoot:!0,y=!!n.fallbackFormat,E=Yi(n.missing)?n.missing:null,C=Yi(n.postTranslation)?n.postTranslation:null,m=s?i.warnHtmlMessage:Vt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,b=!!n.escapeParameter,_=s?i.modifiers:Lt(n.modifiers)?n.modifiers:{},B=n.pluralRules||s&&i.pluralRules;function L(){return[a.value,l.value,u.value,c.value,A.value]}const j=$r({get:()=>r.value?r.value.locale.value:a.value,set:X=>{r.value&&(r.value.locale.value=X),a.value=X}}),O=$r({get:()=>r.value?r.value.fallbackLocale.value:l.value,set:X=>{r.value&&(r.value.fallbackLocale.value=X),l.value=X}}),Q=$r(()=>r.value?r.value.messages.value:u.value),$=$r(()=>c.value),D=$r(()=>A.value);function U(){return r.value?r.value.getPostTranslationHandler():C}function S(X){r.value&&r.value.setPostTranslationHandler(X)}function k(){return r.value?r.value.getMissingHandler():E}function M(X){r.value&&r.value.setMissingHandler(X)}function N(X){return L(),X()}function V(...X){return r.value?N(()=>Reflect.apply(r.value.t,null,[...X])):N(()=>"")}function G(...X){return r.value?Reflect.apply(r.value.rt,null,[...X]):""}function ee(...X){return r.value?N(()=>Reflect.apply(r.value.d,null,[...X])):N(()=>"")}function se(...X){return r.value?N(()=>Reflect.apply(r.value.n,null,[...X])):N(()=>"")}function ne(X){return r.value?r.value.tm(X):{}}function le(X,re){return r.value?r.value.te(X,re):!1}function he(X){return r.value?r.value.getLocaleMessage(X):{}}function we(X,re){r.value&&(r.value.setLocaleMessage(X,re),u.value[X]=re)}function pe(X,re){r.value&&r.value.mergeLocaleMessage(X,re)}function ke(X){return r.value?r.value.getDateTimeFormat(X):{}}function ce(X,re){r.value&&(r.value.setDateTimeFormat(X,re),c.value[X]=re)}function ye(X,re){r.value&&r.value.mergeDateTimeFormat(X,re)}function ie(X){return r.value?r.value.getNumberFormat(X):{}}function He(X,re){r.value&&(r.value.setNumberFormat(X,re),A.value[X]=re)}function $e(X,re){r.value&&r.value.mergeNumberFormat(X,re)}const ae={get id(){return r.value?r.value.id:-1},locale:j,fallbackLocale:O,messages:Q,datetimeFormats:$,numberFormats:D,get inheritLocale(){return r.value?r.value.inheritLocale:o},set inheritLocale(X){r.value&&(r.value.inheritLocale=X)},get availableLocales(){return r.value?r.value.availableLocales:Object.keys(u.value)},get modifiers(){return r.value?r.value.modifiers:_},get pluralRules(){return r.value?r.value.pluralRules:B},get isGlobal(){return r.value?r.value.isGlobal:!1},get missingWarn(){return r.value?r.value.missingWarn:h},set missingWarn(X){r.value&&(r.value.missingWarn=X)},get fallbackWarn(){return r.value?r.value.fallbackWarn:g},set fallbackWarn(X){r.value&&(r.value.missingWarn=X)},get fallbackRoot(){return r.value?r.value.fallbackRoot:f},set fallbackRoot(X){r.value&&(r.value.fallbackRoot=X)},get fallbackFormat(){return r.value?r.value.fallbackFormat:y},set fallbackFormat(X){r.value&&(r.value.fallbackFormat=X)},get warnHtmlMessage(){return r.value?r.value.warnHtmlMessage:m},set warnHtmlMessage(X){r.value&&(r.value.warnHtmlMessage=X)},get escapeParameter(){return r.value?r.value.escapeParameter:b},set escapeParameter(X){r.value&&(r.value.escapeParameter=X)},t:V,getPostTranslationHandler:U,setPostTranslationHandler:S,getMissingHandler:k,setMissingHandler:M,rt:G,d:ee,n:se,tm:ne,te:le,getLocaleMessage:he,setLocaleMessage:we,mergeLocaleMessage:pe,getDateTimeFormat:ke,setDateTimeFormat:ce,mergeDateTimeFormat:ye,getNumberFormat:ie,setNumberFormat:He,mergeNumberFormat:$e};function W(X){X.locale.value=a.value,X.fallbackLocale.value=l.value,Object.keys(u.value).forEach(re=>{X.mergeLocaleMessage(re,u.value[re])}),Object.keys(c.value).forEach(re=>{X.mergeDateTimeFormat(re,c.value[re])}),Object.keys(A.value).forEach(re=>{X.mergeNumberFormat(re,A.value[re])}),X.escapeParameter=b,X.fallbackFormat=y,X.fallbackRoot=f,X.fallbackWarn=g,X.missingWarn=h,X.warnHtmlMessage=m}return p2(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Sn(yn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const X=r.value=t.proxy.$i18n.__composer;e==="global"?(a.value=X.locale.value,l.value=X.fallbackLocale.value,u.value=X.messages.value,c.value=X.datetimeFormats.value,A.value=X.numberFormats.value):s&&W(X)}),ae}const vke=["locale","fallbackLocale","availableLocales"],gD=["t","rt","d","n","tm","te"];function bke(t,e){const i=Object.create(null);return vke.forEach(s=>{const r=Object.getOwnPropertyDescriptor(e,s);if(!r)throw Sn(yn.UNEXPECTED_ERROR);const o=bn(r.value)?{get(){return r.value.value},set(a){r.value.value=a}}:{get(){return r.get&&r.get()}};Object.defineProperty(i,s,o)}),t.config.globalProperties.$i18n=i,gD.forEach(s=>{const r=Object.getOwnPropertyDescriptor(e,s);if(!r||!r.value)throw Sn(yn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,"$".concat(s),r)}),()=>{delete t.config.globalProperties.$i18n,gD.forEach(s=>{delete t.config.globalProperties["$".concat(s)]})}}q4e();__INTLIFY_JIT_COMPILATION__?qk(j4e):qk($4e);M4e(g4e);R4e(e8);if(__INTLIFY_PROD_DEVTOOLS__){const t=Ha();t.__INTLIFY__=!0,T4e(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const yke="Your screen must be at least 1024px wide to use this application.",wke="QR Code",_ke="Text",Cke="Image",Eke="Drawing",Tke="Doc",xke="Audio",Ske="TTS",Bke="Video",kke="Iframe",Dke="Cloud",Fke="Reorder",Ike="Gaps",Lke="Random text",Pke="Random image",Mke="Dices",Rke="Groups",Oke="Group",Uke="Timer",Nke="C/D",Hke="Feedback",Qke="Grid",$ke="Capture",jke="Annotate",Vke="Screen",zke="Settings",Gke="About",Kke="Link to audio file",Wke="Playback rate",qke="Validate",Yke="Start",Xke="Pause",Jke="Timer",Zke="Link or text",eDe="Number of dices",tDe="Roll",iDe="File name",nDe="Number of columns",sDe="Number of rows",rDe="Text color",oDe="Background color",aDe="Link to an image or search on Pixabay",lDe="Search results",uDe="Select an image",cDe="File on your device",ADe="Search",hDe="Document",dDe="Document on your device (.pdf, .odt, .odp, .ods, .odg)",fDe="Select a document",pDe="Select an audio file",gDe="Select a video",mDe="or",vDe="Wordcloud",bDe="Words",yDe="Size",wDe="Add a word",_De="Add a list of words",CDe="Preview",EDe="Cancel",TDe="Add",xDe="Add a list of words, separated by a comma.",SDe="Example: foxglove, rose, cornflower, poppy",BDe="Type of reorder",kDe="horizontal",DDe="vertical",FDe="Items (in the correct order)",IDe="Add an item",LDe="Check",PDe="Well done!",MDe="Reorder",RDe="Hours",ODe="Minutes",UDe="Seconds",NDe="Time elapsed",HDe="Countdown",QDe="Text-to-Speech",$De="Text to synthesize",jDe="Rate",VDe="Pitch",zDe="Voice",GDe="Listen",KDe="BY DEFAULT",WDe="Link to a video (YouTube, Vimeo or .mp4 file)",qDe="Start",YDe="End",XDe="Min.",JDe="Sec.",ZDe="Increase font size",e3e="Reduce font size",t3e="Bold",i3e="Italic",n3e="Underlined",s3e="Strikethrough",r3e="Decimal List",o3e="List",a3e="Align left",l3e="Center",u3e="Align right",c3e="Black",A3e="Red",h3e="Green",d3e="Blue",f3e="Yellow",p3e="Turquoise",g3e="Grey",m3e="White",v3e="About Digiscreen",b3e="is an interactive board for the classroom and the remote classroom made by",y3e="Contact:",w3e="Language",_3e="Page background",C3e="Select a color",E3e="Previous page",T3e="Next page",x3e="Pages",S3e="Add a page",B3e="Import",k3e="Export",D3e="Import a screen",F3e="Export this screen",I3e="Modules",L3e="Random text drawing",P3e="Random image drawing",M3e="Fill in the gaps",R3e="The foxglove is a *plant*.",O3e="<u>To create a text input</u>: The foxglove is a *plant*.",U3e="<u>To create select input</u>: The foxglove is *a plant&vert;a tree* (the correct answer must be placed in the first position).",N3e="List of persons",H3e="Add the list of persons, separated by a comma.",Q3e="Example: John, Betsy, Charlotte, Michael",$3e="Number of people per group",j3e="Text for the drawing",V3e="Images for the drawing",z3e="Add words or phrases, separated by a comma.",G3e="Click or drag and drop the images here",K3e="Delete the item from the list after the draw?",W3e="yes",q3e="no",Y3e="Draw",X3e="Embedded content",J3e="Link to a site, document or interactive content",Z3e="My text…",eFe="Select",tFe="Free draw",iFe="Move panels",nFe="Undo",sFe="Redo",rFe="Rectangle",oFe="Solid rectangle",aFe="Circle",lFe="Solid circle",uFe="Star",cFe="Line",AFe="Arrow",hFe="Highlight",dFe="Delete",fFe="Close",pFe="Lock",gFe="Unlock",mFe="Put forward",vFe="Put backward",bFe="Decrease font size",yFe="Increase font size",wFe="Do you really want to delete all annotations?",_Fe="Clear all",CFe="I would like to support this project ❤️.",EFe="Source code",TFe="Clock",xFe="Volume",SFe="Sound level meter",BFe="Sensitivity",kFe="Error while attempting to retrieve the microphone input stream.",DFe="The maximum size accepted is 1 MB. For larger files, it is recommended to use the PDF format.",FFe="Title of this panel:",IFe="Calendar",LFe="Link",PFe="Title of the link",MFe="Activate sound effects?",RFe="Board",OFe="Game board",UFe="Number of pawns",NFe="Display hours?",HFe="Display the visual countdown?",QFe="Restart",$Fe="Duplicate",jFe="Do you really want to delete page {page} and its content?",VFe="Delete current page",zFe="Send to page:",GFe="Gallery",KFe="Image Gallery",WFe="Images of the gallery",qFe="Label",YFe="Webcam",XFe="This browser is not supported.",JFe="No video input has been detected on your device.",ZFe="Table",eIe="Rows",tIe="Columns",iIe="Column title",nIe="Add a column",sIe="Delete a column",rIe="Add a row",oIe="Delete a row",aIe="Line number",lIe="Text (1 line)",uIe="Text (several lines)",cIe="HTML",AIe="Link",hIe="Color",dIe="Stars",fIe="Progression",pIe="Check",gIe="Orange",mIe="Purple",vIe="List",bIe="List of words, separated by a comma",yIe="Methods",wIe="Silence",_Ie="Whisper",CIe="Listen",EIe="Work in pairs",TIe="Work in groups",xIe="Working methods",SIe="Story",BIe="Number of images",kIe="Source of the images",DIe="Generate",FIe="Random audio drawing",IIe="Audio files for the drawing",LIe="Click or drag and drop the audio files here",PIe="Random audio",MIe="Enter the link to insert:",RIe="Player appearance",OIe="audio player",UIe="single button",NIe="Type of dice",HIe="classic",QIe="number",$Ie="letter",jIe="Minimum",VIe="Maximum",zIe="The resolution of this screen is lower than the one used when exporting the .dgs file. The position of the panels may be affected. Enlarge the window or use your browser's zoom features to solve this issue. Recommended Zoom: {zoom}% of current zoom level.",GIe="Hangman",KIe="Word to find",WIe="Number of wrong choices",qIe="Characters",YIe="Remaining errors:",XIe="Cards",JIe="Cards format",ZIe="landscape",e5e="portrait",t5e="square",i5e="Front",n5e="Back",s5e="Add card",r5e="Select a background color",o5e="+ 1 min.",a5e="Display milliseconds?",l5e="Increase opacity",u5e="Decrease opacity",c5e="Sequential images",A5e="Reorder Images",h5e="Images (in correct order)",d5e="Take a screenshot",f5e="Set to full screen",p5e="Exit full screen",g5e="Hide toolbar",m5e="Show toolbar",v5e={alerte:yke,codeqr:wke,texte:_ke,image:Cke,dessin:Eke,doc:Tke,audio:xke,synthese:Ske,video:Bke,iframe:kke,nuage:Dke,ordre:Fke,trous:Ike,tirageTexte:Lke,tirageImage:Pke,des:Mke,groupes:Rke,groupe:Oke,chrono:Uke,rebours:Nke,retroaction:Hke,grille:Qke,capture:$ke,annoter:jke,ecran:Vke,options:zke,aPropos:Gke,lienFichierAudio:Kke,vitesseLecture:Wke,valider:qke,demarrer:Yke,pause:Xke,chronometre:Jke,lienOuTexte:Zke,nombreDes:eDe,jeter:tDe,nomFichier:iDe,nombreColonnes:nDe,nombreLignes:sDe,couleurTexte:rDe,couleurFond:oDe,lienImageRecherche:aDe,resultatsRecherche:lDe,selectionnerImage:uDe,fichierAppareil:cDe,rechercher:ADe,document:hDe,documentAppareil:dDe,selectionnerDocument:fDe,selectionnerAudio:pDe,selectionnerVideo:gDe,ou:mDe,nuageMots:vDe,mots:bDe,taille:yDe,ajouterMot:wDe,ajouterListe:_De,apercu:CDe,annuler:EDe,ajouter:TDe,consigneListeMots:xDe,exempleListe:SDe,typeRemiseOrdre:BDe,horizontale:kDe,verticale:DDe,itemsOrdre:FDe,ajouterItem:IDe,verifier:LDe,bravoExercice:PDe,remiseOrdre:MDe,heures:RDe,minutes:ODe,secondes:UDe,tempsEcoule:NDe,compteRebours:HDe,syntheseVocale:QDe,texteSynthetiser:$De,vitesse:jDe,hauteur:VDe,voix:zDe,ecouter:GDe,parDefaut:KDe,lienVideo:WDe,debut:qDe,fin:YDe,min:XDe,sec:JDe,tailleTextePlus:ZDe,tailleTexteMoins:e3e,gras:t3e,italique:i3e,souligne:n3e,barre:s3e,listeDecimale:r3e,liste:o3e,alignerGauche:a3e,centrer:l3e,alignerDroite:u3e,noir:c3e,rouge:A3e,vert:h3e,bleu:d3e,jaune:f3e,turquoise:p3e,gris:g3e,blanc:m3e,aProposDigiscreen:v3e,digiscreen:b3e,contact:y3e,langue:w3e,arrierePlanPage:_3e,selectionnerCouleur:C3e,pagePrecedente:E3e,pageSuivante:T3e,pages:x3e,ajouterPage:S3e,importer:B3e,exporter:k3e,importerEcran:D3e,exporterEcran:F3e,modules:I3e,tirageSortTexte:L3e,tirageSortImage:P3e,texteATrous:M3e,exempleTrou:R3e,consigneTrouSimple:O3e,consigneTrouSelection:U3e,listePersonnes:N3e,consigneGroupe:H3e,exempleGroupe:Q3e,nombrePersonnesGroupe:$3e,texteTirageTexte:j3e,texteTirageImage:V3e,consigneTirageTexte:z3e,selectionnerImages:G3e,supprimerItemTirage:K3e,oui:W3e,non:q3e,tirer:Y3e,contenuIntegre:X3e,lienContenuLigne:J3e,monTexte:Z3e,selectionner:eFe,dessiner:tFe,deplacer:iFe,defaire:nFe,refaire:sFe,rectangle:rFe,rectanglePlein:oFe,cercle:aFe,cerclePlein:lFe,etoile:uFe,ligne:cFe,fleche:AFe,surlignage:hFe,supprimer:dFe,fermer:fFe,verrouiller:pFe,deverrouiller:gFe,mettreDevant:mFe,mettreDerriere:vFe,reduireTaille:bFe,augmenterTaille:yFe,reinitialiserAnnotations:wFe,reinitialiser:_Fe,soutien:CFe,codeSource:EFe,horloge:TFe,volume:xFe,sonometre:SFe,sensibilite:BFe,erreurSonometre:kFe,erreurTailleFichier:DFe,nouveauTitre:FFe,calendrier:IFe,lien:LFe,titreLien:PFe,activerEffetsSonores:MFe,plateau:RFe,plateauJeu:OFe,nombrePions:UFe,afficherHeures:NFe,afficherDecompteVisuel:HFe,redemarrer:QFe,dupliquer:$Fe,confirmationSuppressionPage:jFe,supprimerPage:VFe,envoyerPage:zFe,galerie:GFe,galerieImages:KFe,texteGalerie:WFe,label:qFe,webcam:YFe,navigateurNonSupporte:XFe,aucuneEntreeVideo:JFe,tableau:ZFe,lignes:eIe,colonnes:tIe,titreColonne:iIe,ajouterColonne:nIe,supprimerColonne:sIe,ajouterLigne:rIe,supprimerLigne:oIe,rownum:aIe,plaintext:lIe,textarea:uIe,html:cIe,link:AIe,color:hIe,star:dIe,progress:fIe,tickCross:pIe,orange:gIe,pourpre:mIe,list:vIe,listeMots:bIe,modalites:yIe,silence:wIe,chuchotez:_Ie,ecoutez:CIe,parlez:EIe,communiquez:TIe,modalitesTravail:xIe,histoire:SIe,nombreImages:BIe,sourceImages:kIe,generer:DIe,tirageSortAudio:FIe,texteTirageAudio:IIe,selectionnerAudios:LIe,tirageAudio:PIe,adresseLien:MIe,apparence:RIe,lecteur:OIe,bouton:UIe,typeDe:NIe,classique:HIe,nombre:QIe,lettre:$Ie,minimum:jIe,maximum:VIe,alerteEcran:zIe,pendu:GIe,motATrouver:KIe,nombreErreurs:WIe,caracteres:qIe,erreursRestantes:YIe,cartes:XIe,formatCartes:JIe,paysage:ZIe,portrait:e5e,carre:t5e,recto:i5e,verso:n5e,ajouterCarte:s5e,selectionnerCouleurFond:r5e,plus1Min:o5e,afficherMillisecondes:a5e,augmenterTransparence:l5e,reduireTransparence:u5e,imagesSequentielles:c5e,ordreImage:A5e,imagesOrdre:h5e,capturer:d5e,mettrePleinEcran:f5e,sortirPleinEcran:p5e,masquerOutils:g5e,afficherOutils:m5e},b5e="Votre écran doit avoir une largeur minimale de 1024px pour utiliser l'application.",y5e="Code QR",w5e="Texte",_5e="Image",C5e="Dessin",E5e="Doc",T5e="Audio",x5e="Synth.",S5e="Vidéo",B5e="Iframe",k5e="Nuage",D5e="ReO",F5e="TàT",I5e="TaS texte",L5e="TaS image",P5e="Dés",M5e="Groupes",R5e="Groupe",O5e="Chrono",U5e="Rebours",N5e="Rétroaction",H5e="Grille",Q5e="Capture",$5e="Annoter",j5e="Écran",V5e="Options",z5e="À propos",G5e="Lien vers un fichier audio",K5e="Vitesse de lecture",W5e="Valider",q5e="Démarrer",Y5e="Pause",X5e="Chronomètre",J5e="Lien ou texte",Z5e="Nombre de dés",eLe="Jeter",tLe="Nom du fichier",iLe="Nombre de colonnes",nLe="Nombre de lignes",sLe="Couleur du texte",rLe="Couleur de fond",oLe="Lien vers une image ou recherche sur Pixabay",aLe="Résultats de recherche",lLe="Sélectionner une image",uLe="Fichier sur votre appareil",cLe="Rechercher",ALe="Document",hLe="Document sur votre appareil (.pdf, .odt, .odp, .ods, .odg)",dLe="Sélectionner un document",fLe="Sélectionner un fichier audio",pLe="Sélectionner une vidéo",gLe="ou",mLe="Nuage de mots",vLe="Mots",bLe="Taille",yLe="Ajouter un mot",wLe="Ajouter une liste de mots",_Le="Aperçu",CLe="Annuler",ELe="Ajouter",TLe="Ajoutez une liste de mots, séparés par une virgule.",xLe="Exemple : digitale, rose, bleuet, coquelicot",SLe="Type de remise en ordre",BLe="horizontale",kLe="verticale",DLe="Items (dans l'ordre correct)",FLe="Ajouter un item",ILe="Vérifier",LLe="Bravo !",PLe="Remise en ordre",MLe="Heures",RLe="Minutes",OLe="Secondes",ULe="Temps écoulé",NLe="Compte à rebours",HLe="Synthèse vocale",QLe="Texte à synthétiser",$Le="Vitesse",jLe="Hauteur",VLe="Voix",zLe="Écouter",GLe="PAR DÉFAUT",KLe="Lien vers une vidéo (YouTube, Vimeo ou fichier .mp4)",WLe="Début",qLe="Fin",YLe="Min.",XLe="Sec.",JLe="Augmenter la taille",ZLe="Réduire la taille",ePe="Gras",tPe="Italique",iPe="Souligné",nPe="Barré",sPe="Liste décimale",rPe="Liste",oPe="Aligner à gauche",aPe="Aligner à droite",lPe="Centrer",uPe="Noir",cPe="Rouge",APe="Vert",hPe="Bleu",dPe="Jaune",fPe="Turquoise",pPe="Gris",gPe="Blanc",mPe="À propos de Digiscreen",vPe="est un fond d'écran interactif pour la classe en présence et à distance réalisé par",bPe="Contact :",yPe="Langue",wPe="Arrière-plan de la page",_Pe="Sélectionner une couleur",CPe="Page précédente",EPe="Page suivante",TPe="Pages",xPe="Ajouter une page",SPe="Importer",BPe="Exporter",kPe="Importer un écran",DPe="Exporter cet écran",FPe="Modules",IPe="Tirage au sort texte",LPe="Tirage au sort image",PPe="Texte à trous",MPe="La digitale est une *plante*.",RPe="<u>Champ de texte à compléter</u> : La digitale est une *plante*.",OPe="<u>Champ avec sélection</u> : La digitale est *une plante&vert;un arbre* (la bonne réponse doit être placée en première position).",UPe="Liste des personnes",NPe="Ajoutez la liste des personnes, séparées par une virgule.",HPe="Exemple : Jean, Fleur, Charlotte, Basile",QPe="Nombre de personnes par groupe",$Pe="Texte pour le tirage au sort",jPe="Images pour le tirage au sort",VPe="Ajoutez les mots ou les phrases, séparés par une virgule.",zPe="Cliquez ou glissez-déposez les images ici",GPe="Supprimer l'item de la liste après le tirage ?",KPe="oui",WPe="non",qPe="Tirer",YPe="Contenu intégré",XPe="Lien vers un site, un document ou un contenu interactif",JPe="Mon texte…",ZPe="Sélectionner",eMe="Dessiner",tMe="Déplacer les panneaux",iMe="Défaire",nMe="Refaire",sMe="Rectangle",rMe="Rectangle plein",oMe="Cercle",aMe="Cercle plein",lMe="Étoile",uMe="Ligne",cMe="Flèche",AMe="Surlignage",hMe="Supprimer",dMe="Fermer",fMe="Verrouiller",pMe="Déverrouiller",gMe="Mettre devant",mMe="Mettre derrière",vMe="Réduire la taille du texte",bMe="Augmenter la taille du texte",yMe="Souhaitez-vous vraiment supprimer toutes les annotations&nbsp;?",wMe="Réinitialiser",_Me="Je souhaite apporter mon soutien ❤️.",CMe="Code source",EMe="Horloge",TMe="Volume",xMe="Sonomètre",SMe="Sensibilité",BMe="Erreur lors de la tentative de récupération du flux d'entrée du microphone.",kMe="La taille maximale acceptée est de 1 Mo. Pour les fichiers de taille supérieure, il est recommandé d'utiliser le format PDF.",DMe="Titre de ce panneau :",FMe="Calendrier",IMe="Lien",LMe="Titre du lien",PMe="Activer les effets sonores ?",MMe="Plateau",RMe="Plateau de jeu",OMe="Nombre de pions",UMe="Afficher les heures ?",NMe="Afficher le décompte visuel ?",HMe="Redémarrer",QMe="Dupliquer",$Me="Souhaitez-vous vraiment suppimer la page {page} et son contenu&nbsp;?",jMe="Supprimer la page en cours",VMe="Envoyer vers la page :",zMe="Galerie",GMe="Galerie d'images",KMe="Images de la galerie",WMe="Label",qMe="Webcam",YMe="Ce navigateur n'est pas pris en charge.",XMe="Aucune entrée vidéo n'a été détectée sur votre appareil.",JMe="Tableau",ZMe="Lignes",e8e="Colonnes",t8e="Titre de la colonne",i8e="Ajouter une colonne",n8e="Supprimer une colonne",s8e="Ajouter une ligne",r8e="Supprimer une ligne",o8e="Numéro de ligne",a8e="Texte (1 ligne)",l8e="Texte (plusieurs lignes)",u8e="HTML",c8e="Lien",A8e="Couleur",h8e="Étoiles",d8e="Progression",f8e="Coche",p8e="Orange",g8e="Pourpre",m8e="Liste",v8e="Liste de mots, séparés par une virgule",b8e="Modalités",y8e="Silence",w8e="Chuchotez",_8e="Écoutez",C8e="Travaillez à 2",E8e="Travaillez en groupe",T8e="Modalités de travail",x8e="Histoire",S8e="Nombre d'images",B8e="Source des images",k8e="Générer",D8e="Tirage au sort audio",F8e="Fichiers audio pour le tirage au sort",I8e="Cliquez ou glissez-déposez les fichiers audio ici",L8e="TaS audio",P8e="Indiquez le lien à insérer :",M8e="Apparence du lecteur",R8e="lecteur audio",O8e="bouton simple",U8e="Type de dé",N8e="classique",H8e="nombre",Q8e="lettre",$8e="Minimum",j8e="Maximum",V8e="La résolution de cet écran est inférieure à celle utilisée lors de l'export du fichier .dgs. La position des panneaux pourrait être affectée. Élargissez la fenêtre ou utilisez les fonctionnalités de zoom de votre navigateur pour contourner ce problème. Zoom recommandé : {zoom}% du niveau de zoom actuel.",z8e="Pendu",G8e="Mot à trouver",K8e="Nombre de choix erronés",W8e="Caractères",q8e="Erreurs restantes :",Y8e="Cartes",X8e="Format des cartes",J8e="paysage",Z8e="portrait",eRe="carré",tRe="Recto",iRe="Verso",nRe="Ajouter la carte",sRe="Sélectionner une couleur de fond",rRe="+ 1 min.",oRe="Afficher les millisecondes ?",aRe="Augmenter la transparence",lRe="Réduire la transparence",uRe="Images séquentielles",cRe="ReO Im",ARe="Images (dans l'ordre correct)",hRe="Faire une capture d'écran",dRe="Mettre en plein écran",fRe="Sortir du plein écran",pRe="Masquer la barre d'outils",gRe="Afficher la barre d'outils",mRe={alerte:b5e,codeqr:y5e,texte:w5e,image:_5e,dessin:C5e,doc:E5e,audio:T5e,synthese:x5e,video:S5e,iframe:B5e,nuage:k5e,ordre:D5e,trous:F5e,tirageTexte:I5e,tirageImage:L5e,des:P5e,groupes:M5e,groupe:R5e,chrono:O5e,rebours:U5e,retroaction:N5e,grille:H5e,capture:Q5e,annoter:$5e,ecran:j5e,options:V5e,aPropos:z5e,lienFichierAudio:G5e,vitesseLecture:K5e,valider:W5e,demarrer:q5e,pause:Y5e,chronometre:X5e,lienOuTexte:J5e,nombreDes:Z5e,jeter:eLe,nomFichier:tLe,nombreColonnes:iLe,nombreLignes:nLe,couleurTexte:sLe,couleurFond:rLe,lienImageRecherche:oLe,resultatsRecherche:aLe,selectionnerImage:lLe,fichierAppareil:uLe,rechercher:cLe,document:ALe,documentAppareil:hLe,selectionnerDocument:dLe,selectionnerAudio:fLe,selectionnerVideo:pLe,ou:gLe,nuageMots:mLe,mots:vLe,taille:bLe,ajouterMot:yLe,ajouterListe:wLe,apercu:_Le,annuler:CLe,ajouter:ELe,consigneListeMots:TLe,exempleListe:xLe,typeRemiseOrdre:SLe,horizontale:BLe,verticale:kLe,itemsOrdre:DLe,ajouterItem:FLe,verifier:ILe,bravoExercice:LLe,remiseOrdre:PLe,heures:MLe,minutes:RLe,secondes:OLe,tempsEcoule:ULe,compteRebours:NLe,syntheseVocale:HLe,texteSynthetiser:QLe,vitesse:$Le,hauteur:jLe,voix:VLe,ecouter:zLe,parDefaut:GLe,lienVideo:KLe,debut:WLe,fin:qLe,min:YLe,sec:XLe,tailleTextePlus:JLe,tailleTexteMoins:ZLe,gras:ePe,italique:tPe,souligne:iPe,barre:nPe,listeDecimale:sPe,liste:rPe,alignerGauche:oPe,alignerDroite:aPe,centrer:lPe,noir:uPe,rouge:cPe,vert:APe,bleu:hPe,jaune:dPe,turquoise:fPe,gris:pPe,blanc:gPe,aProposDigiscreen:mPe,digiscreen:vPe,contact:bPe,langue:yPe,arrierePlanPage:wPe,selectionnerCouleur:_Pe,pagePrecedente:CPe,pageSuivante:EPe,pages:TPe,ajouterPage:xPe,importer:SPe,exporter:BPe,importerEcran:kPe,exporterEcran:DPe,modules:FPe,tirageSortTexte:IPe,tirageSortImage:LPe,texteATrous:PPe,exempleTrou:MPe,consigneTrouSimple:RPe,consigneTrouSelection:OPe,listePersonnes:UPe,consigneGroupe:NPe,exempleGroupe:HPe,nombrePersonnesGroupe:QPe,texteTirageTexte:$Pe,texteTirageImage:jPe,consigneTirageTexte:VPe,selectionnerImages:zPe,supprimerItemTirage:GPe,oui:KPe,non:WPe,tirer:qPe,contenuIntegre:YPe,lienContenuLigne:XPe,monTexte:JPe,selectionner:ZPe,dessiner:eMe,deplacer:tMe,defaire:iMe,refaire:nMe,rectangle:sMe,rectanglePlein:rMe,cercle:oMe,cerclePlein:aMe,etoile:lMe,ligne:uMe,fleche:cMe,surlignage:AMe,supprimer:hMe,fermer:dMe,verrouiller:fMe,deverrouiller:pMe,mettreDevant:gMe,mettreDerriere:mMe,reduireTaille:vMe,augmenterTaille:bMe,reinitialiserAnnotations:yMe,reinitialiser:wMe,soutien:_Me,codeSource:CMe,horloge:EMe,volume:TMe,sonometre:xMe,sensibilite:SMe,erreurSonometre:BMe,erreurTailleFichier:kMe,nouveauTitre:DMe,calendrier:FMe,lien:IMe,titreLien:LMe,activerEffetsSonores:PMe,plateau:MMe,plateauJeu:RMe,nombrePions:OMe,afficherHeures:UMe,afficherDecompteVisuel:NMe,redemarrer:HMe,dupliquer:QMe,confirmationSuppressionPage:$Me,supprimerPage:jMe,envoyerPage:VMe,galerie:zMe,galerieImages:GMe,texteGalerie:KMe,label:WMe,webcam:qMe,navigateurNonSupporte:YMe,aucuneEntreeVideo:XMe,tableau:JMe,lignes:ZMe,colonnes:e8e,titreColonne:t8e,ajouterColonne:i8e,supprimerColonne:n8e,ajouterLigne:s8e,supprimerLigne:r8e,rownum:o8e,plaintext:a8e,textarea:l8e,html:u8e,link:c8e,color:A8e,star:h8e,progress:d8e,tickCross:f8e,orange:p8e,pourpre:g8e,list:m8e,listeMots:v8e,modalites:b8e,silence:y8e,chuchotez:w8e,ecoutez:_8e,parlez:C8e,communiquez:E8e,modalitesTravail:T8e,histoire:x8e,nombreImages:S8e,sourceImages:B8e,generer:k8e,tirageSortAudio:D8e,texteTirageAudio:F8e,selectionnerAudios:I8e,tirageAudio:L8e,adresseLien:P8e,apparence:M8e,lecteur:R8e,bouton:O8e,typeDe:U8e,classique:N8e,nombre:H8e,lettre:Q8e,minimum:$8e,maximum:j8e,alerteEcran:V8e,pendu:z8e,motATrouver:G8e,nombreErreurs:K8e,caracteres:W8e,erreursRestantes:q8e,cartes:Y8e,formatCartes:X8e,paysage:J8e,portrait:Z8e,carre:eRe,recto:tRe,verso:iRe,ajouterCarte:nRe,selectionnerCouleurFond:sRe,plus1Min:rRe,afficherMillisecondes:oRe,augmenterTransparence:aRe,reduireTransparence:lRe,imagesSequentielles:uRe,ordreImage:cRe,imagesOrdre:ARe,capturer:hRe,mettrePleinEcran:dRe,sortirPleinEcran:fRe,masquerOutils:pRe,afficherOutils:gRe},vRe="Su pantalla debe tener un ancho mínimo de 1024px para utilizar la aplicación.",bRe="Código QR",yRe="Texto",wRe="Imagen",_Re="Dibujo",CRe="Doc",ERe="Audio",TRe="Síntesis",xRe="Vídeo",SRe="Iframe",BRe="Nube",kRe="Ordenar",DRe="Esp.Vacios",FRe="Sorteo texto",IRe="Sorteo imagen",LRe="Dados",PRe="Grupos",MRe="Grupo",RRe="Crono",ORe="C.atrás",URe="Feedback",NRe="Cuadrícula",HRe="Captura",QRe="Anotar",$Re="Pantalla",jRe="Opciones",VRe="Info",zRe="Enlace a un fichero de audio",GRe="Velocidad de lectura",KRe="Confirmar",WRe="Comenzar",qRe="Cronómetro",YRe="Pausa",XRe="Enlace o texto",JRe="Número de dados",ZRe="Lanzar",eOe="Nombre del archivo",tOe="Número de columnas",iOe="Número de filas",nOe="Color del texto",sOe="Color de fondo",rOe="Enlace a una imagen o búsqueda en Pixabay",oOe="Resultados de la búsqueda",aOe="Seleccionar una imagen",lOe="Archivo en su dispositivo",uOe="Buscar",cOe="Documento",AOe="Documento en su dispositivo (.pdf, .odt, .odp, .ods, .odg)",hOe="Seleccionar un documento",dOe="Seleccionar un fichero de audio",fOe="Seleccionar un vídeo",pOe="o",gOe="Nube de palabras",mOe="Palabras",vOe="Tamaño",bOe="Añadir una palabra",yOe="Añadir una lista de palabras",wOe="Vista previa",_Oe="Anular",COe="Añadir",EOe="Añadir una lista de palabras, separadas por una coma.",TOe="Ejemplo : digital, rosa, aciano, amapola",xOe="Tipo de puesta en orden",SOe="horizontal",BOe="vertical",kOe="Elementos (en el orden correcto)",DOe="Añadir un elemento",FOe="Verificar",IOe="¡Muy bien!",LOe="Puesta en orden",POe="Horas",MOe="Minutos",ROe="Segundos",OOe="Tiempo transcurrido",UOe="Cuenta atrás",NOe="Síntesis vocal",HOe="Texto a sintetizar",QOe="Velocidad",$Oe="Volumen",jOe="Voz",VOe="Escuchar",zOe="POR DEFECTO",GOe="Enlace al un vídeo (YouTube, Vimeo o .mp4)",KOe="Inicio",WOe="Fin",qOe="Min.",YOe="Seg.",XOe="Aumentar el tamaño",JOe="Reducir el tamaño",ZOe="Negrita",e6e="Cursiva",t6e="Subrayado",i6e="Tachado",n6e="Lista decimal",s6e="Lista",r6e="Alinear a la izquierda",o6e="Alinear a la derecha",a6e="Centrar",l6e="Negro",u6e="Rojo",c6e="Verde",A6e="Azul",h6e="Amarillo",d6e="Turquesa",f6e="Gris",p6e="Blanco",g6e="Información sobre Digiscreen",m6e="es un fondo de pantalla interactivo para la clase presencial y a distancia realizado por",v6e="Contacto:",b6e="Idioma",y6e="Fondo de la página",w6e="Seleccione un color",_6e="Página anterior",C6e="Página siguiente",E6e="Páginas",T6e="Añadir una página",x6e="Importar",S6e="Exportar",B6e="Importar una pantalla",k6e="Exportar esta pantalla",D6e="Módulos",F6e="Sorteo de textos",I6e="sorteo de imágenes",L6e="Rellenar espacios vacíos",P6e="La digital (_digitalis pupurea_) es una *planta*.",M6e="<u>Campo de texto a completar</u> : La digital (_digitalis pupurea_) es una *planta*.",R6e="<u>Campo con una selección</u> : La digital (_digitalis pupurea_) es una *planta&vert;un árbol* (la respuesta correcta debe ponerse en primera posición).",O6e="Lista de personas",U6e="Añadir la lista de personas, separadas por una coma.",N6e="Ejemplo: Juan, Flora, Carlota, Basilio",H6e="Número de personas por grupo",Q6e="Texto de los elementos del sorteo",$6e="Imágenes del sorteo",j6e="Añada las palabras o frases, separadas por una coma.",V6e="Haga clic o arrastre y suelte las imágenes aquí",z6e="¿Borrar el elemento de la lista tras salir seleccionado?",G6e="sí",K6e="no",W6e="Sortear",q6e="Contenido integrado",Y6e="Enlace a un sitio web, a un documento o a un contenido interactivo",X6e="Mi texto…",J6e="Seleccionar",Z6e="Dibujar",eUe="Mover los paneles",tUe="Deshacer",iUe="Repetir",nUe="Rectángulo",sUe="Rectángulo relleno",rUe="Círculo",oUe="Círculo relleno",aUe="Estrella",lUe="Línea",uUe="Flecha",cUe="Marcar",AUe="Borrar",hUe="Cerrar",dUe="Bloquear",fUe="Desbloquear",pUe="Poner al frente",gUe="Poner detrás",mUe="Reducir el tamaño del texto",vUe="Aumentar el tamaño del texto",bUe="¿Desea realmente borrar todas las anotaciones?",yUe="Reiniciar",wUe="Deseo aportar mi ayuda ❤.",_Ue="Código fuente",CUe="Reloj",EUe="Volumen",TUe="Sonómetro",xUe="Sensibilidad",SUe="Error al intentar recuperar el flujo de entrada del micrófono.",BUe="El tamaño máximo aceptado es de 1 MB. Para los ficheros de mayor tamaño, se recomienda utilizar el formato PDF.",kUe="Título de esta ventana:",DUe="Calendario",FUe="Enlace",IUe="Título del enlace",LUe="¿Activar los efectos de sonido?",PUe="Tablero",MUe="Tablero de juego",RUe="Número de piezas",OUe="¿Mostrar las horas?",UUe="¿Mostrar el recuento visual?",NUe="Reiniciar",HUe="Duplicar",QUe="¿Realmente quieres eliminar la página {page} y su contenido?",$Ue="Eliminar la página actual",jUe="Enviar a la página:",VUe="Galería",zUe="Galería de imágenes",GUe="Imágenes de la galería",KUe="Etiqueta",WUe="Cámara web",qUe="Este navegador no es compatible.",YUe="No se ha detectado ninguna entrada de vídeo en tu dispositivo.",XUe="Tabla",JUe="Líneas",ZUe="Columnas",e9e="Título de la columna",t9e="Añadir una columna",i9e="Borrar una columna",n9e="Añadir una línea",s9e="Borrar una línea",r9e="Número de línea",o9e="Texto (1 línea)",a9e="Texto (varias líneas)",l9e="HTML",u9e="Enlace",c9e="Color",A9e="Estrellas",h9e="Progresión",d9e="Tick",f9e="Naranja",p9e="Morado",g9e="Lista",m9e="Lista de palabras, separadas por una coma",v9e="Métodos",b9e="Silencio",y9e="Susurro",w9e="Escuche",_9e="Trabajo en parejas",C9e="Trabajar en grupo",E9e="Métodos de trabajo",T9e="Historia",x9e="Número de imágenes",S9e="Origen de las imágenes",B9e="Generar",k9e="Sorteo de audio",D9e="Archivos de audio para el sorteo",F9e="Haga clic o arrastre y suelte los archivos de audio aquí",I9e="Sorteo audio",L9e="Indique el enlace que desea insertar:",P9e="Aspecto del reproductor",M9e="reproductor de audio",R9e="botón único",O9e="Tipo de dado",U9e="clásico",N9e="número",H9e="letra",Q9e="Mínimo",$9e="Máximo",j9e="La resolución de esta pantalla es inferior a la utilizada al exportar el archivo .dgs. La posición de los paneles puede verse afectada. Amplíe la ventana o utilice las funciones de zoom de su navegador para resolver este problema. Zoom recomendado: {zoom}% del nivel de zoom actual.",V9e="Ahorcado",z9e="Palabra a encontrar",G9e="Número de opciones erróneas",K9e="Letras",W9e="Errores restantes:",q9e="Cartas",Y9e="Formato del carta",X9e="apaisado",J9e="retrato",Z9e="cuadrado",e7e="Anverso",t7e="Reverso",i7e="Añadir carta",n7e="Seleccionar un color de fondo",s7e="+ 1 min.",r7e="¿Mostrar los milisegundos?",o7e="Aumentar la transparencia",a7e="Reducir la transparencia",l7e="Imágenes secuenciales",u7e="Orden Imágenes",c7e="Imágenes (en el orden correcto)",A7e="Realizar una captura de pantalla",h7e="Ir a pantalla completa",d7e="Salir de pantalla completa",f7e="Ocultar la barra de herramientas",p7e="Mostrar la barra de herramientas",g7e={alerte:vRe,codeqr:bRe,texte:yRe,image:wRe,dessin:_Re,doc:CRe,audio:ERe,synthese:TRe,video:xRe,iframe:SRe,nuage:BRe,ordre:kRe,trous:DRe,tirageTexte:FRe,tirageImage:IRe,des:LRe,groupes:PRe,groupe:MRe,chrono:RRe,rebours:ORe,retroaction:URe,grille:NRe,capture:HRe,annoter:QRe,ecran:$Re,options:jRe,aPropos:VRe,lienFichierAudio:zRe,vitesseLecture:GRe,valider:KRe,demarrer:WRe,chronometre:qRe,pause:YRe,lienOuTexte:XRe,nombreDes:JRe,jeter:ZRe,nomFichier:eOe,nombreColonnes:tOe,nombreLignes:iOe,couleurTexte:nOe,couleurFond:sOe,lienImageRecherche:rOe,resultatsRecherche:oOe,selectionnerImage:aOe,fichierAppareil:lOe,rechercher:uOe,document:cOe,documentAppareil:AOe,selectionnerDocument:hOe,selectionnerAudio:dOe,selectionnerVideo:fOe,ou:pOe,nuageMots:gOe,mots:mOe,taille:vOe,ajouterMot:bOe,ajouterListe:yOe,apercu:wOe,annuler:_Oe,ajouter:COe,consigneListeMots:EOe,exempleListe:TOe,typeRemiseOrdre:xOe,horizontale:SOe,verticale:BOe,itemsOrdre:kOe,ajouterItem:DOe,verifier:FOe,bravoExercice:IOe,remiseOrdre:LOe,heures:POe,minutes:MOe,secondes:ROe,tempsEcoule:OOe,compteRebours:UOe,syntheseVocale:NOe,texteSynthetiser:HOe,vitesse:QOe,hauteur:$Oe,voix:jOe,ecouter:VOe,parDefaut:zOe,lienVideo:GOe,debut:KOe,fin:WOe,min:qOe,sec:YOe,tailleTextePlus:XOe,tailleTexteMoins:JOe,gras:ZOe,italique:e6e,souligne:t6e,barre:i6e,listeDecimale:n6e,liste:s6e,alignerGauche:r6e,alignerDroite:o6e,centrer:a6e,noir:l6e,rouge:u6e,vert:c6e,bleu:A6e,jaune:h6e,turquoise:d6e,gris:f6e,blanc:p6e,aProposDigiscreen:g6e,digiscreen:m6e,contact:v6e,langue:b6e,arrierePlanPage:y6e,selectionnerCouleur:w6e,pagePrecedente:_6e,pageSuivante:C6e,pages:E6e,ajouterPage:T6e,importer:x6e,exporter:S6e,importerEcran:B6e,exporterEcran:k6e,modules:D6e,tirageSortTexte:F6e,tirageSortImage:I6e,texteATrous:L6e,exempleTrou:P6e,consigneTrouSimple:M6e,consigneTrouSelection:R6e,listePersonnes:O6e,consigneGroupe:U6e,exempleGroupe:N6e,nombrePersonnesGroupe:H6e,texteTirageTexte:Q6e,texteTirageImage:$6e,consigneTirageTexte:j6e,selectionnerImages:V6e,supprimerItemTirage:z6e,oui:G6e,non:K6e,tirer:W6e,contenuIntegre:q6e,lienContenuLigne:Y6e,monTexte:X6e,selectionner:J6e,dessiner:Z6e,deplacer:eUe,defaire:tUe,refaire:iUe,rectangle:nUe,rectanglePlein:sUe,cercle:rUe,cerclePlein:oUe,etoile:aUe,ligne:lUe,fleche:uUe,surlignage:cUe,supprimer:AUe,fermer:hUe,verrouiller:dUe,deverrouiller:fUe,mettreDevant:pUe,mettreDerriere:gUe,reduireTaille:mUe,augmenterTaille:vUe,reinitialiserAnnotations:bUe,reinitialiser:yUe,soutien:wUe,codeSource:_Ue,horloge:CUe,volume:EUe,sonometre:TUe,sensibilite:xUe,erreurSonometre:SUe,erreurTailleFichier:BUe,nouveauTitre:kUe,calendrier:DUe,lien:FUe,titreLien:IUe,activerEffetsSonores:LUe,plateau:PUe,plateauJeu:MUe,nombrePions:RUe,afficherHeures:OUe,afficherDecompteVisuel:UUe,redemarrer:NUe,dupliquer:HUe,confirmationSuppressionPage:QUe,supprimerPage:$Ue,envoyerPage:jUe,galerie:VUe,galerieImages:zUe,texteGalerie:GUe,label:KUe,webcam:WUe,navigateurNonSupporte:qUe,aucuneEntreeVideo:YUe,tableau:XUe,lignes:JUe,colonnes:ZUe,titreColonne:e9e,ajouterColonne:t9e,supprimerColonne:i9e,ajouterLigne:n9e,supprimerLigne:s9e,rownum:r9e,plaintext:o9e,textarea:a9e,html:l9e,link:u9e,color:c9e,star:A9e,progress:h9e,tickCross:d9e,orange:f9e,pourpre:p9e,list:g9e,listeMots:m9e,modalites:v9e,silence:b9e,chuchotez:y9e,ecoutez:w9e,parlez:_9e,communiquez:C9e,modalitesTravail:E9e,histoire:T9e,nombreImages:x9e,sourceImages:S9e,generer:B9e,tirageSortAudio:k9e,texteTirageAudio:D9e,selectionnerAudios:F9e,tirageAudio:I9e,adresseLien:L9e,apparence:P9e,lecteur:M9e,bouton:R9e,typeDe:O9e,classique:U9e,nombre:N9e,lettre:H9e,minimum:Q9e,maximum:$9e,alerteEcran:j9e,pendu:V9e,motATrouver:z9e,nombreErreurs:G9e,caracteres:K9e,erreursRestantes:W9e,cartes:q9e,formatCartes:Y9e,paysage:X9e,portrait:J9e,carre:Z9e,recto:e7e,verso:t7e,ajouterCarte:i7e,selectionnerCouleurFond:n7e,plus1Min:s7e,afficherMillisecondes:r7e,augmenterTransparence:o7e,reduireTransparence:a7e,imagesSequentielles:l7e,ordreImage:u7e,imagesOrdre:c7e,capturer:A7e,mettrePleinEcran:h7e,sortirPleinEcran:d7e,masquerOutils:f7e,afficherOutils:p7e},m7e="Per utilizzare l'applicazione il tuo schermo deve avere una larghezza minima di 1024 pixel.",v7e="Codice QR",b7e="Testo",y7e="Immagine",w7e="Disegno",_7e="Doc",C7e="Audio",E7e="Sintesi",T7e="Video",x7e="Iframe",S7e="Nuvola",B7e="Riordina",k7e="Cloze",D7e="Sorteggio testo",F7e="Sorteggio immagine",I7e="Dadi",L7e="Gruppi",P7e="Gruppo",M7e="Crono",R7e="Alla rovescia",O7e="Feedback",U7e="Griglia",N7e="Cattura",H7e="Annota",Q7e="Schermo",$7e="Impostazioni",j7e="Info",V7e="Link a un file audio",z7e="Velocità lettura",G7e="Conferma",K7e="Avvia",W7e="Pausa",q7e="Cronometro",Y7e="Link o testo",X7e="Numero dei dadi",J7e="Lancia",Z7e="Nome del file",eNe="Numero di colonne",tNe="Numero di linee",iNe="Colore del testo",nNe="Colore di sfondo",sNe="Link ad un'immagine o cerca su Pixabay",rNe="Risultati della ricerca",oNe="Seleziona un'immagine",aNe="File sul dispositivo",lNe="Cerca",uNe="Documento",cNe="Documento sul dispositivo (.pdf, .odt, .odp, .ods, .odg)",ANe="Seleziona un documento",hNe="Seleziona un file audio",dNe="Seleziona un video",fNe="o",pNe="Nuvola di parole",gNe="Parole",mNe="Dimensioni",vNe="Aggiungi una parola",bNe="Aggiungi un elenco di parole",yNe="Apri",wNe="Annulla",_Ne="Aggiungi",CNe="Aggiungi un elenco di parole, separate da una virgola.",ENe="Esempio: digitale, rosa, fiordaliso, papavero",TNe="Tipo di riordino",xNe="orizzontale",SNe="verticale",BNe="Item (in ordine corretto)",kNe="Aggiungere un item",DNe="Controlla",FNe="Bravo!",INe="Rimetti in ordine",LNe="Orario",PNe="Minuti",MNe="Secondi",RNe="Tempo scaduto",ONe="Conto alla rovescia",UNe="Sintesi vocale",NNe="Testo da leggere con la sintesi",HNe="Velocità",QNe="Volume",$Ne="Voce",jNe="Ascolta",VNe="DEFAULT",zNe="Link verso un video (YouTube, Vimeo o file .mp4)",GNe="Inizio",KNe="Fine",WNe="Min.",qNe="Sec.",YNe="Aumentare la dimensione",XNe="Riduci la dimensione",JNe="Grassetto",ZNe="Corsivo",eHe="Sottolineato",tHe="Barrato",iHe="Elenco numerato",nHe="Elenco",sHe="Allinea a sinistra",rHe="Allinea a destra",oHe="Centra",aHe="Nero",lHe="Rosso",uHe="Verde",cHe="Blu",AHe="Giallo",hHe="Turchese",dHe="Grigio",fHe="Bianco",pHe="Info su Digiscreen",gHe="è una schermata interattiva iperr la classe in presenza e a distanza creata da",mHe="Contatti:",vHe="Lingua",bHe="Sfondo della pagina",yHe="Seleziona un colore",wHe="Pagina precedente",_He="Pagina successiva",CHe="Pagine",EHe="Aggiungi una pagina",THe="Importa",xHe="Esporta",SHe="Importa una schermata",BHe="Esporta questa schermata",kHe="Moduli",DHe="Sorteggio del testo",FHe="Sorteggio dell'immagine",IHe="Cloze",LHe="La digitale è una *pianta*.",PHe="<u>Campo di testo da completare</u>: La digitale è una *pianta*.",MHe="<u>Campo con selezione</u>: La digitale è *una pianta&vert;un albero* (la risposta esatta deve essere messa in prima posizione).",RHe="Elenco di persone",OHe="Aggiungi un lenco di persone, separate da una virgola.",UHe="Esempio: Gianni, Fleur, Carlotta, Basile",NHe="Numero di persone per gruppo",HHe="Testo per il sorteggio",QHe="Immagini per il sorteggio",$He="Aggiungi le parole o le frasi, separate da una virgola.",jHe="Fare clic o trascinare le immagini qui",VHe="Elimina l'item dall'elenco dopo il sorteggio?",zHe="sì",GHe="no",KHe="Sorteggia",WHe="Embed",qHe="Link a un sito, un documento o un contenuto interattivo",YHe="Il mio testo…",XHe="Seleziona",JHe="Disegna",ZHe="Sposta i pannelli",eQe="Annulla",tQe="Rifai",iQe="Rettangolo",nQe="Rettangolo pieno",sQe="Cerchio",rQe="Cerchio pieno",oQe="Stella",aQe="Linea",lQe="Freccia",uQe="Evidenziazione",cQe="Elimina",AQe="Chiudi",hQe="Blocca",dQe="Sblocca",fQe="Mettere davanti",pQe="Mettere dietro",gQe="Ridurre la dimensione del testo",mQe="Aumentare la dimensione del testo",vQe="Vuoi eliminare tutte le annotazioni?",bQe="Ripristina",yQe="Voglio sostenere questo progetto ❤️.",wQe="Codice sorgente",_Qe="Orologio",CQe="Volume",EQe="Fonometro",TQe="Sensibilità",xQe="Errore durante il tentativo di recuperare il flusso di input del microfono.",SQe="La dimensione massima accettata è di 1 MB. Per i file più grandi, si raccomanda di utilizzare il formato PDF.",BQe="Titolo di questa finestra:",kQe="Calendario",DQe="Link",FQe="Titolo del link",IQe="Attivare gli effetti sonori?",LQe="Plateau",PQe="Tabellone",MQe="Tabellone da gioco",RQe="Mostrare le ore?",OQe="Mostrare il conteggio visivo?",UQe="Riavvio",NQe="Duplicare",HQe="Si vuole davvero eliminare la pagina {page} e il suo contenuto?",QQe="Eliminare la pagina corrente",$Qe="Invia alla pagina:",jQe="Galleria",VQe="Galleria di immagini",zQe="Immagini della galleria",GQe="Etichetta",KQe="Webcam",WQe="Questo browser non è supportato.",qQe="Non è stato rilevato alcun ingresso video sul dispositivo.",YQe="Tabella",XQe="Righe",JQe="Colonne",ZQe="Titolo della colonna",e$e="Aggiungere una colonna",t$e="Cancellare la colonna",i$e="Aggiungere una riga",n$e="Cancellare una riga",s$e="Numero di riga",r$e="Testo (1 riga)",o$e="Testo (più righe)",a$e="HTML",l$e="Collegamento",u$e="Colore",c$e="Stelle",A$e="Progressione",h$e="Tick",d$e="Arancione",f$e="Viola",p$e="Lista",g$e="Lista di parole, separate da una virgola",m$e="Metodi",v$e="Silenzio",b$e="Sussurro",y$e="Ascoltare",w$e="Lavorare in coppia",_$e="Lavorare in gruppo",C$e="Metodi di lavoro",E$e="Storia",T$e="Numero di immagini",x$e="Fonte delle immagini",S$e="Generare",B$e="Sorteggio audio",k$e="File audio per il sorteggio",D$e="Fare clic o trascinare i file audio qui",F$e="Sorteggio audio",I$e="Indica il link da inserire:",L$e="Aspetto del lettore",P$e="lettore audio",M$e="pulsante singolo",R$e="Tipo di dado",O$e="classico",U$e="numero",N$e="lettera",H$e="Minimo",Q$e="Massimo",$$e="La risoluzione di questa schermata è inferiore a quella utilizzata per l'esportazione del file .dgs. La posizione dei pannelli potrebbe essere influenzata. Per risolvere il problema, ingrandire la finestra o utilizzare le funzioni di zoom del browser. Zoom consigliato: {zoom}% del livello di zoom corrente.",j$e="L'impiccato",V$e="Parola da trovare",z$e="Numero di scelte sbagliate",G$e="Lettere",K$e="Errori rimanenti:",W$e="Carte",q$e="Formato della carta",Y$e="Orizzontale",X$e="verticale",J$e="quadrato",Z$e="Fronte",eje="Retro",tje="Aggiungi carta",ije="Seleziona un colore di sfondo",nje="+ 1 min.",sje="Mostrare i millisecondi?",rje="Aumentare la trasparenza",oje="Ridurre la trasparenza",aje="Immagini in sequenza",lje="Riordina Immagini",uje="Immagini (in ordine corretto)",cje="Fai uno screenshot",Aje="Vai a schermo intero",hje="Uscita dallo schermo intero",dje="Nascondi la barra degli strumenti",fje="Mostra la barra degli strumenti",pje={alerte:m7e,codeqr:v7e,texte:b7e,image:y7e,dessin:w7e,doc:_7e,audio:C7e,synthese:E7e,video:T7e,iframe:x7e,nuage:S7e,ordre:B7e,trous:k7e,tirageTexte:D7e,tirageImage:F7e,des:I7e,groupes:L7e,groupe:P7e,chrono:M7e,rebours:R7e,retroaction:O7e,grille:U7e,capture:N7e,annoter:H7e,ecran:Q7e,options:$7e,aPropos:j7e,lienFichierAudio:V7e,vitesseLecture:z7e,valider:G7e,demarrer:K7e,pause:W7e,chronometre:q7e,lienOuTexte:Y7e,nombreDes:X7e,jeter:J7e,nomFichier:Z7e,nombreColonnes:eNe,nombreLignes:tNe,couleurTexte:iNe,couleurFond:nNe,lienImageRecherche:sNe,resultatsRecherche:rNe,selectionnerImage:oNe,fichierAppareil:aNe,rechercher:lNe,document:uNe,documentAppareil:cNe,selectionnerDocument:ANe,selectionnerAudio:hNe,selectionnerVideo:dNe,ou:fNe,nuageMots:pNe,mots:gNe,taille:mNe,ajouterMot:vNe,ajouterListe:bNe,apercu:yNe,annuler:wNe,ajouter:_Ne,consigneListeMots:CNe,exempleListe:ENe,typeRemiseOrdre:TNe,horizontale:xNe,verticale:SNe,itemsOrdre:BNe,ajouterItem:kNe,verifier:DNe,bravoExercice:FNe,remiseOrdre:INe,heures:LNe,minutes:PNe,secondes:MNe,tempsEcoule:RNe,compteRebours:ONe,syntheseVocale:UNe,texteSynthetiser:NNe,vitesse:HNe,hauteur:QNe,voix:$Ne,ecouter:jNe,parDefaut:VNe,lienVideo:zNe,debut:GNe,fin:KNe,min:WNe,sec:qNe,tailleTextePlus:YNe,tailleTexteMoins:XNe,gras:JNe,italique:ZNe,souligne:eHe,barre:tHe,listeDecimale:iHe,liste:nHe,alignerGauche:sHe,alignerDroite:rHe,centrer:oHe,noir:aHe,rouge:lHe,vert:uHe,bleu:cHe,jaune:AHe,turquoise:hHe,gris:dHe,blanc:fHe,aProposDigiscreen:pHe,digiscreen:gHe,contact:mHe,langue:vHe,arrierePlanPage:bHe,selectionnerCouleur:yHe,pagePrecedente:wHe,pageSuivante:_He,pages:CHe,ajouterPage:EHe,importer:THe,exporter:xHe,importerEcran:SHe,exporterEcran:BHe,modules:kHe,tirageSortTexte:DHe,tirageSortImage:FHe,texteATrous:IHe,exempleTrou:LHe,consigneTrouSimple:PHe,consigneTrouSelection:MHe,listePersonnes:RHe,consigneGroupe:OHe,exempleGroupe:UHe,nombrePersonnesGroupe:NHe,texteTirageTexte:HHe,texteTirageImage:QHe,consigneTirageTexte:$He,selectionnerImages:jHe,supprimerItemTirage:VHe,oui:zHe,non:GHe,tirer:KHe,contenuIntegre:WHe,lienContenuLigne:qHe,monTexte:YHe,selectionner:XHe,dessiner:JHe,deplacer:ZHe,defaire:eQe,refaire:tQe,rectangle:iQe,rectanglePlein:nQe,cercle:sQe,cerclePlein:rQe,etoile:oQe,ligne:aQe,fleche:lQe,surlignage:uQe,supprimer:cQe,fermer:AQe,verrouiller:hQe,deverrouiller:dQe,mettreDevant:fQe,mettreDerriere:pQe,reduireTaille:gQe,augmenterTaille:mQe,reinitialiserAnnotations:vQe,reinitialiser:bQe,soutien:yQe,codeSource:wQe,horloge:_Qe,volume:CQe,sonometre:EQe,sensibilite:TQe,erreurSonometre:xQe,erreurTailleFichier:SQe,nouveauTitre:BQe,calendrier:kQe,lien:DQe,titreLien:FQe,activerEffetsSonores:IQe,plateau:LQe,plateauJeu:PQe,nombrePions:MQe,afficherHeures:RQe,afficherDecompteVisuel:OQe,redemarrer:UQe,dupliquer:NQe,confirmationSuppressionPage:HQe,supprimerPage:QQe,envoyerPage:$Qe,galerie:jQe,galerieImages:VQe,texteGalerie:zQe,label:GQe,webcam:KQe,navigateurNonSupporte:WQe,aucuneEntreeVideo:qQe,tableau:YQe,lignes:XQe,colonnes:JQe,titreColonne:ZQe,ajouterColonne:e$e,supprimerColonne:t$e,ajouterLigne:i$e,supprimerLigne:n$e,rownum:s$e,plaintext:r$e,textarea:o$e,html:a$e,link:l$e,color:u$e,star:c$e,progress:A$e,tickCross:h$e,orange:d$e,pourpre:f$e,list:p$e,listeMots:g$e,modalites:m$e,silence:v$e,chuchotez:b$e,ecoutez:y$e,parlez:w$e,communiquez:_$e,modalitesTravail:C$e,histoire:E$e,nombreImages:T$e,sourceImages:x$e,generer:S$e,tirageSortAudio:B$e,texteTirageAudio:k$e,selectionnerAudios:D$e,tirageAudio:F$e,adresseLien:I$e,apparence:L$e,lecteur:P$e,bouton:M$e,typeDe:R$e,classique:O$e,nombre:U$e,lettre:N$e,minimum:H$e,maximum:Q$e,alerteEcran:$$e,pendu:j$e,motATrouver:V$e,nombreErreurs:z$e,caracteres:G$e,erreursRestantes:K$e,cartes:W$e,formatCartes:q$e,paysage:Y$e,portrait:X$e,carre:J$e,recto:Z$e,verso:eje,ajouterCarte:tje,selectionnerCouleurFond:ije,plus1Min:nje,afficherMillisecondes:sje,augmenterTransparence:rje,reduireTransparence:oje,imagesSequentielles:aje,ordreImage:lje,imagesOrdre:uje,capturer:cje,mettrePleinEcran:Aje,sortirPleinEcran:hje,masquerOutils:dje,afficherOutils:fje},gje="Jouw scherm moet minstens 1024px breed zijn om deze app te gebruiken.",mje="QR-code",vje="Tekst",bje="Foto",yje="Tekening",wje="Doc",_je="Audio",Cje="Synth.",Eje="Video",Tje="Iframe",xje="Wolk",Sje="Herschik",Bje="Vul in",kje="Random tekst",Dje="Random beelden",Fje="Dobbel",Ije="Groepen",Lje="Groep",Pje="Timer",Mje="Tel af",Rje="Feedback",Oje="Tabel",Uje="Knip",Nje="Annoteer",Hje="Scherm",Qje="Opties",$je="Over",jje="Link naar audiobestand",Vje="Afspeelsnelheid",zje="Start",Gje="Start",Kje="Pause",Wje="Timer",qje="Link of tekst",Yje="Aantal dobbels",Xje="Gooi",Jje="Bestandsnaam",Zje="Aantal kolommen",eVe="Aantal rijen",tVe="Tekstkleur",iVe="Achtergrondkleur",nVe="Link naar afb. of zoek op Pixabay",sVe="Resultaat",rVe="Kies een afb.",oVe="Eigen bestand",aVe="Zoek",lVe="Bestand",uVe="Eigen bestand (.pdf, .odt, .odp, .ods, .odg)",cVe="Kies en bestand",AVe="Kies een audiofile",hVe="Kies een video",dVe="of",fVe="Woordenwolk",pVe="Woorden",gVe="Tekens",mVe="Voeg een woord toe",vVe="Voeg een woordenlijst toe",bVe="Voorbeeld",yVe="Annuleer",wVe="Voeg toe",_Ve="Voeg woorden toe, gescheiden door een komma.",CVe="Voorbeeld: vos, wolf, marter, wezel",EVe="Hoe wil je het uitlijnen?",TVe="horizontaal",xVe="verticaal",SVe="Items (in de juiste volgorde ingeven)",BVe="Voeg een item toe",kVe="Controleer",DVe="Goed gedaan!",FVe="Herschik",IVe="Uren",LVe="Minuten",PVe="Seconds",MVe="Verlopen tijd",RVe="Aftelklok",OVe="Tekst naar spraak",UVe="Tekst om samen te vatten",NVe="Snelheid",HVe="Hoogte",QVe="Stem",$Ve="Luister",jVe="STANDAARD",VVe="Link naar een video (YouTube, Vimeo of .mp4 file)",zVe="Start",GVe="Einde",KVe="Min.",WVe="Sec.",qVe="Vergroot lettergrootte",YVe="Verklein lettergrootte",XVe="Veld",JVe="Scheef",ZVe="Onderlijnd",eze="Doorstreept",tze="Decimalen",ize="Lijst",nze="Links uitlijnen",sze="Midden",rze="Rechts uitlijnen",oze="Zwart",aze="Rooded",lze="Groen",uze="Blauw",cze="Geel",Aze="Turquoise",hze="Grijs",dze="Wit",fze="Over Digiscreen",pze="is een interactief bord voor in de klas en voor de afstandsles, gemaakt door",gze="Contact:",mze="Taal",vze="Achtergrond",bze="Kies een kleur",yze="Vorige pagina",wze="Volgende pagina",_ze="Pagina's",Cze="Voeg een pagina toe",Eze="Importeer",Tze="Exporteer",xze="Importeer een scherm",Sze="Exporteer dit scherm",Bze="Modules",kze="Teksten van tekenen",Dze="Tekenen van beelden",Fze="Vul de tekst aan",Ize="De vos is een *zoogdier*.",Lze="<u>Invultekst</u>: De vos is een *zoogdier*.",Pze="<u>Invultekst met keuze</u>: De vos is een *zoogdier&vert;vogel* (het juiste antwoord moet eerst staan).",Mze="Maak groepjes",Rze="Voeg namen toe, gescheiden door een komma.",Oze="Voorbeeld: Vic, Ferre, Bas, Briek, Marie",Uze="Aantal personen per groep",Nze="Elementen voor de trekking",Hze="Beelden voor de trekking",Qze="Voeg woorden, namen of zinnen toe, gescheiden door een komma.",$ze="Klik of sleep de afbeeldingen hierheen",jze="Het item verwijderen uit de trekking als het eenmaal gekozen is?",Vze="ja",zze="nee",Gze="Trekking",Kze="Embed",Wze="Link naar een site, een online doc of interactieve inhoud",qze="Mijn tekst…",Yze="Selecteer",Xze="Vrij tekenen",Jze="Verplaatsen",Zze="Ongedaan maken",eGe="Opnieuw",tGe="Rechthoek",iGe="Gevulde rechthoek",nGe="Cirkel",sGe="Gevulde cirkel",rGe="Ster",oGe="Lijn",aGe="Pijl",lGe="Markeer",uGe="Verwijder",cGe="Sluit",AGe="Op slot",hGe="Vrijgeven",dGe="Zet voor",fGe="Zet achter",pGe="Tekst verkleinen",gGe="Tekst vergroten",mGe="Wil je alle aantekeningen verwijderen?",vGe="Verwijder alles",bGe="Ik wil dit project graag steunen ❤️.",yGe="Broncode",wGe="Klok",_Ge="Volume",CGe="Volumemeter",EGe="Gevoeligheid",TGe="Foutmelding bij poging om het inputsignaal van de micro te vinden.",xGe="De maximum bestandsgrootte is 1 MB. Voor grotere bestanden is het beter PDF te gebruiken.",SGe="Titel van dit paneel:",BGe="Kalender",kGe="Link",DGe="Titel van de link",FGe="Geluidseffecten activeren?",IGe="Bord",LGe="Spelbord",PGe="Aantal stuks",MGe="Uren weergeven?",RGe="De visuele telling weergeven?",OGe="Herstart",UGe="Duplicaat",NGe="Wil je echt pagina {page} en zijn inhoud verwijderen?",HGe="Verwijder de huidige pagina",QGe="Stuur naar pagina:",$Ge="Galerij",jGe="Afbeeldingen galerij",VGe="Galerij afbeeldingen",zGe="Etiket",GGe="Webcam",KGe="Deze browser wordt niet ondersteund.",WGe="Er is geen video-ingang gedetecteerd op uw toestel.",qGe="Tabel",YGe="Regels",XGe="Kolommen",JGe="Titel van de kolom",ZGe="Een kolom toevoegen",eKe="Een kolom verwijderen",tKe="Een regel toevoegen",iKe="Een regel verwijderen",nKe="Lijnnummer",sKe="Tekst (1 regel)",rKe="Tekst (meerdere regels)",oKe="HTML",aKe="Link",lKe="Kleur",uKe="Sterren",cKe="Progressie",AKe="Tik",hKe="Oranje",dKe="Paars",fKe="Lijst",pKe="Lijst van woorden, gescheiden door een komma",gKe="Methoden",mKe="Stilte",vKe="Fluister",bKe="Luister",yKe="Werken in paren",wKe="Werken in groepen",_Ke="Werkmethoden",CKe="Geschiedenis",EKe="Aantal beelden",TKe="Bron van de beelden",xKe="Genereer",SKe="Audio tekenen",BKe="Audiobestanden voor de trekking",kKe="Klik of sleep de audiobestanden hierheen",DKe="Random audio",FKe="Specificeer de link die moet worden ingevoegd:",IKe="Speler uiterlijk",LKe="audiospeler",PKe="enkele knop",MKe="Soort dobbelsteen",RKe="klassiek",OKe="getal",UKe="letter",NKe="Minimum",HKe="Maximum",QKe="De resolutie van dit scherm is lager dan die van het .dgs-bestand. De positie van de panelen kan worden beïnvloed. Vergroot het venster of gebruik de zoomfuncties van uw browser om dit probleem op te lossen. Aanbevolen zoom: {zoom}% van het huidige zoomniveau.",$Ke="Beul",jKe="Woord te vinden",VKe="Aantal foute keuzes",zKe="Letters",GKe="Resterende fouten:",KKe="Kaarten",WKe="Kaartformaat",qKe="liggend",YKe="staand",XKe="vierkant",JKe="Voorkant",ZKe="Achterkant",eWe="Kaart toevoegen",tWe="Selecteer een achtergrondkleur",iWe="+ 1 min.",nWe="Milliseconden weergeven?",sWe="Transparantie verhogen",rWe="Transparantie verminderen",oWe="Sequentiële beelden",aWe="Herschik beelden",lWe="Afbeeldingen (in de juiste volgorde ingeven)",uWe="Maak een screenshot",cWe="Naar volledig scherm",AWe="Volledig scherm afsluiten",hWe="Werkbalk verbergen",dWe="Werkbalk tonen",fWe={alerte:gje,codeqr:mje,texte:vje,image:bje,dessin:yje,doc:wje,audio:_je,synthese:Cje,video:Eje,iframe:Tje,nuage:xje,ordre:Sje,trous:Bje,tirageTexte:kje,tirageImage:Dje,des:Fje,groupes:Ije,groupe:Lje,chrono:Pje,rebours:Mje,retroaction:Rje,grille:Oje,capture:Uje,annoter:Nje,ecran:Hje,options:Qje,aPropos:$je,lienFichierAudio:jje,vitesseLecture:Vje,valider:zje,demarrer:Gje,pause:Kje,chronometre:Wje,lienOuTexte:qje,nombreDes:Yje,jeter:Xje,nomFichier:Jje,nombreColonnes:Zje,nombreLignes:eVe,couleurTexte:tVe,couleurFond:iVe,lienImageRecherche:nVe,resultatsRecherche:sVe,selectionnerImage:rVe,fichierAppareil:oVe,rechercher:aVe,document:lVe,documentAppareil:uVe,selectionnerDocument:cVe,selectionnerAudio:AVe,selectionnerVideo:hVe,ou:dVe,nuageMots:fVe,mots:pVe,taille:gVe,ajouterMot:mVe,ajouterListe:vVe,apercu:bVe,annuler:yVe,ajouter:wVe,consigneListeMots:_Ve,exempleListe:CVe,typeRemiseOrdre:EVe,horizontale:TVe,verticale:xVe,itemsOrdre:SVe,ajouterItem:BVe,verifier:kVe,bravoExercice:DVe,remiseOrdre:FVe,heures:IVe,minutes:LVe,secondes:PVe,tempsEcoule:MVe,compteRebours:RVe,syntheseVocale:OVe,texteSynthetiser:UVe,vitesse:NVe,hauteur:HVe,voix:QVe,ecouter:$Ve,parDefaut:jVe,lienVideo:VVe,debut:zVe,fin:GVe,min:KVe,sec:WVe,tailleTextePlus:qVe,tailleTexteMoins:YVe,gras:XVe,italique:JVe,souligne:ZVe,barre:eze,listeDecimale:tze,liste:ize,alignerGauche:nze,centrer:sze,alignerDroite:rze,noir:oze,rouge:aze,vert:lze,bleu:uze,jaune:cze,turquoise:Aze,gris:hze,blanc:dze,aProposDigiscreen:fze,digiscreen:pze,contact:gze,langue:mze,arrierePlanPage:vze,selectionnerCouleur:bze,pagePrecedente:yze,pageSuivante:wze,pages:_ze,ajouterPage:Cze,importer:Eze,exporter:Tze,importerEcran:xze,exporterEcran:Sze,modules:Bze,tirageSortTexte:kze,tirageSortImage:Dze,texteATrous:Fze,exempleTrou:Ize,consigneTrouSimple:Lze,consigneTrouSelection:Pze,listePersonnes:Mze,consigneGroupe:Rze,exempleGroupe:Oze,nombrePersonnesGroupe:Uze,texteTirageTexte:Nze,texteTirageImage:Hze,consigneTirageTexte:Qze,selectionnerImages:$ze,supprimerItemTirage:jze,oui:Vze,non:zze,tirer:Gze,contenuIntegre:Kze,lienContenuLigne:Wze,monTexte:qze,selectionner:Yze,dessiner:Xze,deplacer:Jze,defaire:Zze,refaire:eGe,rectangle:tGe,rectanglePlein:iGe,cercle:nGe,cerclePlein:sGe,etoile:rGe,ligne:oGe,fleche:aGe,surlignage:lGe,supprimer:uGe,fermer:cGe,verrouiller:AGe,deverrouiller:hGe,mettreDevant:dGe,mettreDerriere:fGe,reduireTaille:pGe,augmenterTaille:gGe,reinitialiserAnnotations:mGe,reinitialiser:vGe,soutien:bGe,codeSource:yGe,horloge:wGe,volume:_Ge,sonometre:CGe,sensibilite:EGe,erreurSonometre:TGe,erreurTailleFichier:xGe,nouveauTitre:SGe,calendrier:BGe,lien:kGe,titreLien:DGe,activerEffetsSonores:FGe,plateau:IGe,plateauJeu:LGe,nombrePions:PGe,afficherHeures:MGe,afficherDecompteVisuel:RGe,redemarrer:OGe,dupliquer:UGe,confirmationSuppressionPage:NGe,supprimerPage:HGe,envoyerPage:QGe,galerie:$Ge,galerieImages:jGe,texteGalerie:VGe,label:zGe,webcam:GGe,navigateurNonSupporte:KGe,aucuneEntreeVideo:WGe,tableau:qGe,lignes:YGe,colonnes:XGe,titreColonne:JGe,ajouterColonne:ZGe,supprimerColonne:eKe,ajouterLigne:tKe,supprimerLigne:iKe,rownum:nKe,plaintext:sKe,textarea:rKe,html:oKe,link:aKe,color:lKe,star:uKe,progress:cKe,tickCross:AKe,orange:hKe,pourpre:dKe,list:fKe,listeMots:pKe,modalites:gKe,silence:mKe,chuchotez:vKe,ecoutez:bKe,parlez:yKe,communiquez:wKe,modalitesTravail:_Ke,histoire:CKe,nombreImages:EKe,sourceImages:TKe,generer:xKe,tirageSortAudio:SKe,texteTirageAudio:BKe,selectionnerAudios:kKe,tirageAudio:DKe,adresseLien:FKe,apparence:IKe,lecteur:LKe,bouton:PKe,typeDe:MKe,classique:RKe,nombre:OKe,lettre:UKe,minimum:NKe,maximum:HKe,alerteEcran:QKe,pendu:$Ke,motATrouver:jKe,nombreErreurs:VKe,caracteres:zKe,erreursRestantes:GKe,cartes:KKe,formatCartes:WKe,paysage:qKe,portrait:YKe,carre:XKe,recto:JKe,verso:ZKe,ajouterCarte:eWe,selectionnerCouleurFond:tWe,plus1Min:iWe,afficherMillisecondes:nWe,augmenterTransparence:sWe,reduireTransparence:rWe,imagesSequentielles:oWe,ordreImage:aWe,imagesOrdre:lWe,capturer:uWe,mettrePleinEcran:cWe,sortirPleinEcran:AWe,masquerOutils:hWe,afficherOutils:dWe},pWe="Damit du diese App nutzen kann, muss deine Auflösung mindestens 1024px breit sein.",gWe="QR Code",mWe="Text",vWe="Bild",bWe="Zeichnung",yWe="Dokumente",wWe="Audio",_We="TTS",CWe="Video",EWe="Iframe",TWe="Wolke",xWe="Ordnen",SWe="Lücken",BWe="Zufall Text",kWe="Zufall Bild",DWe="Würfel",FWe="Gruppen",IWe="Gruppe",LWe="Stoppuhr",PWe="Timer",MWe="Feedback",RWe="Raster",OWe="Bildschirmfoto",UWe="Annotieren",NWe="Vollbild",HWe="Einstellungen",QWe="Über",$We="Link zur Audio Datei",jWe="Wiedergabegeschwindigkeit",VWe="Bestätigen",zWe="Start",GWe="Pause",KWe="Timer",WWe="Link oder Text",qWe="Anzahl der Würfel",YWe="Würfeln",XWe="Dateiname",JWe="Anzahl der Spalten",ZWe="Anzahl der Reihen",eqe="Textfarbe",tqe="Hintergrundfarbe",iqe="Link zu einem Bild oder Suche bei Pixabay",nqe="Suchergebnisse",sqe="Wähle ein Bild",rqe="Datei auf Deinem Gerät",oqe="Suche",aqe="Dokument",lqe="Dokument auf Deinem Gerät (.pdf, .odt, .odp, .ods, .odg)",uqe="Wähle ein Dokument",cqe="Wähle eine Audiodatei",Aqe="Wähle eine Videodatei",hqe="oder",dqe="Wortwolke",fqe="Wörter",pqe="Größe",gqe="Wort hinzufügen",mqe="Liste von Wörtern hinzufügen",vqe="Vorschau",bqe="Abbrechen",yqe="Hinzufügen",wqe="Liste von Wörtern hinzufügen, separiert mit Kommas.",_qe="Beispiel: Fingerhut, Rose, Tulpe, Veilchen",Cqe="Sortierungstyp",Eqe="horizontal",Tqe="vertikal",xqe="Elemente (in der korrekten Reihenfolge)",Sqe="Elemente hinzufügen",Bqe="Überprüfen",kqe="Gut gemacht!",Dqe="Sortieren",Fqe="Stunden",Iqe="Minuten",Lqe="Sekunden",Pqe="Vergangene Zeit",Mqe="Countdown",Rqe="Text-to-Speech",Oqe="Text für Sprachausgabe",Uqe="Geschwindigkeit",Nqe="Tonhöhe",Hqe="Stimme",Qqe="Listen",$qe="Standartwert",jqe="Link zu einem Video (Youtube, Vimeo oder sonstige Video-Datei)",Vqe="Start",zqe="Ende",Gqe="Min.",Kqe="Sek.",Wqe="Schriftgröße vergrößern",qqe="Schriftgröße verkleinern",Yqe="Fett",Xqe="Kursiv",Jqe="Unterstrichen",Zqe="Durchgestrichen",eYe="Dezimal Liste",tYe="Liste",iYe="Linksbündig",nYe="Zentriert",sYe="Rechtsbündig",rYe="Schwarz",oYe="Rot",aYe="Grün",lYe="Blau",uYe="Gelb",cYe="Türkis",AYe="Grau",hYe="Weiß",dYe="Über Digiscreen",fYe="ist eine interaktive Tafel für das Klassenzimmer und den virtuellen Klassenraum von",pYe="Kontakt:",gYe="Sprache",mYe="Seitenhintergrund",vYe="Wähle eine Farbe",bYe="Vorherige Seite",yYe="Nächste Seite",wYe="Seiten",_Ye="Seite hinzufügen",CYe="Import",EYe="Export",TYe="Importiere eine Seite",xYe="Exportiere diese Seite",SYe="Module",BYe="Textverlosung",kYe="Bildverlosung",DYe="Fülle die Lücken",FYe="Der Fingerhut ist eine *Pflanze*.",IYe="<u>Um einen Eingabetext zu erzeugen schreibe</u>: Der Fingerhut ist eine *Pflanze*.",LYe="<u>Um eine Auswahlliste zu erzeugen schreibe</u>: Der Fingerhut ist *eine Pflanze&vert;ein Baum* (die richtige Antwort muss zuerst genannt werden).",PYe="Gruppeneinteilung",MYe="Füge eine Liste mit Personen hinzu, trenne mit einem Komma.",RYe="Example: Holger, Nele, Charlotte, Ulrich",OYe="Größe der Gruppe",UYe="Text für die Verlosung",NYe="Bilder für die Verlosung",HYe="Füge Wörter oder Begriffe hinzu, trenne mit einem Komma.",QYe="Klicken Sie hier oder ziehen Sie die Bilder per Drag & Drop",$Ye="Liste nach dem Bestätigen löschen?",jYe="Ja",VYe="Nein",zYe="Los ziehen",GYe="Eingebetteter Inhalt",KYe="Link zu einer Seite, einem Dokument oder interaktivem Inhalt",WYe="Mein Text…",qYe="Auswählen",YYe="Zeichnen",XYe="Verschiebe Elemente",JYe="Rückgängig",ZYe="Wiederherstellen",eXe="Rechteck",tXe="Gefülltes Rechteck",iXe="Kreis",nXe="Gefüllter Kreis",sXe="Stern",rXe="Linie",oXe="Pfeil",aXe="Hervorgehoben",lXe="Löschen",uXe="Schließen",cXe="Sperren",AXe="Entsperren",hXe="Vorwärts",dXe="Zurück",fXe="Schrift verkleinern",pXe="Schrift vergrößern",gXe="Möchtest Du wirklich alle Annotationen löschen?",mXe="Alles löschen",vXe="Ich möchte dieses Projekt unterstützen ❤️.",bXe="Quellcode",yXe="Uhr",wXe="Lautstärke",_Xe="Lautstärkemesser",CXe="Sensivität",EXe="Fehler beim Versuch das Mikrofon zu öffnen.",TXe="Die maximale Größe beträgt 1 MB. Bei größeren Dateien wird das PDF Format empfohlen.",xXe="Titel dieser Tafel:",SXe="Kalender",BXe="Link",kXe="Titel des Links",DXe="Geräusche aktivieren?",FXe="Spiel",IXe="Spielbrett",LXe="Anzahl der Spielfigren",PXe="Stunden anzeigen?",MXe="Visuelle Zählung anzeigen?",RXe="Neustart",OXe="Duplizieren",UXe="Möchten Sie die Seite {page} und ihren Inhalt wirklich löschen?",NXe="Löschen der aktuellen Seite",HXe="Senden an Seite:",QXe="Galerie",$Xe="Bildergalerie",jXe="Bilder in der Galerie",VXe="Label",zXe="Webcam",GXe="Dieser Browser wird nicht unterstützt.",KXe="Es wurde kein Videoeingang auf Ihrem Gerät erkannt.",WXe="Tabelle",qXe="Zeilen",YXe="Spalten",XXe="Titel der Spalte",JXe="Spalte hinzufügen",ZXe="Spalte löschen",eJe="Zeile hinzufügen",tJe="Zeile löschen",iJe="Nummer der Zeile",nJe="Text (eine Zeile)",sJe="Text (mehrere Zeilen)",rJe="HTML",oJe="Link",aJe="Farbe",lJe="Sterne",uJe="Progression",cJe="Check",AJe="Orange",hJe="Purpur",dJe="Liste",fJe="Liste von Wörtern, getrennt durch ein Komma",pJe="Modalitäten",gJe="Stille",mJe="Flüstern",vJe="Hören",bJe="Arbeiten Sie zu zweit",yJe="Arbeiten Sie in einer Gruppe",wJe="Arbeitsmodalitäten",_Je="Geschichte",CJe="Anzahl der Bilder",EJe="Quelle der Bilder",TJe="Generieren",xJe="Audio-Auslosung",SJe="Audiodateien für die Verlosung",BJe="Klicken oder Drag & Drop der Audiodateien hier",kJe="Zufall Audio",DJe="Geben Sie den einzufügenden Link an:",FJe="Erscheinungsbild des Players",IJe="Audioplayer",LJe="einfache Taste",PJe="Würfeltyp",MJe="klassisch",RJe="Zahl",OJe="Buchstabe",UJe="Minimum",NJe="Maximum",HJe="Die Auflösung dieses Bildschirms ist geringer als die beim Export der .dgs-Datei verwendete. Die Position der Panels könnte beeinträchtigt sein. Vergrößern Sie das Fenster oder verwenden Sie die Zoomfunktionen Ihres Browsers, um das Problem zu beheben. Empfohlener Zoom: {Zoom}% der aktuellen Zoomstufe.",QJe="Gehängte",$Je="Wort zu finden",jJe="Anzahl der falschen Auswahlen",VJe="Buchstaben",zJe="Verbleibende Fehler:",GJe="Karten",KJe="Kartenformat",WJe="Querformat",qJe="Hochformat",YJe="Quadratisch",XJe="Vorderseite",JJe="Rückseite",ZJe="Karte hinzufügen",eZe="Hintergrundfarbe auswählen",tZe="+ 1 Min.",iZe="Millisekunden anzeigen?",nZe="Transparenz erhöhen",sZe="Transparenz reduzieren",rZe="Sequentielle Bilder",oZe="Bilder ordnen",aZe="Bilder (in der korrekten Reihenfolge)",lZe="Screenshot machen",uZe="In Vollbildmodus bringen",cZe="Vom Vollbildmodus zurücktreten",AZe="Toolbar ausblenden",hZe="Toolbar einblenden",dZe={alerte:pWe,codeqr:gWe,texte:mWe,image:vWe,dessin:bWe,doc:yWe,audio:wWe,synthese:_We,video:CWe,iframe:EWe,nuage:TWe,ordre:xWe,trous:SWe,tirageTexte:BWe,tirageImage:kWe,des:DWe,groupes:FWe,groupe:IWe,chrono:LWe,rebours:PWe,retroaction:MWe,grille:RWe,capture:OWe,annoter:UWe,ecran:NWe,options:HWe,aPropos:QWe,lienFichierAudio:$We,vitesseLecture:jWe,valider:VWe,demarrer:zWe,pause:GWe,chronometre:KWe,lienOuTexte:WWe,nombreDes:qWe,jeter:YWe,nomFichier:XWe,nombreColonnes:JWe,nombreLignes:ZWe,couleurTexte:eqe,couleurFond:tqe,lienImageRecherche:iqe,resultatsRecherche:nqe,selectionnerImage:sqe,fichierAppareil:rqe,rechercher:oqe,document:aqe,documentAppareil:lqe,selectionnerDocument:uqe,selectionnerAudio:cqe,selectionnerVideo:Aqe,ou:hqe,nuageMots:dqe,mots:fqe,taille:pqe,ajouterMot:gqe,ajouterListe:mqe,apercu:vqe,annuler:bqe,ajouter:yqe,consigneListeMots:wqe,exempleListe:_qe,typeRemiseOrdre:Cqe,horizontale:Eqe,verticale:Tqe,itemsOrdre:xqe,ajouterItem:Sqe,verifier:Bqe,bravoExercice:kqe,remiseOrdre:Dqe,heures:Fqe,minutes:Iqe,secondes:Lqe,tempsEcoule:Pqe,compteRebours:Mqe,syntheseVocale:Rqe,texteSynthetiser:Oqe,vitesse:Uqe,hauteur:Nqe,voix:Hqe,ecouter:Qqe,parDefaut:$qe,lienVideo:jqe,debut:Vqe,fin:zqe,min:Gqe,sec:Kqe,tailleTextePlus:Wqe,tailleTexteMoins:qqe,gras:Yqe,italique:Xqe,souligne:Jqe,barre:Zqe,listeDecimale:eYe,liste:tYe,alignerGauche:iYe,centrer:nYe,alignerDroite:sYe,noir:rYe,rouge:oYe,vert:aYe,bleu:lYe,jaune:uYe,turquoise:cYe,gris:AYe,blanc:hYe,aProposDigiscreen:dYe,digiscreen:fYe,contact:pYe,langue:gYe,arrierePlanPage:mYe,selectionnerCouleur:vYe,pagePrecedente:bYe,pageSuivante:yYe,pages:wYe,ajouterPage:_Ye,importer:CYe,exporter:EYe,importerEcran:TYe,exporterEcran:xYe,modules:SYe,tirageSortTexte:BYe,tirageSortImage:kYe,texteATrous:DYe,exempleTrou:FYe,consigneTrouSimple:IYe,consigneTrouSelection:LYe,listePersonnes:PYe,consigneGroupe:MYe,exempleGroupe:RYe,nombrePersonnesGroupe:OYe,texteTirageTexte:UYe,texteTirageImage:NYe,consigneTirageTexte:HYe,selectionnerImages:QYe,supprimerItemTirage:$Ye,oui:jYe,non:VYe,tirer:zYe,contenuIntegre:GYe,lienContenuLigne:KYe,monTexte:WYe,selectionner:qYe,dessiner:YYe,deplacer:XYe,defaire:JYe,refaire:ZYe,rectangle:eXe,rectanglePlein:tXe,cercle:iXe,cerclePlein:nXe,etoile:sXe,ligne:rXe,fleche:oXe,surlignage:aXe,supprimer:lXe,fermer:uXe,verrouiller:cXe,deverrouiller:AXe,mettreDevant:hXe,mettreDerriere:dXe,reduireTaille:fXe,augmenterTaille:pXe,reinitialiserAnnotations:gXe,reinitialiser:mXe,soutien:vXe,codeSource:bXe,horloge:yXe,volume:wXe,sonometre:_Xe,sensibilite:CXe,erreurSonometre:EXe,erreurTailleFichier:TXe,nouveauTitre:xXe,calendrier:SXe,lien:BXe,titreLien:kXe,activerEffetsSonores:DXe,plateau:FXe,plateauJeu:IXe,nombrePions:LXe,afficherHeures:PXe,afficherDecompteVisuel:MXe,redemarrer:RXe,dupliquer:OXe,confirmationSuppressionPage:UXe,supprimerPage:NXe,envoyerPage:HXe,galerie:QXe,galerieImages:$Xe,texteGalerie:jXe,label:VXe,webcam:zXe,navigateurNonSupporte:GXe,aucuneEntreeVideo:KXe,tableau:WXe,lignes:qXe,colonnes:YXe,titreColonne:XXe,ajouterColonne:JXe,supprimerColonne:ZXe,ajouterLigne:eJe,supprimerLigne:tJe,rownum:iJe,plaintext:nJe,textarea:sJe,html:rJe,link:oJe,color:aJe,star:lJe,progress:uJe,tickCross:cJe,orange:AJe,pourpre:hJe,list:dJe,listeMots:fJe,modalites:pJe,silence:gJe,chuchotez:mJe,ecoutez:vJe,parlez:bJe,communiquez:yJe,modalitesTravail:wJe,histoire:_Je,nombreImages:CJe,sourceImages:EJe,generer:TJe,tirageSortAudio:xJe,texteTirageAudio:SJe,selectionnerAudios:BJe,tirageAudio:kJe,adresseLien:DJe,apparence:FJe,lecteur:IJe,bouton:LJe,typeDe:PJe,classique:MJe,nombre:RJe,lettre:OJe,minimum:UJe,maximum:NJe,alerteEcran:HJe,pendu:QJe,motATrouver:$Je,nombreErreurs:jJe,caracteres:VJe,erreursRestantes:zJe,cartes:GJe,formatCartes:KJe,paysage:WJe,portrait:qJe,carre:YJe,recto:XJe,verso:JJe,ajouterCarte:ZJe,selectionnerCouleurFond:eZe,plus1Min:tZe,afficherMillisecondes:iZe,augmenterTransparence:nZe,reduireTransparence:sZe,imagesSequentielles:rZe,ordreImage:oZe,imagesOrdre:aZe,capturer:lZe,mettrePleinEcran:uZe,sortirPleinEcran:cZe,masquerOutils:AZe,afficherOutils:hZe},fZe="Za korištenje ove aplikacije vaš zaslon mora biti širok najmanje 1024px.",pZe="QR kod",gZe="Tekst",mZe="Slika",vZe="Crtež",bZe="Dokument",yZe="Zvuk",wZe="Tekst-u-govor",_Ze="Video",CZe="Ugradi kod",EZe="Oblak",TZe="Redoslijed",xZe="Praznine",SZe="Crtanje teksta",BZe="Crtanje slike",kZe="Kockice",DZe="Grupe",FZe="Grupa",IZe="Štoperica",LZe="Odbrojavanje",PZe="Povratne informacije",MZe="Mreža",RZe="Izrezak",OZe="Komentirati",UZe="ZAslon",NZe="Postavke",HZe="O",QZe="Veza na audio datoteku",$Ze="Brzina reprodukcije",jZe="Potvrdi",VZe="Start",zZe="Pauza",GZe="Štopreica",KZe="Veza ili tekst",WZe="Broj ili kocka",qZe="Zavrti",YZe="Naziv datoteke",XZe="Broj stupaca",JZe="Broj redaka",ZZe="Boja tekst",eet="Boja pozadine",tet="Veza na sliku ili pretraživanje na Pixabayu",iet="Rezultati pretraživanja",net="Odabrite sliku",set="Datoteka na vašem uređaju",ret="Traži",oet="Dokument",aet="Dokument na uređaju (.pdf, .odt, .odp, .ods, .odg)",uet="Odaberite dokument",cet="Odaberite zvučni zapis",Aet="Odaberite video",het="ili",det="Oblak riječi",fet="Riječi",pet="Veličina",get="Dodajte riječ",met="Dodajte popis riječi",vet="Pregled",bet="Otkaži",yet="Dodati",wet="Dodajte popis riječi, odvojenih zarezom.",_et="Primjer: tulipan,ruža,perunika",Cet="Uredi redoslijed",Eet="vodoravno",Tet="okomito",xet="Stavke (pravilnim redoslijedom)",Bet="Dodajte stavku",ket="Provjeri",Det="Well done!",Fet="Preurediti",Iet="Sati",Let="Minute",Pet="Sekunde",Met="Vrijeme je isteklo",Ret="Odbrjavanje",Oet="Tekst u govor",Uet="Tekst za sintetizaciju",Net="Brzina",Het="Bacanje",Qet="Glas",$et="Slušaj",jet="PO ZADANOM",Vet="Veza na videozapis (YouTube, Vimeo ili.mp4 datoteku)",zet="Početak",Get="Kraj",Ket="Min.",Wet="Sec.",qet="Povećajte veličinu fonta",Yet="Smanjite veličinu fonta",Xet="Podebljanje",Jet="Ukošenje",Zet="Podcrtavanje",ett="Precrtavanje",ttt="Decimalni popis",itt="Popis",ntt="Lijevo poravnanje",stt="Središte",rtt="Desno poravnanje",ott="Crno",att="Crveno",ltt="Zeleno",utt="Plavo",ctt="Žuto",Att="Tirkizno",htt="Sivo",dtt="Bijelo",ftt="O Digiscreenu",ptt="je interaktivna ploča za učionicu i udaljenu učionicu koju je izradio",gtt="Kontakt:",mtt="Jezik",vtt="Pozadina stranice",btt="Odaberite boju",ytt="Prethodna stranica",wtt="Sljedeća stranica",_tt="Stranice",Ctt="Dodajte stranicu",Ett="Uvoz",Ttt="Izvoz",xtt="Uvezite zaslon",Stt="Izvezite ovaj zaslon",Btt="Moduli",ktt="Slučajni crtež teksta",Dtt="Slučajni crtež slike",Ftt="Popunite preaznine",Itt="Cijet je *biljka*.",Ltt="<u>za izradu unosa teksta</u>: cvijet je *biljka*.",Ptt="<u>za izradu odabranog unosa</u>: cvijet je *biljka&vert;životinja* (točan odgovor mora biti postavljen na prvo mjesto).",Mtt="Popis osoba",Rtt="Dodajte popis osoba odvojenih zarezom.",Ott="Primjer: Ivan, Luka, Petra, Tia",Utt="Broj osoba po grupi",Ntt="Tekst za crtež",Htt="Slike za crtež",Qtt="Dodajte riječi ili izraze odvojene zarezom.",$tt="Kliknite ili povucite i ispustite slike ovdje",jtt="Izbrišite stavku s popisa nakon izvlačenja?",Vtt="DA",ztt="NE",Gtt="Crtati",Ktt="Ugrađeni sadržaj",Wtt="Veza na stranicu, dokument ili interaktivni sadržaj",qtt="Moj tekst…",Ytt="Odaberi",Xtt="Slobodan crtež",Jtt="Pomaknite ploče",Ztt="Poništi",eit="Ponovi",tit="pravokutnik",iit="puni pravokutnik",nit="krug",sit="puni krug",rit="zvijezda",oit="crta",ait="strelica",lit="istaknutot",uit="izbrisati",cit="zatvori",Ait="zaključaj",hit="otključaj",dit="Stavite naprijed",fit="Stavite iza",pit="Smanjite veličinu fonta",git="Povećajte veličinu fonta",mit="Želite li stvarno izbrisati sve napomene?",vit="Očistiti sve",bit="Želim podržati ovaj projekt ❤️.",yit="Izvorni kod",wit="Sat",_it="Jačina zvuka",Cit="Mjerač razine zvuka",Eit="Osjetljivost",Tit="Pogreška pri pokušaju dohvaćanja ulaznog toka mikrofona.",xit="Maksimalna prihvaćena veličina je 1 MB. Za veće datoteke preporuča se korištenje PDF formata.",Sit="Naslov ove ploče:",Bit="Kalendar",kit="Poveznica",Dit="Naslov poveznice",Fit="Aktivirajte zvučne efekte?",Iit="Ploča",Lit="Igra na ploči",Pit="Broj igrača",Mit="Prikaži sate?",Rit="Prikaz vizualnog brojanja?",Oit="Restart",Uit="Duplicirati",Nit="Jeste li sigurni da želite izbrisati stranicu {page} i njezin sadržaj?",Hit="Brisanje trenutne stranice",Qit="Pošalji na stranicu:",$it="Galerija",jit="Galerija slika",Vit="Slike galerije",zit="Etiketa",Git="Web kamera",Kit="Ovaj preglednik nije podržan.",Wit="Na uređaju nije otkriven nikakav video ulaz.",qit="Stol",Yit="Linije",Xit="Kolone",Jit="Naslov stupca",Zit="Dodavanje stupca",ent="Brisanje stupca",tnt="Dodavanje retka",int="Brisanje retka",nnt="Broj retka",snt="Tekst (1 redak)",rnt="Tekst (više redaka)",ont="HTML",ant="Povezati",lnt="Boja",unt="Zvijezde",cnt="Napredovanje",Ant="Krpelj",hnt="Naranča",dnt="Ljubičast",fnt="Popis",pnt="Popis riječi odvojenih zarezom",gnt="Dogovori",mnt="Budi tiho",vnt="Šapat",bnt="Slušati",ynt="Rad s 2",wnt="Rad u grupama",_nt="Radni dogovori",Cnt="Povijest",Ent="Broj slika",Tnt="Izvor slike",xnt="Generirati",Snt="Slučajni crtež audio",Bnt="Audiodatoteke za izvlačenje",knt="Kliknite ili povucite i ispustite audiodatoteke ovdje",Dnt="Crtanje audio",Fnt="Unesite vezu za umetanje:",Int="Čitač",Lnt="audio player",Pnt="jednostruki gumb",Mnt="Vrsta kockica",Rnt="klasičan",Ont="broj",Unt="pismo",Nnt="Minimum",Hnt="Maksimum",Qnt="Razlučivost ovog zaslona niža je od razlučivosti koja se koristi pri izvozu.dgs datoteke. To bi moglo utjecati na položaj panela. Proširite prozor ili riješite taj problem pomoću značajki zumiranja preglednika. Preporučeno zumiranje: {zoom}% trenutne razine zumiranja.",$nt="Dželat",jnt="Word za pronalaženje",Vnt="Broj pogrešnih izbora",znt="Pisma",Gnt="Preostale pogreške:",Knt="Kartice",Wnt="Veličine kartica",qnt="ladanje",Ynt="portret",Xnt="rub",Jnt="Ispred",Znt="Leđa",est="Dodaj kartu",tst="Odabir boje pozadine",ist="+ 1 min.",nst="Prikaži milisekunde?",sst="Povećajte prozirnost",rst="Smanjite prozirnost",ost="Sekvencijalne slike",ast="Redoslijed Slike",lst="Slike (ispravnim redoslijedom)",ust="Napravite snimku zaslona",cst="Stavite na cijeli zaslon",Ast="Izađi iz cijelog zaslona",hst="Sakrij alatnu traku",dst="Prikaži alatnu traku",fst={alerte:fZe,codeqr:pZe,texte:gZe,image:mZe,dessin:vZe,doc:bZe,audio:yZe,synthese:wZe,video:_Ze,iframe:CZe,nuage:EZe,ordre:TZe,trous:xZe,tirageTexte:SZe,tirageImage:BZe,des:kZe,groupes:DZe,groupe:FZe,chrono:IZe,rebours:LZe,retroaction:PZe,grille:MZe,capture:RZe,annoter:OZe,ecran:UZe,options:NZe,aPropos:HZe,lienFichierAudio:QZe,vitesseLecture:$Ze,valider:jZe,demarrer:VZe,pause:zZe,chronometre:GZe,lienOuTexte:KZe,nombreDes:WZe,jeter:qZe,nomFichier:YZe,nombreColonnes:XZe,nombreLignes:JZe,couleurTexte:ZZe,couleurFond:eet,lienImageRecherche:tet,resultatsRecherche:iet,selectionnerImage:net,fichierAppareil:set,rechercher:ret,document:oet,documentAppareil:aet,selectionnerDocument:uet,selectionnerAudio:cet,selectionnerVideo:Aet,ou:het,nuageMots:det,mots:fet,taille:pet,ajouterMot:get,ajouterListe:met,apercu:vet,annuler:bet,ajouter:yet,consigneListeMots:wet,exempleListe:_et,typeRemiseOrdre:Cet,horizontale:Eet,verticale:Tet,itemsOrdre:xet,ajouterItem:Bet,verifier:ket,bravoExercice:Det,remiseOrdre:Fet,heures:Iet,minutes:Let,secondes:Pet,tempsEcoule:Met,compteRebours:Ret,syntheseVocale:Oet,texteSynthetiser:Uet,vitesse:Net,hauteur:Het,voix:Qet,ecouter:$et,parDefaut:jet,lienVideo:Vet,debut:zet,fin:Get,min:Ket,sec:Wet,tailleTextePlus:qet,tailleTexteMoins:Yet,gras:Xet,italique:Jet,souligne:Zet,barre:ett,listeDecimale:ttt,liste:itt,alignerGauche:ntt,centrer:stt,alignerDroite:rtt,noir:ott,rouge:att,vert:ltt,bleu:utt,jaune:ctt,turquoise:Att,gris:htt,blanc:dtt,aProposDigiscreen:ftt,digiscreen:ptt,contact:gtt,langue:mtt,arrierePlanPage:vtt,selectionnerCouleur:btt,pagePrecedente:ytt,pageSuivante:wtt,pages:_tt,ajouterPage:Ctt,importer:Ett,exporter:Ttt,importerEcran:xtt,exporterEcran:Stt,modules:Btt,tirageSortTexte:ktt,tirageSortImage:Dtt,texteATrous:Ftt,exempleTrou:Itt,consigneTrouSimple:Ltt,consigneTrouSelection:Ptt,listePersonnes:Mtt,consigneGroupe:Rtt,exempleGroupe:Ott,nombrePersonnesGroupe:Utt,texteTirageTexte:Ntt,texteTirageImage:Htt,consigneTirageTexte:Qtt,selectionnerImages:$tt,supprimerItemTirage:jtt,oui:Vtt,non:ztt,tirer:Gtt,contenuIntegre:Ktt,lienContenuLigne:Wtt,monTexte:qtt,selectionner:Ytt,dessiner:Xtt,deplacer:Jtt,defaire:Ztt,refaire:eit,rectangle:tit,rectanglePlein:iit,cercle:nit,cerclePlein:sit,etoile:rit,ligne:oit,fleche:ait,surlignage:lit,supprimer:uit,fermer:cit,verrouiller:Ait,deverrouiller:hit,mettreDevant:dit,mettreDerriere:fit,reduireTaille:pit,augmenterTaille:git,reinitialiserAnnotations:mit,reinitialiser:vit,soutien:bit,codeSource:yit,horloge:wit,volume:_it,sonometre:Cit,sensibilite:Eit,erreurSonometre:Tit,erreurTailleFichier:xit,nouveauTitre:Sit,calendrier:Bit,lien:kit,titreLien:Dit,activerEffetsSonores:Fit,plateau:Iit,plateauJeu:Lit,nombrePions:Pit,afficherHeures:Mit,afficherDecompteVisuel:Rit,redemarrer:Oit,dupliquer:Uit,confirmationSuppressionPage:Nit,supprimerPage:Hit,envoyerPage:Qit,galerie:$it,galerieImages:jit,texteGalerie:Vit,label:zit,webcam:Git,navigateurNonSupporte:Kit,aucuneEntreeVideo:Wit,tableau:qit,lignes:Yit,colonnes:Xit,titreColonne:Jit,ajouterColonne:Zit,supprimerColonne:ent,ajouterLigne:tnt,supprimerLigne:int,rownum:nnt,plaintext:snt,textarea:rnt,html:ont,link:ant,color:lnt,star:unt,progress:cnt,tickCross:Ant,orange:hnt,pourpre:dnt,list:fnt,listeMots:pnt,modalites:gnt,silence:mnt,chuchotez:vnt,ecoutez:bnt,parlez:ynt,communiquez:wnt,modalitesTravail:_nt,histoire:Cnt,nombreImages:Ent,sourceImages:Tnt,generer:xnt,tirageSortAudio:Snt,texteTirageAudio:Bnt,selectionnerAudios:knt,tirageAudio:Dnt,adresseLien:Fnt,apparence:Int,lecteur:Lnt,bouton:Pnt,typeDe:Mnt,classique:Rnt,nombre:Ont,lettre:Unt,minimum:Nnt,maximum:Hnt,alerteEcran:Qnt,pendu:$nt,motATrouver:jnt,nombreErreurs:Vnt,caracteres:znt,erreursRestantes:Gnt,cartes:Knt,formatCartes:Wnt,paysage:qnt,portrait:Ynt,carre:Xnt,recto:Jnt,verso:Znt,ajouterCarte:est,selectionnerCouleurFond:tst,plus1Min:ist,afficherMillisecondes:nst,augmenterTransparence:sst,reduireTransparence:rst,imagesSequentielles:ost,ordreImage:ast,imagesOrdre:lst,capturer:ust,mettrePleinEcran:cst,sortirPleinEcran:Ast,masquerOutils:hst,afficherOutils:dst},pst={en:v5e,fr:mRe,es:g7e,it:pje,nl:fWe,de:dZe,hr:fst};var w8={exports:{}};const gst=x2(j6);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(n,s){t.exports=s(gst,zP())})(Xi,function(i,n){return function(s){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return s[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=s,o.c=r,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(A){return a[A]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=2)}([function(s,r){s.exports=i},function(s,r){s.exports=n},function(s,r,o){s.exports=o(3)},function(s,r,o){o.r(r);var a=o(0),l=o(1),u=o.n(l);function c(S){if(!u.a.autoDrawEnabled){var k=S.getLayer()||S.getStage();k&&k.batchDraw()}}var A={key:!0,style:!0,elm:!0,isRootInsert:!0},h=".vue-konva-event";function g(S,k,M,N){k===void 0&&(k={}),M===void 0&&(M={});var V=S.__konvaNode,G={},ee=!1;for(var se in M)if(!A[se]){var ne=se.slice(0,2)==="on",le=M[se]!==k[se];if(ne&&le){var he=se.substr(2).toLowerCase();he.substr(0,7)==="content"&&(he="content"+he.substr(7,1).toUpperCase()+he.substr(8)),V.off(he+h,M[se])}var we=!k.hasOwnProperty(se);we&&V.setAttr(se,void 0)}for(var pe in k)if(!A[pe]){var ke=pe.slice(0,2)==="on",ce=M[pe]!==k[pe];if(ke&&ce){var ye=pe.substr(2).toLowerCase();ye.substr(0,7)==="content"&&(ye="content"+ye.substr(7,1).toUpperCase()+ye.substr(8)),k[pe]&&(V.off(ye+h),V.on(ye+h,k[pe]))}!ke&&(k[pe]!==M[pe]||N&&k[pe]!==V.getAttr(pe))&&(ee=!0,G[pe]=k[pe])}ee&&(V.setAttrs(G),c(V))}var f="v";function y(S){function k(M){return M.__konvaNode?M:M.parent?k(M.parent):(console.error("vue-konva error: Can not find parent node"),{})}return k(S.parent)}function E(S){if(S!=null&&S.component)return S.component.__konvaNode||E(S.component.subTree)}function C(S){var k=S.el,M=S.component,N=E(S);if(k!=null&&k.tagName&&M&&!N){var V=k&&k.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+V+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return N}function m(S){var k=[];return S.children&&S.children.forEach(function(M){!M.component&&Array.isArray(M.children)&&M.children.forEach(function(N){!N.component&&Array.isArray(N.children)?k.push.apply(k,N.children):k.push(N)}),M.component&&k.push(M)}),k}function b(S,k){var M=m(S),N=[];M.forEach(function(G){var ee=C(G);ee&&N.push(ee)});var V=!1;N.forEach(function(G,ee){G.getZIndex()!==ee&&(G.setZIndex(ee),V=!0)}),V&&c(k)}function _(){return _=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var M=arguments[k];for(var N in M)Object.prototype.hasOwnProperty.call(M,N)&&(S[N]=M[N])}return S},_.apply(this,arguments)}var B={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(k,M){var N=M.attrs,V=M.slots,G=M.expose;M.emits;var ee=Object(a.getCurrentInstance)(),se=Object(a.reactive)({}),ne=Object(a.ref)(null),le=new window.Konva.Stage({width:k.config.width,height:k.config.height,container:document.createElement("div")});ee.__konvaNode=le,pe();function he(){return ee.__konvaNode}function we(){return ee.__konvaNode}function pe(){var ke=se||{},ce=_({},N,k.config);g(ee,ce,ke,k.__useStrictMode),Object.assign(se,ce)}return Object(a.onMounted)(function(){ne.value.innerHTML="",le.container(ne.value),pe()}),Object(a.onUpdated)(function(){pe(),b(ee.subTree,le)}),Object(a.onBeforeUnmount)(function(){le.destroy()}),Object(a.watch)(function(){return k.config},pe,{deep:!0}),G({getStage:we,getNode:he}),function(){var ke;return Object(a.h)("div",{ref:ne},(ke=V.default)===null||ke===void 0?void 0:ke.call(V))}}};function L(){return L=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var M=arguments[k];for(var N in M)Object.prototype.hasOwnProperty.call(M,N)&&(S[N]=M[N])}return S},L.apply(this,arguments)}var j=".vue-konva-event",O={Group:!0,Layer:!0,FastLayer:!0,Label:!0},Q=function(S){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(M,N){var V=N.attrs,G=N.slots,ee=N.expose,se=Object(a.getCurrentInstance)(),ne=Object(a.reactive)({}),le=window.Konva[S];if(!le){console.error("vue-konva error: Can not find node "+S);return}var he=new le;se.__konvaNode=he,se.vnode.__konvaNode=he,ke();function we(){return se.__konvaNode}function pe(){return se.__konvaNode}function ke(){var ye={};for(var ie in se.vnode.props)ie.slice(0,2)==="on"&&(ye[ie]=se.vnode.props[ie]);var He=ne||{},$e=L({},V,M.config,ye);g(se,$e,He,M.__useStrictMode),Object.assign(ne,$e)}Object(a.onMounted)(function(){var ye=y(se).__konvaNode;ye.add(he),c(he)}),Object(a.onUnmounted)(function(){c(he),he.destroy(),he.off(j)}),Object(a.onUpdated)(function(){ke(),b(se.subTree,he)}),Object(a.watch)(function(){return M.config},ke,{deep:!0}),ee({getStage:pe,getNode:we});var ce=O[S];return ce?function(){var ye;return Object(a.h)("template",{},(ye=G.default)===null||ye===void 0?void 0:ye.call(G))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&o(1);var $=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],D=[{name:"Stage",component:B}].concat($.map(function(S){return{name:S,component:Q(S)}})),U={install:function(k,M){var N=f;M&&M.prefix&&(N=M.prefix),D.forEach(function(V){k.component(""+N+V.name,V.component)})}};r.default=U}]).default})})(w8);var mst=w8.exports;const vst=us(mst),bst=uke({locale:"fr",fallbackLocale:"fr",messages:pst}),fT=J3(TBe);fT.use(bst);fT.use(vst);fT.mount("#app");
